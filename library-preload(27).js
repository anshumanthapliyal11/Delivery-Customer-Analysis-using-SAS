sap.ui.require.preload({
	"sas/hc/ui/commons/codeEditor/AutoCompleteHelper.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"./Utils\",\"sap/ui/Device\",\"sap/ui/events/KeyCodes\",\"sas/hc/ui/core/theme/IconInitialization\"],function(e,t,o,n,s){\"use strict\";return function(s,i){function r(){var o=e(g);A=R=t.removePX(o.css(\"width\")),X=x=t.removePX(o.css(\"height\")),b=t.removePX(o.css(\"minWidth\")),L=t.removePX(o.css(\"minHeight\"))}function c(){T=!1,g.removeClass(\"sce-helper-focus\"),o.browser.firefox&&(C.removeClass(\"sce-helper-focus-ex\"),e(w).removeClass(\"sce-helper-focus-ex\"))}function f(){e(\".sce-helper-main a\").on(\"mousedown\",function(e){O=!0}).on(\"mouseup\",function(e){O=!0})}function u(e,t){var n=e,s=t,i=(o.os.OS.ios?window.innerWidth:document.body.clientWidth)+window.pageXOffset,r=window.innerHeight+window.pageYOffset;return t+x>r&&(s=t-x-y.getLineHeight())<window.pageYOffset&&t-window.pageYOffset-y.getLineHeight()<window.innerHeight-t+window.pageYOffset&&(s=t),e+R>i&&(n=i-R),n<window.pageXOffset&&(n=window.pageXOffset),{left:n,top:s}}function l(e){if(e.target===v[0])return E={x:t.removePX(g.css(\"left\")),y:t.removePX(g.css(\"top\"))},T||I.focus(),e.stopImmediatePropagation(),t.stopEvent(e)}function d(e){if(E){var o=e.pageX-E.x,n=e.pageY-E.y;return o<b&&(o=b),n<L&&(n=L),m(o,n),e.stopImmediatePropagation(),t.stopEvent(e)}}function p(e){E&&(E=null)}function a(){e(document).on(\"mousedown\",l).on(\"mousemove\",d).on(\"mouseup\",p)}function h(){e(document).off(\"mousedown\",l).off(\"mousemove\",d).off(\"mouseup\",p),E&&(E=null)}function m(e,t){v.css({left:e+\"px\",top:t+\"px\"}),g.css({width:e+\"px\",height:t+\"px\"})}var g,w,v,y,C,H,R,x,E,P,T,O,b,L,A,X,I;g=i,y=s,P=!1,T=!1,O=!1,w=e('<div class=\"sce-helper-main\"></div>').appendTo(g)[0],C=e('<div class=\"sce-helper-resizer-container\"></div>').appendTo(g),v=e('<img class=\"sce-helper-resize\" src=\"'+(sas.icons.HC.GRABBERDIALOGRESIZERLTR||sas.icons.HC.GRABBERDIALOGRESIZER)+'\"></img>').appendTo(C),window.setTimeout(function(){r()},500),H=n,I=this,e(w).attr(\"tabIndex\",-1).on(\"keydown\",function(n){if(P){if(n.keyCode===H.TAB)return O=!0,n.shiftKey?e(I).triggerHandler(\"rollBackFocus\"):y.focus(),t.stopEvent(n);if(n.keyCode===H.ESCAPE)I.hide(),o.browser.msie?window.setTimeout(y.focus,0):y.focus();else{if((n.ctrlKey||n.metaKey)&&n.keyCode===H.A){o.browser.msie&&(O=!0);var s=document.createRange();s.selectNodeContents(w);var i=window.getSelection();return i.removeAllRanges(),i.addRange(s),o.browser.msie&&w.focus(),t.stopEvent(n)}if(n.keyCode===H.ARROW_DOWN){var r=w.scrollTop;if(w.scrollHeight-r===w.clientHeight)return t.stopEvent(n)}else if(n.keyCode===H.ARROW_UP){var r=w.scrollTop;if(0===r)return t.stopEvent(n)}}}}).on(\"focusin mousedown\",function(){T=!0,g.addClass(\"sce-helper-focus\"),o.browser.firefox&&(C.addClass(\"sce-helper-focus-ex\"),e(w).addClass(\"sce-helper-focus-ex\"))}).on(\"focusout\",function(){O?O=!1:e(w).triggerHandler(\"attemptFocusOut\")&&I.hide(),c()}).on(\"contextmenu\",function(e){return t.stopEvent(e)}),C.on(\"mousedown\",function(e){e.preventDefault(e),T||I.focus()}),this.isDisplayed=function(){return P},this.show=function(e,t,n,s){var i;if(w.scrollTop=0,w.scrollLeft=0,o.browser.msie||r(),1===arguments.length)w.innerHTML=e;else{if(e&&(w.innerHTML=e),g.css(\"display\",\"block\"),s){var c,l,d=y._clientDiv.getBoundingClientRect();o.browser.msie||o.browser.firefox?(c=document.documentElement.scrollLeft,l=document.documentElement.scrollTop):(c=document.body.scrollLeft,l=document.body.scrollTop),t+=d.left+c,n+=d.top+l,i=u(t,n),t=i.left,n=i.top}g.css({top:n+\"px\",left:t+\"px\"}),P||a(),P=!0}f()},this.hide=function(){w.innerHTML=\"\",w.scrollTop=0,w.scrollLeft=0,R=A,x=X,g[0].style.removeProperty(\"width\"),g[0].style.removeProperty(\"height\"),w.style.removeProperty(\"width\"),w.style.removeProperty(\"height\"),v[0].style.removeProperty(\"left\"),v[0].style.removeProperty(\"top\"),g.css(\"display\",\"none\"),P=!1,c(),e(I).triggerHandler(\"dismiss\"),h()},this.getSize=function(){return{width:R,height:x}},this.getPosition=function(){return{left:g[0].offsetLeft,top:g[0].offsetTop,width:g[0].offsetWidth,height:g[0].offsetHeight}},this.getContainer=function(){return g},this.getHelper=function(){return w},this.focus=function(){T=!0,w.focus()},this.isFocused=function(){return T},this.isResizing=function(){return E},this.enlarge=function(){m(R+10,x+10)},this.narrow=function(){m(R-10,x-10)},this.canHide=function(){return!1===O}}},!0);",
	"sas/hc/ui/commons/codeEditor/AutoCompletePopup.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./AutoCompleteHelper\",\"sas/hc/ui/core/Core\",\"sas/hc/ui/core/Icon\",\"./Utils\",\"sap/base/security/encodeXML\",\"sap/ui/Device\",\"sap/ui/core/Core\",\"sap/ui/events/KeyCodes\"],function(e,t,s,n,i,o,r,a){\"use strict\";return function(t,r){function c(e){I=!0,o.browser.msie&&\"mousedown\"===e.type&&(C.focus(),n.stopEvent(e))}function d(){A?A=!1:J.isFocused()||Z.hide(),I=!1}function u(e){var t,o,r=sap.ui.getCore().createRenderManager();t=e.length;for(var a=0;a<t;a++){var c=e[a].text;Z.caseSensitive||(c=c.toUpperCase()),o=jQuery(\"<li></li>\",{content:c}).attr(\"item_index\",a).appendTo(H),o[0].onselect=function(){return!1};var d=e[a].icon;if(\"string\"==typeof d){var u=new s({src:d});r.render(u,o[0])}else jQuery(d).appendTo(o);var l=e[a].label||e[a].text;o[0].innerHTML+=\" \"+i(l),M.push(o[0])}isNaN(z)&&o&&(z=n.removePX(o.css(\"height\"))),H[0].scrollTop=0}function l(){H[0].scrollTop=0,H.empty(),M=[],D=-1}function p(e,t){t=\"item-\"+t,jQuery(M[e]).removeClass(R).addClass(t)}function f(e,t){var s,i,r,a,c,d;return K||(K={horizontal:n.removePX(C.css(\"borderLeftWidth\"))+n.removePX(C.css(\"borderRightWidth\"))+n.removePX(C.css(\"paddingLeft\"))+n.removePX(C.css(\"paddingRight\")),vertical:n.removePX(C.css(\"borderTopWidth\"))+n.removePX(C.css(\"borderBottomWidth\"))+n.removePX(C.css(\"paddingTop\"))+n.removePX(C.css(\"paddingBottom\"))}),s=e,i=t,r=n.removePX(C.css(\"width\")),a=n.removePX(C.css(\"height\")),c=(o.os.ios?window.innerWidth:document.body.clientWidth)+window.pageXOffset,d=window.innerHeight+window.pageYOffset,t+a+K.vertical+q>d&&(i=t-a-G.getLineHeight()-K.vertical)<window.pageYOffset&&t-window.pageYOffset-G.getLineHeight()<window.innerHeight-t+window.pageYOffset&&(i=t),e+r+K.horizontal>c&&(s=c-r-K.horizontal),{left:s,top:i}}function h(e){D>-1&&p(D,B.DEFAULT),D=e,D>W.end&&(D=W.end),D>=W.start&&(p(D,B.SELECTED),jQuery(Z).triggerHandler(\"itemSelected\",O[D]))}function v(){var e,t,s,i;e=n.removePX(C.css(\"height\")),t=n.removePX(C.css(\"width\")),i={height:e,width:t},U&&(s=n.removePX(C.css(\"top\")),C.css(\"top\",s+e+\"px\"),i.top=s),C.css({width:0,height:0}),C.css({\"overflow-x\":\"auto\",\"overflow-y\":\"auto\"}),C.animate(i,{duration:o.support.touch?0:150,complete:function(){null!==Y&&(Z.updateTooltip(Y),Y=null),C.css({\"overflow-x\":\"visible\",\"overflow-y\":\"visible\"})}})}function g(){function e(){C.css(\"height\",s+\"px\"),C.css(\"display\",\"none\")}var t,s=n.removePX(C.css(\"height\")),i=n.removePX(C.css(\"top\"));t={height:0},U&&(t.top=i+s),C.animate(t,100,void 0,e)}function m(){var e,t,s,i,o=n.removePX(C.css(\"min-width\"));e=H[0].offsetWidth-H[0].clientWidth,t=x(b()),s=X($),i=t>s?t:s,i+=ee,i<o&&(i=o),C.css(\"width\",i+e+\"px\"),T(),J.isDisplayed()&&Z.updateTooltip()}function y(e){var t,s,n=G.getLocationAtOffset(G.getCaretOffset()-e);return G.convert(n,\"document\",\"page\"),t=n.x,s=n.y+G.getLineHeight(),o.browser.msie||o.browser.firefox?(t+=document.documentElement.scrollLeft,s+=document.documentElement.scrollTop):(t+=document.body.scrollLeft,s+=document.body.scrollTop),{x:t,y:s}}function w(e){var t,s=y(e);m(),t=f(s.x,s.y),C.css({top:t.top+\"px\",left:t.left+\"px\"}),U=s.y<t.top}function b(){return jQuery(\"span.sce-ac-navigator-title\",L).html()}function x(e){return _.innerHTML=e,_.clientWidth}function X(e){return x(e)}function T(){var e=jQuery(\"span.sce-ac-navigator-title\",L)[0],t=n.removePX(C.css(\"width\")),s=e.innerHTML;E>1&&(t-=2*n.removePX(jQuery(\"span.sce-ac-navigator-btn\",L).css(\"width\"))+12),jQuery(e).css(\"width\",t+\"px\"),o.os.macintosh&&o.browser.safari||(x(s)>t?jQuery(e).attr(\"title\",s):jQuery(e).attr(\"title\",\"\"))}function j(e){var t=jQuery(\"span.sce-ac-navigator-title\",L)[0];if(!S)return L.css(\"display\",\"none\"),H.css(\"height\",C.css(\"height\")),void(k=Math.round(n.removePX(H.css(\"height\"))/z));L.css(\"display\",\"block\"),t.innerHTML=e}function Q(e){jQuery(\"span\",N).removeClass(\"sce-ac-navigator-dot-color-enable\"),jQuery('span[item_index=\"'+e+'\"]',N).addClass(\"sce-ac-navigator-dot-color-enable\");var t=S?n.removePX(L.css(\"height\")):0;E>1?(jQuery(\"span.sce-ac-navigator-btn\",L).css(\"display\",\"block\"),N.css(\"display\",\"block\"),H.css(\"height\",n.removePX(C.css(\"height\"))-t-n.removePX(N.css(\"height\"))+\"px\"),C.removeClass(\"sce-ac-adaptive\"),C.addClass(\"sce-ac-max\")):(jQuery(\"span.sce-ac-navigator-btn\",L).css(\"display\",\"none\"),N.css(\"display\",\"none\"),H.css(\"height\",n.removePX(C.css(\"height\"))-t+\"px\"),C.removeClass(\"sce-ac-max\"),C.addClass(\"sce-ac-adaptive\")),k=Math.round(n.removePX(H.css(\"height\"))/z)}function P(e){N.empty();for(var t=0;t<e;t++){jQuery(\"<span></span>\",{class:\"sce-ac-navigator-dot-color\",item_index:t}).html(\"&bull;\").appendTo(N)[0].onselectstart=function(){return!1}}}var C,H,L,E,N,O,W,M,k,D,S,F,U,I,A,Y,_,z,B,R,K,q,G,J,V,Z,$=\"\",ee=20;O=[],W={start:0,end:99999},M=[],D=-1,F=!1,I=!1,A=!1,C=r,G=t,B={DEFAULT:\"default\",FOCUSED:\"focused\",SELECTED:\"selected\"},R=\"item-default item-focused item-selected\",L=jQuery('<div class=\"sce-ac-navigator\" onselectstart=\"return false;\"><table style=\"width:100%;border-spacing:0px;\"><tr><td><span class=\"sce-ac-navigator-btn sce-ac-navigator-previous\"><</span></td><td><span class=\"sce-ac-navigator-title\"></span></td><td><span class=\"sce-ac-navigator-btn sce-ac-navigator-next\">></span></td></tr></table></div>').appendTo(C),J=new e(G,jQuery('<div class=\"sce-helper\" dir=\"ltr\"></div>').insertAfter(C)),Y=null,V=3,q=11,Z=this,C.attr(\"tabIndex\",-1),_=jQuery(\"span.sce-ac-navigator-title-buddy\"),_=0===_.length?jQuery('<span class=\"sce-ac-navigator-title-buddy\"></span>').appendTo(\"body\")[0]:_[0],H=jQuery('<ul class=\"sce-ac-list\"></ul>').appendTo(C),N=jQuery('<div class=\"sce-ac-navigator-dot\"></div>').appendTo(C),N[0].onselect=function(){return!1},C.on(\"mousedown focusin\",c).on(\"focusout\",d).on(\"contextmenu\",function(e){n.stopEvent(e)}).on(\"keydown\",function(e){e.keyCode===a.TAB&&(A=!0),jQuery(Z).triggerHandler(e)}),H.on(\"mousedown\",\"li\",function(e){return h(parseInt(jQuery(this).attr(\"item_index\"))),Z.isFocused()&&(A=!0),G.focus(),n.stopEvent(e)}).on(\"dblclick\",\"li\",function(e){jQuery(Z).triggerHandler(e)}),jQuery(J.getHelper()).on(\"attemptFocusOut\",function(e){return I||A||jQuery(Z).triggerHandler(\"dismiss\"),A=!1,e.preventDefault(),!1}),this.show=function(e,t,s,n,i,o){S=!1!==e,$=\"\",C.filter(\":animated\").finish(),O=t.sort(function(e,t){return e=e.text,t=t.text,e.match(/^</)||t.match(/^</)?0:(e=e.toUpperCase(),t=t.toUpperCase(),e<t?-1:e>t?1:0)}),t.forEach(function(e){e=e.label||e.text,e.length>$.length&&($=e)}),l(),isNaN(i)&&(i=0),E=isNaN(o)?1:o,P(E),C.css(\"display\",\"block\"),u(O),Q(i),j(e),isNaN(n)&&(n=0),w(n),F||v(),F=!0,this.filter(s)},this.update=function(e){w(e)},this.filter=function(e){var t;if(!e)return W.start=0,W.end=O.length-1,h(-1),J.isDisplayed()&&J.hide(),jQuery(\"li\",H).css(\"display\",\"flex\"),D=-1,!0;if(!/\"/.test(e)){this.caseSensitive||(e=e.toUpperCase());try{t=jQuery('li[content^=\"'+e+'\"]',H)}catch(e){sas.log.warning(e)}if(0!==t.length)return jQuery(\"li\",H).css(\"display\",\"none\"),t.css(\"display\",\"flex\"),W.start=parseInt(t.first().attr(\"item_index\")),W.end=parseInt(t.last().attr(\"item_index\")),h(W.start),!0;W.end=O.length-1}return!1},this.hide=function(){C.filter(\":animated\").finish(),g(),J.hide(),F=!1},this.updateTooltip=function(e){var t,s,i,r,a;if(F){if(0!==C.filter(\":animated\").length)return void(Y=e);s=C[0].offsetWidth,t=n.removePX(C.css(\"left\")),r=J.getSize().width,a=(o.os.ios?window.innerWidth:document.body.clientWidth)+window.pageXOffset,i=t+s+r>a&&!(t-r-V<window.pageXOffset&&t-window.pageXOffset<a-t-s-V)?t-r:t+s,J.show(e,i,n.removePX(C.css(\"top\")),!1)}},this.setNavigatorListener=function(e){var t=0,s=0,i=\"none\";H.on(\"touchstart\",function(e){t=e.screenX,s=e.screenY,i=\"none\"}),H.on(\"touchmove\",function(e){var o=e.screenX,r=e.screenY,a=o-t,c=r-s;Math.abs(a)>Math.abs(c)&&(i=a>0?\"prev\":\"next\",n.stopEvent(e))}),H.on(\"touchend\",function(t){\"prev\"===i?e.previous():\"next\"===i&&e.next()}),L.on(\"click\",\"span.sce-ac-navigator-previous\",e.previous),L.on(\"click\",\"span.sce-ac-navigator-next\",e.next)},this.isDisplayed=function(){return F},this.isFocused=function(){return I||J.isFocused()},this.focus=function(){I=!0,C.focus()},this.focusTooltip=function(){J.focus()},this.move=function(e){var t;if(!isNaN(e)){t=1===e||-1===e?D+e:3===e?W.end:-3===e?W.start:D+k*e/Math.abs(e),t<W.start&&(t=W.start),h(t);var s=H[0].scrollTop,n=D-W.start;s/z>n?H[0].scrollTop=n*z:s/z+k-1<=n&&(t>=W.end?H[0].scrollTop=H[0].scrollHeight-H[0].clientHeight:H[0].scrollTop=(n-k+2)*z)}},this.moveTo=function(e){if(\"string\"==typeof e)e=n.getIndex(O,e,this.caseSensitive);else if(isNaN(e))return;h(e),D>=W.start&&(H[0].scrollTop=D*z)},this.getCurrentKeyword=function(){return O[D]?O[D].text:void 0},this.getSelectedIndex=function(){return D},this.getTooltip=function(){return J},this.canHide=function(){return J.canHide()},this.caseSensitive=!1,jQuery(J).on(\"rollBackFocus\",Z.focus.bind(Z))}},!0);",
	"sas/hc/ui/commons/codeEditor/AutoCompleter.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sap/ui/base/Object\",\"sap/ui/events/KeyCodes\",\"sas/hc/ui/commons/keyboardShortcuts/KeyboardShortcuts\",\"./AutoCompletePopup\",\"./Utils\",\"sap/ui/Device\"],function(e,t,i,o,s,n,p){\"use strict\";var r=i,h=\"\",c=/(\\w|[^\\x00-\\xff])+$/;if(window.ace){var a=window.ace.require(\"ace/unicode\");c=new RegExp(\"[\"+a.packages.L+a.packages.Mn+a.packages.Mc+a.packages.Nd+a.packages.Pc+\"\\\\$_]+$\")}return t.extend(\"sas.hc.ui.commons.codeEditor.AutoCompleter\",{metadata:{library:\"sas.hc.ui.commons\"},list:[],openByShortcut:!1,_config:{},constructor:function(t){this._ctrl=t,this._settings=t.settings;var i=this,o=this._ctrl.view(),n=e('<div class=\"sce-ac\" dir=\"ltr\"></div>').appendTo(document.body),r=t.mode().getHighlight(t.model()),h=this.onKeyDownFromOrion.bind(this),c=this.onKeyUpFromOrion.bind(this);this.popup=new s(o,n),o.addEventListener(\"preKeyDown\",h),o.addEventListener(\"KeyUp\",c),t.setActionHandler(\"autocomplete\",null),e(r).on(\"parsingStateEvent\",function(t){if(t.change&&2===t.state){var o=e.extend({},t.change);window.setTimeout(function(){i.onTextChanged(o)},0)}}),e(o._clientDiv).on(\"focusout\",function(){i.popup.isDisplayed()&&!i.popup.isFocused()&&(i.hide(),p.browser.safari&&p.browser.mobile&&i.hide())}).on(\"mousedown \"+(p.browser.firefox?\"DOMMouseScroll\":\"mousewheel\"),this.onMouseDown.bind(this)),e(this.popup).on(\"dismiss\",this.hide.bind(this)).on(\"keydown\",this.onKeyDown.bind(this)).on(\"dblclick\",this.commit.bind(this)).on(\"itemSelected\",this.onItemSelected.bind(this)),this.destroy=function(){o.removeEventListener(\"preKeyDown\",h),o.removeEventListener(\"KeyUp\",c),e(r).off(),e(o._clientDiv).off(),e(this.popup).off()}},setConfig:function(e){e&&(this._config=e,e.list&&(this.list=e.list),\"function\"==typeof e.getPrefix&&(this.getPrefix=e.getPrefix),void 0!==e.openByShortcut&&(this.openByShortcut=e.openByShortcut),this.popup.caseSensitive=e.caseSensitive)},hide:function(){this.popup.isDisplayed()&&(this.popup.hide(),\"function\"==typeof this._config.afterCancel&&this._config.afterCancel())},show:function(e){if(!this._settings.getReadOnly()){var t=this._ctrl.editor().getCaretOffset(),i=this._ctrl.model().toTextPosition(t);h=this.getPrefix(i.line,i.column);var o=n.getIndex(this.list,h,this._config.caseSensitive);(e||o>=0)&&this.popup.show(!1,this.list,h,h.length)}},onKeyDownFromOrion:function(e){this.onKeyDown(e.event)||e.preventDefault()},onKeyUpFromOrion:function(e){this.onKeyUp(e.event)||e.preventDefault()},onKeyUp:function(e){if(this.popup.isDisplayed()&&(e.keyCode===r.ARROW_LEFT||e.keyCode===r.ARROW_RIGHT))return this.onCaretMoved(e),!0},onKeyDown:function(e){var t=!0;if(this.popup.isDisplayed()){if(!e.shiftKey)if(e.ctrlKey&&e.keyCode!==r.CONTROL&&229!==e.keyCode&&0!==e.keyCode||e.keyCode===r.ESCAPE)this.hide(),this._ctrl.focus();else if(e.keyCode===r.ENTER)this.commit(e),t=!1;else if(e.keyCode===r.ARROW_UP||e.keyCode===r.ARROW_DOWN||e.keyCode===r.PAGE_UP||e.keyCode===r.PAGE_DOWN||e.keyCode===r.HOME||e.keyCode===r.END){var i;switch(e.keyCode){case r.ARROW_UP:i=-1;break;case r.ARROW_DOWN:i=1;break;case r.PAGE_UP:i=-2;break;case r.PAGE_DOWN:i=2;break;case r.HOME:i=-3;break;case r.END:i=3}this.popup.move(i),t=!1}if(e.keyCode===r.TAB){var s,p,h=[this._ctrl,this.popup];this.popup.getTooltip().isDisplayed()&&h.push(this.popup.getTooltip()),s=this.popup.isFocused()?this.popup.getTooltip().isFocused()?2:1:0,p=(h.length+s+(e.shiftKey?-1:1))%h.length,p<2?h[p].focus():this.popup.focusTooltip(),t=!1}}else if(this.openByShortcut){var c=o.getActionByKeyEvent(e).actionList;-1!==c.indexOf(\"autocomplete\")&&(this.show(!0),t=!1)}return t||(n.stopEvent(e),e.stopImmediatePropagation()),t},onMouseDown:function(e){p.browser.msie&&this.popup.isFocused()&&this._ctrl.focus(),this.hide()},onTextChanged:function(e){!this.popup.isDisplayed()&&this._settings.getAutoCompleteEnabled()&&1===e.addedCharCount&&this._ctrl.view().hasFocus()?this.show():this.onCaretMoved()},onCaretMoved:function(){if(this.popup.isDisplayed()){var e=this._ctrl.editor().getCaretOffset();e=this._ctrl.model().toTextPosition(e),h=this.getPrefix(e.line,e.column),this.popup.filter(h)&&-1!==n.getIndex(this.list,h)?this.popup.update(h.length):this.hide()}},onItemSelected:function(e,t){var i=t.help;if(i)this.popup.updateTooltip(i);else{var o=this.popup.getTooltip();o.isDisplayed()&&o.hide()}},commit:function(e){var t=this.popup.getCurrentKeyword();if(this.popup.hide(),t){var i=0;h&&(i=h.length);var o=this._ctrl.view();o.setText(t,o.getCaretOffset()-i,o.getCaretOffset()),o.focus(),\"function\"==typeof this._config.afterCommit&&this._config.afterCommit(this.list[this.popup.getSelectedIndex()])}},getPrefix:function(e,t){var e=this._ctrl.model().getLine(e);if(e){var i=e.substring(0,t),o=i.search(c);return-1===o?\"\":i.substring(o)}return\"\"}})},!0);",
	"sas/hc/ui/commons/codeEditor/BracketHighlighter.js": "// (c) 2017, SAS Institute Inc.\nsap.ui.define([],function(){var t=\"{[()]}\",e=function(t){this.ctrl=t;var e=this.onSelect.bind(this);t.view().addEventListener(\"Selection\",e),t.setActionHandler(\"toMatchBracket\",this.onToggle.bind(this)),this.destroy=function(){t.view().removeEventListener(\"Selection\",e),this.ctrl=null}};return e.prototype={onSelect:function(){var e=this.ctrl.editor(),n=e.getAnnotationModel(),i=this.ctrl.core().getAnnotations().AnnotationType;if(n.removeAnnotations(i.ANNOTATION_CURRENT_BRACKET),n.removeAnnotations(i.ANNOTATION_MATCHING_BRACKET),this.ctrl.settings.getMatchingBrackets()){var s=e.getSelection();if(s.start===s.end){var r=e.getText(),o=r[s.start],a=t.indexOf(o),l=t.length;this.result=-1,a>=0&&a<l/2?(this.result=this.match(o,t[l-a-1],r.slice(s.start+1)),this.result>=0&&(this.result+=s.start+1,n.addAnnotation(new(i.getType(i.ANNOTATION_CURRENT_BRACKET))(s.start,s.start+1)))):(o=r[s.start-1],(a=t.indexOf(o))>=l/2&&(this.result=this.match(o,t[l-a-1],r.slice(0,s.start-1),!0),this.result>=0&&n.addAnnotation(new(i.getType(i.ANNOTATION_CURRENT_BRACKET))(s.start-1,s.start)))),this.result>=0&&n.addAnnotation(new(i.getType(i.ANNOTATION_MATCHING_BRACKET))(this.result,this.result+1))}}},match:function(t,e,n,i){for(var s=1,r=i?n.length-1:0;i&&r>=0||!i&&r<n.length;i?r--:r++)if(n[r]===e?s--:n[r]===t&&s++,0===s)return r;return-1},onToggle:function(){var t=this.result,e=this.ctrl.editor();if(t>=0){e.getSelection().start<t&&++t,e.setSelection(t,t)}}},e});",
	"sas/hc/ui/commons/codeEditor/Clipboard.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sap/ui/Device\"],function(n){\"use strict\";var e=\"\",i=function(){};return i.canAccessSystemClipboard=function(){return!!n.browser.msie},i.data=function(n){return n&&(e=n),e},i},!0);",
	"sas/hc/ui/commons/codeEditor/CodeChecker.js": "// (c) 2018, SAS Institute Inc.\nsap.ui.define([\"sap/ui/core/Control\",\"sas/hc/ui/model/PageableJSONModel\",\"sas/hc/ui/table/library\",\"sas/hc/ui/table/Table\",\"sas/hc/ui/commons/codeEditor/CodeEditor\",\"sas/hc/ui/commons/codeEditor/CodeCheckerDialog\",\"sas/hc/ui/commons/codeEditor/Utils\",\"sas/hc/ui/commons/codeEditor/TextRange\",\"sas/hc/ui/commons/codeEditor/TextPosition\"],function(e,t,n,i,s){\"use strict\";var l,u,a=new RegExp(\"i18nok( *: *[a-z]+)?( *: *[a-z]+)?\",\"ig\"),L=new RegExp(\"ignore +for +i18n +analyzer *\\\\- *ID( *: *[A-Za-z]+)?( *: *[a-z]+)?\",\"ig\"),o=new RegExp(\" *: *([a-z]+)\",\"i\"),r=new RegExp(\"%sysfunc *\\\\( *sasmsg *\\\\(\",\"i\"),c=new RegExp('\" *&[a-z_]+\\\\.? *\"',\"i\"),v=new RegExp(\"^(\\\\$?)([a-z_]+([0-9]+[a-z_]+)*)(([0-9]*)\\\\.([0-9]*))$\",\"i\"),N={anorm420:{i18nLevel:1},anyalnum:{i18nLevel:1},anyalpha:{i18nLevel:1},anydigit:{i18nLevel:1},anyfirst:{i18nLevel:1},anygraph:{i18nLevel:1},anylower:{i18nLevel:1},anyname:{i18nLevel:1},anyprint:{i18nLevel:1},anypunct:{i18nLevel:1},anyspace:{i18nLevel:1},anyupper:{i18nLevel:1},anyxdigit:{i18nLevel:1},byte:{i18nLevel:0},cat:{i18nLevel:2,substitutions:\"KSTRCAT\"},catq:{i18nLevel:2},cats:{i18nLevel:2},catt:{i18nLevel:2},catx:{i18nLevel:2},char:{i18nLevel:0,substitutions:\"KSUBSTR\"},coalescec:{i18nLevel:2},collate:{i18nLevel:0},compare:{i18nLevel:0,substitutions:\"KCOMPARE\"},compress:{i18nLevel:0,substitutions:\"KCOMPRESS\"},compged:{i18nLevel:0},complev:{i18nLevel:0},count:{i18nLevel:0},countc:{i18nLevel:0},countw:{i18nLevel:0},dequote:{i18nLevel:1},find:{i18nLevel:0,substitutions:\"KINDEX\"},findc:{i18nLevel:0,substitutions:\"KINDEXC\"},findw:{i18nLevel:1},first:{i18nLevel:0,substitutions:\"KSUBSTR\"},htmldecode:{i18nLevel:2},htmlcode:{i18nLevel:2},index:{i18nLevel:0,substitutions:\"KINDEX/KINDEXB\"},indexc:{i18nLevel:0,substitutions:\"KINDEXC/KINDEXCB\"},indexw:{i18nLevel:0},left:{i18nLevel:2,substitutions:\"KLEFT\"},length:{i18nLevel:2,substitutions:\"KLENGTH\"},lengthc:{i18nLevel:2},lengthm:{i18nLevel:2},lengthn:{i18nLevel:2,substitutions:\"KLENGTH\"},lowcase:{i18nLevel:2,substitutions:\"KLOWCASE\"},notalnum:{i18nLevel:1},notalpha:{i18nLevel:1},notdigit:{i18nLevel:1},notfirst:{i18nLevel:1},notgraph:{i18nLevel:1},notlower:{i18nLevel:1},notname:{i18nLevel:1},notprint:{i18nLevel:0},notpunct:{i18nLevel:1},notspace:{i18nLevel:1},notupper:{i18nLevel:1},notxdigit:{i18nLevel:1},prxchange:{i18nLevel:0},prxmatch:{i18nLevel:0},prxparen:{i18nLevel:0},prxparse:{i18nLevel:0},prxposn:{i18nLevel:0},rank:{i18nLevel:0},repeat:{i18nLevel:2},reverse:{i18nLevel:0,substitutions:\"KREVERSE\"},right:{i18nLevel:2,substitutions:\"KRIGHT\"},scan:{i18nLevel:0,substitutions:\"KSCAN\"},scanq:{i18nLevel:1,substitutions:\"KSCAN\"},soundex:{i18nLevel:0},spedis:{i18nLevel:0},strip:{i18nLevel:2,substitutions:\"KSTRIP\"},subpad:{i18nLevel:0},substr:{i18nLevel:0,substitutions:\"KSUBSTR/KUPDATE\"},substrn:{i18nLevel:0,substitutions:\"KSUBSTRN\"},translate:{i18nLevel:0,substitutions:\"KTRANSLATE\"},trantab:{i18nLevel:0},trim:{i18nLevel:2,substitutions:\"KTRIM\"},trimn:{i18nLevel:2},upcase:{i18nLevel:2,substitutions:\"KUPCASE\"},urldecode:{i18nLevel:1},urlencode:{i18nLevel:1},verify:{i18nLevel:0,substitutions:\"KVERIFY\"}},d={date:{i18nLevel:1,substitutions:\"NLSDATEM/NLDATES/NLDATEL/NLDATE\"},dateampm:{i18nLevel:1,substitutions:\"NLDATMAP\"},datetime:{i18nLevel:1,substitutions:\"NLDATEM/NLDATES/NLDATEL/NLDATM\"},ddmmyy:{i18nLevel:1,substitutions:\"NLSDATEM/NLDATES/NLDATEL/NLDATE\"},downame:{i18nLevel:1,substitutions:\"NLDATEWN\"},dtdate:{i18nLevel:1,substitutions:\"NLDATMDT\"},dtmonyy:{i18nLevel:1,substitutions:\"NLDATMYM\"},dtwkdatx:{i18nLevel:1},dtyear:{i18nLevel:1,substitutions:\"NLDATMYR\"},dtyyqc:{i18nLevel:1,substitutions:\"NLDATMYQM/NLDATMYQS/NLDATMYQL/NLDATMYQ\"},eurdfdd:{i18nLevel:1,substitutions:\"NLDATEM/NLDATES/NLDATEL/NLDATE\"},eurdfde:{i18nLevel:1,substitutions:\"NLDATEM/NLDATES/NLDATEL/NLDATE\"},eurdfdn:{i18nLevel:1},eurdfdt:{i18nLevel:1,substitutions:\"NLDATMM/NLDATMS/NLDATML/NLDATM\"},eurdfdwn:{i18nLevel:1,substitutions:\"NLDATEWN\"},eurdfmn:{i18nLevel:1,substitutions:\"NLDATEMN\"},eurdfmy:{i18nLevel:1,substitutions:\"NLDATEYMM/NLDATEYMS/NLDATEYML/NLDATEYM\"},eurdfwdx:{i18nLevel:1,substitutions:\"NLDATEM/NLDATES/NLDATEL/NLDATE\"},eurdfwkx:{i18nLevel:1,substitutions:\"NLDATEW\"},hdate:{i18nLevel:1,substitutions:\"NLDATEM/NLDATES/NLDATEL/NLDATE\"},mmddyy:{i18nLevel:1,substitutions:\"NLDATEM/NLDATES/NLDATEL/NLDATE\"},mmyy:{i18nLevel:1,substitutions:\"NLDATEYMM/NLDATEYMS/NLDATEYML/NLDATEYM\"},monname:{i18nLevel:1,substitutions:\"NLDATEMN\"},monyy:{i18nLevel:1,substitutions:\"NLDATEYMM/NLDATEYMS/NLDATEYML/NLDATEYM\"},qtr:{i18nLevel:1},qtrr:{i18nLevel:1},time:{i18nLevel:1,substitutions:\"NLTIME\"},timeampm:{i18nLevel:1,substitutions:\"NLTIMAP\"},tod:{i18nLevel:1,substitutions:\"NLDATMTM\"},weekdate:{i18nLevel:1,substitutions:\"NLDATEW\"},weekdatex:{i18nLevel:1,substitutions:\"NLDATEW\"},worddate:{i18nLevel:1,substitutions:\"NLDATEM/NLDATES/NLDATEL/NLDATE\"},worddatex:{i18nLevel:1,substitutions:\"NLDATEM/NLDATES/NLDATEL/NLDATE\"},yymm:{i18nLevel:1,substitutions:\"NLDATEYMM/NLDATEYMS/NLDATEYML/NLDATEYM\"},yymmdd:{i18nLevel:1,substitutions:\"NLDATEM/NLDATES/NLDATEL/NLDATE\"},yymon:{i18nLevel:1,substitutions:\"NLDATEYMM/NLDATEYMS/NLDATEYML/NLDATEYM\"},yyq:{i18nLevel:1,substitutions:\"NLDATEYQM/NLDATEYQS/NLDATEYQL/NLDATEYQ\"},yyqr:{i18nLevel:1,substitutions:\"NLDATEYQM/NLDATEYQS/NLDATEYQL/NLDATEYQ\"},comma:{i18nLevel:1,substitutions:\"NLNUM\"},commax:{i18nLevel:1,substitutions:\"NLNUM\"},best:{i18nLevel:1,substitutions:\"NLBEST\"},d:{i18nLevel:1,substitutions:\"NLDVALUE\"},e:{i18nLevel:1},negparen:{i18nLevel:1},percent:{i18nLevel:1,substitutions:\"NLPCT/NLPCTI\"},pvalue:{i18nLevel:1,substitutions:\"NLPVALUE\"},ssn:{i18nLevel:1},w:{i18nLevel:1},wordf:{i18nLevel:1},words:{i18nLevel:1},dollar:{i18nLevel:1,substitutions:\"NLMNLUSD/NLMNIUSD\"},dollarx:{i18nLevel:1,substitutions:\"NLMNLUSD/NLMNIUSD\"},euro:{i18nLevel:1,substitutions:\"NLMNLEUR/NLMNIEUR\"},eurox:{i18nLevel:1,substitutions:\"NLMNLEUR/NLMNIEUR\"},yen:{i18nLevel:1,substitutions:\"NLMNLJPY/NLMNIJPY\"}},m={\"%index\":{i18nLevel:0},\"%left\":{i18nLevel:1},\"%length\":{i18nLevel:1},\"%qscan\":{i18nLevel:0},\"%qsubstr\":{i18nLevel:0},\"%scan\":{i18nLevel:0},\"%substr\":{i18nLevel:0}},A={cat:{i18nLevel:0},catq:{i18nLevel:0},cats:{i18nLevel:0},catt:{i18nLevel:0},catx:{i18nLevel:0}},E={ALL:\"ALL\",EMS:\"EMS\",LFM:\"LFM\",IFN:\"IFN\",IMA:\"IMA\",CON:\"CON\",UPS:\"UPS\"},T={OK:\"OK\",INFO:\"INFO\",WARN:\"WARN\",ERROR:\"ERROR\"},b=null,p=\"\",D=[],M=[],y=!1;return function(){function e(e){var t=e.text.match(v);if(t&&t[4]){var n=e.text.replace(v,\"$2\"),i=e.text.replace(v,\"$1\"),s=e.text.replace(v,\"$4\"),l=d[n.toLowerCase()];if(!l)return!1;var u={type:E.LFM,level:T.INFO,text:e.text,range:{start:{line:e.start.line+1,column:e.start.column},end:{line:e.end.line+1,column:e.end.column}}};if(l.substitutions){for(var a=\"\",L=l.substitutions.split(\"/\"),o=0;o<L.length;o++)o>0&&(a+=\"/\"),a=a+i+L[o]+s;u.substitution=a}return D.push(u),!0}}function t(e,t){return e.start.line===t.start.line&&e.end.column===t.start.column}function n(e){return\"~\"===e||\"!\"===e||\"@\"===e||\"#\"===e||\"$\"===e||\"%\"===e||\"^\"===e||\"&\"===e||\"*\"===e||\"(\"===e||\")\"===e||\"-\"===e||\"_\"===e||\"+\"===e||\"=\"===e||\"[\"===e||\"{\"===e||\"]\"===e||\"}\"===e||\"|\"===e||\"\\\\\"===e||\";\"===e||\":\"===e||\"'\"===e||'\"'===e||\"<\"===e||\",\"===e||\">\"===e||\".\"===e||\"?\"===e||\"/\"===e}function i(e){if(e.length<2)return!1;if(\"'\"===e.charAt(0)||'\"'===e.charAt(0)){for(var t=1;t<e.length-1;t++)if(!1===n(e.charAt(t)))return!1;return!0}var i=e.match(r);return!!i||null!==(i=e.match(c))}function s(e,t){function n(){return-1!==l}var i=e,s=t,l=-1;return arguments.length>2&&(l=arguments[2]),{get_id:function(){return i},get_bLine:function(){return s},get_eLine:function(){return l},set_eLine:function(e){l=e},isEndLineSet:n,isI18nOK:function(e,t){return s<=t&&(t<=l||!n())&&(i===e||i===E.ALL)}}}function x(e){for(var t,n,i,l=e.text;null!==(t=a.exec(l))||null!==(t=L.exec(l));){if(i=0,n=E.ALL,t.length>1&&t[1]){var u=t[1].toLowerCase().replace(o,\"$1\");switch(u){case\"ems\":n=E.EMS;break;case\"lfm\":n=E.LFM;break;case\"ima\":n=E.IMA;break;case\"ifn\":n=E.IFN;break;case\"con\":n=E.CON;break;case\"ups\":n=E.UPS}}if(t.length>2&&t[2]){var u=t[2].toLowerCase().replace(o,\"$1\");switch(u){case\"begin\":i=1;break;case\"end\":i=2}}switch(i){case 0:M.push(s(n,e.start.line+1,e.end.line+1));break;case 1:M.push(s(n,e.start.line+1));break;case 2:for(var r=0;r<M.length;r++){var c=M[r];c.get_id()===n&&c.get_bLine()<=e.start.line+1&&!c.isEndLineSet()&&c.set_eLine(e.end.line+1)}}}}var g={data:[{type:\"EMS\",level:\"INFO\",text:\"'Female'\",range:{start:{line:6,column:14},end:{line:6,column:22}},status:\"\"},{type:\"EMS\",level:\"INFO\",text:\"'Male'\",range:{start:{line:8,column:14},end:{line:8,column:20}},status:\"\"},{type:\"EMS\",level:\"INFO\",text:\"'Female'\",range:{start:{line:12,column:14},end:{line:12,column:22}},status:\"\"},{type:\"EMS\",level:\"INFO\",text:\"'Census Population In Millions'\",range:{start:{line:44,column:20},end:{line:44,column:51}},status:\"\"},{type:\"EMS\",level:\"INFO\",text:\"'The SAS System'\",range:{start:{line:45,column:7},end:{line:45,column:23}},status:\"\"},{type:\"EMS\",level:\"INFO\",text:\"'Output Dataset From PROC UNIVARIATE'\",range:{start:{line:53,column:16},end:{line:53,column:52}},status:\"\"},{type:\"LFM\",level:\"INFO\",text:\"best8.\",range:{start:{line:54,column:54},end:{line:54,column:60}},substitution:\"NLBEST8.\",status:\"\"},{type:\"IMA\",level:\"INFO\",text:\"%substr\",range:{start:{line:56,column:14},end:{line:56,column:20}},status:\"\"},{type:\"IFN\",level:\"INFO\",text:\"scan\",range:{start:{line:57,column:11},end:{line:57,column:15}},substitution:\"KSCAN\",status:\"\"},{type:\"EMS\",level:\"INFO\",text:\"'abcded'\",range:{start:{line:58,column:4},end:{line:58,column:11}},status:\"\"},{type:\"CON\",level:\"WARN\",text:\"||\",range:{start:{line:58,column:18},end:{line:58,column:20}},status:\"\"},{type:\"UPS\",level:\"WARN\",text:\"@\",range:{start:{line:62,column:11},end:{line:62,column:12}},status:\"\"}]};this.content=g,this.doTestCheck=function(e,t){return e},this.verifyContent=function(e){var t=[];e.data.length!==g.data.length&&t.push({myCotent:e.data.length,myOContent:g.data.length,index:-1});for(var n=e.data.length>g.data.length?g.data.length:e.data.length,i=0;i<n;i++){var s=e.data[i],l=g.data[i];s.type!==l.type&&t.push({myCotent:s.type,myOContent:l.type,index:i}),s.level!==l.level&&t.push({myCotent:s.level,myOContent:l.level,index:i}),s.text!==l.text&&t.push({myCotent:s.text,myOContent:l.text,index:i}),s.substitution!==l.substitution&&t.push({myCotent:s.substitution,myOContent:l.substitution,index:i}),s.range.start.line!==l.range.start.line&&t.push({myCotent:s.range.start.line,myOContent:l.range.start.line,index:i}),s.range.start.column!==l.range.start.column&&t.push({myCotent:s.range.start.column,myOContent:l.range.start.column,index:i}),s.range.end.line!==l.range.end.line&&t.push({myCotent:s.range.end.line,myOContent:l.range.end.line,index:i}),s.range.end.column!==l.range.end.column&&t.push({myCotent:s.range.end.column,myOContent:l.range.end.column,index:i})}},this.resetTokens=function(){b=null,D=[],M=[],p=\"\",l=null,u=null},this.doCheck=function(n){var s=n,a=s.text;switch(s.type){case\"comment\":x(s);break;case\"macro-keyword\":m[s.text.toLowerCase()]&&D.push({type:E.IMA,level:T.INFO,text:s.text,range:{start:{line:s.start.line+1,column:s.start.column},end:{line:s.end.line+1,column:s.end.column}}});break;case\"string\":\"%put\"===p||i(s.text)||D.push({type:E.EMS,level:T.INFO,text:s.text,range:{start:{line:s.start.line+1,column:s.start.column},end:{line:s.end.line+1,column:s.end.column}}});break;case\"text\":case\"keyword\":l=N[s.text.toLowerCase()],u=A[s.text.toLowerCase()],null!==b&&\";\"!==b.text||(p=s.text.toLowerCase()),(\"put\"===p||\"input\"===p)&&b&&\"@\"===b.text&&t(b,s)&&D.push({type:E.UPS,level:T.WARN,text:\"@\",range:{start:{line:b.start.line+1,column:b.start.column},end:{line:b.end.line+1,column:b.start.column+1}}});break;case\"format\":e(s);break;case\"numeric\":y||!b||\"+\"!==b.text.charAt(0)||\"input\"!==p&&\"put\"!==p?b&&\"sep\"===b.type&&\"@\"===b.text.charAt(0)&&t(b,s)&&D.push({type:E.UPS,level:T.WARN,text:b.text,range:{start:{line:b.start.line+1,column:b.start.column},end:{line:b.end.line+1,column:b.end.column}}}):D.push({type:E.UPS,level:T.WARN,text:\"+\",range:{start:{line:b.start.line+1,column:b.start.column},end:{line:b.end.line+1,column:b.start.column+1}}});break;case\"sep\":switch(a){case\";\":p=\"\",l=null,u=null;break;case\")\":y=!1;break;case\"(\":if(b&&(\"text\"===b.type||\"keyword\"===b.type)&&N[b.text.toLowerCase()]){if(u){var L={type:E.CON,level:T.WARN,text:b.text,range:{start:{line:b.start.line+1,column:b.start.column},end:{line:b.end.line+1,column:b.end.column}}};D.push(L),u=null}if(l){var L={type:E.IFN,level:T.INFO,text:b.text,range:{start:{line:b.start.line+1,column:b.start.column},end:{line:b.end.line+1,column:b.end.column}}};l.substitutions&&(L.substitution=l.substitutions),D.push(L),l=null}}else b&&\"sep\"===b.type&&(\"@\"===b.text.charAt(0)||\"+\"===b.text.charAt(0))&&t(b,s)&&(D.push({type:E.UPS,level:T.WARN,text:b.text,range:{start:{line:b.start.line+1,column:b.start.column},end:{line:b.end.line+1,column:b.end.column}}}),y=!0);break;case\"@\":case\"+\":\"input\"!==p&&\"put\"!==p||b&&b.text;break;case\"||\":b&&D.push({type:E.CON,level:T.WARN,text:\"||\",range:{start:{line:b.start.line+1,column:b.start.column},end:{line:b.end.line+1,column:b.end.column+1}}});break;default:l=null,u=null}}b=s},this.generateJSONData=function(e){for(var t=[],n=0;n<D.length;n++){for(var i=D[n],s=!1,l=0;l<M.length;l++)if(M[l].isI18nOK(i.type,i.range.start.line)){s=!0;break}s||t.push(i)}e.push({data:t})}}},!0);",
	"sas/hc/ui/commons/codeEditor/CodeCheckerDialog.js": "sap.ui.define([\"sap/ui/core/Core\",\"sap/ui/core/Control\",\"sap/ui/core/library\",\"sas/hc/m/Dialog\",\"sas/hc/m/CheckBox\",\"sas/hc/ui/commons/facetFilter/FacetPanel\",\"sas/hc/ui/commons/facetFilter/ListFacet\",\"sas/hc/ui/commons/codeEditor/CodeEditor\",\"sap/ui/model/json/JSONModel\",\"sas/hc/ui/table/library\",\"sas/hc/ui/table/Table\",\"sas/hc/ui/core/Core\",\"sas/hc/ui/commons/codeEditor/CodeChecker\",\"sas/hc/m/FlexBox\",\"sas/hc/m/FlexItemData\",\"sas/hc/m/Button\",\"sas/hc/m/Label\",\"sas/hc/m/Text\",\"sas/hc/m/ToolbarSpacer\",\"sas/hc/m/ResponsiveToolbar\",\"sas/hc/ui/table/Column\",\"sas/hc/m/ObjectMarker\",\"sas/hc/ui/layout/SplitterLayoutData\",\"sas/hc/ui/commons/facetFilter/ModelFilterProvider\",\"sas/hc/ui/layout/Splitter\",\"sas/hc/ui/layout/GridData\",\"sas/hc/ui/layout/VerticalLayout\",\"sas/hc/m/ToolbarSeparator\",\"sap/ui/core/format/NumberFormat\",\"sas/hc/ui/core/theme/IconInitialization\",\"sas/hc/m/a11yHelper\"],function(e,t,a,o,s,n,i,r,l,c,d,u,g,p,h,_,m,f,b,x,y,C,T,w,v,I,F,S,E,M,L){\"use strict\";var A,P,B,k,D,O,N,z,H,R,U,G,V,j,J,W,Z=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\"),K=[],q=[],Q=!0,X=0,Y=0,$=0,ee=1,te={icon:sas.icons.HC.WARNINGSTATUS,tooltip:Z.getText(\"cc_previewEditor_gutterIcon_desc\")},ae=E.getFloatInstance({decimals:0,groupingEnable:!0}),oe=o.extend(\"sas.hc.ui.commons.codeEditor.CodeCheckDialog\",{metadata:{library:\"sas.hc.ui.commons.codeEditor\",associations:{targetEditor:{type:\"sas.hc.ui.commons.codeEditor.CodeEditor\"}}},renderer:{},constructor:function(){k=new g(\"myccId\"),o.apply(this,[{contentWidth:\"100%\",contentHeight:\"100%\",stretch:!0}])}});oe.prototype.close=function(){_e(),o.prototype.close.call(this),this.destroyContent()},oe.prototype.init=function(){o.prototype.init.call(this);var e=this;this.addStyleClass(\"sasUiCodeCheckerDialog\"),this.setAssociation(\"targetEditor\",B),this.setAggregation(\"endButton\",new _({text:Z.getText(\"cc_dialogEndButton_label\"),press:function(){e.close()}}))},oe.prototype.open=function(e,t){if(X=0,$=0,Y=0,e&&(B=e,W=e.getText(),P=e._language),\"sas\"===P){var a=pe();j=new m({displayOnly:!0});var s=new b;H=new _({text:Z.getText(\"cc_replaceButton_label\"),tooltip:Z.getText(\"cc_replaceButton_desc\"),press:se}),R=new _({text:Z.getText(\"cc_excludeButton_label\"),tooltip:Z.getText(\"cc_excludeButton_desc\"),press:ne});var c=new _({tooltip:Z.getText(\"cc_refreshButton_desc\"),ariaLabel:Z.getText(\"cc_refreshButton_aria\"),icon:sas.icons.HC.REFRESH,press:ie});J=new x({content:[j,s,H,R,c],layoutData:new h({shrinkFactor:0})}).addStyleClass(\"sapUiTinyMarginBottom\"),A=new d(\"myI18nTable\",{visibleRowCountMode:\"Auto\",minAutoRowCount:1,showTableOptions:!1,selectionMode:sas.hc.ui.table.SelectionMode.Single,selectionBehavior:sas.hc.ui.table.SelectionBehavior.RowOnly,defaultAction:re,updateFinished:le,enableBusyIndicator:!0,showNoData:!0,layoutData:new h({growFactor:1,baseSize:\"100%\"})}),A.addColumn(new y({label:new m({text:Z.getText(\"cc_table_lineColumn_label\"),textAlign:sap.ui.core.TextAlign.End}),template:(new f).bindProperty(\"text\",{path:\"range/start/line\",formatter:function(e){return ae.format(parseInt(e))}}),width:\"70px\",visible:!0,hAlign:sap.ui.core.HorizontalAlign.Right,sortProperty:\"range/start/line\",autoResizable:!0})),A.addColumn(new y({label:new m({text:Z.getText(\"cc_table_typeColumn_label\")}),template:(new f).bindProperty(\"text\",{path:\"type\",formatter:function(e){return\"EMS\"===e?this.setTooltip(Z.getText(\"cc_table_typeEMS_desc\")):\"CON\"===e?this.setTooltip(Z.getText(\"cc_table_typeCON_desc\")):\"LFM\"===e?this.setTooltip(Z.getText(\"cc_table_typeLFM_desc\")):\"IFN\"===e?this.setTooltip(Z.getText(\"cc_table_typeIFN_desc\")):\"IMA\"===e?this.setTooltip(Z.getText(\"cc_table_typeIMA_desc\")):\"UPS\"===e?this.setTooltip(Z.getText(\"cc_table_typeUPS_desc\")):this.setTooltip(null),e}}),sortProperty:\"type\",width:\"70px\",visible:!0,autoResizable:!0})),A.addColumn(new y({label:new m({text:Z.getText(\"cc_table_affectedCodeColumn_label\")}),template:(new f).bindProperty(\"text\",\"text\"),sortProperty:\"text\",visible:!0,autoResizable:!0})),A.addColumn(new y({label:new m({text:Z.getText(\"cc_table_suggestedCodeColumn_label\")}),template:new f({textDirection:sap.ui.core.TextDirection.LTR}).bindProperty(\"text\",\"substitution\"),sortProperty:\"substitution\",visible:!0,autoResizable:!0}));var u=new C({additionalInfo:{path:\"status\",formatter:function(e){return\"CompleteStatus\"===e?Z.getText(\"cc_table_statusAcceptedColumn_label\"):\"HiddenStatus\"===e?Z.getText(\"cc_table_statusExcludedColumn_label\"):void 0}},tooltip:{path:\"status\",formatter:function(e){return\"CompleteStatus\"===e?Z.getText(\"cc_table_statusAcceptedColumn_desc\"):\"HiddenStatus\"===e?Z.getText(\"cc_table_statusExcludedColumn_desc\"):void 0}}}).bindProperty(\"type\",\"status\");A.addColumn(new y({label:new m({text:Z.getText(\"cc_table_statusColumn_label\")}),template:u,sortProperty:\"status\",visible:!0,autoResizable:!0}));var g=new p({width:\"100%\",height:\"100%\",direction:\"Column\",items:[J,A]}),F=new i({text:Z.getText(\"cc_facetPanel_title\"),closable:!1,showSelectAll:!0,fieldName:\"type\",showMoreThreshold:6,collapsed:!1,display:!0,formatFunction:ue,showZeroCounts:!0});F.getModel().setProperty(\"/items\",[{value:\"EMS\"},{value:\"CON\"},{value:\"LFM\"},{value:\"IFN\"},{value:\"IMA\"},{value:\"UPS\"}]);var E=new T({size:\"25rem\",fullyCollapsible:!0,hideCollapseIcon:!1,hideGripIcon:!0});D=new n({title:Z.getText(\"cc_facetFilter_title\"),height:\"100%\",layoutData:E,showCounts:!0,showHelp:!0,autoUpdate:!0,helpLibrary:\"sas.hc.ui.commons\",helpKey:\"codeAnalyzer\",facetsChange:ce,showExpandCollapseButtons:!1,facets:[F]}),D.setShowExpandCollapseButtons(!1),N=new w({dataPath:\"/data\",facetPanel:D,excludeZeroCountFacetItems:!1}),z=new l;var M=new v(\"codeCheckerHSplitter\",{height:\"100%\",width:\"100%\",persistPaneSizes:!0,layoutData:new h({growFactor:1,baseSize:\"100%\",minHeight:\"0\"})});M.addContentArea(D),M.addContentArea(g);var L=new p({width:\"100%\",height:\"100%\",direction:\"Column\",items:[a,M]});O=new r(\"PreviewCodeEditor\"+ee,{content:\"\",height:\"100%\",readOnly:!0,langMode:\"sas\",ariaLabel:Z.getText(\"cc_previewEditor_aria\"),layoutData:new h({growFactor:1,baseSize:\"100%\",minHeight:\"0\"})}),O.highlightedLine=-1,O.setGutterVisible(!0),O.setSyntaxCheckEnabled(!0);for(var te=O.getContextMenu(),oe=te.getItems(),_e=oe.length-1,me=_e;me>=0;me--)3!==me&&5!==me&&6!==me&&7!==me&&8!==me&&9!==me&&te.removeItem(me);O.setTokenCallback(function(e){k.doCheck&&k.doCheck(e)}),O.attachTextChanged(function(e){if(Q){K=[],k.generateJSONData(K),k.resetTokens(),q=[];for(var t=0;t<K[0].data.length;t++)q.push({type:K[0].data[t].type,text:K[0].data[t].text,startLine:K[0].data[t].range.start.line,startColumn:K[0].data[t].range.start.column,status:\"\"});K[0].data.concat(q),he(),Q=!1}de()}),G=new m({displayOnly:!0,text:Z.getText(\"cc_statusField_AcceptedCount_label\",ae.format(Y))}),V=new m({displayOnly:!0,text:Z.getText(\"cc_statusField_ExcludedCount_label\",ae.format($))}),U=new m({displayOnly:!0,text:Z.getText(\"cc_statusField_UnresolvedCount_label\",ae.format(X))});var fe=new S,be=[U,fe,G,fe,V,s],xe=new x({content:be,layoutData:new h({shrinkFactor:0})}),ye=new p({width:\"100%\",height:\"100%\",direction:\"Column\",items:[O,xe]}),Ce=new v(\"codeCheckerVSplitter\",{layoutData:new I({span:\"L12 M12 S12\",linebreak:!0}),width:\"100%\",resize:ge,persistPaneSizes:!0,showGripIcon:!0});Ce.setOrientation(sap.ui.core.Orientation.Vertical),Ce.addContentArea(L),Ce.addContentArea(ye),this.addContent(Ce),this.setTitle(Z.getText(\"cc_dialog_title\")),O.setText(W),he(),ee+=1,this.setInitialFocus(M),o.prototype.open.apply(this,arguments)}};var se=function(e){for(var t,a,o,s,n=A,i=n.getBindingInfo(\"rows\").binding.oList,r=i.length,l=0;l<r;l++){if(n.isIndexSelected(l)){var c=sap.ui.getCore().byId(\"myI18nTable\").mBindingInfos.rows.binding.aIndices[l];if(t=i[c].status,a=i[c].type,o=i[c].range.start.line,s=i[c].range.start.column,\"CompleteStatus\"===t||\"HiddenStatus\"===t);else if(\"LFM\"===a||\"IFN\"===a){var d=B;d.activate();var u,g={direction:\"forward\",caseIgnore:!1,wrapped:!0,all:!1},p=i[c].text,h=i[c].substitution;if(!h||0===h.length)return;var _=h.split(\"/\");u=_.length>0?_[0]:h,d.gotoLine(o);var m=d.caretPosition();d._core.editor().setCaretOffset(d._ctrl.model().toTextOffset(m.line,s)),d.replace(p,u,g);for(var f=0;f<q.length;f++)if(q[f].type===a&&q[f].text===p&&q[f].startLine===o&&q[f].startColumn===s){q[f].status=\"CompleteStatus\";break}for(var f=0;f<i.length;f++)if(i[f].type===a&&i[f].text===p&&i[f].range.start.line===o&&i[f].range.start.column===s){i[f].status=\"CompleteStatus\";break}W=d.getText(),O.setText(W),O.gotoLine(o),Y+=1,X-=1,G.setText(Z.getText(\"cc_statusField_AcceptedCount_label\",ae.format(Y))),U.setText(Z.getText(\"cc_statusField_UnresolvedCount_label\",ae.format(X)))}}}D.fireFacetsChange()},ne=function(e){for(var t,a,o,s,n=\" /* ignore for i18n analyzer - ID:ALL */\",i=A,r=i.getBindingInfo(\"rows\").binding.oList,l=r.length,c=0;c<l;c++){if(i.isIndexSelected(c)){var d=sap.ui.getCore().byId(\"myI18nTable\").mBindingInfos.rows.binding.aIndices[c];if(t=r[d].status,o=r[d].type,a=r[d].range.start.line,s=r[d].range.start.column,\"CompleteStatus\"===t||\"HiddenStatus\"===t);else{var u=B,g=r[d].text;u.activate(),u.gotoLine(a);var p=u.caretPosition(),h=u._ctrl.model().getLine(a-1);p.column=h.length,u._core.editor().setCaretOffset(u._ctrl.model().toTextOffset(p.line,p.column)),n=\" /* ignore for i18n analyzer - ID:\"+o+\" */\",u.insert(n);for(var _=0;_<q.length;_++)if(q[_].type===o&&q[_].text===g&&q[_].startLine===a&&q[_].startColumn===s){q[_].status=\"HiddenStatus\";break}for(var _=0;_<r.length;_++)if(r[_].type===o&&r[_].text===g&&r[_].range.start.line===a&&r[_].range.start.column===s){r[_].status=\"HiddenStatus\";break}W=u.getText(),O.setText(W),O.gotoLine(a),$+=1,X-=1,V.setText(Z.getText(\"cc_statusField_ExcludedCount_label\",ae.format($))),U.setText(Z.getText(\"cc_statusField_UnresolvedCount_label\",ae.format(X)))}}}D.fireFacetsChange()},ie=function(e){var t=B;Q=!0,K=[],q=[],k.resetTokens(),W=t.getText(),O.setText(W),he(),D.fireFacetsChange();var a=A,o=a.getBindingInfo(\"rows\").binding.oList,s=o.length;X=s,$=0,Y=0,U.setText(Z.getText(\"cc_statusField_UnresolvedCount_label\",ae.format(X))),V.setText(Z.getText(\"cc_statusField_ExcludedCount_label\",ae.format($))),G.setText(Z.getText(\"cc_statusField_AcceptedCount_label\",ae.format(Y)))},re=function(e){var t,a=e.getParameters();if(!a)return void sas.log.error(\"No parameters provided for single click event\");if((t=a.rowIndex)>=0){var o=this.getBindingInfo(\"rows\").binding.oList,s=o.length,n=sap.ui.getCore().byId(\"myI18nTable\").mBindingInfos.rows.binding.aIndices[t];if(s<=t)return;if(s<=n)return;var i=o[n].status,r=o[n].type,l=o[n].range.start.line;O.gotoLine(l);if(this.setSelectedIndex(t),\"\"!==i&&void 0!==i)return H.setEnabled(!1),void R.setEnabled(!1);if(R.setEnabled(!0),\"LFM\"===r||\"IFN\"===r){var c=o[n].substitution;c&&c.length?H.setEnabled(!0):H.setEnabled(!1)}else H.setEnabled(!1)}},le=function(e){if(!e.getParameters())return void sas.log.error(\"No parameters provided for double click event\");this.getModel().oData&&0===X&&(X=this.getModel().oData.data.length);var t=this.getBindingInfo(\"rows\").binding.oList;if(t){var a=t.length;j.setText(Z.getText(\"cc_issueCountField_label\",ae.format(a)))}U&&U.setText(Z.getText(\"cc_statusField_UnresolvedCount_label\",ae.format(X)))},ce=function(e){A.clearSelection(\"clearAll\")},de=function(){var e,t;if(A.getBindingInfo(\"rows\")){e=A.getBindingInfo(\"rows\").binding.oList,t=e.length,O.clearGutterIcons();for(var a=0;a<t;a++){var o=e[a].range.start.line,s=e[a].status;\"\"!==s&&void 0!==s||O.addGutterIcons([{lineIndex:parseInt(o)-1,icons:[te]}])}}},ue=function(e){return\"EMS\"===e?Z.getText(\"cc_facetFilter_typeEMS_desc\"):\"CON\"===e?Z.getText(\"cc_facetFilter_typeCON_desc\"):\"LFM\"===e?Z.getText(\"cc_facetFilter_typeLFM_desc\"):\"IFN\"===e?Z.getText(\"cc_facetFilter_typeIFN_desc\"):\"IMA\"===e?Z.getText(\"cc_facetFilter_typeIMA_desc\"):\"UPS\"===e?Z.getText(\"cc_facetFilter_typeUPS_desc\"):void 0},ge=function(e){O.refresh()},pe=function(){return new m({text:Z.getText(\"cc_dialogDescription_label\"),displayOnly:!0}).addStyleClass(\"sapUiMediumMarginBottom\")},he=function(){z&&(z.destroy(),z=new l),z.setData(K[0]),N.setModel(z),D.setModel(),D.setModel(z),A.setModel(z),A.bindRows(\"/data\"),A.clearSelection(\"clearAll\")},_e=function(){Q=!0,R.resetProperty(),H.resetProperty(),K=[],q=[],W=\"\",k.resetTokens()};return oe},!0);",
	"sas/hc/ui/commons/codeEditor/CodeEditor.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sap/ui/core/Control\",\"sap/ui/Device\",\"./ContextMenu\",\"./EditorCore\",\"./EditorController\",\"./Settings\",\"./ThemeMgr\",\"sas/hc/ui/core/Core\",\"sas/hc/m/a11yHelper\",\"sap/ui/core/ResizeHandler\"],function(t,e,i,n,r,a,o,s,l,u){\"use strict\";var c=t.extend(\"sas.hc.ui.commons.codeEditor.CodeEditor\",{metadata:{library:\"sas.hc.ui.commons.codeEditor\",properties:{lineHighlightingVisible:{type:\"boolean\",group:\"Data\",defaultValue:!0},lineNumberVisible:{type:\"boolean\",group:\"Data\",defaultValue:!0},fontSize:{type:\"int\",group:\"Data\",defaultValue:14},fontFamily:{type:\"string\",group:\"Data\",defaultValue:\"Consolas\"},theme:{type:\"string\",group:\"Data\",defaultValue:\"none\"},width:{type:\"sap.ui.core.CSSSize\",group:\"Misc\",defaultValue:\"100%\"},height:{type:\"sap.ui.core.CSSSize\",group:\"Misc\",defaultValue:\"100%\"},tabSize:{type:\"int\",group:\"Data\",defaultValue:4},autoCompleteEnabled:{type:\"boolean\",group:\"Data\",defaultValue:!0},snippetsAutoCompleteEnabled:{type:\"boolean\",group:\"Data\",defaultValue:!0},snippetsReplacementEnabled:{type:\"boolean\",group:\"Data\",defaultValue:!0},hintEnabled:{type:\"boolean\",group:\"Data\",defaultValue:!0},syntaxCheckEnabled:{type:\"boolean\",group:\"Data\",defaultValue:!0},indentEnabled:{type:\"boolean\",group:\"Data\",defaultValue:!0},wordWrapEnabled:{type:\"boolean\",group:\"View\",defaultValue:!1},overtypeEnabled:{type:\"boolean\",group:\"View\",defaultValue:!1},blockCommentsEnabled:{type:\"boolean\",group:\"Data\",defaultValue:!1},pairQuotations:{type:\"boolean\",group:\"Data\",defaultValue:!0},pairBrackets:{type:\"boolean\",group:\"Data\",defaultValue:!0},pairParentheses:{type:\"boolean\",group:\"Data\",defaultValue:!0},pairBraces:{type:\"boolean\",group:\"Data\",defaultValue:!0},pairSquareBrackets:{type:\"boolean\",group:\"Data\",defaultValue:!0},pairAngleBrackets:{type:\"boolean\",group:\"Data\",defaultValue:!0},matchingBrackets:{type:\"boolean\",group:\"Data\",defaultValue:!0},allowPlainTextOnly:{type:\"boolean\",group:\"Data\",defaultValue:!1},syntaxHighlighting:{type:\"boolean\",group:\"Data\",defaultValue:!0},tabAsSpace:{type:\"boolean\",group:\"Data\",defaultValue:!1},foldingEnabled:{type:\"boolean\",group:\"Data\",defaultValue:!0},readOnly:{type:\"boolean\",group:\"Data\",defaultValue:!1},gutterVisible:{type:\"boolean\",group:\"Data\",defaultValue:!1},debugBarVisible:{type:\"boolean\",group:\"Data\",defaultValue:!1},indentGuidesVisible:{type:\"boolean\",group:\"Data\",defaultValue:!1},invisibleCharsVisible:{type:\"boolean\",group:\"Data\",defaultValue:!1},lineLengthGuideVisible:{type:\"boolean\",group:\"Data\",defaultValue:!1},lineLengthGuideColumn:{type:\"int\",group:\"Data\",defaultValue:80},highlightedLine:{type:\"int\",group:\"Data\",defaultValue:-1},prompt:{type:\"string\",group:\"Data\",defaultValue:\"\"},highlightRules:{type:\"object\",group:\"Data\"},customMode:{type:\"object\",group:\"Data\"},ariaLabel:{type:\"string\",group:\"Appearance\",defaultValue:\"\"}},aggregations:{contextMenu:{type:\"sas.hc.ui.commons.codeEditor.ContextMenu\",multiple:!1}},associations:{ariaDescribedBy:{type:\"sap.ui.core.Control\",multiple:!0,singularName:\"ariaDescribedBy\"},ariaLabelledBy:{type:\"sap.ui.core.Control\",multiple:!0,singularName:\"ariaLabelledBy\"}},events:{ready:{},textChanged:{},selectionChanged:{},caretMoved:{},editAttempted:{},drop:{},gutterClicked:{},gutterMousedown:{},gutterMouseup:{},debugBarClicked:{}}},constructor:function(o,s){var l,u;\"object\"==typeof s?(l=s.content,u=s.langMode,delete s.content,delete s.langMode,t.apply(this,[o,s])):\"string\"==typeof s&&(l=s,u=arguments[2],t.apply(this,[o]),sas.log.warning(\"This parameter of constructor is deprecated. Please use the latest construction pattern.\"));var c=this;this._settings=new a(this),this._core=new n(o,l,u,this._settings),this._ctrl=new r(this._core),this.setAggregation(\"contextMenu\",new i(this._ctrl,this._settings));var d=jQuery(this._core);for(var h in this.getMetadata()._mEvents)this.getMetadata()._mEvents.hasOwnProperty(h)&&d.on(h,function(t){c.fireEvent(t.type,t)});d.one(\"ready\",function(){e.browser.chrome?c._rerender(800):c._writeAria()})},renderer:function(t,e){t.write(\"<div\"),t.addClass(\"sasUICodeEditor\"),e.getReadOnly()&&t.addClass(\"sasUICodeEditorReadOnly\"),t.writeControlData(e),t.writeClasses(),t.addStyle(\"width\",e.getWidth()),t.addStyle(\"height\",e.getHeight()),t.writeStyles(),t.write(\">\"),t.write(\"</div>\")},onAfterRendering:function(){if(this._ctrl.render(this.getDomRef()),this._writeAria(),e.browser.chrome){var t=this;this._resizeHandlerId&&u.deregister(this._resizeHandlerId),this._resizeHandlerId=u.register(this.getDomRef(),function(){t._rerender(800)}),this._forceRendering||t._rerender(0)}},_rerender:function(t){var e=this;this._timerId&&window.clearTimeout(this._timerId),this._timerId=window.setTimeout(function(){e._timerId=null,e._forceRendering=!0,e.rerender(),e.rerender(),e.rerender(),e._forceRendering=!1},t)},exit:function(){this._resizeHandlerId&&u.deregister(this._resizeHandlerId),this._timerId&&window.clearTimeout(this._timerId),jQuery(this._core).off(),this._ctrl.destroy(),this.resetText(\" \"),this.resetText(\"\"),this._core.destroy(),this._settings.destroy(),t.prototype.exit&&t.prototype.exit.apply(this,arguments)},customizeContextMenu:function(t,i){return e.os.macintosh&&i.pageX<this._core.getA11yTarget().offset().left?{getItems:function(){return 1}}:(t.prepare(i),t)},activate:function(){this._ctrl.activate()},refresh:function(){this._core.refresh()},reparse:function(){this._ctrl.reparse()},focus:function(){this._ctrl.focus()},regShortcuts:function(t){this._ctrl.regCommands(t)},cut:function(){this._ctrl.cut()},redo:function(){this.getReadOnly()||(this._ctrl.redo(),this._ctrl.hangeFocus())},undo:function(){this.getReadOnly()||(this._ctrl.undo(),this._ctrl.hangeFocus())},canRedo:function(){return this._ctrl.canRedo()},canUndo:function(){return this._ctrl.canUndo()},canPaste:function(){return this._ctrl.canPaste()},copy:function(){this._ctrl.copy()},paste:function(){this._ctrl.paste()},selectAll:function(){this._ctrl.selectAll()},lineCount:function(){return this._ctrl.lineCount()},getText:function(){return this._ctrl.getText(\"all\")},getSelectedText:function(){return this._ctrl.getText(\"selected\")},fontSize:function(t){return isNaN(t)||this.setFontSize(t),this.getFontSize()},tabSize:function(t){return isNaN(t)||this.setTabSize(t),this.getTabSize()},lineNumber:function(t,e){return void 0!==t&&null!==t&&this.setLineNumberVisible(t),this.getLineNumberVisible()},autoComplete:function(t){return void 0!==t&&null!==t&&this.setAutoCompleteEnabled(t),this.getAutoCompleteEnabled()},enableHint:function(t){return void 0!==t&&null!==t&&this.setHintEnabled(t),this.getHintEnabled()},enableIndent:function(t){return void 0!==t&&null!==t&&this.setIndentEnabled(t),this.getIndentEnabled()},syntaxHighlighting:function(t){return void 0!==t&&null!==t&&this.setSyntaxHighlighting(t),this.getSyntaxHighlighting()},tabAsSpaces:function(t){return void 0!==t&&null!==t&&this.setTabAsSpace(t),this.getTabAsSpace()},readOnly:function(){return void 0!==arguments&&arguments.length>0&&this.setReadOnly(arguments[0]),this.getReadOnly()},gotoLine:function(t,e){this._ctrl.gotoline(t,e)},setText:function(t){this._ctrl.setText(t)},resetText:function(t){this._ctrl.setText(t,!0)},insert:function(t){this._ctrl.insertText(t),window.setTimeout(this.focus.bind(this),400)},clear:function(){this._ctrl.clear()},search:function(t,e){var i=this._ctrl.getNewConfig(e);return this._ctrl.search(t,i)},replace:function(t,e,i){var n=this._ctrl.getNewConfig(i);this._ctrl.replace(t,e,n),this._ctrl.focus()},collapse:function(t){t?this._ctrl.collapseAll():this._ctrl.collapse()},expand:function(t){t?this._ctrl.expandAll():this._ctrl.expand()},enableFolding:function(t){return void 0!==t&&null!==t&&this.setFoldingEnabled(t),this.getFoldingEnabled()},resize:function(t,e){isNaN(t)||(t+=\"px\"),this.setWidth(t),isNaN(e)||(e+=\"px\"),this.setHeight(e),this._ctrl.resize.apply(this._ctrl,arguments)},showGoToLineDialog:function(){this._ctrl.showGoToLineDialog()},showFindReplaceDialog:function(){this._ctrl.showFindReplaceDialog()},hideFindReplaceDialog:function(){this._ctrl.hideFindReplaceDialog()},hideGoToLineDialog:function(){this._ctrl.hideGoToLineDialog()},setNextFocusHandler:function(t){this._ctrl.nextFunction=t},setPreviousFocusHandler:function(t){this._ctrl.prevFunction=t},getHTML:function(t){return this._ctrl.getHTML(t)},promptText:function(t){return\"string\"==typeof t&&this.setPrompt(t),this.getPrompt()},selection:function(t,e){return this._ctrl.selection(t,e)},caretPosition:function(){return this._ctrl.caretPosition()},setLibService:function(t){this._ctrl.setLibService(t)},addGutterIcons:function(t){this._ctrl.addGutterIcons(t)},removeGutterIcons:function(t){this._ctrl.removeGutterIcons(t)},clearGutterIcons:function(){this._ctrl.clearGutterIcons()},getGutterIcons:function(t){return this._ctrl.getGutterIcons(t)},setAutoCompleter:function(t){this._ctrl.setAutoCompleter(t)},setActionHandler:function(t,e){this._ctrl.setActionHandler(t,e)},setTokenCallback:function(t){this._core.mode().setTokenCallback(t)},setSnippets:function(t){this._ctrl.setSnippets(t)},setTabAsSpace:function(t){return this.setProperty(\"tabAsSpace\",t)},setFoldingEnabled:function(t){return this._ctrl&&!1===t&&this._ctrl.expandAll(),this.setProperty(\"foldingEnabled\",t)},setTabSize:function(t){return t<=0?(sas.log.warning(\"tabSize value should be greater than 0.\"),this):(t>0&&this.getTabSize()!==t&&t>25&&(t=25),this.setProperty(\"tabSize\",t))},setTheme:function(t){return this._ctrl&&this._ctrl.setTheme(t,this.getProperty(\"theme\")),this.setProperty(\"theme\",t)},getSettings:function(){return jQuery.extend(!0,{},this.mProperties)},getDefaultSettings:function(){return jQuery.extend(!0,{},this.mProperties.__proto__)},getSelectedSectionText:function(t,e){return this._ctrl.getSelectedSectionText(t,e)},_writeAria:function(){var t=l.extractStandardAttributes(this);l.addAttributesJQuery(this._core.getA11yTarget(),t)}});return c.addThemes=function(t){o.getInstance().addThemes(t)},c},!0);",
	"sas/hc/ui/commons/codeEditor/CodeZoneManager.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./mode/sas/SasLexerEx\",\"./mode/sas/SasLexer\",\"./Utils\"],function(t,e,n){\"use strict\";var o=function(T,r,_){function i(){Ut=\"\",gt=\"\",vt=\"\",Vt=\"\"}function l(t,e){return Dt.getProcedureStatementHelp(t,e)}function p(){if(Ft[Ut]||(Ft[Ut]={}),void 0===Ft[Ut][gt])if(Yt[gt])Ft[Ut][gt]=!1;else{var t=l(Ut,gt);t&&(Ft[Ut][gt]=/Syntax:[^;]*\\/.*;/i.test(t.data))}return Ft[Ut][gt]}function E(t){var e=null;return kt===ft.PROC_DEF?e=Dt.getProcedureOptionType(Ut,t):kt===ft.PROC_STMT&&(e=Dt.getProcedureStatementOptionType(Ut,gt,t)),!(!e||-1===e.indexOf(\"DV\"))}function s(t){var e;return Gt[t]||(e=Dt.getProcedureStatements(t),function(e){e&&e.length>0&&(Gt[t]=n.arrayToMap(e))}(e)),Gt[t]}function A(t,e,n){var o=s(e),T=Pt(t),r=O(T),_=Pt(T),i=O(_),l=Pt(_),p=O(l),E=n.text.toUpperCase()+\" \"+r.text,A=E+\" \"+i.text,u=A+\" \"+p.text;o&&(o[u]?(Mt(l,t),n.text=u,n.pos=p.pos>0?1:p.pos):o[A]?(Mt(_,t),n.text=A,n.pos=i.pos>0?1:i.pos):o[E]&&(Mt(T,t),n.text=E,n.pos=r.pos>0?1:r.pos)),\"ODS\"===e&&Wt[r.text.replace(\"TAGSETS.\",\"\")]&&(Mt(T,t),n.text=E,n.pos=r.pos>0?1:r.pos)}function u(t){var n,o,T,r=!0,_=null,i={comment:/(^\\*.*;$|^\\/\\*.*\\*\\/$)/i,\"macro-comment\":/(^%\\*.*;$)/i,string:/(^'.*'$|^\".*\"$)/i,date:/(^'.*'d$|^\".*\"d$)/i,time:/(^'.*'t$|^\".*\"t$)/i,dt:/(^'.*'dt$|^\".*\"dt$)/i,bitmask:/(^'.*'b$|^\".*\"b$)/i,namelit:/(^'.*'n$|^\".*\"n$)/i,hex:/(^'.*'x$|^\".*\"x$)/i};return t.endLine?(o=Ct.getLine(t.line).substr(t.col,2),T=Ct.getLine(t.endLine).substring(0,t.endCol)):(o=t.text,T=t.text),n=o.substr(0,2),T.length<=2?n+=T:n+=T.substr(T.length-2,2),(e.isComment[t.type]||e.isLiteral[t.type])&&(_=i[t.type])&&!_.test(n)&&(r=!1),r}function c(t,n){for(var o=Rt.getSyntax(t),T=o.length,r=1,_=-1,i=\"text\",l=t;r<T;r++)if(o[r].start>=n){if(o[r-1].start<=n){_=r-1,i=o[_].style;break}break}if(e.isComment[i]||e.isLiteral[i])for(;l>=0;){if(o[_].state instanceof Object)return{type:i,text:null,line:l,col:o[_].start,endLine:o[_].state.line,endCol:o[_].state.col};if(1===o[_].state)break;if(--_<0){do{l--,o=Rt.getSyntax(l)}while(l>=0&&0===o.length);_=o.length-1}}if(r>0){var p=Ct.getLine(t),E=0,s=0;return o=Rt.getSyntax(t),0!==o.length&&(E=o[r]?o[r].start:p.length,s=o[r-1].start),{type:i,text:p.substring(s,E),line:t,col:s}}return null}function S(t){var n=\"\",o=0,T=[],r=0,_=\"\",i=0,l=\"text\",p=0,E=Ct.getLineCount(),s=null;t.line>=E&&(t.line=E-1,t.col=Ct.getLine(t.line).length),n=Ct.getLine(t.line),o=n.length,T=Rt.getSyntax(t.line),r=T.length,t.syntaxIdx<0&&(t.syntaxIdx=Rt.getSyntax(t.line).length-2);do{for(;t.col<0||0===T.length;){if(--t.line<0)return null;n=Ct.getLine(t.line),o=n.length,t.col=o-1,T=Rt.getSyntax(t.line),r=T.length,t.syntaxIdx=r-2}if(T[r-1].start<=t.col&&o>=t.col)p=r-1;else for(p=t.syntaxIdx;p>=0&&!(T[p].start<=t.col&&T[p+1].start>=t.col);p--);t.syntaxIdx<0||p<0?(i=0,l=T[0].style,_=n.substring(0,o)):(i=T[p].start,l=T[p].style,_=n.substring(i,T[p+1]?T[p+1].start:o)),p<1?(t.col=-1,t.syntaxIdx=-1):(t.col=T[p-1].start,t.syntaxIdx=p-1)}while(/^\\s*$/.test(_));return e.isComment[l]||e.isLiteral[l]?(s=c(t.line,i+1),!s.endLine||s.line===t.line&&s.col===t.col||(t.col=s.col-1,t.line=s.line,t.syntaxIdx=-1),e.isComment[l]?S(t):s):{type:l,text:_,line:t.line,col:i}}function a(t){var n,o,T=null;for(t.tokens?t.tokenIdx<t.tokens.length&&(T=t.tokens[t.tokenIdx],T.endLine?(t.line=T.endLine,t.col=T.endCol):(t.line=T.line,t.col=T.col+T.text.length),t.tokenIdx++):(o=Ot(t.line,t.col),t.lexer.startFrom(o.line,o.col),(n=t.lexer.getNext())&&(t.line=n.end.line,t.col=n.end.column,T=P(n)));T&&e.isComment[T.type];)T=a(t);if(T&&T.type===e.TOKEN_TYPES.MREF){var r=T;if((T=a(t))&&\"(\"===T.text){for(;T&&\")\"!==T.text&&-1===R(t.cursor,T);)T=a(t);T=-1===R(t.cursor,T)?a(t):r}}return T}function O(t){var n,o,T,r=a(t);return r&&\"&\"===r.text&&(o=Pt(t),(T=a(o))&&\"\"!==T.text&&e.isWord[T.type]&&(r.text=\"&\"+T.text,r.type=\"text\",Mt(o,t))),r||(n=Ct.getLineCount()-1,r={type:\"text\",text:\"\",line:n,col:Ct.getColumnCount(n)}),r.pos=R(t.cursor,r),r.text=r.text.toUpperCase(),r}function P(t){if(t){var e={type:t.type,line:t.start.line,col:t.start.column,text:t.text};return t.start.line!==t.end.line&&(e.endLine=t.end.line,e.endCol=t.end.column),e}return t}function M(t,e){var n,o=[];dt.startFrom(t,e);do{if((n=dt.getNext())&&(n=P(n),o.push(n),\";\"===n.text))break}while(n);return o}function x(t,e,n){(n||!t.zone||e>t.zone)&&(t.zone=e)}function f(t,e,n){0===t.pos?t.zone=n:t.pos>=2&&(t.zone=e)}function L(t){var e=null,n={line:t.startLine,col:t.startCol,syntaxIdx:0,lexer:dt};return a(n),e=a(n),e?e.text.toUpperCase():\"\"}function R(t,e){var n,o,T=e.line,r=e.col;return void 0===e.endLine?(n=T,o=r+e.text.length):(n=e.endLine,o=e.endCol),t.line>n?-1:t.line<T?3:n===T?t.col<r?3:t.col===r?2:t.col===o?0:t.col>o?-1:1:t.line===T?t.col<r?3:t.col===r?2:1:t.line===n?t.col>o?-1:t.col===o?0:1:1}function C(t,e){if(!e.endLine||e.endLine===e.line)return e.line===t.endLine&&e.col>=t.endCol||e.line===t.startLine&&e.col+e.text.length<=t.startCol||e.line>t.endLine||e.line<t.startLine?-1:0}function D(t,e){return t.startLine===e.line&&t.startCol===e.col}function d(t){var e=null,n={line:t.endLine,col:t.endCol,syntaxIdx:-1,lexer:dt},o=null;do{e=S(n)}while(e&&\";\"!==e.text);if(e&&(e=S(n))&&e.text){if(o=e.text.toUpperCase(),yt[o])return!0;if(\"CANCEL\"===o&&(e=S(n))&&e.text&&yt[e.text.toUpperCase()])return!0}return!1}function y(t,n){var o=null,T=[],r=0;t.syntaxIdx=-1,t.tokens=null;do{o=S(t),T.push(o)}while(o&&\";\"!==o.text);o?(t.line=o.line,t.col=o.col+1,t.syntaxIdx=-1,t.lastStmtEnd={line:o.line,col:o.col}):(t.line=0,t.col=0,t.syntaxIdx=-1,t.lastStmtEnd=null),r=T.length,r>3&&e.isWord[T[r-2].type]&&\":\"===T[r-3].text&&(a(t),a(t)),n&&(t.tokens=M(t.line,t.col)),t.tokenIdx=0}function h(t,e,n){var o=I(t,e,{BEGINGRAPH:1},{ENDGRAPH:1});return!(!o||\"statgraph\"!==o.type||\"BEGINGRAPH\"===n)}function N(t,e){return I(t,e,ht,Nt)}function I(t,e,n,o){var T=null,r=null,_=0,i={line:e.line,col:e.col,syntaxIdx:-1,cursor:e,lexer:dt};do{if(y(i,!1),_++,T=a(i)){if(r=T.text.toUpperCase(),n[r])return{startLine:T.line,startCol:T.col,endLine:e.line,endCol:T.col+4>e.col&&T.line===e.line?T.col+4:e.col,type:It[r]};if(o[r]&&_>1)return null}else T={line:i.line,col:i.col};i.lastStmtEnd&&(i.col=i.lastStmtEnd.col-1,i.line=i.lastStmtEnd.line,i.lastStmtEnd=null)}while(T.line>t.startLine||T.line===t.startLine&&T.col>t.startCol);return null}function U(t){var e,n=null,o=null,T=null;if(y(t,!0),o={line:t.line,col:t.col,cursor:t.cursor,syntaxIdx:-1,lexer:dt},n=O(t),n.pos>=0){if((T=Rt.getFoldingBlock(o.line,o.col))&&C(T,n)<0&&!d(T)){if(\"%MACRO\"===n.text)return ft.MACRO_STMT;switch(T.type){case Lt.PROC:return h(T,t.cursor,n.text)?Ut=\"STATGRAPH\":(Ut=L(T),gt=n.text),ft.PROC_STMT;case Lt.DATA:return ft.DATA_STEP_STMT}}return\"%\"===n.text[0]?ft.MACRO_STMT:ft.GBL_STMT}switch(n.text.toUpperCase()){case\"PROC\":case\"PROCEDURE\":return v(t);case\"DATA\":return it(t,n);case\"%MACRO\":return St(t)}if(gt=n.text.toUpperCase(),kt=ft.GBL_STMT,e=G(t,n),m(e))return ft.RESTRICTED;if(e.type===ft.OPT_NAME)return ft.GBL_STMT_OPT;if(e.type===ft.OPT_VALUE)return ft.GBL_STMT_OPT_VALUE;if(e.type===ft.SUB_OPT_NAME){if(Dt.isStatementSubOptKeyword(gt,vt,Vt)||Vt)return ft.GBL_STMT_SUB_OPT_NAME}else if(\"%SYSCALL\"===gt&&/^%SYSCALL\\b/.test(n.text))return At(t);return e.type}function g(t){var n=null,o=null,T=!1;if(y(t,!0),n=O(t),!e.isWord[n.type])return Ut=L(t.block),B(t,n);if(o=n.text.toUpperCase(),n.pos>=0){if((T=C(t.block,n)>=0)&&\"PROC\"!==o||!T&&!d(t.block)){if(Ut=L(t.block),\"%\"===o[0])return ft.MACRO_STMT;h(t.block,t.cursor,o)&&(Ut=\"STATGRAPH\");var r=B(t,n);return r===ft.ODS_STMT?r:ft.PROC_STMT}return ft.GBL_STMT}switch(o){case\"PROC\":case\"PROCEDURE\":return v(t);case\"DATA\":return it(t,n);default:return Ut=h(t.block,t.cursor,o)?\"STATGRAPH\":L(t.block),B(t,n)}}function v(t){var e,n=null;return n=O(t),n.pos>=0&&\"=\"!==n.text?ft.PROC_DEF:(Ut=n.text.toUpperCase(),kt=ft.PROC_DEF,e=G(t,n),m(e)?ft.RESTRICTED:e.type===ft.OPT_NAME?ft.PROC_OPT:e.type===ft.OPT_VALUE?ft.PROC_OPT_VALUE:e.type===ft.SUB_OPT_NAME&&Dt.isProcedureSubOptKeyword(Ut,vt,Vt)?ft.PROC_SUB_OPT_NAME:e.type)}function V(t,e,n){var o,T,r=!1;if(n||(n={type:\"root\"}),n.value=t,e.push(n),t instanceof Array)for(o=0,T=t.length;o<T&&!(r=V(t[o],e,{type:\"argitem\",argIndex:o}));o++)e.pop();else t instanceof Object&&(void 0!==t.op2?(r=V(t.op1,e,{type:\"lvalue\"}))||(r=V(t.op,e,{type:\"operator\"}))||(r=V(t.op2,e,{type:\"rvalue\"}))||(e.pop(),e.pop(),e.pop()):void 0!==t.op1?(r=V(t.op,e,{type:\"obj\"}))||(r=V(t.op1,e,{type:\"arglist\"}))||(e.pop(),e.pop()):t.pos>=0&&(r=!0));return r}function b(t){void 0===t.op?vt=t.text:t.op&&void 0===t.op2?vt=t.op.text:b(t.op1)}function k(t,e){var n,o,T,r={};T=t[t.length-1].value,n=T.zone,o=T.text,vt=T.text,Vt=T.text;return t.length>3&&b(t[3].value),1!==T.pos&&(Vt=void 0),n===ft.OBJECT&&(n=ft.OPT_NAME),n===ft.SIMPLE_ITEM&&(n=ft.OPT_VALUE),n||\"operator\"!==t[t.length-1].type||(n=ft.SUB_OPT_NAME),(gt.match(/ODS TAGSETS.\\w*/gi)||\"ODS\"===gt&&vt.match(/TAGSETS.\\w*/gi))&&(o=Ct.getLine(e.cursor.line),o=o.substring(0,e.cursor.col),o.match(/TAGSETS.\\w*$/gi)?n=ft.TAGSETS_NAME:(o.match(/ods\\s+\\w+$/gi)||o.match(/((^\\s*$)|(^\\s*\\w+$))/)&&n===ft.STMT_NAME||o.match(/ods\\s+$/gi))&&(n=ft.ODS_STMT)),\"%\"===gt[0]&&(n!==ft.OPT_NAME&&n!==ft.OPT_VALUE||(n=ft.MACRO_STMT_BODY)),r.type=n,r}function m(t){return!1}function B(e,n){var o,T;if(kt=ft.PROC_STMT,A(e,Ut,n),o=G(e,n),T=o.type,m(o))T=ft.RESTRICTED;else if(o.type===ft.STMT_NAME)T=ft.PROC_STMT;else if(o.type===ft.OPT_NAME){if(\"CALL\"===gt&&/^CALL\\b/.test(n.text))return At(e);T=ft.PROC_STMT_OPT}else if(o.type===ft.OPT_VALUE)T=ft.PROC_STMT_OPT_VALUE;else if(o.type===ft.SUB_OPT_NAME){var r=t.prototype.stmtWithDatasetOption_;r[Ut+\"/\"+n.text]?T=ft.DATA_SET_OPT_NAME:Dt.isProcedureStatementSubOptKeyword(Ut,gt,vt,Vt)?T=ft.PROC_STMT_SUB_OPT:Dt.isProcedureStatementKeyword(Ut,gt,Vt)&&(T=ft.PROC_STMT_OPT)}else o.type===ft.SUB_OPT_VALUE&&(T=ft.PROC_STMT_SUB_OPT_VALUE);return T}function G(t,e){var n=X(t,e),o=[];return V(n,o),k(o,t)}function F(t,n,o){$(n,function(t){(e.isWord[t.type]||\"text\"===t.type)&&x(t,o)})}function W(t,e,n){var o,T,r=[],_=rt(t);return o=O(t),\"IN\"===o.text&&(_={op:o,op1:_,op2:rt(t)},o=O(t)),F(t,_,n),r.push(_),x(o,n),\"THEN\"===o.text&&n===ft.DATA_STEP_STMT_OPT||\"%THEN\"===o.text&&n===ft.MACRO_STMT_OPT?(T=O(t),r.push({op:o,op1:X(t,T)}),o.pos>=0&&(gt=e.text)):r.push(o),{op:e,op1:r}}function w(t,e){return{op:e,op1:rt(t)}}function Y(t,e){var n,o,T,r={op:e},_=[],i=null;do{T=O(t),x(T,ft.STYLE_ELEMENT),_.push(T),T=O(t)}while(\",\"===T.text);return\"FROM\"===T.text&&(i=T,x(T,\"from\"),n=O(t),x(n,\"existing\"),T=O(t,\"text\"),'\"text\"'!==T.text&&\"'text'\"!==T.text||(x(T,\"text\"),T=O(t))),\"/\"===T.text?(o=i?{op:i,op1:_,op2:n}:_,f(T,ft.RESTRICTED,ft.STYLE_ATTR),r.op1={op:T,op1:o,op2:et(t,null,ft.STYLE_ATTR,ft.RESTRICTED)}):r.op1=_,r}function H(t,e){var n,o,T,r;return A(t,\"ODS\",e),gt=e.text.toUpperCase(),x(e,ft.ODS_STMT),\"ODS\"===gt?(n=ft.RESTRICTED,o=ft.RESTRICTED):(n=ft.ODS_STMT_OPT,o=ft.ODS_STMT_OPT_VALUE),T=et(t,e,n,o),r=z(T),\"ODS\"===gt&&r.pos>=0&&x(r,ft.ODS_STMT),{op:e,op1:T}}function $(t,e){t instanceof Array?t.forEach(function(t){$(t,e)}):void 0===t.op?e(t):void 0===t.op2?($(t.op,e),$(t.op1,e)):($(t.op1,e),$(t.op,e),$(t.op2,e))}function z(t){return t instanceof Array?z(t[0]):void 0===t.op?t:z(void 0===t.op2?t.op:t.op1)}function K(t){return Ht[t.text]}function J(t){return\"%\"===t.text[0]?ft.MACRO_FUNC:Dt.isSasFunction(t.text)?ft.SAS_FUNC:ft.OBJECT}function X(t,n){var o,T,r=Tt(t);if(\"/\"===r.token.text)Mt(r.context,t);else if(e.isBinaryOpr[r.token.text]&&(Mt(r.context,t),!K(n)))return x(n,ft.SIMPLE_ITEM),gt=n.text,{op:r.token,op1:n,op2:rt(t)};if(x(n,ft.STMT_NAME),gt=n.text,Bt[gt])r=Bt[gt].call(this,t,n,ft.DATA_STEP_STMT_OPT);else if(p()){o=r.token,r={op:n,op1:[]};do{if(\"/\"===o.text){f(o,ft.RESTRICTED,ft.OPT_NAME),r={op:n,op1:[o].concat(et(t,n))};break}o=O(t)}while(\"\"!==o.text&&\";\"!==o.text)}else T=Pt(t),o=O(T),r={op:n,op1:et(t,n)};return r}function Q(t,e,n){t.scopes||(t.scopes=[]),t.scopes.push({t:e,o:n})}function Z(t){t.scopes.pop()}function j(){return\"PRINT\"===Ut||\"REPORT\"===Ut}function q(t,e,n){var o=1,T=t.length-1;for(0===t[0].pos&&x(t[0],e),t[T].pos>=2&&x(t[T],e);o<T;o++)void 0===t[o].op?x(t[o],e):void 0===t[o].op2?x(t[o].op,e):(t[o].op1.op1 instanceof Array?x(t[o].op1.op,e):x(t[o].op1,e),f(t[o].op,e,n),t[o].op2.op1 instanceof Array?x(t[o].op2.op,n):(t[o].op1.text&&t[o].op1.text.match(/color/gi)&&(n=ft.COLOR),x(t[o].op2,n)))}function tt(t,e,n){var o,T,r,_;if(t.scopes&&!(t.scopes.length<=0))if(T=t.scopes.length,o=t.scopes[0],_=t.scopes[T-1],o.o&&\"STYLE\"===o.o.text||o.o&&o.o.op&&\"STYLE\"===o.o.op.text){if(!j())return;_.t===ft.OPT_ITEM?e.op1?(x(e.op,n),e.op1 instanceof Array&&q(e.op1,ft.STYLE_LOC,ft.RESTRICTED)):x(e,n):_.t===ft.OPT_VALUE&&(e.op1||e instanceof Array?(e.op1?(r=e.op1,x(e.op,ft.STYLE_ELEMENT)):r=e,r instanceof Array&&q(r,ft.STYLE_ATTR,ft.RESTRICTED)):x(e,ft.STYLE_ELEMENT))}else\"DATA\"===gt&&o.o?_.t===ft.OPT_ITEM?void 0===e.op&&x(e,ft.DATA_STEP_OPT_NAME):_.t===ft.OPT_VALUE&&(\"VIEW\"===o.o.text||\"PGM\"===o.o.text?e.op?(x(e.op,ft.VIEW_OR_PGM_NAME),e.op1 instanceof Array&&q(e.op1,ft.VIEW_OR_PGM_OPT_NAME,ft.VIEW_OR_PGM_OPT_VALUE)):x(e,ft.VIEW_OR_PGM_NAME):void 0===e.op&&x(e,ft.DATA_STEP_OPT_VALUE)):o.o&&o.o.text&&o.o.text.match(/color/gi)?_.t===ft.OPT_VALUE&&e instanceof Array&&q(e,ft.COLOR,ft.RESTRICTED):e.op1 instanceof Array&&q(e.op1,ft.SUB_OPT_NAME,ft.SUB_OPT_VALUE)}function et(t,e,n,o){var T,r,_,i,l=[],p=!1;for(n||(n=ft.OPT_NAME),o||(o=ft.OPT_VALUE);;){if(_=Pt(t),T=O(_),\"\"===T.text?(x(T,n),l.push(T),p=!0):\";\"===T.text?(T.pos>=2&&x(T,n),l.push(T),p=!0):(x(T,n),Mt(_,t),_=Pt(t),r=O(_),\"(\"!==T.text&&\"(\"!==r.text||(x(T,J(T)),T={op:T,op1:ot(t,T)},_=Pt(t),r=O(_))),Q(t,ft.OPT_ITEM,T),tt(t,T,n),p){Z(t);break}switch(r.text){case\"{\":break;case\"=\":f(r,n,o),Mt(_,t),Q(t,ft.OPT_VALUE),i=\"DATA\"===T.text||E(void 0===T.op?T.text:T.op.text)?nt(t):rt(t,{},!0),i.type?x(i,o):i.op&&i.op.zone===ft.OBJECT&&(i.op.zone=o),tt(t,i),l.push({op:r,op1:T,op2:i}),Z(t);break;default:l.push(T)}Z(t)}return l}function nt(t){var e=O(t);return\"(\"===O(Pt(t)).text?(x(e,ft.OBJECT),{op:e,op1:lt(t)}):(x(e,ft.OPT_VALUE),e)}function ot(t,e,n,o){var T,r,_=O(t),i=null,l=[],p=!1,E={\"(\":\")\",\"[\":\"]\",\"{\":\"}\"},s=_.text,A=E[s],u={};n||(n=ft.SUB_OPT_NAME),o||(o=ft.SUB_OPT_VALUE),u[A]=1,f(_,e?e.zone:ft.RESTRICTED,n),Q(t,ft.ARG_LIST,e),l.push(_);do{switch(T=rt(t,u),void 0===T.op?x(T,n):\"=\"===T.op.text&&(void 0===T.op1.op&&x(T.op1,n),f(T.op,n,o),void 0===T.op2.op&&x(T.op2,o)),p=!0,T.text){case A:T.pos<2&&x(T,ft.RESTRICTED),Mt(i,t);break;case\";\":T.pos<2&&x(T,ft.RESTRICTED);break;case\"\":break;default:p=!1}if(p){l.push(T);break}switch(i=Pt(t),_=O(i),_.text){case\"\":x(_,n),l.push(T,_),p=!0;break;case\";\":_.pos>=2&&x(_,n),l.push(T,_),p=!0;break;case A:f(_,n,ft.RESTRICTED),l.push(T,_),Mt(i,t),p=!0;break;case\"=\":Mt(i,t),f(_,n,o),r=rt(t),void 0===r.op&&x(r,o),l.push({op:_,op1:T,op2:r});break;case\",\":l.push(T),Mt(i,t);break;default:l.push(T)}}while(!p);return Z(t),l}function Tt(t){var e=Pt(t);return{token:O(e),context:e}}function rt(t,n,o){var T,r,_,i=null,l=Pt(t);if(T=O(l),n&&n[T.text])return wt;for(bt[T.text]?i=ot(t,null):e.isUnaryOpr[T.text]?(Mt(l,t),i={op:T,op1:rt(t,n,!0)}):(i=T,x(T,\"%\"===T.text[0]?ft.MACRO_FUNC:ft.SIMPLE_ITEM),Mt(l,t));;)if(_=Tt(t),r=_.token.text,e.isBinaryOpr[r]&&!o)Mt(_.context,t),i={op:_.token,op1:i,op2:rt(t,n)};else{if(!bt[r])return i;x(T,J(T)),i={op:T,op1:ot(t,T)}}}function _t(t){var n=null,o=null,T=!1;if(y(t,!0),n=O(t),!e.isWord[n.type])return st(t,n);if(o=n.text.toUpperCase(),n.pos>=0)return T=C(t.block,n)>=0,T&&\"DATA\"!==o||!T&&!d(t.block)?(Ut=L(t.block),\"%\"===o[0]?ft.MACRO_STMT:ft.DATA_STEP_STMT):ft.GBL_STMT;switch(gt=o,o){case\"PROC\":case\"PROCEDURE\":return v(t);case\"DATA\":return it(t,n);case\"SET\":case\"MERGE\":case\"MODIFY\":case\"UPDATE\":return ut(t,n);default:return st(t,n)}}function it(t,n){var o,T,r,_,i,l=[],p=[];if(kt=ft.DATA_STEP_DEF,o=O(t),r=Pt(t),T=O(r),e.isWord[o.type]||\"string\"===o.type)switch(T.text){case\"/\":x(o,\"_NULL_\"===o.text?ft.DATA_STEP_DEF_OPT:ft.DATA_SET_NAME),f(T,ft.DATA_SET_NAME,ft.DATA_STEP_OPT_NAME),Mt(r,t),l.push(o,T,Et(t));break;case\"=\":x(o,ft.DATA_STEP_DEF_OPT),f(T,ft.DATA_STEP_DEF_OPT,ft.VIEW_OR_PGM_NAME),i=o.text,_={op:T,op1:o},l.push(_),Mt(r,t),o=O(t),_.op2=o,e.isWord[o.type]&&(x(o,ft.VIEW_OR_PGM_NAME),r=Pt(t),T=O(r),\"(\"===T.text&&(x(o,ft.OBJECT),_.op2={op:o,op1:ot(t,o,ft.VIEW_OR_PGM_OPT_NAME,ft.VIEW_OR_PGM_OPT_VALUE)},T=O(t)),\";\"!==T.text&&!e.isWord[T.type]||\"VIEW\"!==i&&\"PGM\"!==i||(x(T,ft.VIEW_OR_PGM_SUB_OPT_NAME),l.push(T)));break;case\"\":x(o,ft.DATA_STEP_DEF_OPT),l.push(o);break;default:for(;;){if(x(o,\"_NULL_\"===o.text?ft.DATA_STEP_DEF_OPT:ft.VIEW_OR_DATA_SET_NAME),\"(\"===T.text?(x(o,ft.DATA_SET_NAME),l.push({op:o,op1:lt(t)})):l.push(o),o=O(t),r=Pt(t),T=O(r),\"\"===o.text){x(o,ft.VIEW_OR_DATA_SET_NAME),l.push(o);break}if(\"/\"===o.text){f(o,ft.VIEW_OR_DATA_SET_NAME,ft.DATA_STEP_OPT_NAME),l.push(o,Et(t));break}if(\";\"===o.text)break}}else\"/\"===o.text&&(f(o,ft.STMT_NAME,ft.DATA_STEP_OPT_NAME),l.push(o,Et(t)));return V({op:\"DATA\",op1:l},p),k(p,t).type}function lt(t,n){var o,T,r,_,i=O(t),l=[],p=[];for(f(i,ft.VIEW_OR_DATA_SET_NAME,ft.DATA_SET_OPT_NAME),p.push(i);;){switch(T=Pt(t),i=O(T),x(i,ft.DATA_SET_OPT_NAME),i.text){case\"\":case\";\":return p.push(i),p;case\")\":return f(i,ft.DATA_SET_OPT_NAME,ft.RESTRICTED),p.push(i),Mt(T,t),p;default:if(void 0===e.isWord[i.type])return p}if(Mt(T,t),o=O(T),\"=\"===o.text){switch(Mt(T,t),f(o,ft.DATA_SET_OPT_NAME,ft.DATA_SET_OPT_VALUE),i.text){case\"INDEX\":case\"RENAME\":case\"WHERE\":r=rt(t);break;case\"SORTEDBY\":r=rt(t),void 0===r.op&&x(r,ft.DATA_SET_OPT_VALUE);break;default:r=rt(t),_=z(r),_.pos>=0&&x(_,ft.DATA_SET_OPT_VALUE),\"DROP\"!==i.text&&\"KEEP\"!==i.text||(l=pt(t,ft.DATA_SET_OPT_VALUE),l.length&&(r=[r].concat(l)))}if(p.push({op:o,op1:i,op2:r}),\")\"===r.text)break}else p.push(i)}return p}function pt(t,e){for(var n,o,T,r=Pt(t),_=[],i=/[\\/\\);]/;;){if(n=O(r),o=Pt(r),T=O(o),\"=\"===T.text||i.test(n.text)||\"\"===n.text)return _;x(n,e),_.push(n),Mt(r,t)}}function Et(t){return et(t,null,ft.DATA_STEP_OPT_NAME,ft.DATA_STEP_OPT_VALUE)}function st(t,e){var n,o=null,T=null,r={block:t.block,line:t.cursor.line,col:t.cursor.col,syntaxIdx:-1,cursor:t.cursor,lexer:dt};return kt=ft.DATA_STEP_STMT,gt=e.text.toUpperCase(),o=S(r),T=o.text.toUpperCase(),\"IF\"!==gt&&\"CALL\"!==gt||!/^CALL\\b/.test(T)?(n=G(t,e),m(n)?ft.RESTRICTED:n.type===ft.STMT_NAME?ft.DATA_STEP_STMT:n.type===ft.OPT_NAME?ft.DATA_STEP_STMT_OPT:n.type===ft.OPT_VALUE?ft.DATA_STEP_STMT_OPT_VALUE:n.type):At(r)}function At(t){return ft.CALL_ROUTINE}function ut(t,n){var o,T,r,_,i=[],l=!1,p=[],E=!1;gt=n.text;do{o=O(t),\"\"===o.text?(x(o,ft.DATA_STEP_STMT_OPT),E=!0):\";\"===o.text?(o.pos>=2&&l&&x(o,ft.DATA_STEP_STMT_OPT),E=!0):e.isWord[o.type]&&(r=Pt(t),T=O(r),\"(\"===T.text?o={op:o,op1:lt(t)}:\"=\"===T.text?(x(o,ft.DATA_STEP_STMT_OPT),f(T,ft.DATA_STEP_STMT_OPT,ft.DATA_STEP_STMT_OPT_VALUE),Mt(r,t),o={op:T,op1:o,op2:rt(t)}):x(o,ft.DATA_STEP_STMT_OPT),l=!0),i.push(o)}while(!E);return V({op:n,op1:i},p),_=k(p,t),_.type===ft.OPT_VALUE?_.type=ft.DATA_STEP_STMT_OPT_VALUE:void 0===_.type&&(_.type=ft.DATA_STEP_STMT_OPT),_.type}function ct(t){var n=null,o=null,T=null;if(y(t,!0),n=O(t),gt=n.text,!e.isWord[n.type])return at(t,n);if(o=n.text,n.pos>=0)return C(t.block,n)>=0&&(T=N(t.block,{line:n.line,col:n.col-1}))?(t.block=T,t.line=t.cursor.line,t.col=t.cursor.col-1,T.type===Lt.PROC?g(t,o):_t(t,o)):\"%\"===o[0]?ft.MACRO_STMT:ft.GBL_STMT;switch(o){case\"%MACRO\":return St(t);case\"PROC\":return v(t);case\"DATA\":return it(t,n);default:return T=N(t.block,{line:n.line,col:n.col-1}),T?(t.block=T,t.line=t.cursor.line,t.col=t.cursor.col-1,T.type===Lt.PROC?g(t,o):_t(t,o)):at(t,n)}}function St(t){var e,n,o,T=O(t),r=[],_=[];return x(T,ft.RESTRICTED),n=Pt(t),e=O(n),\"(\"===e.text?(r.push({op:T,op1:ot(t)}),e=O(t)):(Mt(n,t),r.push(T)),\"/\"===e.text&&(f(e,ft.RESTRICTED,ft.MACRO_DEF_OPT),r.push(e,et(t,null,ft.MACRO_DEF_OPT,ft.RESTRICTED))),V({op:\"%MACRO\",op1:r},_),o=k(_,t),o.type}function at(t,e){var n,o,T,r=N(t.block,t.cursor),_=[];if(r)return Ut=h(t.block,t.cursor,e.text)?\"STATGRAPH\":L(t.block),B(t,e.text);if(\"%\"===e.text[0]){if(T=e.text.substring(1),Bt[T])n=Bt[T].call(this,t,e,ft.MACRO_STMT_OPT);else{if(\"%SYSCALL\"===gt&&/^%SYSCALL\\b/.test(e.text))return At(t);var i=Pt(t),l=O(i);\"%WHILE\"===l.text||\"%UNTIL\"===l.text?(gt=l.text,Mt(i,t),n={op:l,op1:rt(t)},x(l,ft.MACRO_STMT)):n={op:e,op1:et(t,null,ft.MACRO_STMT_OPT,ft.MACRO_STMT_OPT_VALUE)}}return V(n,_),o=k(_,t),o.type===ft.STMT_NAME?\"%\"===gt[0]?ft.MACRO_STMT:ft.GBL_STMT:o.type}return U(t)}function Ot(t,e){return e<0&&(t<1?(t=0,e=0):(t--,e=Ct.getLine(t).length)),{line:t,col:e}}function Pt(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Mt(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function xt(t,n){var o,T=c(t,n),r=T.type,_=null,l=Ot(t,n-1),p=l.line,E=l.col,s=c(p,E),A=Rt.getFoldingBlock(p,E);if(l=R({line:t,col:n},s),o=R({line:t,col:n},T),1===l||1===o||!u(s)){if(e.isComment[r])return ft.COMMENT;if(\"string\"===r)return ft.QUOTED_STR;if(\"cards-data\"===r)return ft.DATALINES;if(e.isLiteral[r])return ft.LITERAL}return _={block:A,line:t,col:n-1,syntaxIdx:-1,cursor:{line:t,col:n},lexer:dt},i(),mt&&mt.secType===Lt.PROC?(y(_,!0),s=O(_),Ut=mt.procName.toUpperCase(),B(_,s)):!A||D(A,s)?U(_):A.type===Lt.PROC?g(_):A.type===Lt.DATA?_t(_):A.type===Lt.MACRO?ct(_):void 0}var ft=o.ZONE_TYPE,Lt=t.SEC_TYPE,Rt=_,Ct=T,Dt=r,dt=new e(T),yt={RUN:1,QUIT:1,\"%MEND\":1},ht={PROC:1,DATA:1},Nt={\"%MACRO\":1,RUN:1,QUIT:1},It={PROC:Lt.PROC,DATA:Lt.DATA,\"%MACRO\":Lt.MACRO,BEGINGRAPH:\"statgraph\"},Ut=\"\",gt=\"\",vt=\"\",Vt=\"\",bt={\"[\":1,\"{\":1,\"(\":1},kt=null,mt=null,Bt={STYLE:Y,ODS:H,IF:W,WHERE:w},Gt={},Ft={},Wt=n.arrayToMap([\"CHTML\",\"CORE\",\"CSV\",\"CSVALL\",\"CVSBYLINE\",\"DEFAULT\",\"DOCBOOK\",\"ExcelXP\",\"HTML4\",\"HTMLCSS\",\"HTMLPANEL\",\"HTMLSCROLL\",\"IMODE\",\"MSOFFICE2K\",\"MVSHTML\",\"PHTML\",\"PYX\",\"RTF\",\"SASREPORT\",\"SQL\",\"SUPERMAP\",\"TABLEEDITOR\",\"WML\",\"WMLOLIST\",\"XBRL\",\"XHTML\",\"EVENT_HTML\",\"NAMEDHTML\",\"SHORT_MAP\",\"STYLE_DISPLAY\",\"STYLE_POPUP\",\"TEXT_MAP\",\"TPL_STYLE_LIST\",\"TPL_STYLE_MAP\"]),wt={line:0,col:0,type:\"text\",pos:-1},Yt={LIBNAME:!0,PLOT:!0,SCATTER:!0,SERIES:!0,BAND:!0},Ht={SELECT:1};this.getProcName=function(){return Ut},this.getStmtName=function(){return gt},this.getOptionName=function(){return vt},this.getSubOptionName=function(){return Vt},this.getCurrentZone=function(t,e){try{return xt(t,e)}catch(t){return ft.RESTRCITED}},this.getContextPrompt=function(t,e){this.getCurrentZone(t,e)},this.setSectionMode=function(t,e){mt={secType:t,procName:e}}};return o.ZONE_TYPE={RESTRICTED:10,SIMPLE_ITEM:11,STMT_NAME:12,OPT_ITEM:13,OPT_NAME:14,OPT_VALUE:15,CALL_OR_CONFIG:16,OBJECT:17,SUB_OPT_NAME:18,SUB_OPT_VALUE:19,GBL_STMT:500,GBL_STMT_OPT:501,GBL_STMT_OPT_VALUE:502,GBL_STMT_SUB_OPT_NAME:503,PROC_DEF:510,PROC_OPT:511,PROC_OPT_VALUE:512,PROC_SUB_OPT_NAME:509,PROC_STMT:515,PROC_STMT_OPT:516,PROC_STMT_OPT_VALUE:517,PROC_STMT_SUB_OPT:518,PROC_STMT_SUB_OPT_VALUE:519,DATA_STEP_DEF:520,DATA_STEP_DEF_OPT:521,DATA_STEP_OPT_NAME:522,DATA_STEP_OPT_VALUE:523,DATA_SET_NAME:524,VIEW_OR_DATA_SET_NAME:525,DATA_SET_OPT_NAME:526,DATA_SET_OPT_VALUE:530,VIEW_OR_PGM_NAME:531,VIEW_OR_PGM_OPT_NAME:532,VIEW_OR_PGM_OPT_VALUE:533,VIEW_OR_PGM_SUB_OPT_NAME:534,DATA_STEP_STMT:540,DATA_STEP_STMT_OPT:541,DATA_STEP_STMT_OPT_VALUE:542,MACRO_DEF:545,MACRO_DEF_OPT:546,MACRO_STMT:547,MACRO_STMT_OPT:548,MACRO_STMT_OPT_VALUE:549,MACRO_STMT_BODY:550,STYLE_LOC:555,STYLE_ELEMENT:556,STYLE_ATTR:557,QUOTED_STR:600,COMMENT:601,LITERAL:602,COLOR:605,FORMAT:606,INFORMAT:607,MACRO_FUNC:608,SAS_FUNC:609,STAT_KW:610,AUTO_MACRO_VAR:611,MACRO_VAR:612,DATALINES:613,LIB:614,CALL_ROUTINE:700,ARG_LIST:701,ARG_LIST_START:702,ARG_LIST_END:703,TAGSETS_NAME:704,ODS_STMT:705,ODS_STMT_OPT:706,ODS_STMT_OPT_VALUE:707},o},!0);",
	"sas/hc/ui/commons/codeEditor/ContextMenu.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sas/hc/ui/core/Core\",\"sas/hc/ui/unified/Menu\",\"sas/hc/ui/unified/MenuItem\",\"sap/ui/Device\",\"sap/ui/core/Core\",\"sap/ui/core/Popup\"],function(t,e,n,o,c,i){\"use strict\";var s=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\"),u=n.extend(\"sas.hc.ui.commons.codeEditor.CustomItem\",{metadata:{library:\"sas.hc.ui.commons\",properties:{can:{type:\"object\",multiple:!1},checked:{type:\"object\",multiple:!1},show:{type:\"object\",multiple:!1},endSection:{type:\"boolean\",multiple:!1}}},render:function(t,e,o,c){n.prototype.render.apply(this,arguments);var i=sap.ui.getCore().getConfiguration().getAccessibility();e.getEndSection()&&(t.write(\"<li \"),i&&t.write('role=\"separator\" '),t.write('class=\"sapUiMnuDiv\"><div class=\"sapUiMnuDivL\"></div><hr><div class=\"sapUiMnuDivR\"></div></li>'))}});return e.extend(\"sas.hc.ui.commons.codeEditor.ContextMenu\",{metadata:{library:\"sas.hc.ui.commons\"},renderer:{},constructor:function(t,n){this._ctrl=t,this._settings=n,e.apply(this)},init:function(){e.prototype.init&&e.prototype.init.apply(this,arguments);var t=this._ctrl,n=this._settings,c=this;[{text:s.getText(\"ce_menu_undo_txt\"),select:function(){t.undo()},can:function(){return t.canUndo()}},{text:s.getText(\"ce_menu_redo_txt\"),select:function(){t.redo()},can:function(){return t.canRedo()}},{startsSection:!0,text:s.getText(\"ce_menu_cut_txt\"),select:function(){t.cut()},can:function(){return t.canCut()}},{text:s.getText(\"ce_menu_copy_txt\"),select:function(){t.copy()},can:function(){return t.canCopy()}},{text:s.getText(\"ce_menu_paste_txt\"),select:function(){t.paste()},can:function(){return t.canPaste()},endSection:!0},{text:s.getText(\"ce_menu_expand_txt\"),select:function(){t.expand()},show:function(){return t.canExpand()}},{text:s.getText(\"ce_menu_collapse_txt\"),select:function(){t.collapse()},show:function(){return t.canCollapse()}},{text:s.getText(\"ce_menu_expand_all_txt\"),select:function(){t.expandAll()},can:function(){return t.canExpandAll()},show:function(){return n.getFoldingEnabled()}},{text:s.getText(\"ce_menu_collapse_all_txt\"),select:function(){window.setTimeout(function(){t.collapseAll()},o.browser.msie?100:0)},can:function(){return t.canCollapseAll()},show:function(){return n.getFoldingEnabled()},endSection:!0},{text:s.getText(\"ce_menu_go_to_line_txt\"),select:function(){t.showGoToLineDialog()}},{startsSection:!0,text:s.getText(\"ce_menu_backward_txt\"),select:function(){t.prevFunction()}},{text:s.getText(\"ce_menu_forward_txt\"),select:function(){t.nextFunction()}},{startsSection:!0,text:s.getText(\"ce_menu_line_number_txt\"),checked:function(){return t.enableLineNbr()},select:function(){t.toggleLineNumber()},checkable:!0},{startsSection:!0,text:s.getText(\"ce_menu_keyboard_shortcuts_txt\"),select:function(){t.openShortcutDialog()}},{text:s.getText(\"ce_menu_syntax_help_txt\"),select:function(){t.loadSyntaxHelp()},can:function(){return t.canSyntaxHelp()}}].forEach(function(t){c.addAggregation(\"items\",new u(t),!0)})},prepare:function(t){if(\"keydown\"===t.type){var e=this._ctrl.getCursorCoord();this._offset=e.x+\" \"+e.y}else{var n=this.getParent().$().offset();this._offset=t.pageX-n.left+\" \"+(t.pageY-n.top)}},open:function(t,n,o,c,s,u,r){this.getItems().forEach(function(t){\"function\"==typeof t.getCan()&&t.setProperty(\"enabled\",!!t.getCan()(),!0),\"function\"==typeof t.getChecked()&&t.setProperty(\"selected\",t.getChecked()(),!0),\"function\"==typeof t.getShow()&&t.setProperty(\"visible\",!!t.getShow()(),!0)}),e.prototype.open.apply(this,[t,this._ctrl.view(),o,i.Dock.LeftTop,this._ctrl.core().getDomRef(),this._offset,r])}})},!0);",
	"sas/hc/ui/commons/codeEditor/CoreRange.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sas/hc/ui/core/Core\"],function(t){\"use strict\";var n=function(){0===arguments.length&&(this.start=0,this.end=0),1===arguments.length&&(arguments[0]||sas.log.warning(\"error\"),this.start=arguments[0].start,this.end=arguments[0].end),2===arguments.length&&(this.start=arguments[0],this.end=arguments[1])};return n.prototype={equals:function(t){return this.start===t.start&&this.end===t.end},copy:function(t){this.start=t.start,this.end=t.end},toString:function(){return\"(\"+this.start+\", \"+this.end+\")\"}},n},!0);",
	"sas/hc/ui/commons/codeEditor/DebugBar.js": "// (c) 2018, SAS Institute Inc.\nsap.ui.define([\"sas/hc/m/Image\",\"sap/ui/core/Core\",\"sap/ui/core/IconPool\",\"sas/hc/ui/core/theme/IconInitialization\"],function(i,t,e,s){\"use strict\";var n=function(i){this.visible=!1,i&&(this.visible=void 0===i.visible?this.visible:i.visible),this.bar=jQuery(\"<div></div>\"),this.bar.addClass(\"ruler debugBar\"),this.bar.css({position:\"relative\",float:\"left\"}),this.rm=sap.ui.getCore().createRenderManager(),this.rb=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\"),this.setVisible(this.visible)};return n.prototype={_getSection:function(i){return i.section?i.section:{}},_isCollapsed:function(i){return!0===this._getSection(i).collapsed},_clearBar:function(){this.bar.empty(),this.bar.html(\"\")},_listLines:function(i){var t=this;return i.map(function(i){var e=t._getSection(i);return i.lineHeight+\"-\"+e.startLine+\"-\"+e.endLine+\"-\"+e.collapsed})},_addClickListener:function(i,t){var e=this;i.on(\"click\",function(i){if((void 0===i.button||0===i.button)&&e.visible){var s=this;t&&(s=this.parentElement)&&(s=s.parentElement),s&&jQuery(e).triggerHandler({type:\"debugBarClicked\",section:s.section,lineIndex:s.lineIndex}),i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()}})},_createDiv:function(){return jQuery(\"<div></div>\")},_createItemDiv:function(){var i=this._createDiv();return i.css({float:\"left\",height:\"100%\"}),i},_createEmptyDiv:function(i){var t=this._createDiv().appendTo(this.bar);return t.css(\"height\",i.lineHeight+\"px\"),t},_createLineDiv:function(i){var t=this._createEmptyDiv(i);if(this._createItemDiv().appendTo(t).addClass(\"rulerDebugBar marker\"),this._createItemDiv().appendTo(t),i){var e=t[0];e.section=this._getSection(i),e.lineIndex=i.lineIndex}return t},_getMarkerDiv:function(i){return i.children().first()},_appendLineDiv:function(t){if(!(this.topIndex>t.lineIndex||this.bottomIndex<t.lineIndex)){var s=\"markerVisible\";if(t.showIcon){var n=this._createLineDiv(t),r=this._getMarkerDiv(n),a=r.hasClass(s);this._isCollapsed(t)?a&&r.removeClass(s):a||r.addClass(s);var o=n.children().last();if(!this.iconHtml){var h=o[0],l=e.createControlByURI(sas.icons.HC.DEBUGGER,i);l.sId=\"\",l.setAggregation(\"tooltip\",this.rb.getText(\"ce_debugbar_icon_tooltip_txt\"),!0),this.rm.render(l,h);var c=o.find(\"span\");c.length>0&&c.addClass(\"rulerDebugBar icon\"),this.iconHtml=o.html(),l.destroy()}o.html(this.iconHtml);var d=o.children();d&&this._addClickListener(d,!0)}else if(!this._isCollapsed(t)){var n=this._createLineDiv(t),r=this._getMarkerDiv(n);r.hasClass(s)||r.addClass(s)}}},_appendLine:function(i){i.empty?this._createEmptyDiv(i):this._appendLineDiv(i)},render:function(i){if(void 0!==i.lines&&(!this.lines||this._listLines(this.lines).toString()!==this._listLines(i.lines).toString()||this.topIndex!==i.topIndex||this.bottomIndex!==i.bottomIndex||this.lineHeight!==i.lineHeight||this.top!==i.top)){this._clearBar(),this.topIndex=i.topIndex,this.bottomIndex=i.bottomIndex,this.top=i.top;var t=this;this.lines=i.lines,this.lineHeight=void 0===i.lineHeight?19:i.lineHeight,this.bar.css({height:i.height+\"px\",top:i.top+\"px\"}),i.left&&this.bar.css(\"left\",i.left+\"px\");jQuery(\"<div></div>\").appendTo(this.bar).css({height:this.lineHeight+\"px\",visibility:\"hidden\"}),$.each(this.lines,function(i,e){t._appendLine(e)})}},setVisible:function(i){this.visible=i,i?this.bar.css(\"display\",\"block\"):this.bar.css(\"display\",\"none\")},getBar:function(){return this.bar}},n},!0);",
	"sas/hc/ui/commons/codeEditor/EditorController.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sas/hc/m/MessageDialog\",\"sas/hc/ui/commons/keyboardShortcuts/KeyboardShortcuts\",\"sas/hc/ui/commons/FindAndReplaceDialog\",\"./AutoCompleter\",\"./CoreRange\",\"./TextRange\",\"./TextPosition\",\"./Clipboard\",\"./SasAutoCompleter\",\"./SnippetCompleter\",\"./BracketHighlighter\",\"./GoToLineDialog\",\"./PlainTextDialog\",\"./LanguageService\",\"./ShortcutController\",\"./SyntaxChecker\",\"./ThemeMgr\",\"./Utils\",\"sap/ui/Device\",\"sap/ui/core/Core\",\"./Mode\"],function(e,t,n,i,o,s,r,a,l,c,d,g,u,h,f,p,v,m,C,b,x,A){\"use strict\";var S={cut:!1,copy:!1,paste:!1},w=null,T=null,y=function(t){function s(e){return C.stopEvent(e),Z.showFindReplaceDialog(),!0}function r(){window.setTimeout(function(){var e={direction:\"forward\",wrapped:!1,all:!0,matchCase:!0},n=Z.view().getSelectionText(),i=[],o=Z.model().getAllText();if(n.search(/([\\x21-\\x7e]|[^\\x00-\\xff])+/)>=0){i=Z.doSearchAll(n,e,o,!0);for(var s=Z.editor().getAnnotationModel(),r=null,a=0;a<i.length;a++)r=Z.model().toCoreRange(i[a]),s.addAnnotation(new(t.getAnnotations().AnnotationType.getType(t.getAnnotations().AnnotationType.ANNOTATION_MATCHING_SEARCH))(r.start,r.end))}},0)}function a(){if(b.browser.firefox){var e=Z.editor().getSelection();Z.selection(e.start,e.end)}}function l(e){if(Z.isActive()){var t=e.getParameters(),n=t.findValue,o=t.replaceValue,s={direction:t.direction,result:t.result,matchCase:t.matchCase,wholeWord:t.wholeWord};switch(s.inSelection=!Z.isCursor()&&Z.getText(\"selected\").toLowerCase()!==t.findValue.toLowerCase(),t.operation){case i.Operation.FIND:Z.search(n,s);break;case i.Operation.REPLACE:Z.replace(n,o,s)}}}function f(){Z.isActive()&&(this.replacingContext&&(this.replacingContext.key=\"\",this.replacingContext.originalKeyCount=0,this.replacingContext.existedKeyCount=0),window.setTimeout(function(){Z.focus()},400))}function x(e){Z.isActive()&&Z.gotoline(e.lineNumber)}function A(){return Z.canSyntaxHelp()&&Z.loadSyntaxHelp()}function S(n){var i=_._viewDiv.scrollTop;for(var o in n)if(n.hasOwnProperty(o))switch(o){case\"lineWrapped\":break;case\"lineNumberVisible\":E.setLineNumberRulerVisible(Z.settings.getLineNumberVisible()),Z.settings.getLineNumberVisible()&&t.sidebarSelection();break;case\"gutterVisible\":N.setVisible(Z.settings.getGutterVisible());break;case\"debugBarVisible\":F&&t.isSasMode()&&(F.setVisible(Z.settings.getDebugBarVisible()),_&&_._update());break;case\"foldingEnabled\":E.setFoldingRulerVisible(Z.settings.getFoldingEnabled());break;case\"readOnly\":case\"allowPlainTextOnly\":Z.readOnly(Z.settings.getReadOnly());break;case\"wordWrapEnabled\":Z.wordWrapEnabled(Z.settings.getWordWrapEnabled());break;case\"overtypeEnabled\":Z.overtypeEnabled(Z.settings.getOvertypeEnabled());break;case\"lineHighlightingVisible\":break;case\"fontSize\":Z._fontSize();break;case\"fontFamily\":Z._fontFamily();break;case\"tabSize\":var s=Z.settings.getTabSize();_._setTabSize(s);break;case\"tabAsSpace\":_.setOptions({expandTab:Z.settings.getTabAsSpace()});break;case\"syntaxHighlighting\":_.update(!0);break;case\"hintEnabled\":B&&B.enableHint(Z.settings.getHintEnabled());break;case\"blockCommentsEnabled\":t.blockCommentsEnabled(Z.settings.getBlockCommentsEnabled());break;case\"pairQuotations\":t.pairQuotations(Z.settings.getPairQuotations());break;case\"pairBrackets\":t.pairBrackets(Z.settings.getPairBrackets());break;case\"pairParentheses\":t.pairParentheses(Z.settings.getPairParentheses());break;case\"pairBraces\":t.pairBraces(Z.settings.getPairBraces());break;case\"pairSquareBrackets\":t.pairSquareBrackets(Z.settings.getPairSquareBrackets());break;case\"pairAngleBrackets\":t.pairAngleBrackets(Z.settings.getPairAngleBrackets());break;case\"invisibleCharsVisible\":t.setInvisibleCharsVisible(Z.settings.getInvisibleCharsVisible())}window.setTimeout(function(){e(_._viewDiv).scrollTop(i)},0)}function L(){k=t.model(),_=t.view(),E=t.editor(),N=t.gutter(),F=t.debugBar(),Z.foldingMgr=t.foldingMgr(),Z.themeMgr=m.getInstance(),e(Z.settings).on(\"settingChanged\",S),z.getLanguage()!==sas.hc.ui.commons.codeEditor.LanguageMode.SasCode&&z.getLanguage()!==sas.hc.ui.commons.codeEditor.LanguageMode.Casl||(B=new c(Z,_,k),R=B.getHint(),e(R).on(\"rollBackFocus\",Z.focus.bind(Z)),Z.settings.getHintEnabled()&&B.enableHint(!0),z.getLanguage()===sas.hc.ui.commons.codeEditor.LanguageMode.Casl&&B.setSectionMode(1,\"cas\")),V=new g(Z),I=new p(_),H=new v(Z),Z.initSettings(),e(_._clientDiv).on(\"dblclick\",r),W.forEach(function(e){Z[e]=K[e]}),U.forEach(function(e){Z[e.name].apply(Z,e.args)}),I.setAction(\"toggleComment\",t.comment),I.setAction(\"toggleBlockComment\",t.blockComment),I.setAction(\"find\",s),I.setAction(\"foldSection\",Z.collapse.bind(Z)),I.setAction(\"foldAll\",Z.collapseAll.bind(Z)),I.setAction(\"unfoldSection\",Z.expand.bind(Z)),I.setAction(\"unfoldAll\",Z.expandAll.bind(Z)),I.setAction(\"gotoLine\",Z.showGoToLineDialog),I.setAction(\"editInPlainText\",Z.openPlainTextDialog),I.setAction(\"moveToPrePara\",Z.gotoPrevLineStart.bind(Z)),I.setAction(\"moveToNextPara\",Z.gotoNextLineStart.bind(Z)),I.setAction(\"selectToPrePara\",Z.selectToPrevLineStart.bind(Z)),I.setAction(\"selectToNextPara\",Z.selectToNextLineStart.bind(Z)),I.setAction(\"cycleCases\",Z.cycleCases.bind(Z)),I.setAction(\"toLowercase\",Z.toLowerCase.bind(Z)),I.setAction(\"toUppercase\",Z.toUpperCase.bind(Z)),B&&I.setAction(\"displaySyntaxHelp\",A),G=Z.activate.bind(Z),_.addEventListener(\"Focus\",G),e(t).triggerHandler({type:\"ready\"})}var k,_,E,N,F,R,O,D,B,P,M,I,V,H,z=t.mode(),W=[\"activate\",\"setAutoCompleter\",\"setLibService\",\"setSnippets\",\"setText\",\"focus\",\"cut\",\"paste\",\"selectAll\",\"clear\",\"gotoline\",\"replace\",\"collapse\",\"expand\",\"showGoToLineDialog\",\"showFindReplaceDialog\",\"regCommands\",\"selection\",\"_updateAllFolding\",\"addGutterIcons\",\"removeGutterIcons\",\"clearGutterIcons\",\"getGutterIcons\",\"setActionHandler\",\"setTheme\"],K={},U=[],G=null,Z=this;this._isActive=!1,this.isFindDlgActionAttached=!1,this.settings=t.settings(),this.rb=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\"),this.replacingContext={key:\"\",originalKeyCount:0,existedKeyCount:0},this.model=function(){return k},this.mode=function(){return z},this.core=function(){return t},this.view=function(){return _},this.editor=function(){return E},this.gutter=function(){return N},this.activate=function(){this.isActive()||(w=this,!!T&&T.setReplaceVisible(!this.readOnly()),this.attachFindReplaceDialogAction()),this.core().refresh()},this.setAutoCompleter=function(e){P||(P=new o(this)),P.setConfig(e)},this.setSnippets=function(e){M||(M=new d(this)),M.setConfig(e)},this.setLibService=function(e){B&&B.setLibService(e)},this.openShortcutDialog=function(){return n.open({linkToEditable:!0}),!0},this.setActionHandler=function(e,t){I.setAction(e,t)},this.readOnly=function(e){return void 0!==e&&(this.core().readOnly(e||this.settings.getAllowPlainTextOnly()),!!T&&T.setReplaceVisible(!e)),this.settings.getReadOnly()},this.destroy=function(){U=null,_&&(_.removeEventListener(\"Focus\",G),e(_._clientDiv).off()),e(Z.settings).off(),!!P&&P.destroy&&P.destroy(),!!B&&B.destroy&&B.destroy(),!!V&&V.destroy&&V.destroy(),!!I&&I.destroy&&I.destroy(),!!H&&H.destroy&&H.destroy(),T&&(T.detachAction(l),T.detachAfterClose(f))},this._getAnnotations=function(e){var t=[];if(this.editor())for(var n=this.editor().getAnnotationModel().getAnnotations();n.hasNext();){var i=n.next();i.type===e&&t.push(i)}return t},this.showFindReplaceDialog=function(){y.getFindDlgInstance().open({findValue:Z.getText(\"selected\").split(\"\\n\")[0],replaceVisible:!this.readOnly()}),this.attachFindReplaceDialogAction()},this.attachFindReplaceDialogAction=function(){T&&!this.isFindDlgActionAttached&&(T.attachAction(l),T.attachAfterClose(f),this.isFindDlgActionAttached=!0)},this.hideFindReplaceDialog=function(){!!T&&T.close()},this.showGoToLineDialog=function(){return O||(O=u.getInstance(),e(O).on(\"gotoline\",x),O.attachAfterClose(function(){Z.isActive()&&(Z.focus(),a())})),O.open(Z.lineCount()),!0},this.openPlainTextDialog=function(){if(!Z.readOnly())return D||(D=h.getInstance(),D.attachAfterClose(function(e){Z.isActive()&&(e.getParameter(\"origin\")&&e.getParameter(\"origin\").getText()===Z.rb.getText(\"ce_plain_text_dialog_ok_txt\")&&Z.setText(D.getContent()[0].getValue()),Z.view()._reset(),Z.view().update(!0))})),D.open(Z.getText()),!0},this.hideGoToLineDialog=function(){!!O&&O.close()},this.regCommands=function(e){e&&_&&$.each(e,function(){var e=this.keyCode,n=this.ctrlKey||this.metaKey,i=this.shiftKey,o=this.altKey,s=e+\"_\"+n+\"_\"+i+\"_\"+o;_.setKeyBinding(new(t.getKeyBinding().KeyBinding)(e,n,i,o),s),_.setAction(s,this.handle,{name:s})})},this.canSyntaxHelp=function(){return!!B&&B.canSyntaxHelp()},this.loadSyntaxHelp=function(){if(B)return B.tryLoadHint(),!0},this.getCursorCoord=function(){var e=_._getScroll(),t=_.getLocationAtOffset(_.getCaretOffset());return t.x+=_._leftDiv.clientWidth-e.x,t.y+=_.getLineHeight()-e.y,t},this.setTheme=function(e,n){var i=t.form(),e=void 0===e?this.settings.getTheme():e,o=z.getLanguage(),s=function(e){return\"sce-\"+e};i=i.find(\".sce-\"+o),i.length>0&&(i.removeClass(s(n)),i.addClass(s(e)))},this._updateFontFamily=function(){var e=t.form().find(\".sce\"),n=z.getLanguage();if(e.length>0){var i=this.settings.getFontFamily();void 0===i||\"\"===i?e.css(\"fontFamily\",\"\"):this.themeMgr.addFontTheme(n,i)}},this._fontSize=function(){t.form().find(\".sce\").css(\"fontSize\",this.settings.getFontSize()+\"px\"),t.updateFoldingBar(),this.view().update(!0),t.updateRowHighlight()},this._fontFamily=function(){this._updateFontFamily(),this.view().update(!0),t.updateRowHighlight()},this.initSettings=function(){var e=this.view(),t=this.editor(),n=this.settings;e._setTabSize(n.getTabSize()),t.setLineNumberRulerVisible(n.getLineNumberVisible()),t.setFoldingRulerVisible(n.getFoldingEnabled()),Z.wordWrapEnabled(n.getWordWrapEnabled()),Z.overtypeEnabled(n.getOvertypeEnabled()),this._updateFontFamily(),this._fontSize(),window.setTimeout(function(){Z.readOnly(n.getReadOnly())},0)},e(t).on(\"coreReady\",L),W.forEach(function(e){K[e]=Z[e],function(e){Z[e]=function(){U&&U.push({name:e,args:arguments})}}(e)})};return y.getFindDlgInstance=function(){return T||(T=new i),T},y.isFindDlgInstancExisted=function(){return!!T},y.prototype={render:function(t){e(t).append(this.core().getDomRef()),this.core().refresh()},isActive:function(){return w===this},hangeFocus:function(){},getHTML:function(e){return this.core().getHTML(e)},_doAction:function(e){var t=this.editor();return!!(t&&t.getUndoStack&&t.getUndoStack())&&t.getUndoStack()[e]()},isCursor:function(){var e=this.view().getSelection();return!!e&&e.start===e.end},resize:function(e,t){this.core().resize(e,t)},canRedo:function(){return!this.readOnly()&&this._doAction(\"canRedo\")},canUndo:function(){return!this.readOnly()&&this._doAction(\"canUndo\")},canCut:function(){return!this.readOnly()&&!this.isCursor()},canCopy:function(){return!this.isCursor()},canPaste:function(){return!this.readOnly()},undo:function(){this._doAction(\"undo\")},redo:function(){this._doAction(\"redo\")},wordWrapEnabled:function(e){return void 0!==e&&this.core().wordWrapEnabled(e),this.settings.getWordWrapEnabled()},overtypeEnabled:function(e){return void 0!==e&&this.core().overtypeEnabled(e),this.settings.getOvertypeEnabled()},focus:function(){this.view().focus()},reparse:function(){var e=this.mode().getHighlight();e&&e.reparse&&(e.reparse(),this.view().redraw())},setText:function(e,t){var n=this.core(),i=this.editor();e=n.cleanText(e),t&&n.setClearUndo(!0),i.setText(e),t&&(n.setClearUndo(!1),i.getUndoStack().reset())},insertText:function(e){if(!this.readOnly()){var t=this.core().cleanText(e),n=this.editor().getSelection();this.editor().setText(t,n.start,n.end)}},replaceText:function(e,t){if(!this.readOnly()){var n=this.core().cleanText(e);this.editor().setText(n,t.start,t.end)}},selectAll:function(){this.selection(0,this.core().baseModel().getCharCount())},selection:function(e,t){var n=this.editor();if(!isNaN(e)&&!isNaN(t))return n.setSelection(e,t);if(e&&!isNaN(e.line)){t||(t=e);var i=this.model().toCoreRange({start:e,end:t});return n.setSelection(i.start,i.end)}return!isNaN(e)&&isNaN(t)?n.setSelection(e,e):isNaN(e)&&!isNaN(t)?n.setSelection(t,t):isNaN(e)&&isNaN(t)?n.getSelection():void 0},caretPosition:function(){var e=this.model().toTextRange(this.editor().getSelection());return{line:e.start.line,column:e.start.column}},clear:function(){this.readOnly()||this.view().setText(\"\")},cut:function(){if(!this.readOnly()){if(l.canAccessSystemClipboard()||l.data(this.getText(\"selected\")),b.browser.chrome){var e=document.activeElement;return this.focus(),this.view().cut(),e.focus(),!0}return this.view().cut()}},copy:function(){if(l.canAccessSystemClipboard()||l.data(this.getText(\"selected\")),b.browser.chrome){var e=document.activeElement;return this.focus(),this.view().copy(),e.focus(),!0}return this.view().copy()},paste:function(){if(!this.readOnly()){if(S.paste||l.canAccessSystemClipboard()||(t.information({text:this.rb.getText(\"ce_ctrl_paste_prompt_txt\"),title:document.title}),S.paste=!0),b.browser.msie)return this.view().paste();var e=l.data();if(e){var n=this.selection();return this.editor().setText(this.core().cleanText(e),n.start,n.end),!0}}},_toggleBlock:function(e,t){t&&this.settings.getFoldingEnabled()&&(e?t.expanded||t.expand():t.expanded&&t.collapse())},collapse:function(){return this._doExpandBlock(!1),!0},_updateAllFolding:function(e){if(this.settings.getFoldingEnabled()){var t=this.view(),n=this.model();t.setRedraw(!1);var i=this.editor().getSelection(),o=this._getAnnotations(this.core().getAnnotations().AnnotationType.ANNOTATION_FOLDING),s=this;if(e)this.foldingMgr.iterateBlocks(0,n.getLineCount()-1,function(){return!0},function(t){var n=t.anno;n&&s._toggleBlock(e,n),s.foldingMgr.isCollapsed(t)&&s.foldingMgr.expand(t)});else for(var r=o.length-1;r>=0;r--)s._toggleBlock(e,o[r]);if(e&&i){var a=t.getModel(),l=a.mapOffset(i.start,!0),c=a.mapOffset(i.end,!0);t.setSelection(l,c)}window.setTimeout(function(){t.setRedraw(!0),e||t.setSelection(0,0)},0)}},collapseAll:function(){return this._updateAllFolding(!1),!0},_doExpandBlock:function(e){var t=this._getCurrentFoldingBlock();if(t){var n=this.core();!e&&n&&n.selectLineStart(t.startLine),this._toggleBlock(e,t.anno)}},expand:function(){return this._doExpandBlock(!0),!0},expandAll:function(){return this._updateAllFolding(!0),!0},_getCurrentFoldingBlock:function(){if(this.settings.getFoldingEnabled()){var e=this.model().toTextPosition(this.editor().getSelection().start).line;return this.foldingMgr.getFoldingBlock(e)}return null},_tryToExpandLine:function(e){for(var t=this.foldingMgr.getFoldingBlock(e);t&&this.foldingMgr.isCollapsed(t)&&e>t.startLine;)t.anno&&this._toggleBlock(!0,t.anno),this.foldingMgr.isCollapsed(t)&&this.foldingMgr.expand(t),t=this.foldingMgr.getFoldingBlock(e)},canCollapse:function(){var e=this._getCurrentFoldingBlock(),t=this.core();return!(!e||t.isSameLine(e.startLine,e.endLine)||this.foldingMgr.isCollapsed(e))},canCollapseAll:function(){return this.foldingMgr.canCollapseAll()},canExpand:function(){var e=this._getCurrentFoldingBlock(),t=this.core();return!(!e||t.isSameLine(e.startLine,e.endLine)||!this.foldingMgr.isCollapsed(e))},canExpandAll:function(){return this.foldingMgr.canExpandAll()},prevFunction:function(){this.view()._clientDiv.blur()},nextFunction:function(){this.view()._clientDiv.blur()},gotoPrevLineStart:function(e){var t=this.view();if(t){var n=t.getSelection(),i=n.end,o=n.start;n.caret&&(i=n.start,o=n.end);var s=t.getLineAtOffset(i),r=t.getLineStart(s);i===r&&(r=s>0?t.getLineStart(--s):0),e?t.setSelection(o,r<o&&i>o?o:r):t.setSelection(r,r)}return!0},gotoNextLineStart:function(e){var t=this.view();if(t){var n=t.getSelection(),i=n.end,o=n.start,s=t.getModel().getLineCount()-1;n.caret&&(i=n.start,o=n.end);var r=t.getLineAtOffset(i),a=r<s?t.getLineStart(++r):t.getModel().getLineEnd(s,!0);e?t.setSelection(o,a>o&&i<o?o:a):t.setSelection(a,a)}return!0},selectToPrevLineStart:function(){return this.gotoPrevLineStart(!0)},selectToNextLineStart:function(){return this.gotoNextLineStart(!0)},gotoline:function(e,t){if(e>=0&&(e-=1),void 0===e||e<0||e>this.model().getLineCount());else{var n,i,o,s;if(n=this.selection(),n.start=n.end,i=this.model().toTextRange(n),o=new r(i),o.start.line=o.end.line=e,s=this.model().getColumnCountWithoutDelimiter(e),void 0!==t)if(\"lineStart\"===t){var a=this.model().getLine(e);for(t=0;t<s&&(\"\\t\"===a[t]||\" \"===a[t]);t++);o.start.column=o.end.column=t}else!isNaN(t)&&t>0&&(o.start.column=o.end.column=t-1);o.end.column>s&&(o.start.column=o.end.column=s),this._tryToExpandLine(e),this.selectText(this.model().toCoreRange(o))}},toggleLineNumber:function(){var e=!this.settings.getLineNumberVisible();this.settings.setLineNumberVisible(e)},enableLineNbr:function(e){return void 0!==e&&this.settings.setLineNumberVisible(e),this.settings.getLineNumberVisible()},getText:function(e){var t=this.editor();if(!t)return this.core().getInitContent();var n=\"\";switch(e||(e=\"all\"),e){case\"all\":n=t.getText();break;case\"selected\":n=t.getSelectionText()}return n},lineCount:function(){var e=this.model();return e?e.getLineCount():this.core().getInitContent().split(\"\\n\").length},addGutterIcons:function(e){this.gutter().add(e)},removeGutterIcons:function(e){this.gutter().remove(e)},clearGutterIcons:function(){this.gutter().removeAll()},getGutterIcons:function(e){return this.gutter().getIcons(e)},getSelectedSectionText:function(e,t){function n(e,t){var n=s.getFoldingBlock(e,t,!0);if(n){var i=o.toTextOffset(n.startLine,n.startCol),r=o.toTextOffset(n.endLine,n.endCol),l=i+\"-\"+r;-1===a.indexOf(l)&&a.push(l)}return r}var i=this.editor(),o=this.model(),s=this.core().langService(),r=i.getSelections(),a=[];return isNaN(e)||isNaN(t)?r.forEach(function(e){if(e.end>e.start){\"\\n\"===i.getText().slice(e.end-1,e.end)&&e.end--}for(var t=e.start;t<=e.end;t++){var s=o.toTextPosition(t),r=n(s.line,s.column);r&&r>t&&(t=r)}}):n(e,t),a.map(function(e){return e=e.split(\"-\"),i.getText(e[0],e[1])}).join(\"\\n\")},_toChangeCase:function(e){if(!this.readOnly()&&e){var t=this.editor().getSelections();if(t.length){var n=t[0].start,i=t[t.length-1].end,o=this.getText().slice(n,i);return t.forEach(function(t){var i=o.slice(t.start-n,t.end-n);o=o.slice(0,t.start-n)+e(i)+o.slice(t.end-n)}),this.editor().setText(o,n,i),this.editor().setSelections(t),!0}}},toUpperCase:function(){return this._toChangeCase(function(e){return e.toUpperCase()})},toLowerCase:function(){return this._toChangeCase(function(e){return e.toLowerCase()})},toCamelCase:function(){var e=/\\b\\w/g;if(window.ace){var t=window.ace.require(\"ace/unicode\");e=new RegExp(\"(^|\\\\s)[\"+t.packages.L+\"]\",\"g\")}return this._toChangeCase(function(t){return t.replace(e,function(e){return e.toUpperCase()})})},cycleCases:function(){var e=/[a-z]/,t=/[A-Z]/;if(window.ace){var n=window.ace.require(\"ace/unicode\");e=new RegExp(\"[\"+n.packages.Ll+\"]\"),t=new RegExp(\"[\"+n.packages.Lu+\"]\")}var i=this.getText(\"selected\"),o=e.test(i),s=t.test(i);return o&&!s?this.toCamelCase():!o&&s?this.toLowerCase():this.toUpperCase(),!0},getNewConfig:function(e){var t={direction:i.Direction.NEXT,result:i.Result.SINGLE,matchCase:e.matchCase,wholeWord:e.wholeWord};return\"forward\"!==e.direction&&e.direction!==i.Direction.NEXT&&(t.direction=i.Direction.PREVIOUS),e.all&&(t.direction=i.Direction.NONE,t.result=i.Result.ALL),t},search:function(e,t){var n=this.model().getAllText(),o=[];if(t.matchCase||(e=e.toLowerCase(),n=n.toLowerCase()),t.result===i.Result.ALL){if(o=this.doSearchAll(e,t,n),0!==o.length){var s=this.model().toCoreRange(o[0]);this.editor().setSelection(s.start,s.start)}}else{var r=this.model().toTextRange(this.editor().getSelection());if(t.direction===i.Direction.NEXT?o=this.doSearch(e,t,n,t.inSelection?r.start:r.end):t.direction===i.Direction.PREVIOUS&&(o=this.doSearch(e,t,n,t.inSelection?r.end:r.start)),0!==o.length){var s=this.model().toCoreRange(o[0]);this.editor().setSelection(s.start,s.end)}}if(0===o.length)T&&y.getFindDlgInstance().setFindFeedBack(o.length);else{var a=this.editor().getAnnotationModel(),s=null;a.removeAnnotations(this.core().getAnnotations().AnnotationType.ANNOTATION_MATCHING_SEARCH);for(var l=0;l<o.length;l++)s=this.model().toCoreRange(o[l]),a.addAnnotation(new(this.core().getAnnotations().AnnotationType.getType(this.core().getAnnotations().AnnotationType.ANNOTATION_MATCHING_SEARCH))(s.start,s.end));t.result===i.Result.ALL&&T&&y.getFindDlgInstance().setFindFeedBack(o.length)}return o},atomicSearch:function(e,t,n,o,s){if(o){var r=e.replace(/[\\\\\\.\\*\\+\\?\\|\\(\\)\\{\\}\\^\\$\\[\\]]/g,\"\\\\$&\"),a=\"([^a-zA-Z0-9_-]|^)\"+r+\"([^a-zA-Z0-9_-]|$)\",l=-1;if(s===i.Direction.PREVIOUS){for(var c,d=new RegExp(a,\"\"),g=n.substring(0,t),u=0;null!==(c=d.exec(g));)u=c.index,l+=u+e.length+1,g=g.substring(u+e.length+1);if(-1!==l){l-=e.length;var h=n.substring(t-1,t),f=e.length?e.substring(0,1):e;(0!==l||h!==f&&!/\\w|[^\\x00-\\xff]/.test(h))&&++l}}else if(-1!==(l=n.substring(t).search(a))){var h=n.substring(t,t+1),f=e.length?e.substring(0,1):e;(0!==l||h!==f&&!/\\w|[^\\x00-\\xff]/.test(h))&&++l,l=t+l}return l}return s===i.Direction.PREVIOUS?n.substring(0,t).lastIndexOf(e):n.indexOf(e,t)},doSearch:function(e,t,n,o){var s=[],l=0,c=0,d=0,g=this.model(),u=g.getLineCount(),h=0,f=0,p=t.wholeWord;if(t.direction===i.Direction.NEXT)for(l=this.atomicSearch(e,l,n,p,t.direction);-1!==l&&c<=u;)if(l>h)d=g.getColumnCount(c),h+=d,c++;else{var v=c,m=0;if(l<h&&(v=c-1,m=l-(h-d)),(o.line<v||o.line===v&&o.column<=m)&&(s=[],f=1),(f||0===s.length)&&(s.push(new r(new a(v,m),new a(v,m+e.length))),f))break;l=this.atomicSearch(e,l+e.length,n,p,t.direction)}else if(t.direction===i.Direction.PREVIOUS){l=g.toTextOffset(o.line,o.column),l=this.atomicSearch(e,l,n,p,t.direction);var C=!1;for(-1===l&&(l=this.atomicSearch(e,n.length,n,p,t.direction),C=!0);-1!==l&&c<=u;)if(l>h)d=g.getColumnCount(c),h+=d,c++;else{var v=c,m=0;if(l<h&&(v=c-1,m=l-(h-d)),(o.line>v||o.line===v&&o.column>=m||C)&&(s=[],f=1),(f||0===s.length)&&(s.push(new r(new a(v,m),new a(v,m+e.length))),f))break;l=this.atomicSearch(e,l-e.length,n,p,t.direction)}}return s.length>0&&this._tryToExpandLine(s[0].start.line),s},doSearchAll:function(e,t,n,i){var o=[],s=0,l=0,c=this.model(),d=c.getLineCount(),g=0,u=0,h=c.toTextRange(this.editor().getSelection());for(s=this.atomicSearch(e,s,n,t.wholeWord);-1!==s&&l<=d;)if(s>u)g=c.getColumnCount(l),u+=g,l++;else{var f=l,p=0;if(s<u&&(f=l-1,p=s-(u-g)),t.inSelection&&(h.end.line<f||h.end.line===f&&h.end.column<p+e.length))break;if(!t.inSelection||h.start.line<f||h.start.line===f&&h.start.column<=p)if(i){var v=this.foldingMgr.getFoldingBlock(f);v&&this.foldingMgr.isCollapsed(v)&&f>v.startLine||o.push(new r(new a(f,p),new a(f,p+e.length)))}else o.push(new r(new a(f,p),new a(f,p+e.length))),this._tryToExpandLine(f);s=this.atomicSearch(e,s+e.length,n,t.wholeWord)}return o},replace:function(e,t,n){var o,s=this.model(),r=s.getAllText(),a=[];if(n.matchCase||(e=e.toLowerCase(),r=r.toLowerCase()),this.replacingContext.key!==e&&(this.replacingContext.key=e,this.replacingContext.originalKeyCount=this.doSearchAll(e,n,r).length,this.replacingContext.existedKeyCount=this.replacingContext.originalKeyCount),n.result===i.Result.ALL){var l=s.toTextPosition(this.editor().getCaretOffset());if(o=this.doReplaceAll(e,t,n),!n.inSelection){var c=s.getColumnCountWithoutDelimiter(l.line);c<l.column&&(l.column=c),this.editor().setCaretOffset(s.toTextOffset(l.line,l.column))}}else a=this.doReplace(e,t,n,r),o=a.length;this.replacingContext.existedKeyCount-=o,T&&T.setReplaceFeedBack(this.replacingContext.originalKeyCount,o,this.replacingContext.existedKeyCount,n.result),0===this.replacingContext.existedKeyCount&&(this.replacingContext.key=\"\",this.replacingContext.originalKeyCount=0)},doReplaceAll:function(e,t,n){var i=this.editor().getSelection();e=e.replace(/[\\\\\\.\\*\\+\\?\\|\\(\\)\\{\\}\\^\\$\\[\\]]/g,\"\\\\$&\");var o=this.editor().getModel().getText();if(n.wholeWord&&!/[^a-zA-Z0-9_\\u00ff-\\uffff]/.test(e)){var r=\"([^a-zA-Z0-9_\\\\u00ff-\\\\uffff]|\\\\b|^)(\",a=\")(?=[^a-zA-Z0-9_\\\\u00ff-\\\\uffff]|\\\\b|$)\";n.inSelection&&(0!==i.start&&-1===o.slice(i.start-1,i.start).search(/[^a-zA-Z0-9_\\u00ff-\\uffff]/)&&(r=\"([^a-zA-Z0-9_\\\\u00ff-\\\\uffff])(\"),i.end!==o.length&&-1===o.slice(i.end,i.end+1).search(/[^a-zA-Z0-9_\\u00ff-\\uffff]/)&&(a=\")(?=[^a-zA-Z0-9_\\\\u00ff-\\\\uffff])\")),e=r+e+a,t=\"$1\"+t}var l=new RegExp(e,n.matchCase?\"g\":\"gi\");n.inSelection&&(o=o.slice(i.start,i.end));var c=o.match(l);if(c){var d=o.replace(l,t),g=n.inSelection?i:new s(0,o.length),u=n.inSelection?new s(i.start,i.start+d.length):new s(0,d.length);return this.editor().setText(d,g.start,g.end),n.inSelection&&this.editor().setSelection(u.start,u.end),c.length}return 0},doReplace:function(e,t,n,i){var o,s=this.view(),r=this.model().toTextPosition(s.getSelection().start);return o=this.doSearch(e,n,i,r),0!==o.length&&(o[0]=this.model().toCoreRange(o[0]),this.selectText(o[0]),e=this.getText(\"selected\"),this.editor().setText(t,o[0].start,o[0].end)),o},selectText:function(e){this.editor().setSelection(e.start,e.end)}},y},!0);",
	"sas/hc/ui/commons/codeEditor/EditorCore.js": "// (c) 2016, SAS Institute Inc.\nsap.ui.define([\"./LanguageService\",\"./Utils\",\"sas/hc/ui/core/Icon\",\"sas/hc/ui/core/theme/IconInitialization\",\"./orion/code_edit/built-codeEdit\",\"./Mode\",\"./EditorModel\",\"./FoldingMgr\",\"./CoreRange\",\"./Gutter\",\"./DebugBar\",\"sap/ui/Device\",\"sap/ui/core/Core\"],function(e,t,n,i,r,o,s,a,l,d,g,u,c){\"use strict\";var h,f=new(r(\"embeddedEditor/builder/embeddedEditor\")),p=r(\"orion/editor/annotations\"),v=r(\"orion/editor/textView\").TextView,m=r(\"orion/editor/rulers\").FoldingRuler,y=r(\"orion/keyBinding\"),C=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\"),b=/\\r\\n|\\r/g,L={BACKSPACE:1,DELETE:2};return function(i,c,x,S){function T(){var e={type:\"textChanged\"};j.addEventListener(\"Changing\",function(t){jQuery(te).triggerHandler({type:\"editAttempted\"}),O(),e.clearUndo=ne,e.removedText=j.getText(t.start,t.start+t.removedCharCount),e.text=t.text,e.addedCharCount=t.addedCharCount,e.oldRange=te.model().toTextRange({start:t.start,end:t.start+t.removedCharCount})}),j.addEventListener(\"Changed\",function(t){e.newRange=te.model().toTextRange({start:t.start,end:t.start+t.addedCharCount}),G.add(e),te.isSasMode()&&(!t.removedText||\"\"===t.removedText)&&t.addedCharCount>0&&Z.onTextChanged(e)})}function _(e,t){if(t.startLine!==t.endFoldingLine){var n=j.getLineStart(t.startLine),i=j.getLineEnd(t.endFoldingLine),r=new(p.AnnotationType.getType(p.AnnotationType.ANNOTATION_FOLDING))(n,i,V);te.toggleFoldingHtml(r,!1),t.anno=r,r.block=t,e.push(r)}}function w(e){Q.setRedraw(!1),ee=null,re=!0;for(var t=[],n=[],i=$.getAnnotations();i.hasNext();){var r=i.next();r.type===p.AnnotationType.ANNOTATION_FOLDING&&function(e){t.push(e),e.expand()}(r)}te.foldingMgr().iterateBlocks(0,j.getLineCount()-1,function(){return!0},function(e){_(n,e)}),$.replaceAnnotations(t,n),n.forEach(function(e){te.foldingMgr().isCollapsed(e.block)&&e.collapse()}),re=!1,Q.setRedraw(!0),e&&Q.showSelection()}function A(e){var t=!1;e.changed&&e.changed.length&&!re&&(e.changed.forEach(function(e){e.block&&(e.expanded&&te.foldingMgr().isCollapsed(e.block)?(te.foldingMgr().expand(e.block),t=!0):e.expanded||te.foldingMgr().isCollapsed(e.block)||(te.foldingMgr().collapse(e.block),t=!0))}),t&&(ee&&window.clearTimeout(ee),ee=window.setTimeout(w,0,!0)))}function R(t){t.state===e.ParsingState.STARTING?t.parsedRange&&t.parsedRange.removedBlocks&&t.parsedRange.removedBlocks.blocks&&(ie=ie.concat(t.parsedRange.removedBlocks.blocks)):t.state===e.ParsingState.ENDED&&(ee&&window.clearTimeout(ee),ee=window.setTimeout(function(){w(ie.length>0),ie=[],t.change.clearUndo||jQuery(te).triggerHandler(t.change)},0))}function B(e){jQuery(te).triggerHandler(e)}function E(){Q.addEventListener(\"Selection\",function(){if(!re){var e=te.model().toTextPosition(F.getCaretOffset());e.type=\"caretMoved\",jQuery(te).triggerHandler(e);var t=te.model().toTextRange(F.getSelection());t.type=\"selectionChanged\",jQuery(te).triggerHandler(t),$.removeAnnotations(p.AnnotationType.ANNOTATION_MATCHING_SEARCH)}te.updateCurrentRowHighlight()}),Q.addEventListener(\"Drop\",function(e){e.type=\"drop\",jQuery(te).triggerHandler(e)}),Q.addEventListener(\"Scroll\",te.updateCurrentRowHighlight),Q.addEventListener(\"Scroll\",te.updateRowHighlight),Q.addEventListener(\"ContextMenu\",function(e){e.preventDefault()})}function k(){var e=F.getSelection(),t=X.toTextPosition(e.end),n=t.line;return{selection:e,caret:t,block:J.getFoldingBlock(n,X.getColumnCount(n))}}function O(){z&&(z.remove(),z=null)}function M(e,t){var n=e===L.BACKSPACE,i=t;n&&(i=t-1);var r=J.getFoldingBlock(i,X.getColumnCount(i));if(r&&r.anno){var o=r.anno;if(o&&!o.expanded)return o.expand(),o}}function I(e){var t=F.getSelection();if(t){var n=e===L.BACKSPACE,i=e===L.DELETE;if(t.start===t.end){var r,o=X.toTextPosition(t.end),s=o.line;if(n?r=0:i&&(r=X.getColumnCountWithoutDelimiter(s)),r===o.column&&s>0){var a=M(e,s);return n&&F.setSelection(t.start,t.start),a}if(i)return M(e,s)}}}function P(e,t){var n=t.getLineStart(e);return t.getBaseModel().getLineAtOffset(t.mapOffset(n))}function D(e,t,n){for(var i=[],r=n.getModel(),o=e;o<=t;o++){var s={lineIndex:P(o,r),lineHeight:n._getLineHeight(o)};i.push(s)}return i}function H(e){return e&&\"DATA\"===e.name}function N(e,t,n){for(var i=[],r=n.getModel(),o=function(e){i.push({empty:!0,lineHeight:n._getLineHeight(e)})},s=function(e,t,s){if(e){var a=P(t,r);i.push({lineIndex:a,lineHeight:n._getLineHeight(t),showIcon:a===s.startLine,section:{startLine:s.startLine,startCol:s.startCol,endLine:s.endLine,endCol:s.endCol,collapsed:s.collapsed,name:s.name,type:s.type}})}else o(t)},a=0,l=P(e,r),d=P(t,r),g=e;g<=t;g++){var u,c=P(g,r);if(u=0===a?G.getFoldingBlock(c):G.getFoldingBlock(c,a,!0)){var h=u.endCol,f=u.startLine,p=u.endLine,v=H(u),m=u.collapsed,y=te.model().getColumnCountWithoutDelimiter(p),C=h===y,b=!1;if(!C){var L=G.getFoldingBlock(p,y,!0);C=L&&L.startLine===f&&L.endLine===p,b=H(L)}if(a=C?0:y,m)s(v,g,u);else{var x=f>l?f:l,S=p>d?d:p;x=V.getLineAtOffset(V.mapOffset(j.getLineStart(x),!0));for(var T=V.mapOffset(j.getLineStart(S),!0);T<0&&S>0;)T=V.mapOffset(j.getLineStart(--S),!0);S=V.getLineAtOffset(T);for(var _=S-x+g;g<_;g++)s(v,g,u);C?s(v,_,u):(v&&!b&&s(v,_,u),S>x&&g--)}}else o(g),a=0}return i}var F,Q,V,j,$,G,z,K,W,q,U,X,Y,J,Z,ee,te=this,ne=!1,ie=[],re=!1,oe=new o(x,S.getCustomConfig()),se=\"_CE_style_\"+i;this._frm=jQuery('<div id=\"'+i+'-frm\" style=\"width: 100%; height: 100%;\"></div>').attr({\"data-sap-ui-preserve\":!0,dir:\"ltr\"}),this.getFoldingIcon=function(e){return h||(h=[this._getFoldingIcon(),this._getFoldingIcon(!0)]),h[e?1:0]},this._getFoldingIcon=function(e){var t=sap.ui.getCore().createRenderManager(),i=e?sas.icons.HC.EXPANDSECTION:sas.icons.HC.COLLAPSESECTION,r=C.getText(e?\"ce_menu_expand_txt\":\"ce_menu_collapse_txt\"),o=jQuery(\"<div></div>\"),s=new n({src:i,tooltip:r}),a=s.sId;s.sId=\"\",t.render(s,o[0]);var l=o.html();return s.sId=a,s.destroy(),t.destroy(),o.remove(),l},this.sidebarSelection=function(){function e(e){o=e.clientY,s=!0}function t(){if(s){var e=Q._rootDiv.getBoundingClientRect(),t=Q.getLineIndex(o-e.top+Q.getTopPixel()),n=Q.getLineStart(r<t?r:t),i=Q.getModel().getLineEnd(r<t?t:r,!0);Q.setSelection(r<t?n:i,r<t?i:n),Q.hasFocus()||Q.focus(),s=!1}}var n,i=F.getLineNumberRuler(),r=0,o=0,s=!1;i.onClick=function(){},jQuery(i.node).on(\"mousedown\",function(i){var a=Q._rootDiv.getBoundingClientRect();o=i.clientY,r=Q.getLineIndex(i.clientY-a.top+Q.getTopPixel()),jQuery(document).on(\"mousemove\",e).one(\"mouseup\",function(i){jQuery(document).off(\"mousemove\",e),window.clearInterval(n),s=!0,t()}),n=window.setInterval(t,20)})},f.create({parent:te._frm[0],contentType:\"text/plain\"}).then(function(e){Y=e,F=e.editor,F._highlightCurrentLine=function(){},F.setLineNumberRulerVisible=function(e,t){if((this._lineNumberRulerVisible!==e||t)&&(this._lineNumberRulerVisible=e,this._lineNumberRuler)){var n=this._textView;e?n.addRuler(this._lineNumberRuler,this._annotationRulerVisible?3:2):n.removeRuler(this._lineNumberRuler)}},Q=F.getTextView(),Q._getBoundsAtOffset=function(e){var t=this._model,n=t.getLineAtOffset(e);(n=n<0?t._model._lastLineIndex:n)<0&&(n=0);var i=this._getLine(n),r=i.getBoundingClientRect(e),o=this._getLinePixel(i.lineIndex);return r.top+=o,r.bottom+=o,i.destroy(),r},V=Q.getModel(),j=V.getBaseModel(),X=new s(j),J=new a(oe,X,S),$=F.getAnnotationModel(),G=oe.getHighlight(X);var t=F.getSourceCodeActions();t.setAutoPairParentheses(S.getPairBrackets()&&S.getPairParentheses()),t.setAutoPairBraces(S.getPairBrackets()&&S.getPairBraces()),t.setAutoPairSquareBrackets(S.getPairBrackets()&&S.getPairSquareBrackets()),t.setAutoPairAngleBrackets(S.getPairBrackets()&&S.getPairAngleBrackets()),t.setAutoPairQuotations(S.getPairQuotations()),t.setAutoCompleteComments(S.getBlockCommentsEnabled()),t.setBlockComment(G.blockComment),Q.setAction(\"save\",function(){return!1}),Q.setAction(\"tab\",te._tabAsSpace.bind(te)),e.commandRegistry._commandList=[];var n=Q._actions.undo,i=Q._actions.redo;delete Q._actions.undo,delete Q._actions.redo,Q.setAction(\"undo\",function(){if(!te.settings().getReadOnly())return n.handler()},n.actionDescription),Q.setAction(\"redo\",function(){if(!te.settings().getReadOnly())return i.handler()},i.actionDescription),u.os.macintosh&&Q.setKeyBinding(new y.KeyBinding(8,!0),\"deleteLineStart\"),(u.browser.edge||u.browser.msie)&&(Q.setKeyBinding(new y.KeyBinding(85,!0,!0),\"noop\"),Q.setKeyBinding(new y.KeyBinding(73,!0,!0),\"noop\"),Q.setKeyBinding(new y.KeyBinding(66,!0,!0),\"noop\")),Q._getClipboardText=function(e,t){var n=function(e){e.length&&t(e.map(function(e){return te.cleanText(e)}))};v.prototype._getClipboardText.apply(this,[e,n])},Q.removeEventListener(\"MouseMove\",F._listener.onMouseMove),Q.removeEventListener(\"MouseOver\",F._listener.onMouseOver),Q.removeEventListener(\"DragStart\",F._textDND._listener.onDragStart),Q.removeEventListener(\"Drop\",F._textDND._listener.onDrop),Q._doBackspace=function(e){return I(L.BACKSPACE),v.prototype._doBackspace.apply(this,arguments)},Q._doDelete=function(e){return I(L.DELETE),v.prototype._doDelete.apply(this,arguments)};var o={gutterVisible:S.getGutterVisible()};K=new d(o),jQuery(K).on(\"gutterClicked gutterMousedown gutterMouseup\",B),K.getBar().prependTo(Q._leftDiv),te.isSasMode()&&(W=new g({visible:S.getDebugBarVisible()}),jQuery(W).on(\"debugBarClicked\",B),W.getBar().prependTo(Q._leftDiv)),Q._updateRuler=function(e,t,n,i){if(e===this._leftDiv){var r=this._getLineHeight(),o=r+this._topIndexY,s={top:this._getViewPadding().top-o,height:i+o,lines:D(t,n,this),lineHeight:r,fontSize:S.getFontSize()};if(K.render(s),te.isSasMode()&&S.getDebugBarVisible()){var a=this.getModel(),l=P(t,a);l>=0&&(s.topIndex=l,s.bottomIndex=P(n,a),s.lines=N(t,n,this),W.render(s))}te.updateRowHighlight()}v.prototype._updateRuler.apply(this,arguments)},q=jQuery('<div class=\"rowHighlight\"></div>').prependTo(Q._rootDiv),U=jQuery('<div class=\"currentRowHighlight\"></div>').prependTo(Q._rootDiv),Q.onLineStyle=te._onLineStyle,Q.setOptions({themeClass:\"sce sce-\"+oe.getLanguage()}),Z=oe.getFormatter(te),$.addEventListener(\"Changed\",A),jQuery(G).on(\"parsingStateEvent\",R),F.getFoldingRuler().onClick=function(e){var t,n=Q.getModel(),i=n.getLineStart(e),r=i,o=n.getLineEnd(e,!0),s=this._annotationModel;if(s){n.getBaseModel&&(r=n.mapOffset(i),o=n.mapOffset(o));for(var a=s.getAnnotations(),l=null;a.hasNext();){var d=a.next();if(d.type===p.AnnotationType.ANNOTATION_FOLDING){if(d.start===r&&d.end===o){l=d;break}(r===d.start||(r>d.start?r<d.end:d.start<o))&&(l=d)}}t=null===l?void 0:l.block}if(void 0===t&&(t=k().block),!arguments[1]||!t||!te.isSameLine(t.startLine,t.endLine)){if(t&&t.startLine===n.getBaseModel().getLineAtOffset(r)){if(te.foldingMgr().isCollapsed(t))return m.prototype.onClick.apply(this,arguments);Q.hasFocus()||Q.focus(),te.foldingMgr().collapse(t),i>=0&&Q.setCaretOffset(i)}ee&&window.clearTimeout(ee),ee=window.setTimeout(w,0)}},F.getSourceCodeActions().autoIndent=function(){var e=te.settings();if(e.getReadOnly()||!e.getIndentEnabled()&&!e.getBlockCommentsEnabled())return!1;if(te.isSasMode()&&e.getIndentEnabled()){var t=k(),n=t.block,i=t.caret.line;if(n&&te.isSameLine(i,n.startLine)){var o=!1,s=i>0?i-1:0,a=G.getFoldingBlock(s,te.model().getColumnCount(s));if(a&&a.startLine!==i&&a.endLine===i&&(o=!0),!o)return Z.tryToIndent(),e.getIndentEnabled()}}return r(\"orion/editor/actions\").SourceCodeActions.prototype.autoIndent.apply(this,[e.getIndentEnabled()])},T(),E(),te.sidebarSelection(),F.setAnnotationRulerVisible(!1),F.setOverviewRulerVisible(!1),Q.addEventListener(\"Options\",function(e){if(e.options){var t=e.options.overwriteMode;void 0!==t&&te.settings().getOvertypeEnabled()!==t&&te.settings().setOvertypeEnabled(t)}}),c=te.cleanText(c),e.setContents(c).then(function(){window.setTimeout(function(){F&&(V.setLineDelimiter(\"\\n\",!0),e.syntaxHighlighter.styler.setFoldingEnabled(!1),e.syntaxHighlighter.styler.setWhitespacesVisible(te.settings().getInvisibleCharsVisible()),jQuery(e._editorContextMenuNode).remove(),te.updateFoldingBar(),jQuery(te).triggerHandler({type:\"coreReady\"}))},0)})}),this.destroy=function(){!!ee&&window.clearTimeout(ee),jQuery(G).off(),oe.destroy(),!!F&&F.destroy(),F=null,Y&&Y.destroy(),K&&K.destroy(),jQuery(\"#\"+se).remove()},this.settings=function(){return S},this.editor=function(){return F},this.view=function(){return Q},this.form=function(){return this._frm},this.baseModel=function(){return j},this.mode=function(){return oe},this.model=function(){return X},this.gutter=function(){return K},this.debugBar=function(){return W},this.foldingMgr=function(){return J},this.langService=function(){return G},this.getDomRef=function(){return this._frm[0]},this.getA11yTarget=function(){return jQuery(Q&&Q._clientDiv)},this.resize=function(e,t){Q&&Q.resize()},this.setClearUndo=function(e){ne=e},this.getInitContent=function(){return c},this.isSameLine=function(e,t){return e===t},this.selectLineStart=function(e,t){if(Q){e=e<0?0:e;var n=t?Q.getModel().getLineStart(e):this.baseModel().getLineStart(e);n=n>0?n:0,t?Q.setSelection(n,n):F.setSelection(n,n)}},this.toggleFoldingHtml=function(e,t){e.html=e._expandedHTML=this.getFoldingIcon(t),e._collapsedHTML=this.getFoldingIcon(!t)},this._calculateTab=function(e,t){var n,i,r;return t||(i=this.editor().getText(),r=i.lastIndexOf(\"\\n\",e-1)+1,t=i.substring(r,e),e-=r),n=e-t.lastIndexOf(\"\\t\",e)-1,S.getTabText().slice(n%S.getTabSize())},this._translateTab=function(e,t){var n,i,r,o,s,a,l;if(e.indexOf(\"\\t\")>-1){for(s=this.editor().getText(),a=s.lastIndexOf(\"\\n\",t-1)+1,l=s.substring(a,t),n=e.split(\"\\n\"),i=0;i<n.length;i++)for(i>0&&(l=\"\"),o=l+n[i],r=n[i].indexOf(\"\\t\")+l.length;r>=l.length;)n[i]=n[i].replace(/\\t/,this._calculateTab(r,o.substring(0,r))),o=l+n[i],r=o.indexOf(\"\\t\",r);return n.join(\"\\n\")}return e},this.cleanText=function(e){var t=e.replace(b,\"\\n\");if(S.getTabAsSpace()){var n=this.editor().getSelection();t=this._translateTab(t,n.start)}return t},this._tabAsSpace=function(){if(!this.settings().getReadOnly()){var e=this.editor().getSelection(),t=null;if(e.start===e.end)t=S.getTabAsSpace()?this._calculateTab(e.start):\"\\t\",this.editor().setText(t,e.start,e.end);else{var n,i,r=new RegExp(\"^()\",\"gm\");i=this.baseModel().getText();var o=!1;\"\\n\"===i[e.end-1]&&(e.end--,o=!0),n=new l(i.substring(0,e.start).lastIndexOf(\"\\n\")+1,e.end);var s=S.getTabAsSpace()?S.getTabText():\"\\t\";i=i.substring(n.start,n.end),t=i.replace(r,s);var a=this.model().toTextRange(e);a.start.column+=s.length,a.end.column+=s.length;var d=n.end,g=this.foldingMgr().getFoldingBlock(a.end.line);g&&g.collapsed&&o&&(d=n.end+1,t+=\"\\n\"),this.editor().setText(t,n.start,d);var u=this.model().toCoreRange(a);this.editor().setSelection(u.start,u.end)}return!0}},this.isSasMode=function(){return\"sas\"===oe.getLanguage()},this.isInternalFolding=function(){return re},this.refresh=function(){Q&&(0===Q.getTopPixel()&&0!==Q._vScroll&&Q.setTopPixel(Q._vScroll),0===Q.getHorizontalPixel()&&0!==Q._hScroll&&Q.setHorizontalPixel(Q._hScroll),Q.resize(),Q.redraw(),this.updateFoldingBar(),this.updateRowHighlight(),this.updateCurrentRowHighlight(),ee||(ee=window.setTimeout(w,0)),this.updateLineLengthGuide())},this.getKeyBinding=function(){return y},this.getAnnotations=function(){return p},this.readOnly=function(e){Q.setOptions({readonly:e}),e?jQuery(Q._clientDiv).attr({\"aria-readonly\":!0,role:\"textbox\"}):jQuery(Q._clientDiv).removeAttr(\"aria-readonly role\")},this.wordWrapEnabled=function(e){Q.setOptions({wrapMode:e})},this.overtypeEnabled=function(e){Q.getOptions(\"overwriteMode\")!==e&&Q.setOptions({overwriteMode:e})},this.blockCommentsEnabled=function(e){F.getSourceCodeActions().setAutoCompleteComments(e)},this.pairQuotations=function(e){F.getSourceCodeActions().setAutoPairQuotations(e)},this.pairBrackets=function(e){var t=F.getSourceCodeActions();t.setAutoPairParentheses(e),t.setAutoPairBraces(e),t.setAutoPairSquareBrackets(e),t.setAutoPairAngleBrackets(e)},this.pairParentheses=function(e){F.getSourceCodeActions().setAutoPairParentheses(e)},this.pairBraces=function(e){F.getSourceCodeActions().setAutoPairBraces(e)},this.pairSquareBrackets=function(e){F.getSourceCodeActions().setAutoPairSquareBrackets(e)},this.pairAngleBrackets=function(e){F.getSourceCodeActions().setAutoPairAngleBrackets(e)},this.setInvisibleCharsVisible=function(e){Y.syntaxHighlighter.styler.setWhitespacesVisible(e,!0)},this.updateFoldingBar=function(){if(S.getFoldingEnabled()){var e=jQuery('<div class=\"ruler folding\" style=\"float: left;\"></div>').appendTo(Q._leftDiv);e.html(this.getFoldingIcon());var t=e.css(\"width\");e.remove();F.getFoldingRuler().node.style.width=t}jQuery(Q._leftDiv).toggleClass(\"sasCodeEditorLeftRulerEmpty\",!(S.getLineNumberVisible()||S.getFoldingEnabled()||S.getDebugBarVisible()||S.getGutterVisible()))},this.updateCurrentRowHighlight=function(){var e=Q.getSelection();if(S.getLineHighlightingVisible()&&e.start===e.end){var t=Q.getLineAtOffset(e.start);t>=0&&U.css({top:Q.getLinePixel(t)-Q.getTopPixel()+4,height:Q.getLineHeight(t),display:\"block\"})}else U.css(\"display\",\"none\")},this.updateRowHighlight=function(){var e=S.getHighlightedLine();if(e>=0&&(e=V.getLineAtOffset(V.mapOffset(j.getLineStart(e),!0)))>=0)return void q.css({top:Q.getLinePixel(e)-Q.getTopPixel()+4,height:Q.getLineHeight(e),display:\"block\"});q.css(\"display\",\"none\")},this.updateLineLengthGuide=function(){var e=S.getLineLengthGuideColumn(),n=jQuery(\"#\"+se),r=\"#\"+i+\" .sce .textviewContent:after{\";if(n.remove(),n=jQuery('<style id=\"'+se+'\"></style>').appendTo(document.head),S.getLineLengthGuideVisible()&&e>0){for(var o=\"\";30<e;e-=30)o+=\"333333333333333333333333333333\";e>0&&(o+=(1<<e-1).toString(2));var s=jQuery('<div style=\"position: absolute; width: auto\">'+o+\"</div>\").prependTo(Q._rootDiv),a=t.removePX(s.css(\"width\"));s.remove(),r+=\"display: block;left: \"+(a+1)+\"px\"}else r+=\"display: none\";r+=\"}\",n.html(r)},this.comment=function(){function e(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}if(!te.settings().getReadOnly()){var t=G.lineCommentStart,n=G.blockComment;if(t||n){Array.isArray(t)&&(t=t[0]);var i,r,o,s,a=F.getSelection(),l=j.getText(),d=!1;if(i=0===a.start?0:l.lastIndexOf(\"\\n\",a.start-1)+1,a.start<a.end&&\"\\n\"===j.getText(a.end-1,a.end)&&(d=!0),r=l.indexOf(\"\\n\",a.end-(d?1:0)),r<0&&(r=l.length),o=j.getText(i,r),t)s=new RegExp(\"^\\\\s*\"+e(t)+\".*(\\\\n\\\\s*\"+e(t)+\".*)*.*$\").test(o);else{var g=e(n.start),u=e(n.end);s=new RegExp(\"^\\\\s*\"+g+\".*(\"+u+\"\\\\s*\\\\n\\\\s*\"+g+\".*)*\"+u+\"\\\\s*$\").test(o)}var c=null;return s?c=t?o.replace(new RegExp(\"^(\\\\s*)\"+e(t)+\" ?\",\"gm\"),\"$1\"):o.replace(new RegExp(\"^(\\\\s*)\"+g+\" ?| ?\"+u+\"(\\\\s*)$\",\"gm\"),\"$1$2\"):t?c=o.replace(/^(.*)$/gm,t+\" $1\"):(c=o.replace(new RegExp(\"^(\\\\s*)\"+g+\" ?| ?\"+u+\"(\\\\s*)$\",\"gm\"),\"$1$2\"),c=c.replace(/^(.*)$/gm,n.start+\" $1 \"+n.end)),j.setText(c,i,r),F.setSelection(i,r+c.length-o.length),!0}}},this.blockComment=function(){function e(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}if(!te.settings().getReadOnly()){var t=G.blockComment;if(t){var n=F.getSelection(),i=F.getSelectionText(),r=e(t.start),o=e(t.end),s=new RegExp(\"^\\\\s*\"+r+\".*\"+o+\"\\\\s*$\").test(i.replace(/\\n/g,\"\")),a=null;return i&&i.length&&\"\\n\"===i[i.length-1]&&(i=i.slice(0,-1),n.end--),a=s?i.replace(new RegExp(\"^(\\\\s*)\"+r),\"$1\").replace(new RegExp(o+\"(\\\\s*)$\"),\"$1\"):t.start+i+t.end,j.setText(a,n.start,n.end),F.setSelection(n.start,n.end+a.length-i.length),!0}}},this.getFontFamily=function(e){return e?(e.indexOf(\" \")>-1&&(e=\"'\"+e+\"'\"),e+\", 'Lucida Console', Courier, Monaco, monospace;\"):\"\"},this.getHTML=function(e){var n=jQuery(\"<div></div>\").appendTo(document.body);n.css(\"fontSize\",S.getFontSize()+\"px\");var i=Q.getOptions();i.parent=n[0],i.model=void 0;var r=new v(i);r.onLineStyle=this._onLineStyle;var o={},s=null;if(e&&e.onlyVisible?(r.setModel(V),r.setTopIndex(Q.getTopIndex(!0)),o.width=t.removePX(this._frm.css(\"width\")),o.height=t.removePX(this._frm.css(\"height\"))):(r.setModel(j),o=r.computeSize()),n.css({width:o.width+8,height:o.height+8}),e&&e.lineNumber&&(s=F.getLineNumberRuler().getView(),r.addRuler(F.getLineNumberRuler()),o.width+=r._leftDiv.clientWidth,n.css({width:o.width+8,height:o.height+8})),r.resize(),e&&e.lineNumber){var a=r._leftDiv.firstChild;a.style.top=\"0px\",a.firstChild.style.height=\"0px\",r._clientDiv.style.top=\"0px\"}var l=n[0].outerHTML;return e&&e.lineNumber&&(r.removeRuler(F.getLineNumberRuler()),s&&F.getLineNumberRuler().setView(s)),r.setModel(null),r.destroy(),n.remove(),l},this._renderIndentGuides=function(e,t){function n(t,n){a=0,r?t>0&&(e[t].style.styleClass+=\" indent-guide\"):s.push({start:i.start+t,end:i.start+n,style:{unmergeable:!0,styleClass:0===t?i.style.styleClass:\"indent-guide\"}})}if(!S.getIndentGuidesVisible())return e;var i=e&&e[0],r=S.getInvisibleCharsVisible();if(!(i&&i.style&&i.style.styleClass&&/\\btext\\b/.test(i.style.styleClass)))return e;for(var o=S.getTabSize(),s=[],a=0,l=0;l<t.length;l++)if(\"\\t\"===t[l])n(l-a,l+1);else{if(\" \"!==t[l])break;++a===o&&n(l-a+1,l+1)}return a>0&&n(l-a,l),r||(i.start+=l,i.start!==i.end&&s.push(i),e.shift()),s.concat(e)},this._onLineStyle=function(e){function t(){if(e.ranges&&e.ranges[l]){var n=e.ranges[l];n.start<u.end&&(n.start>u.start&&a.push({start:u.start,style:u.style,end:n.start}),n.end<u.end?(a.push({start:n.start<u.start?u.start:n.start,style:{styleClass:n.style.styleClass+\" \"+u.style.styleClass,unmergeable:n.style.unmergeable},end:n.end}),u.start=n.end,l++,t()):(n.start>u.start&&(u.start=n.start),u.style={styleClass:n.style.styleClass+\" \"+u.style.styleClass,unmergeable:n.style.unmergeable},n.end===u.end&&l++))}}var n=S.getSyntaxHighlighting();if(v.prototype.onLineStyle.apply(e.textView,arguments),!1!==n){for(var i=e.textView.getModel(),r=i.mapOffset?i.mapOffset(e.lineStart):e.lineStart,o=j.getLineAtOffset(r),s=G.getSyntax(o),a=[],l=0,d=0;d<s.length;d++){var g=s[d],u={},c=te.model().getColumnCountWithoutDelimiter(o);if(g.start===c)break;u.start=g.start+e.lineStart,u.style={styleClass:g.style},u.end=d===s.length-1?c:s[d+1].start,u.end+=e.lineStart,t(),a.push(u)}e.ranges=e.textView===te.view()?te._renderIndentGuides(a,e.lineText):a;var h=te.foldingMgr().getFoldingBlock(o);h&&h.startLine===o&&0!==o&&te.isSasMode()&&(e.style=e.style||{},e.style.styleClass=e.style.styleClass||\"\",e.style.styleClass+=\" block-mark\")}}}});",
	"sas/hc/ui/commons/codeEditor/EditorModel.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./TextRange\",\"./TextPosition\",\"./CoreRange\"],function(t,n,e){\"use strict\";return function(i){this.getText=function(t){var n=this.toCoreRange(t);return i.getText(n.start,n.end)},this.getAllText=function(){return i.getText()},this.getLineCount=function(){return i.getLineCount()},this.getColumnCount=function(t){return i.getLineEnd(t,!0)-i.getLineStart(t)},this.getColumnCountWithoutDelimiter=function(t){return i.getLineEnd(t)-i.getLineStart(t)},this.getLine=function(t){return i.getLine(t)},this.getIndent=function(t){for(var n,e=this.getLine(t.line),i=0;i<e.length&&(\"\\t\"===e[i]||\" \"===e[i]);)i++;return n=e.substring(0,i),t.column>=n.length?n:n.substring(0,t.column)},this.isEmpty=function(){return 0===i.getCharCount()},this.toTextPosition=function(t){var e=i.getLineAtOffset(t),o=t-i.getLineStart(e);return new n(e,o)},this.toTextOffset=function(t,n){return i.getLineStart(t)+n},this.toTextRange=function(n){return new t(this.toTextPosition(n.start),this.toTextPosition(n.end))},this.toCoreRange=function(t){return new e(this.toTextOffset(t.start.line,t.start.column),this.toTextOffset(t.end.line,t.end.column))}}},!0);",
	"sas/hc/ui/commons/codeEditor/FoldingMgr.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./LanguageService\",\"./mode/sas/SasLexer\"],function(e,n){\"use strict\";return function(t,i,l){var a=t.getHighlight(i),o=\"sas\"===t.getLanguage(),g=[];o&&jQuery(a).on(\"parsingStateEvent\",function(t){if(t.state===e.ParsingState.ENDED){var l,o,s=t.change.newRange.end.line-t.change.oldRange.end.line,d=[],r=[],c={};for(l=0;l<g.length;l++)(o=g[l])&&-1===d.indexOf(o)&&(d.push(o),o.collapsed&&(o.startLine>t.change.oldRange.end.line&&(o.startLine+=s,o.endFoldingLine+=s),(o.endFoldingLine<t.change.oldRange.start.line||o.startLine>t.change.newRange.end.line)&&(c[o.startLine]=o)));for(o=void 0,l=0;l<i.getLineCount();l++){g[l]=o;var L=a.getSyntax(l)[0];L&&\"text\"===L.style&&(L=a.getSyntax(l)[1]),L&&n.isComment[L.style]&&(/^\\s*[%\\/]?\\*\\s*region\\b/i.test(i.getLine(l))?(r.push(o),o={startLine:l,endFoldingLine:i.getLineCount()-1},g[l]=o):o&&/^\\s*[%\\/]?\\*\\s*endregion\\b/i.test(i.getLine(l))&&(o.endFoldingLine=l,c[o.startLine]&&c[o.startLine].endFoldingLine===l&&(o.collapsed=!0),o=r.pop()))}o&&c[o.startLine]&&c[o.startLine].endFoldingLine===l-1&&(o.collapsed=!0)}}),this.iterateBlocks=function(e,n,t,i){for(var l,a=e;a<=n;a++)(l=this.getFoldingBlock(a))&&l.startLine===a&&(t(l)&&i(l),l.collapsed&&(a=l.endFoldingLine))},this.getFoldingBlock=function(e){if(l.getFoldingEnabled()){var n=a.getFoldingBlock(e);if(o){var t=g[e];(!n||t&&n.startLine<t.startLine)&&(n=t)}return n}return!1},this.collapse=function(e){e.collapsed=!0,a.toggleFoldWidget&&a.toggleFoldWidget(e.startLine),jQuery(this).triggerHandler(\"foldingChanged\")},this.expand=function(e){e.collapsed=!1,a.toggleFoldWidget&&a.toggleFoldWidget(e.startLine),jQuery(this).triggerHandler(\"foldingChanged\")},this.isSameLineBlock=function(e){return e.startLine===e.endLine},this.isCollapsed=function(e){return e.collapsed},this.canCollapseAll=function(){if(l.getFoldingEnabled())for(var e=i.getLineCount(),n=0;n<e;n++){var t=this.getFoldingBlock(n);if(t){if(!this.isCollapsed(t)&&!this.isSameLineBlock(t))return!0;n=t.endFoldingLine}}return!1},this.canExpandAll=function(){if(l.getFoldingEnabled())for(var e=i.getLineCount(),n=0;n<e;n++){var t=this.getFoldingBlock(n);if(t&&this.isCollapsed(t)&&!this.isSameLineBlock(t))return!0}return!1}}},!0);",
	"sas/hc/ui/commons/codeEditor/GoToLineDialog.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sas/hc/m/Dialog\",\"sas/hc/m/Button\",\"sas/hc/m/Label\",\"sas/hc/m/Input\",\"sas/hc/m/HBox\",\"sap/ui/core/Core\",\"sap/ui/core/Popup\",\"sap/ui/core/library\",\"sap/ui/events/KeyCodes\",\"sap/m/library\",\"sas/hc/m/library\"],function(e,t,a,n,o,s,i,l,r,u,c){\"use strict\";function p(){var e=g();e&&(f=e,jQuery(y).triggerHandler({type:\"gotoline\",lineNumber:e}))}function g(){var e=m.getValue(),t=parseInt(e);return isNaN(e)||parseFloat(e)!==t||t<=0||t>_?(y&&y.oPopup&&y.oPopup.getOpenState()===l.OpenState.OPEN&&(m.setValueState(l.ValueState.Error),m.setValueStateText(S.getText(\"ce_gtl_invalid_message_txt\"))),!1):(m.setValueState(l.ValueState.None),t!==f&&t)}function d(){m=new n({type:u.InputType.Tel,label:S.getText(\"ce_gtl_line_txt\"),labelPosition:c.InputLabelPosition.Top,disableValidation:!1,width:\"100%\",liveChange:function(){window.setTimeout(function(){p()},0)}});var a=new e({title:S.getText(\"ce_gtl_go_to_line_txt\"),createParentChildRelationships:!0,content:[m],cssMinWidth:\"10rem\",endButton:new t({text:S.getText(\"ce_gtl_close_txt\"),press:function(){a.close()}}),afterOpen:function(){m.$().on(\"keydown\",function(e){e.keyCode===r.ENTER?(e.stopPropagation(),m.getValueState()!==l.ValueState.Error&&a.close()):e.keyCode===r.ESCAPE&&(e.stopPropagation(),a.close())})},initialFocus:m}).addStyleClass(\"sasGTLDialog\");return a.open=function(t){_=t,f=0,m.setValue(\"\"),m.setValueState(l.ValueState.NONE),e.prototype.open.apply(a)},a}var y,_,f,m,S=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\");return{getInstance:function(){return y||(y=d()),y}}},!0);",
	"sas/hc/ui/commons/codeEditor/Gutter.js": "// (c) 2017, SAS Institute Inc.\nsap.ui.define([\"sas/hc/m/Image\",\"./Utils\",\"sap/ui/core/Core\",\"sap/ui/core/IconPool\",\"sas/hc/ui/core/Core\"],function(t,i,e,n,r){\"use strict\";var s=function(t){if(this.iconOrderMap,this.iconOrder,this.visible=!1,t){if(this.iconOrder=t.order,this.iconOrder){this.iconOrderMap={};for(var i=0;i<this.iconOrder.length;i++){var e=this.iconOrder[i];e&&void 0===this.iconOrderMap[e.toString()]&&(this.iconOrderMap[e.toString()]=i)}}this.visible=void 0===t.gutterVisible?this.visible:t.gutterVisible}this.data={},this.gutterBar=jQuery(\"<div></div>\"),this.gutterBar.css({position:\"relative\",float:\"left\"}),this.gutterBar.addClass(\"sce-gutter\"),this.rm=sap.ui.getCore().createRenderManager(),this.lines=void 0,this.rb=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\"),this.setVisible(this.visible),this.lastFontSize=0,this.width=0};return s.prototype={_iconHandler:function(t,i){if(void 0!==t)for(var e=t.length,n=0;n<e;n++){var r=t[n];if(r){var s=r.lineIndex,o=r.icons;if(void 0!==s&&o){var a=this._getLineDiv(s);a&&i(a,s,o,this)}}}},_getLineDiv:function(t){return this.gutterBar.find(\"div[name='\"+t+\"']\")},_getStatus:function(t){return void 0===t.status?\"\":t.status},_statusExist:function(t){return t&&t.length>0},_getCacheIcon:function(t,i){if(t)for(var e=0;e<t.length;e++){var n=t[e];if(n&&void 0!==n[i.toString()])return n}},_createCacheIcon:function(t){var i=t.icon;if(i){var e={};return e[i.toString()]=this._getStatus(t),e.tooltip=t.tooltip,e}},_warnLog:function(t,i){sas.log.warning(\"icon is illegal. The icon.icon is :\"+t+\". lineIndex:\"+i)},_createIcon:function(i){var e=i.icon;if(e){var r=n.createControlByURI(e,t);return r.icon=i,r}},_getFirstKey:function(t){return Object.keys(t)[0]},_getLineIconIds:function(t){var i=this.data[t],e=[],n=this;return i&&$.each(i,function(t,i){var r=n._getFirstKey(i);e.push(r)}),e},_createIconDiv:function(t,i){var e=t.icon;if(e){var n=$(\"<div name='\"+e.toString()+\"'></div>\");return n.addClass(\"sce-gutter-line-iconHover\"),n.css(\"position\",\"absolute\"),n.css({display:\"inline\",verticalAlign:\"middle\"}),n}},_updatePosition:function(t){if(t)for(var i=t.children(),e=parseFloat(0===this.lastFontSize?.25:.25*this.lastFontSize/16),n=0;n<i.length;n++){var r=i[n],s=(n+1)*e;$(r).css(\"left\",s+\"rem\")}},_getIconName:function(t){var i=t.icon;if(i&&i.icon){var e=i.icon.toString();if(e){var n=e.substring(e.lastIndexOf(\"/\")+1);if(n){var r=n.lastIndexOf(\".\"),s=this._getStatus(i);return r>-1&&(n=n.substring(0,r)),this._statusExist(s)&&(n=n+\"-\"+s),n}}}},_updateTooltip:function(t,i,e){i=i||(t||\"\"),e&&e.attr(\"title\",i)},_destroyIconAndUpdate:function(t,e,n){var r=e&&(\"function\"==typeof jQuery||\"object\"==typeof jQuery)&&e instanceof jQuery?e[0]:e;if(!r)return void t.destroy();this.rm.render(t,r);var s,o=e.find(\".sapUiIcon\"),a=t.icon;if(0===o.length&&(o=e.find(\"[role='img']\"),0===o.length&&(o=e.find(\".sapMImg\"))),o){if(t.getSrc&&t.getSrc()){if(t.getSrc().toLowerCase().endsWith(\".svg\")){var h=n.css(\"height\");if(h){h=i.removePX(h);var c=this.lineHeight/h*100;o.css(\"height\",c+\"%\")}}}s=o.attr(\"title\")?o.attr(\"title\"):o.attr(\"alt\"),o.removeAttr(\"title\"),o.removeAttr(\"alt\");var d=this.data[parseInt(n.attr(\"name\"))];if(d&&a){var l=this;$.each(d,function(t,i){if(l._getFirstKey(i).toString()===a.icon)return void(i.iconTitle=s)})}}var u=e.find(\"span\");if(void 0!==u){u.addClass(\"sce-gutter-line-iconHover\");var g=this._getIconName(t);g&&u.addClass(\"sce-gutter-icon-\"+g)}var v=e.find(\"img\");if(void 0!==v&&1===v.length){var f=this.fontSize+\"px\";v.css({width:f,heigth:f})}a&&this._updateTooltip(s,a.tooltip,n);var p=e.html();t.destroy(),e.html(p),this._updatePosition(n)},_appendIconToDom:function(t,i,e){var n=this._createIconDiv(t,e.attr(\"name\"));if(n){var r=n.appendTo(e);this._destroyIconAndUpdate(i,r,e)}else this._warnLog(t.icon,e.attr(\"name\"))},_prependIconToDom:function(t,i,e){var n=this._createIconDiv(t,e.attr(\"name\"));if(n){var r=n.prependTo(e);this._destroyIconAndUpdate(i,r,e)}else this._warnLog(t,e.getAttribute(\"name\"))},_afterIconToDom:function(t,i,e){var n=e.parent(),r=this._createIconDiv(t,n.attr(\"name\"));r?(e.after(r.outerHTML()),this._destroyIconAndUpdate(i,n.children(\"div[name='\"+r.attr(\"name\")+\"']\").first(),n)):this._warnLog(t.icon,e.getAttribute(\"name\"))},_addIcon:function(t,i,e){for(var n=e.length,r=this.data[i],s=0;s<n;s++){var o=e[s],a=this._createIcon(o);if(a)if(void 0===r||0===r.length){r=[],this.data[i]=r;var h=this._createCacheIcon(o);r.push(h),this._appendIconToDom(o,a,t)}else{var c=this._getCacheIcon(r,o.icon);if(c)continue;if(this.iconOrderMap){var d=this.iconOrderMap[o.icon.toString()],h=this._createCacheIcon(o);if(void 0===d)r.push(h),this._appendIconToDom(o,a,t);else{var l=this.iconOrderMap[this._getFirstKey(r[0]).toString()],u=this.iconOrderMap[this._getFirstKey(r[r.length-1]).toString()];if(l>d)r.unshift(h),this._prependIconToDom(o,a,t);else if(u<d)r.push(h),this._appendIconToDom(o,a,t);else{var g=r.length;if(2===g)r.splice(1,0,h),this._afterIconToDom(o,a,t.children().first());else if(g>2){for(var v,f=-1,p=0;p<g;p++){var _=r[p],I=r[p+1],m=this.iconOrderMap[this._getFirstKey(_).toString()];if(!I)break;var y=this.iconOrderMap[this._getFirstKey(I).toString()];if(void 0!==m&&void 0!==y&&m<d&&d<y){f=p+1,v=_.toString();break}}if(v){r.splice(f,0,h);var S=t.children(\"div[name='\"+v+\"']\").first();this._afterIconToDom(o,a,S)}}}}}else{var c=this._getCacheIcon(r,o.icon);if(void 0===c){var h=this._createCacheIcon(o);r.push(h),this._appendIconToDom(o,a,t)}}}else this._warnLog(o,i)}},_removeIcon:function(t,i,e){for(var n=0;n<e.length;n++){var r=e[n],s=t.children(\"div[name='\"+r.toString()+\"']\");s&&s.remove()}var o=this.data[i];if(o){for(var n=0;n<e.length;n++)for(var a=e[n],h=0;h<o.length;h++)if(void 0!==o[h][a.toString()]){o.splice(h,1);break}var c,d=\"\",l=\"\",u=o.length;u>0&&(c=o[u-1],d=c.tooltip,l=c.iconTitle),this._updateTooltip(l,d,t)}this._updatePosition(t)},_replaceIcon:function(t,i,e){for(var n=[],r=[],s=0;s<e.length;s++){var o=e[s],a={icon:o.newIcon,status:this._getStatus(o)};n.push(a),r.push(o.oldIcon)}this._removeIcon(t,i,r),this._addIcon(t,i,n)},_clearBar:function(){this.gutterBar.empty(),this.gutterBar.html(\"\")},_listLines:function(t){return t.map(function(t){return t.lineIndex+\"-\"+t.lineHeight})},_parseFontSize:function(t){return void 0===t?16:t},_getWidth:function(t){var i=0===this.width?this.gutterBar[0].style.width:this.width,e=0===this.lastFontSize?16:this.lastFontSize;return i=void 0===i||\"\"===i?1.25:parseFloat(i.substr(0,i.lastIndexOf(\"rem\"))),t*i/e},add:function(t){this._iconHandler(t,this._addIcon.bind(this))},replace:function(t){this._iconHandler(t,this._replaceIcon.bind(this))},remove:function(t){this._iconHandler(t,this._removeIcon.bind(this))},removeAll:function(){this.data={};for(var t=this.gutterBar,i=t.children(),e=1;e<i.length;e++){var n=i[e];n&&($(n).empty(),$(n).html(\"\"))}},render:function(t){if(void 0!==t.lines&&(!this.lines||this._listLines(this.lines).toString()!==this._listLines(t.lines).toString()||this.lineHeight!==t.lineHeight||this.top!==t.top)){this._clearBar(),this.fontSize=this._parseFontSize(t.fontSize),this.fontSize!==this.lastFontSize&&(this.width=this._getWidth(this.fontSize)+\"rem\"),this.gutterBar.css(\"width\",this.width),this.lastFontSize=this.fontSize;var i=this;this.lines=t.lines,this.lineHeight=t.lineHeight,this.top=t.top,this.gutterBar.css({height:t.height+\"px\",top:t.top+\"px\"});var e=this.lines.length,n=jQuery(\"<div></div>\").appendTo(this.gutterBar);if(n.addClass(\"rulerGutterLines odd\"),n.css({width:this.width,height:t.lineHeight+\"px\",visibility:\"hidden\"}),e>0)for(var r=0;r<e;r++){var s=this.lines[r],o=s.lineIndex,a=s.lineHeight,h=jQuery(\"<div name='\"+o+\"'></div>\").appendTo(this.gutterBar);h.addClass(\"rulerGutterLines odd\"),h.css({width:this.width,height:a+\"px\"}),h.on(\"click\",function(t){if((void 0===t.button||0===t.button)&&i.visible){var e=parseInt(this.getAttribute(\"name\"));jQuery(i).triggerHandler({type:\"gutterClicked\",lineIndex:e,iconIds:i._getLineIconIds(e)})}}).on(\"mousedown\",function(t){if(i.visible){var e=parseInt(this.getAttribute(\"name\"));jQuery(i).triggerHandler({type:\"gutterMousedown\",lineIndex:e,iconIds:i._getLineIconIds(e),originalEvent:t})}}).on(\"mouseup\",function(t){if(i.visible){var e=parseInt(this.getAttribute(\"name\"));jQuery(i).triggerHandler({type:\"gutterMouseup\",lineIndex:e,iconIds:i._getLineIconIds(e),originalEvent:t})}});var c=this.data[o];if(c)for(var d=0;d<c.length;d++){var l=c[d],u=this._getFirstKey(l),g={icon:u,tooltip:l.tooltip},v=this._createIcon(g);this._appendIconToDom(g,v,h)}}}},setVisible:function(t){this.visible=t,t?this.gutterBar.css(\"display\",\"block\"):this.gutterBar.css(\"display\",\"none\")},_getLineIcons:function(t){var i=[],e=this;return $.each(t,function(t,n){var r={},s=e._getFirstKey(n);r.icon=s,e._statusExist(n.status)&&(r.status=n.status),r.tooltip=n.tooltip,i.push(r)}),i},getIcons:function(t){var i=[],e=this.data,n=this;if(void 0!==t&&t>-1){var r={};r.lineIndex=t,r.icons=this._getLineIcons(e[t]),i.push(r)}else $.each(e,function(t,e){var r={};r.lineIndex=t,r.icons=n._getLineIcons(e),i.push(r)});return i},getBar:function(){return this.gutterBar},destroy:function(){jQuery(this).off(),this.rm.destroy()}},s},!0);",
	"sas/hc/ui/commons/codeEditor/LanguageService.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([],function(){\"use strict\";var t={};return t.ParsingState={STARTING:1,ENDED:2},t},!0);",
	"sas/hc/ui/commons/codeEditor/library.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sap/ui/core/Core\",\"sap/ui/core/library\",\"sap/ui/commons/library\",\"sap/ui/layout/library\",\"sap/ui/ux3/library\",\"sas/hc/ui/layout/library\",\"sas/ltjs/sasicu/library\"],function(){\"use strict\";return sap.ui.getCore().initLibrary({name:\"sas.hc.ui.commons.codeEditor\",dependencies:[\"sap.ui.core\",\"sap.ui.commons\",\"sap.ui.layout\",\"sap.ui.ux3\",\"sas.hc.ui.layout\",\"sas.ltjs.sasicu\"],types:[],interfaces:[],controls:[\"sas.hc.ui.commons.codeEditor.AutoCompleteHelper\",\"sas.hc.ui.commons.codeEditor.AutoCompletePopup\",\"sas.hc.ui.commons.codeEditor.AutoCompleter\",\"sas.hc.ui.commons.codeEditor.BracketHighlighter\",\"sas.hc.ui.commons.codeEditor.Clipboard\",\"sas.hc.ui.commons.codeEditor.CodeEditor\",\"sas.hc.ui.commons.codeEditor.CodeZoneManager\",\"sas.hc.ui.commons.codeEditor.ContextMenu\",\"sas.hc.ui.commons.codeEditor.CoreRange\",\"sas.hc.ui.commons.codeEditor.EditorController\",\"sas.hc.ui.commons.codeEditor.EditorCore\",\"sas.hc.ui.commons.codeEditor.EditorModel\",\"sas.hc.ui.commons.codeEditor.FoldingMgr\",\"sas.hc.ui.commons.codeEditor.GoToLineDialog\",\"sas.hc.ui.commons.codeEditor.Gutter\",\"sas.hc.ui.commons.codeEditor.LanguageService\",\"sas.hc.ui.commons.codeEditor.Mode\",\"sas.hc.ui.commons.codeEditor.SasAutoCompleter\",\"sas.hc.ui.commons.codeEditor.SasLanguageService\",\"sas.hc.ui.commons.codeEditor.Settings\",\"sas.hc.ui.commons.codeEditor.ShortcutController\",\"sas.hc.ui.commons.codeEditor.SnippetCompleter\",\"sas.hc.ui.commons.codeEditor.TextPosition\",\"sas.hc.ui.commons.codeEditor.TextRange\",\"sas.hc.ui.commons.codeEditor.Utils\",\"sas.hc.ui.commons.codeEditor.mode.SyntaxColorerAdapter\",\"sas.hc.ui.commons.codeEditor.mode.eel.eel\",\"sas.hc.ui.commons.codeEditor.mode.eel.eel_highlight_rules\",\"sas.hc.ui.commons.codeEditor.mode.sas.Formatter\",\"sas.hc.ui.commons.codeEditor.mode.sas.SasKeywords\",\"sas.hc.ui.commons.codeEditor.mode.sas.SasLexer\",\"sas.hc.ui.commons.codeEditor.mode.sas.SasLexerEx\",\"sas.hc.ui.commons.codeEditor.mode.sas.SyntaxColor\",\"sas.hc.ui.commons.codeEditor.orion.code_edit.built-codeEdit\"],elements:[],version:\"10.1.21\"}),sas.hc.ui.commons.codeEditor});",
	"sas/hc/ui/commons/codeEditor/Mode.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./mode/sas/SyntaxColor\",\"./mode/sas/Formatter\",\"./mode/eel/eel\",\"./mode/casl/casl\",\"./mode/SyntaxColorerAdapter\",\"sas/hc/ui/core/Core\",\"sas/hc/ui/thirdparty/ace/ace\"],function(e,a,r,s,i,t){\"use strict\";var c=sas.hc.ui.commons.codeEditor.LanguageMode={Unset:\"none\",Text:\"text\",SclCode:\"scl\",SasCode:\"sas\",EEL:\"eel\",Casl:\"casl\",Log:\"log\",Lst:\"lst\",Mdx:\"mdx\",Custom:\"custom\",Batch:\"batchfile\",Cpp:\"c_cpp\",Clojure:\"clojure\",Cobol:\"cobol\",Coffee:\"coffee\",Csharp:\"csharp\",CSS:\"css\",DCode:\"d\",Dart:\"dart\",Dockerfile:\"dockerfile\",Erlang:\"erlang\",Glsl:\"glsl\",Golang:\"golang\",Groovy:\"groovy\",Haskell:\"haskell\",Html:\"html\",Io:\"io\",Java:\"java\",Javascript:\"javascript\",Json:\"json\",Jsoniq:\"jsoniq\",Jsp:\"jsp\",Jsx:\"jsx\",Julia:\"julia\",Latex:\"latex\",Less:\"less\",Lisp:\"lisp\",Lua:\"lua\",Lucene:\"lucene\",Makefile:\"makefile\",Markdown:\"markdown\",Matlab:\"matlab\",Mysql:\"mysql\",OC:\"objectivec\",Pascal:\"pascal\",Perl:\"perl\",Pgsql:\"pgsql\",Php:\"php\",Prolog:\"prolog\",Python:\"python\",R:\"r\",Ruby:\"ruby\",Rust:\"rust\",Sass:\"sass\",Scala:\"scala\",Scheme:\"scheme\",Scss:\"scss\",Sh:\"sh\",Sql:\"sql\",Sqlserver:\"sqlserver\",Stylus:\"stylus\",SVG:\"svg\",Tcl:\"tcl\",Tex:\"tex\",Typescript:\"typescript\",VBScript:\"vbscript\",Velocity:\"velocity\",Vhdl:\"vhdl\",Xml:\"xml\",XQuery:\"xquery\",Yaml:\"yaml\"},u=sas.hc.ui.commons.codeEditor.LanguageModeClassesMapping={};return u[c.SasCode]={highlight:e,formatter:a},u[c.EEL]={mode:r},u[c.Casl]={mode:s},function(e,a){this._language=e||c.SasCode,this._customConfig=a,this._highlight=null,this._formatter=null,this._langModeClasses=u[this._language]||{},this._applyHighlightCustomConfig=function(e,a){},this._getMode=function(){if(this._langModeClasses.mode)return new this._langModeClasses.mode;var e=\"ace/mode/\"+this._language;if(this._customConfig)e=this._getCustomMode();else{switch(this._language){case c.Batch:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-batchfile\");break;case c.Cpp:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-c_cpp\");break;case c.Clojure:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-clojure\");break;case c.Cobol:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-cobol\");break;case c.Coffee:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-coffee\");break;case c.Csharp:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-csharp\");break;case c.CSS:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-css\");break;case c.DCode:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-d\");break;case c.Dart:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-dart\");break;case c.Dockerfile:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-dockerfile\");break;case c.Erlang:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-erlang\");break;case c.Glsl:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-glsl\");break;case c.Golang:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-golang\");break;case c.Groovy:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-groovy\");break;case c.Haskell:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-haskell\");break;case c.Html:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-html\");break;case c.Io:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-io\");break;case c.Java:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-java\");break;case c.Javascript:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-javascript\");break;case c.Json:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-json\");break;case c.Jsoniq:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-jsoniq\");break;case c.Jsp:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-jsp\");break;case c.Jsx:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-jsx\");break;case c.Julia:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-julia\");break;case c.Latex:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-latex\");break;case c.Less:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-less\");break;case c.Lisp:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-lisp\");break;case c.Lua:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-lua\");break;case c.Lucene:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-lucene\");break;case c.Makefile:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-makefile\");break;case c.Markdown:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-markdown\");break;case c.Matlab:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-matlab\");break;case c.Mysql:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-mysql\");break;case c.OC:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-objectivec\");break;case c.Pascal:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-pascal\");break;case c.Perl:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-perl\");break;case c.Pgsql:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-pgsql\");break;case c.Php:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-php\");break;case c.Prolog:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-prolog\");break;case c.Python:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-python\");break;case c.R:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-r\");break;case c.Ruby:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-ruby\");break;case c.Rust:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-rust\");break;case c.Sass:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-sass\");break;case c.Scala:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-scala\");break;case c.Scheme:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-scheme\");break;case c.Scss:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-scss\");break;case c.Sh:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-sh\");break;case c.Sql:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-sql\");break;case c.Sqlserver:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-sqlserver\");break;case c.Stylus:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-stylus\");break;case c.SVG:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-svg\");break;case c.Tcl:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-tcl\");break;case c.Tex:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-tex\");break;case c.Typescript:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-typescript\");break;case c.VBScript:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-vbscript\");break;case c.Velocity:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-velocity\");break;case c.Vhdl:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-vhdl\");break;case c.Xml:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-xml\");break;case c.XQuery:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-xquery\");break;case c.Yaml:jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/mode-yaml\")}\"html\"===this._language&&jQuery.sap.require(\"sas/hc/ui/thirdparty/ace/worker-html\")}return e},this._getCustomMode=function(){if(\"function\"==typeof this._customConfig)return new this._customConfig;var e=window.ace.require(\"ace/lib/oop\"),a=window.ace.require(\"ace/mode/text\").Mode,r=window.ace.require(\"ace/mode/text_highlight_rules\").TextHighlightRules,s=this._customConfig.highlightRules,i=function(){if(a.call(this),s){var i=function(){r.call(this),this.$rules=s};e.inherits(i,r),this.HighlightRules=i}};return e.inherits(i,a),new i},this.destroy=function(){this._customConfig=null,this._highlight&&this._highlight instanceof i&&this._highlight.destroy()},this.getLanguage=function(){return this._language},this.getHighlight=function(e){return this._highlight||(this._langModeClasses.highlight?(this._highlight=new this._langModeClasses.highlight(e),this._tokenCallback&&this._highlight.setTokenCallback&&this._highlight.setTokenCallback(this._tokenCallback)):this._highlight=new i(this._getMode())),this._highlight},this.getFormatter=function(e){return!this._formatter&&this._langModeClasses.formatter&&(this._formatter=new this._langModeClasses.formatter(e)),this._formatter},this.setTokenCallback=function(e){this._tokenCallback=e}}},!0);",
	"sas/hc/ui/commons/codeEditor/mode/casl/casl_highlight_rules.js": "// (c) 2017, SAS Institute Inc.\nsap.ui.define([\"sas/hc/ui/thirdparty/ace/ace\",\"sas/hc/ui/thirdparty/ace/mode-text\"],function(){\"use strict\";var e=window.ace.require(\"ace/lib/oop\"),t=window.ace.require(\"ace/mode/text_highlight_rules\").TextHighlightRules,n=function(){t.call(this);var e=this.createKeywordMapper({keyword:\"abort|action|access|all|and|aspect|async|beginplot|between|by|call|caslib|casout|cancel|class|clear|contains|continue|cycleattrs|dataout|datasource|dattrmap|default|delete|deport|describe|disp|do|else|end|endclass|endplot|endsource|exit|file|flist|fnc|format|fpe|function|functionlist|global|goto|graph|group|if|ignore|illop|import|importoptions|in|interrupt|label|leave|lib|like|loadactionset|log|logs|mixed|name|noautolegend|noborder|nocycleattrs|noopaque|noreplace|nowall|ods|on|otherwise|output|over|pad|path|pctlevel|pctndec|plot|propagate|print|printlst|raise|rattrmap|reduce|replace|result|return|run|saveresult|scale|select|session|sganno|simple|source|spline|status|table|then|to|unknown|uniform|unset|until|upload|when|where|while|xscale|xscalegroup|yscale|yscalegroup\",\"support.function\":\"addbygroup|add_table_attr|addrow|actionstatus|addunique|combine_tables|create_parallel_session|dict|dictionary|discard|dim|exists|exp|findtable|fmtvar|isArray|isBlob|isDictionary|isDouble|isInteger|isList|isString|isTable|isType|lgamma|loc|log2|max|min|newtable|not|printtable|put|readfile|readpath|result_by_col|result_by_type|send_response|sleep|sort|sort_rev|sqrt|substr|symputx|tabcolumns|tabtypes|term_parallel_session|timestamp|traceback|unique|uuid|wait_for_next_action\"},\"identifier\",!0);this.$rules={start:[{token:\"comment\",regex:\"\\\\/\\\\*\",next:\"comment\"},{token:\"string\",regex:'[\"]',next:\"qqstring\"},{token:\"string\",regex:\"[']\",next:\"qstring\"},{token:\"constant.numeric\",regex:\"0[xX][0-9a-fA-F]+\\\\b\"},{token:\"constant.numeric\",regex:\"\\\\-?(?:(?:[0-9]+(?:\\\\.[0-9]+)?)|(?:\\\\.[0-9]+))\"},{token:\"constant.language.boolean\",regex:\"(?:true|false)\\\\b\"},{token:e,regex:\"[a-zA-Z_$][a-zA-Z0-9_$]*\\\\b\"},{token:\"operator\",regex:\"!|\\\\$|%|&|\\\\*|\\\\-|\\\\+|=|<|>|\\\\||:\"},{token:\"punctuation.operator\",regex:\"\\\\,|\\\\;|\\\\.\"},{token:\"paren.lparen\",regex:\"[[({]\"},{token:\"paren.rparen\",regex:\"[\\\\])}]\"},{token:\"text\",regex:\"\\\\s+\"}],comment:[{token:\"comment\",regex:\".*?\\\\*\\\\/\",next:\"start\"},{token:\"comment\",regex:\".+\"}],qqstring:[{token:\"string\",regex:'(?:(?:\\\\\\\\.)|(?:[^\"\\\\\\\\]))*?\"',next:\"start\"},{token:\"string\",regex:\".+\"}],qstring:[{token:\"string\",regex:\"(?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?'\",next:\"start\"},{token:\"string\",regex:\".+\"}]},this.normalizeRules()};return e.inherits(n,t),n},!0);",
	"sas/hc/ui/commons/codeEditor/mode/casl/casl.js": "// (c) 2017, SAS Institute Inc.\nsap.ui.define([\"./casl_highlight_rules\"],function(e){\"use strict\";var i=window.ace.require(\"ace/lib/oop\"),t=window.ace.require(\"ace/mode/text\").Mode,n=function(){t.call(this),this.HighlightRules=e,this.blockComment={start:\"/*\",end:\"*/\"}};return i.inherits(n,t),n},!0);",
	"sas/hc/ui/commons/codeEditor/mode/eel/eel_highlight_rules.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"sas/hc/ui/thirdparty/ace/ace\",\"sas/hc/ui/thirdparty/ace/mode-text\"],function(){\"use strict\";var e=window.ace.require(\"ace/lib/oop\"),t=window.ace.require(\"ace/mode/text_highlight_rules\").TextHighlightRules,r=function(){t.call(this);var e=this.createKeywordMapper({keyword:\"integer|string|real|boolean|date|dbconnection|dbstatement|dbcursor|file|regex|array|bluefusion|begin|bytes|call|else|end|false|for|function|global|goto|hidden|if|label|not|null|pointer|private|public|return|static|step|then|to|true|type|visible|while\",\"support.function\":\"abs|aparse|asc|bluefusion_initialize|ceil|chr|compare|copyfile|dbconnect|dbdatasources|decode|deletefile|edit_distance|encode|execute|fieldcount|fieldname|fieldtype|fieldvalue|filedate|fileexists|floor|formatdate|formatib|formatpd|formatpiccomp|formatpiccomp3|formatpiccomp5|formatpicsigndec|formats370fib|formats370fpd|getvar|has_control_chars|ib|inlist|instr|isalpha|isblank|isnull|isnumber|left|len|locale|logmessage|match_string|max|mid|min|mkdir|movefile|normsinv|parameter|parametercount|parse|pattern|pd|piccomp|piccomp3|piccomp5|picsigndec|pow|print|pushrow|raiseerror|readrow|replace|right|rmdir|round|rowestimate|s370fib|s370fpd|seteof|setfieldvalue|setvar|sleep|sort|sort_words|toboolean|todate|today|tointeger|toreal|tostring|trim|typeof|upper|username|vareval|varset|dim|get|set|close|open|position|readline|writeline|begintransaction|endtransaction|execute|prepare|release|select|tableinfo|tablelist|execute|release|select|setparameter|setparaminfo|columnlength|columnname|columns|columntype|next|release|valueinteger|valuereal|valuestring|compile|replace|case|extract|gender|getlasterror|identify|loadqkb|matchcode|matchscore|parse|pattern|standardize|token|tokenvalue|value\"},\"identifier\");this.$rules={start:[{token:\"comment\",regex:\"\\\\/\\\\/.*$\"},{token:\"comment\",regex:\"\\\\/\\\\*\",next:\"comment\"},{token:\"string\",regex:/'(?:.|\\\\(:?u[\\da-fA-F]+|x[\\da-fA-F]+|[tbrf'\"n]))'/},{token:\"string\",start:'\"',end:'\"|$',next:[{token:\"constant.language.escape\",regex:/\\\\(:?u[\\da-fA-F]+|x[\\da-fA-F]+|[tbrf'\"n])/},{token:\"invalid\",regex:/\\\\./}]},{token:\"string\",start:'@\"',end:'\"',next:[{token:\"constant.language.escape\",regex:'\"\"'}]},{token:\"constant.numeric\",regex:\"0[xX][0-9a-fA-F]+\\\\b\"},{token:\"constant.numeric\",regex:\"[+-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"},{token:\"constant.language.boolean\",regex:\"(?:true|false)\\\\b\"},{token:e,regex:\"[a-zA-Z_$][a-zA-Z0-9_$]*\\\\b\"},{token:\"keyword.operator\",regex:\"!|\\\\$|%|&|\\\\*|\\\\-\\\\-|\\\\-|\\\\+\\\\+|\\\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\\\|\\\\||\\\\?\\\\:|\\\\*=|%=|\\\\+=|\\\\-=|&=|\\\\^=\"},{token:\"punctuation.operator\",regex:\"\\\\?|\\\\:|\\\\,|\\\\;|\\\\.\"},{token:\"paren.lparen\",regex:\"[[({]\"},{token:\"paren.rparen\",regex:\"[\\\\])}]\"},{token:\"text\",regex:\"\\\\s+\"}],comment:[{token:\"comment\",regex:\".*?\\\\*\\\\/\",next:\"start\"},{token:\"comment\",regex:\".+\"}]},this.normalizeRules()};return e.inherits(r,t),r},!0);",
	"sas/hc/ui/commons/codeEditor/mode/eel/eel.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"./eel_highlight_rules\"],function(e){\"use strict\";var i=window.ace.require(\"ace/lib/oop\"),t=window.ace.require(\"ace/mode/text\").Mode,r=function(){t.call(this),this.HighlightRules=e};return i.inherits(r,t),r},!0);",
	"sas/hc/ui/commons/codeEditor/mode/sas/Formatter.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./SasLexerEx\"],function(t){\"use strict\";return function(e){function n(t,e){e?window.setTimeout(function(){c.setSelection(t,t)}.bind(l),0):c.setSelection(t,t)}function i(){return g.getTabAsSpace()?g.getTabText():\"\\t\"}function s(t){var e,n=0,i=t.length;for(e=0;e<i;e++)n+=\"\\t\"===t[e]?g.getTabSize():1;return n}function r(t){for(var e=Math.floor(t/g.getTabSize()),n=i(),r=\"\";e--;)r+=n;if((e=s(r))<t)for(e=t-e;e--;)r+=\" \";return r}function o(t){var e,n,o,a=t.line,l=t.column,c=\"\";if(a>=0){if(c=f.getIndent({line:a,column:l}),!g.getIndentEnabled())return c;o=u.getFoldingBlock(a,l),o&&o.startLine===a&&o.startCol+o.name.length<l&&!(o.endLine===a&&o.endCol<=l&&o.explicitEnd)&&(e=f.getLine(a),c=e.substring(0,o.startCol),c+=i(),n=s(c),c=r(n))}return c}function a(t){if(!g.getReadOnly()){var n=e.cleanText(t),i=c.getSelection();c.setText(n,i.start,i.end)}}var l=this,g=e.settings(),u=e.langService(),c=e.editor(),f=e.model();this.BLOCK_END_EXP=/^\\s*(RUN|RUN\\s*CANCEL|%MEND.*)\\s*;\\s*$/gi,this.model=function(){return f},this.langServ=function(){return u},this.settings=function(){return g},this.onTextChanged=function(t){e.settings().getIndentEnabled()&&\";\"===t.text&&\"\"===t.removedText&&\"redo\"!==e.baseModel().actionType&&window.setTimeout(function(){l.tryToOutdent(t)},0)},this.tryToIndent=function(){a(\"\\n\"+o(f.toTextPosition(c.getCaretOffset())))},this.tryToOutdent=function(i){var o,a=i.newRange.end,l=this.model(),u=l.getLine(a.line).substring(0,a.column);if(this.BLOCK_END_EXP.lastIndex=0,(o=this.BLOCK_END_EXP.exec(u))&&o.length>0){var f,d,h,T,E,C,x,m=this.langServ().getFoldingBlock(a.line,0);if(m)switch(m.type){case t.SEC_TYPE.PROC:case t.SEC_TYPE.DATA:if(/^%mend.*/gi.test(o[1]))return;break;case t.SEC_TYPE.MACRO:if(!/^%mend.*/gi.test(o[1]))return}if(m&&m.startLine!==m.endLine&&(f=l.getLine(m.startLine).substring(0,m.startCol),(o=u.match(/(^\\s*|.*)/g))&&o.length&&(d=o[0],h=s(f),T=s(d),h<T))){if(E=l.toTextOffset(a.line,0),C=E+d.length,x=r(h),!g.getReadOnly()){var L=e.cleanText(x);c.setText(L,E,C)}E=E+o[1].length+x.length,n(E)}}}}},!0);",
	"sas/hc/ui/commons/codeEditor/mode/sas/SasKeywords.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([],function(){\nreturn[\"_ALL_\",\"_ANY_\",\"_BLANKPAGE_\",\"_CHARACTER\",\"_CHARACTER_\",\"_DATA_\",\"_EXOG_\",\"_FIRST_\",\"_INFILE_\",\"_LAST_\",\"_LOSS_\",\"_NEXT_\",\"_NULL_\",\"_NUMERIC_\",\"_PAGE_\",\"_PREV_\",\"_RESPONSE_\",\"_TEMPORARY_\",\"2SLS\",\"3SLS\",\"A\",\"AB\",\"ABEND\",\"ABORT\",\"ABSCONV\",\"ABSENT\",\"ABSFCONV\",\"ABSFTOL\",\"ABSGCON\",\"ABSGCONV\",\"ABSGTOL\",\"ABSOLUTE\",\"ABSORB\",\"ABSPCONV\",\"ABSTOL\",\"ABSXCONV\",\"ABSXTOL\",\"ACCDESC\",\"ACCELERATE\",\"ACCEPTTOL\",\"ACCESC\",\"ACCESS\",\"ACCRUALT\",\"ACCRUALTIME\",\"ACCT\",\"ACCTIME\",\"ACECLUS\",\"ACFPLOT\",\"ACOV\",\"ACOVMETHOD\",\"ACROSS\",\"ACTIVEFOOTN\",\"ACTIVETITLE\",\"ACTUAL\",\"AD\",\"ADD\",\"ADDCELL\",\"ADDITIVE\",\"ADDR\",\"ADDTOBS\",\"ADIAG\",\"ADJDF\",\"ADJDFE\",\"ADJRSQ\",\"ADJRSQ.\",\"ADJUST\",\"ADMGDF\",\"ADP\",\"ADPREFIX\",\"ADPVAL\",\"AFT\",\"AFTER\",\"AGE\",\"AGGREGATE\",\"AGREE\",\"AIC\",\"AIC.\",\"AICC\",\"AIP\",\"AIPREFIX\",\"AJCHI\",\"ALG\",\"ALGORITHM\",\"ALIASING\",\"ALIGN\",\"ALL\",\"ALLLABEL\",\"ALLLABEL2\",\"ALLN\",\"ALLOBS\",\"ALLSTATS\",\"ALLVARS\",\"ALOGIT\",\"ALOGITS\",\"ALP\",\"ALPAHA\",\"ALPH\",\"ALPHA\",\"ALPHACLI\",\"ALPHACLM\",\"ALPHACSM\",\"ALPHADELTA\",\"ALPHAECV\",\"ALPHAINIT\",\"ALPHAINITIAL\",\"ALPHAP\",\"ALPHAQT\",\"ALPHARMS\",\"ALSTER\",\"ALT\",\"ALTDEST\",\"ALTER\",\"ALTERNATE\",\"ALTPARM\",\"AM\",\"AMISE\",\"AN\",\"ANALYSIS\",\"ANCHOR\",\"AND\",\"ANGLE\",\"ANGLETOL\",\"ANGLETOLERANCE\",\"ANNO\",\"ANNOKEY\",\"ANNOTATE\",\"ANNOTATE2\",\"ANO\",\"ANOVA\",\"ANY\",\"AOV\",\"APP\",\"APPEND\",\"APPENDVER\",\"APPROX\",\"APPROXIMATIONS\",\"APR\",\"APREFIX\",\"AR\",\"ARCHIVE\",\"ARCHTEST\",\"AREA\",\"AREAS\",\"ARIMA\",\"ARRAY\",\"ARS\",\"ARSIN\",\"AS\",\"ASC\",\"ASCEND\",\"ASCENDING\",\"ASCII\",\"ASING\",\"ASINGULAR\",\"ASIS\",\"ASPECT\",\"ASSESS\",\"ASSESSMENT\",\"ASSIGN\",\"ASYCORR\",\"ASYCOV\",\"ASYMPCOV\",\"ASYSTAND\",\"AT\",\"ATD\",\"ATMEANS\",\"ATOL\",\"ATTR\",\"ATTRIB\",\"ATTRIBUTES\",\"AUDIT\",\"AUG\",\"AUGMENT\",\"AUTOCOPY\",\"AUTOCORLAG\",\"AUTOFEED\",\"AUTOHREF\",\"AUTOLABEL\",\"AUTONAME\",\"AUTOREF\",\"AUTOREG\",\"AUTOSIZE\",\"AUTOVREF\",\"AVERAGE\",\"AVERAGED\",\"AXIS\",\"AXIS1\",\"AXIS2\",\"B\",\"BACK\",\"BACKLIM\",\"BACKSTEP\",\"BANDMAX\",\"BANDMAXTIME\",\"BANDMIN\",\"BANDMINTIME\",\"BANDW\",\"BANDWIDTH\",\"BAR\",\"BARWIDTH\",\"BASE\",\"BASELINE\",\"BAUD\",\"BCOLOR\",\"BCORR\",\"BCOV\",\"BDATA\",\"BDCHI\",\"BDMP\",\"BEFORE\",\"BEFORE_IMAGE\",\"BEGINHYPER\",\"BEGINPRIOR\",\"BELL\",\"BEN\",\"BENZECRI\",\"BEST\",\"BETA\",\"BETWEEN\",\"BFONT\",\"BIASADJ\",\"BIASKUR\",\"BIASTEST\",\"BIC\",\"BIC.\",\"BILEVEL\",\"BIN\",\"BINARY\",\"BINDING\",\"BINOMIAL\",\"BINS\",\"BITER\",\"BITS\",\"BIVAR\",\"BIVSTATS\",\"BL\",\"BLABEL\",\"BLANK\",\"BLK\",\"BLKSIZE\",\"BLOCK\",\"BLOCKLABELPOS\",\"BLOCKLABTYPE\",\"BLOCKMAX\",\"BLOCKPOS\",\"BLOCKREP\",\"BLOCKSIZE\",\"BLUP\",\"BLUS\",\"BMDP\",\"BODY\",\"BON\",\"BONFERRONI\",\"BOOT\",\"BOOTSTRAP\",\"BORDER\",\"BOS\",\"BOUNDARY\",\"BOUNDS\",\"BOX\",\"BOXCHART\",\"BOXCONNECT\",\"BOXCOX\",\"BOXPLOT\",\"BOXSTYLE\",\"BOXWIDTH\",\"BOXWIDTHSCALE\",\"BREAK\",\"BREUSCH\",\"BRIEF\",\"BRIEFSUMMARY\",\"BROWSE\",\"BSCALE\",\"BSIZE\",\"BSLPINE\",\"BSP\",\"BSPACE\",\"BSPLINE\",\"BSSCP\",\"BUBBLE\",\"BUBBLE2\",\"BUBBLE3D\",\"BUCKET\",\"BUFFERSIZE\",\"BWIDTH\",\"BWM\",\"BWSLEGEND\",\"BY\",\"BYCAT\",\"BYCATEGORY\",\"BYLEVEL\",\"BYLINE\",\"BYOUT\",\"BYTE\",\"C\",\"CA\",\"CALEDATA\",\"CALENDAR\",\"CALID\",\"CALIS\",\"CALL\",\"CAN\",\"CANCEL\",\"CANCORR\",\"CANDISC\",\"CANONICAL\",\"CANPREFIX\",\"CANPRINT\",\"CAPABILITY\",\"CAPLINE\",\"CARCHAR\",\"CARDS\",\"CARDS4\",\"CASC\",\"CASCADE\",\"CASE\",\"CAT\",\"CATALOG\",\"CATMOD\",\"CATNAME\",\"CAUTOHREF\",\"CAUTOREF\",\"CAUTOVREF\",\"CAXES\",\"CAXIS\",\"CBACK\",\"CBAR\",\"CBARLINE\",\"CBLKOUT\",\"CBLOCK\",\"CBLOCKLAB\",\"CBLOCKVAR\",\"CBODY\",\"CBORDER\",\"CBOTTOM\",\"CBOXES\",\"CBOXFILL\",\"CBY\",\"CC\",\"CCC\",\"CCENSOR\",\"CCHART\",\"CCLIP\",\"CCO\",\"CCONECT\",\"CCONF\",\"CCONNECT\",\"CCONVERGE\",\"CCOPY\",\"CCOVERLAY\",\"CD\",\"CDEF\",\"CDEL\",\"CDELETE\",\"CDELTA\",\"CDF\",\"CDFPLOT\",\"CDFSYMBOL\",\"CDP\",\"CDPREFIX\",\"CEC\",\"CEL\",\"CELL\",\"CELLCHI2\",\"CEMPTY\",\"CEN\",\"CENBIN\",\"CENCOLOR\",\"CENSCALE\",\"CENSORED\",\"CENSOREDSYMBOL\",\"CENSYMBOL\",\"CENTER\",\"CENTILES\",\"CENTROID\",\"CERROR\",\"CERTSIZE\",\"CEV\",\"CFACTOR\",\"CFILL\",\"CFILLH\",\"CFIT\",\"CFR\",\"CFRAME\",\"CFRAMELAB\",\"CFRAMENLEG\",\"CFRAMESIDE\",\"CFRAMETOP\",\"CFREQ\",\"CFREQLABEL\",\"CGRID\",\"CH\",\"CHA\",\"CHAIN\",\"CHANGE\",\"CHAR\",\"CHARACTER\",\"CHARACTERS\",\"CHARREC\",\"CHARSPACETYPE\",\"CHART\",\"CHARTYPE\",\"CHEADER\",\"CHECK\",\"CHECKBOX\",\"CHECKINDICES\",\"CHIF\",\"CHISQ\",\"CHISQ1\",\"CHOCKING\",\"CHOL\",\"CHOLESHKY\",\"CHORO\",\"CHOW\",\"CHREF\",\"CHTML\",\"CI\",\"CIALPHA\",\"CIBASIC\",\"CICOV\",\"CIINDICES\",\"CIL\",\"CILPREFIX\",\"CIMPORT\",\"CINFILL\",\"CINITIAL\",\"CIP\",\"CIPCTLDF\",\"CIPCTLNORMAL\",\"CIPREFIX\",\"CIPROBEX\",\"CIQUANTDF\",\"CIQUANTNORMAL\",\"CIRCLEARC\",\"CITY\",\"CITYPE\",\"CIU\",\"CIUPREFIX\",\"CK\",\"CL\",\"CLA\",\"CLABBOX\",\"CLABEL\",\"CLASS\",\"CLASSDATA\",\"CLASSES\",\"CLASSKEY\",\"CLASSLEV\",\"CLASSSPEC\",\"CLB\",\"CLDIFF\",\"CLEAR\",\"CLEFT\",\"CLEVELS\",\"CLI\",\"CLIENT\",\"CLIMITS\",\"CLINE\",\"CLIP\",\"CLIPCHAR\",\"CLIPFACTOR\",\"CLIPLEGEND\",\"CLIPLEGPOS\",\"CLIPREF\",\"CLIPSUBCHAR\",\"CLIPSYMBOL\",\"CLIPSYMBOLHT\",\"CLL\",\"CLM\",\"CLOCKWISE\",\"CLODDS\",\"CLOGIT\",\"CLOGITS\",\"CLONE\",\"CLOSE\",\"CLOSEFILE\",\"CLPARM\",\"CLSL\",\"CLSUM\",\"CLTYPE\",\"CLUSTER\",\"CLUSTERLABEL\",\"CLUSTERNUM\",\"CLUSTERS\",\"CLUSTERS_ONLY\",\"CLWT\",\"CMALLOWS\",\"CMAP\",\"CMF\",\"CMH\",\"CMH1\",\"CMH2\",\"CMHCOR\",\"CMHGA\",\"CMHRMS\",\"CML\",\"CMLPREFIX\",\"CMU\",\"CMUPREFIX\",\"CNEEDLES\",\"CNTLIN\",\"CNTLOUT\",\"CO\",\"COCHQ\",\"COCHRAN\",\"CODE\",\"CODELEN\",\"CODING\",\"COE\",\"COEF\",\"COEFFICIENTS\",\"COL\",\"COLLATE\",\"COLLECT\",\"COLLIN\",\"COLLINOINT\",\"COLOR\",\"COLORS\",\"COLORTYPE\",\"COLUMN\",\"COLUMNS\",\"COLWIDTH\",\"COMB\",\"COMMAND\",\"COMMENT\",\"COMMIT\",\"COMMPORT\",\"COMP\",\"COMPARE\",\"COMPHISTOGRAM\",\"COMPLETETYPES\",\"COMPONENT\",\"COMPRESS\",\"COMPUTE\",\"COMPUTED\",\"COMTIMEOUT\",\"CON\",\"COND\",\"CONDENSE\",\"CONDITION\",\"CONF\",\"CONFBAND\",\"CONFIDENCE\",\"CONFTYPE\",\"CONNECT\",\"CONNECTCHAR\",\"CONSOLE\",\"CONSTANT\",\"CONSTRAINT\",\"CONSTRAINTS\",\"CONTAIN\",\"CONTENT\",\"CONTENTS\",\"CONTGY\",\"CONTINOUS\",\"CONTINUE\",\"CONTINUITY\",\"CONTOUR\",\"CONTRAST\",\"CONTROL\",\"CONTROLSTAT\",\"CONV\",\"CONVCRIT\",\"CONVENIENT\",\"CONVERGE\",\"CONVERGELIKE\",\"CONVERGENCE\",\"CONVERGEOBJ\",\"CONVERGEPARM\",\"CONVERT\",\"CONVF\",\"CONVG\",\"CONVH\",\"COO\",\"COOKD\",\"COOKD.\",\"COORD\",\"COORDINATES\",\"COPIES\",\"COPY\",\"COR\",\"CORE\",\"CORR\",\"CORRB\",\"CORRECT\",\"CORRELATIONS\",\"CORRESP\",\"CORRS\",\"CORRW\",\"CORRXY\",\"COSAN\",\"COUT\",\"COUTFILL\",\"COUTLINE\",\"COV\",\"COV3OUT\",\"COVAR\",\"COVARIANCE\",\"COVARIATES\",\"COVB\",\"COVBEST\",\"COVBI\",\"COVER\",\"COVERLAY\",\"COVERLAYCLIP\",\"COVEST\",\"COVM\",\"COVOUT\",\"COVRATIO\",\"COVRATIO.\",\"COVS\",\"COVSANDWICH\",\"COVSING\",\"COVTEST\",\"CP\",\"CP.\",\"CPATTERN\",\"CPC\",\"CPCT\",\"CPERCENT\",\"CPERCENTLABEL\",\"CPEV\",\"CPHASEBOX\",\"CPHASEBOXCONNECT\",\"CPHASEBOXFILL\",\"CPHASELEG\",\"CPHASEMEANCONNECT\",\"CPK\",\"CPKLCL\",\"CPKREF\",\"CPKSCALE\",\"CPKUCL\",\"CPL\",\"CPLCL\",\"CPLLCL\",\"CPLUCL\",\"CPM\",\"CPMA\",\"CPMLCL\",\"CPMUCL\",\"CPORT\",\"CPR\",\"CPREFIX\",\"CPROP\",\"CPU\",\"CPUCL\",\"CPUCOUNT\",\"CPULCL\",\"CPUUCL\",\"CQC\",\"CR\",\"CRAMV\",\"CREATE\",\"CREF\",\"CRES\",\"CRESIDUAL\",\"CRF\",\"CRIGHT\",\"CRITERIA\",\"CRITERION\",\"CRITMIN\",\"CRO\",\"CROSS\",\"CROSSCORR\",\"CROSSLIST\",\"CROSSLISTERR\",\"CROSSVALIDATE\",\"CRPANEL\",\"CS\",\"CSHADOW\",\"CSS\",\"CSSCP\",\"CSTARCIRCLES\",\"CSTARFILL\",\"CSTAROUT\",\"CSTARS\",\"CSTEP\",\"CSVALL\",\"CSYMBOL\",\"CT\",\"CTABLE\",\"CTARGET\",\"CTESTS\",\"CTEXT\",\"CTITLE\",\"CTOP\",\"CUMCOL\",\"CUMHAZ\",\"CUMULATIVE\",\"CURVELEGEND\",\"CUSL\",\"CUSUM\",\"CUSUMLB\",\"CUSUMSQ\",\"CUSUMSQLB\",\"CUSUMSQUB\",\"CUSUMUB\",\"CUTOFF\",\"CV\",\"CV2OBDC\",\"CVALS\",\"CVM\",\"CVMPVAL\",\"CVREF\",\"CVS\",\"CVSUM\",\"CVTEST\",\"CVWT\",\"CYCLIC\",\"CZONES\",\"D\",\"DAMPSTE\",\"DAMPSTEP\",\"DANISH\",\"DAP\",\"DAPPROXIMATIONS\",\"DASH\",\"DASHLINE\",\"DASHSCALE\",\"DATA\",\"DATA_IMAGE\",\"DATABASE\",\"DATAFILE\",\"DATALINES\",\"DATALINES4\",\"DATAPANEL\",\"DATASETS\",\"DATASYS\",\"DATATABLE\",\"DATATYPE\",\"DATAUNIT\",\"DATE\",\"DATETIME\",\"DAYLENGTH\",\"DB\",\"DB2\",\"DB2SSID\",\"DB3\",\"DB4\",\"DB5\",\"DBF\",\"DBLOAD\",\"DBMS\",\"DD\",\"DDE\",\"DDF\",\"DDFM\",\"DDNAME\",\"DE\",\"DEBUG\",\"DEC\",\"DECIMAL\",\"DECIMALS\",\"DECLARE\",\"DECSEP\",\"DEF\",\"DEFAULT\",\"DEFF\",\"DEFINE\",\"DEG\",\"DEGREE\",\"DELAY\",\"DELETE\",\"DELFLAG\",\"DELIMETER\",\"DELTA\",\"DELVAR\",\"DEMPHAS\",\"DENSITY\",\"DEP\",\"DEPENDENT\",\"DEPONLY\",\"DEPS\",\"DEPSILON\",\"DER\",\"DERIVATIVES\",\"DES\",\"DESC\",\"DESCEND\",\"DESCENDING\",\"DESCENDTYPES\",\"DESCRIBE\",\"DESCRIPTION\",\"DESCRIPTION2\",\"DESIGN\",\"DEST\",\"DESTINATION\",\"DET\",\"DETAIL\",\"DETAIL_PERCENT\",\"DETAIL_RADIUS\",\"DETAIL_SLICE\",\"DETAIL_THRESHOLD\",\"DETAIL_VALUE\",\"DETAILS\",\"DEV\",\"DEVADDR\",\"DEVIANCE\",\"DEVIATION\",\"DEVIATIONS\",\"DEVICE\",\"DEVMAP\",\"DEVOPTS\",\"DEVTYPE\",\"DF\",\"DFADJ\",\"DFBETA\",\"DFBETAS\",\"DFBW\",\"DFE\",\"DFFITS\",\"DFFITS.\",\"DFMATCH\",\"DFMETHOD\",\"DFR\",\"DFRED\",\"DFREDUCE\",\"DIA\",\"DIAGNOSTICS\",\"DIAHES\",\"DIALOG\",\"DICT\",\"DIF\",\"DIFCHISQ\",\"DIFDEV\",\"DIFF\",\"DIFLABEL\",\"DIG3SEP\",\"DIM\",\"DIMENS\",\"DIMENSION\",\"DIR\",\"DIRECT\",\"DIRECTIONS\",\"DIRECTORY\",\"DIS\",\"DISCONNECT\",\"DISCPDIFF\",\"DISCPROPORTIONS\",\"DISCPS\",\"DISCRETE\",\"DISCRIM\",\"DISK\",\"DISPLAY\",\"DISPLAYINIT\",\"DISPOSAL\",\"DISPRATIO\",\"DISPRORATIO\",\"DISSIMILAR\",\"DIST\",\"DISTANCE\",\"DISTINCT\",\"DISTRIBUTION\",\"DIVISOR\",\"DIVSOR\",\"DK\",\"DLM\",\"DM\",\"DO\",\"DOC\",\"DOCBOOK\",\"DOCK\",\"DOCUMENT\",\"DOL\",\"DOMAIN\",\"DONUT\",\"DONUTPCT\",\"DOTS\",\"DOUBLE\",\"DOWN\",\"DQUOTE\",\"DR\",\"DRAW\",\"DRE\",\"DREPLACE\",\"DRIFT\",\"DRIVEMAP\",\"DROP\",\"DROPNULL\",\"DROPOVER\",\"DROPSQUARE\",\"DRVINIT\",\"DRVINIT1\",\"DRVINIT2\",\"DRVQRY\",\"DRVTERM\",\"DRVTERM1\",\"DRVTERM2\",\"DS\",\"DSCALE\",\"DSD\",\"DSN\",\"DUL\",\"DUM\",\"DUMMY\",\"DUMP\",\"DUNCAN\",\"DUNNETT\",\"DUNNETTL\",\"DUNNETTU\",\"DUPLEX\",\"DUPOK\",\"DUR\",\"DURATION\",\"DW\",\"DWPROB\",\"DYNAMIC\",\"E\",\"E1\",\"E2\",\"E3\",\"E4\",\"E5\",\"EARLY\",\"EASTLONG\",\"EBCDIC\",\"EBOPT\",\"EBSSFRAC\",\"EBSSTOL\",\"EBSTEPS\",\"EBSUBSTEPS\",\"EBTOL\",\"EBZSTART\",\"ECORR\",\"ECORRB\",\"ECOV\",\"ECOVB\",\"EDER\",\"EDF\",\"EDF.\",\"EDIT\",\"EET\",\"EFF\",\"EFFECT\",\"EFFECTS\",\"EFFECTSIZE\",\"EI\",\"EIGENVECTORS\",\"EII\",\"EIII\",\"ELSE\",\"ELSM\",\"EM\",\"EMAIL\",\"EMPIRICAL\",\"EMPTY\",\"ENCRYPT\",\"END\",\"ENDCOMP\",\"ENDGRID\",\"ENDHYPER\",\"ENDO\",\"ENDOG\",\"ENDOGENOUS\",\"ENDPRIOR\",\"ENDRSUBMIT\",\"ENDSAS\",\"ENTRY\",\"ENTRYTIME\",\"ENTRYTYPE\",\"EOF\",\"EOFCONNECT\",\"EOV\",\"EPO\",\"EPOINT\",\"EPS\",\"EPSILON\",\"EPSSCORE\",\"EQCONS\",\"EQKAP\",\"EQUAL\",\"EQUALS\",\"EQWKP\",\"ERASE\",\"ERR\",\"ERRLIMIT\",\"ERROR\",\"ERROR_IMAGE\",\"ERRORBAR\",\"ERRORSTOP\",\"ES\",\"ESACF\",\"ESS\",\"EST\",\"ESTDATA\",\"ESTIMATE\",\"ET\",\"ETYPE\",\"EV\",\"EVE\",\"EVENLY\",\"EVENT\",\"EVENTSYMBOL\",\"EXACT\",\"EXACTONLY\",\"EXACTOPTIONS\",\"EXCEPT\",\"EXCHANGE\",\"EXCHART\",\"EXCLNPWGT\",\"EXCLNPWGTS\",\"EXCLUDE\",\"EXCLUSIVE\",\"EXEC\",\"EXECUTE\",\"EXISTS\",\"EXK\",\"EXKNOTS\",\"EXO\",\"EXOG\",\"EXOGENOUS\",\"EXP\",\"EXPANDTABS\",\"EXPB\",\"EXPECTED\",\"EXPEST\",\"EXPHESSIAN\",\"EXPLODE\",\"EXPONENTIAL\",\"EXPORT\",\"EXTENDSN\",\"EXTENSION\",\"F\",\"FACTOR\",\"FACTORS\",\"FAST\",\"FASTCLUS\",\"FASTTEXT\",\"FBY\",\"FC\",\"FCACHE\",\"FCONV\",\"FCONV2\",\"FD\",\"FDCODE\",\"FDH\",\"FDHES\",\"FDHESSIAN\",\"FDIGITS\",\"FDR\",\"FEEDBACK\",\"FILE\",\"FILECLOSE\",\"FILENAME\",\"FILEONLY\",\"FILEREF\",\"FILEVAR\",\"FILL\",\"FILLCHAR\",\"FILLED\",\"FILLINC\",\"FIML\",\"FIN\",\"FIND\",\"FINISH\",\"FINNISH\",\"FIRST\",\"FIRSTOBS\",\"FISHER\",\"FISHER_C\",\"FIT\",\"FITSTAT\",\"FIXED\",\"FLAG\",\"FLAT\",\"FLOAT\",\"FLOW\",\"FLOWOVER\",\"FMT\",\"FMTLEN\",\"FMTLIB\",\"FN1\",\"FOLLOW\",\"FOLLOWUPT\",\"FOLLOWUPTIME\",\"FONT\",\"FONTRES\",\"FONTSCALE\",\"FOOTNOTE\",\"FOR\",\"FORCE\",\"FORCEHIST\",\"FORECAST\",\"FOREIGN\",\"FORM\",\"FORMAT\",\"FORMATTED\",\"FORMCHAR\",\"FORMS\",\"FORMULA\",\"FR\",\"FRACTION\",\"FRAME\",\"FRE\",\"FREE\",\"FREQ\",\"FREQLABEL\",\"FREQOUT\",\"FREQUENCY\",\"FROM\",\"FRONTREF\",\"FS\",\"FSIZE\",\"FSRSQ\",\"FTEST\",\"FTEXT\",\"FTITLE\",\"FTOL\",\"FTOL2\",\"FTP\",\"FTRACK\",\"FULL\",\"FULLX\",\"FUT\",\"FUTIME\",\"FUZZ\",\"FW\",\"FWDLINK\",\"FWIDTH\",\"FWLS\",\"G\",\"G100\",\"G3D\",\"G3GRID\",\"G4\",\"GABRIEL\",\"GACCESS\",\"GAM\",\"GAMMA\",\"GANNO\",\"GARCH\",\"GAXIS\",\"GBARLINE\",\"GC\",\"GCHART\",\"GCI\",\"GCLASS\",\"GCONTOUR\",\"GCONV\",\"GCONV2\",\"GCONVERGE\",\"GCOOR\",\"GCOORD\",\"GCOPIES\",\"GCORR\",\"GCV\",\"GDATA\",\"GDDMCOPY\",\"GDDMNICKNAME\",\"GDDMTOKEN\",\"GDEST\",\"GDEVICE\",\"GEN\",\"GEND\",\"GENDER\",\"GENERAL\",\"GENERATE_OPT_ERRORS\",\"GENERATION\",\"GENMAX\",\"GENMOD\",\"GENNUM\",\"GEO\",\"GEOMETRICMEAN\",\"GEPILOG\",\"GETNAMES\",\"GEXPHS\",\"GFONT\",\"GFOOT\",\"GFOOTNOTE\",\"GFORMS\",\"GI\",\"GINI\",\"GINV\",\"GLIMMIX\",\"GLM\",\"GLMMOD\",\"GLMPOWER\",\"GLOSS\",\"GLOSSEXPHAZARDS\",\"GLOSSEXPHS\",\"GLS\",\"GMAP\",\"GMEANS\",\"GMEDLOSSTIMES\",\"GMEDSURVTIMES\",\"GMEDSURVTS\",\"GMM\",\"GMSEP\",\"GMSEP.\",\"GNS\",\"GO\",\"GODFREY\",\"GOPTION\",\"GOPTIONS\",\"GOTO\",\"GOUT\",\"GOUTMODE\",\"GPATH\",\"GPLOT\",\"GPROJECT\",\"GPROLOG\",\"GPROPORTIONS\",\"GPROTOCOL\",\"GPS\",\"GRADIENT\",\"GRAPH\",\"GRAPHRC\",\"GRAY\",\"GRE\",\"GREDUCE\",\"GREENACRE\",\"GREMOVE\",\"GREPLAY\",\"GRID\",\"GRIDCHAR\",\"GRIDDATA\",\"GRIDL\",\"GRIDT\",\"GRIDU\",\"GRIDVAL\",\"GROPULOSSEXPHS\",\"GROPUSTDDEVS\",\"GROUP\",\"GROUPFORMAT\",\"GROUPINTERNAL\",\"GROUPLOSS\",\"GROUPLOSSEXPHAZARDS\",\"GROUPMEANS\",\"GROUPMEDLOSSTIMES\",\"GROUPMEDLOSSTS\",\"GROUPMEDSURVTIMES\",\"GROUPMEDSURVTS\",\"GROUPNAMES\",\"GROUPNS\",\"GROUPPROPORTIONS\",\"GROUPPS\",\"GROUPS\",\"GROUPSTDS\",\"GROUPSUREXPHAZARDS\",\"GROUPSURV\",\"GROUPSURVEXPHS\",\"GROUPSURVIVAL\",\"GROUPWEIGHTS\",\"GRP\",\"GRSEG\",\"GSFLEN\",\"GSFMODE\",\"GSFNAME\",\"GSFPROMPT\",\"GSIZE\",\"GSLIDE\",\"GSPACE\",\"GSTART\",\"GSTDDEVS\",\"GSTDS\",\"GSURV\",\"GSURVEXPHAZARDS\",\"GSURVIVAL\",\"GT2\",\"GTITLE\",\"GTOL\",\"GTOL2\",\"GUNIT\",\"GWAIT\",\"GWEIGHTS\",\"GWRITER\",\"H\",\"H.\",\"H0\",\"HA\",\"HALFWIDTH\",\"HANDSHAKE\",\"HANGING\",\"HARD\",\"HAVING\",\"HAXIS\",\"HAZARDRATIO\",\"HBAR\",\"HBAR3D\",\"HBY\",\"HC\",\"HCC\",\"HCCMETHOD\",\"HCL\",\"HEADER\",\"HEADERFILE\",\"HEADERFILEFILEREF\",\"HEADING\",\"HEADLINE\",\"HEADSKIP\",\"HEADTEXT\",\"HEIGHT\",\"HELMERT\",\"HELP\",\"HESCAL\",\"HESS\",\"HESSALG\",\"HESSIAN\",\"HESSWGT\",\"HETERO\",\"HEXPAND\",\"HEY\",\"HEYWOOD\",\"HI\",\"HIDE\",\"HIER\",\"HIERARCHY\",\"HILOC\",\"HIS\",\"HIST\",\"HISTOGRAM\",\"HISTORY\",\"HKP\",\"HKPOWER\",\"HLM\",\"HLOWER\",\"HLPS\",\"HM\",\"HMINOR\",\"HOC\",\"HOEFFDING\",\"HOFFSET\",\"HOLD\",\"HOLIDATA\",\"HOLIDAY\",\"HOLIDAYS\",\"HOLIDUR\",\"HOLIDURATION\",\"HOLIFIN\",\"HOLIFINISH\",\"HOLINAME\",\"HOLISTA\",\"HOLISTART\",\"HOLIVAR\",\"HOLIVARIABLE\",\"HOLIVARIABLES\",\"HOLM\",\"HOM\",\"HOMMEL\",\"HOR\",\"HORDISPLAY\",\"HORIGIN\",\"HORIZONTAL\",\"HOST\",\"HOSTSPEC\",\"HOTLINK\",\"HOUGAARD\",\"HOVTEST\",\"HP\",\"HPAGES\",\"HPERCENT\",\"HPLOTS\",\"HPOS\",\"HPROB\",\"HR\",\"HREF\",\"HREF2\",\"HREF2LABELS\",\"HREFCHAR\",\"HREFLAB\",\"HREFLABEL\",\"HREFLABELS\",\"HREFLABPOS\",\"HREVERSE\",\"HS\",\"HSIZE\",\"HSPACE\",\"HSYMBOL\",\"HT\",\"HTEXT\",\"HTITLE\",\"HTML\",\"HTML_LEGEND\",\"HTML3\",\"HTML4\",\"HTMLCSS\",\"HTYPE\",\"HUPPER\",\"HYBRID\",\"HYPERPRIOR\",\"HZERO\",\"I\",\"IADJUST\",\"IAP\",\"IAPPROXIMATIONS\",\"IBACK\",\"IC\",\"ICOLUMN\",\"ID\",\"IDCOLOR\",\"IDCTEXT\",\"IDE\",\"IDENTIFY\",\"IDENTITY\",\"IDFONT\",\"IDGROUP\",\"IDGRP\",\"IDHEIGHT\",\"IDLABEL\",\"IDMIN\",\"IDSYMBOL\",\"IF\",\"IFACTOR\",\"IFRAME\",\"IGNORE_BLANKS\",\"IGNOREDOSEOF\",\"IGOUT\",\"ILINK\",\"IMAGEMAP\",\"IMAGEPRINT\",\"IMAGESTYLE\",\"IMI\",\"IML\",\"IMODE\",\"IMPORT\",\"IMPUTE\",\"IN\",\"IN.\",\"INAV\",\"INBIN\",\"INBORDER\",\"INBREED\",\"INC\",\"INCLUDE\",\"INCOMPLETE\",\"IND\",\"INDENT\",\"INDENTITY\",\"INDEX\",\"INDICES\",\"INDIVIDUAL\",\"INDL\",\"INEST\",\"INEXT\",\"INFILE\",\"INFLUENCE\",\"INFO\",\"INFONT\",\"INFORMAT\",\"INHEIGHT\",\"INHESS\",\"INHESSIAN\",\"INI\",\"INIT\",\"INITEST\",\"INITGLM\",\"INITH\",\"INITIAL\",\"INITIATE\",\"INITITER\",\"INITVAL\",\"INMODEL\",\"INOBS\",\"INPUT\",\"INRAM\",\"INSERT\",\"INSET\",\"INSET2\",\"INSETGROUP\",\"INSIDE\",\"INSTAT\",\"INSTEP\",\"INSTRUMENTS\",\"INT\",\"INTEGER\",\"INTER\",\"INTERACTIVE\",\"INTERCEPT\",\"INTERFACE\",\"INTERLACED\",\"INTERNAL\",\"INTERP\",\"INTERPOL\",\"INTERSECT\",\"INTERTILE\",\"INTERVAL\",\"INTERVALS\",\"INTGPRINT\",\"INTO\",\"INTSTART\",\"INTYPE\",\"INV\",\"INVALUE\",\"INVAR\",\"INVERSE\",\"INVERSECL\",\"INVISIBLE\",\"INVLINK\",\"INWGT\",\"IPLOTS\",\"IPPLOT\",\"IRCHART\",\"IRE\",\"IREPLACE\",\"IRLS\",\"IROW\",\"IS\",\"IT2SLS\",\"IT3SLS\",\"ITALL\",\"ITDETAILS\",\"ITEM\",\"ITER\",\"ITERATION\",\"ITERATIONS\",\"ITGMM\",\"ITOLS\",\"ITPRINT\",\"ITPRINTEM\",\"ITRPINT\",\"ITSUR\",\"J\",\"JACOBI\",\"JACOBSI\",\"JC\",\"JEFFREYS\",\"JITTER\",\"JOIN\",\"JOINCHAR\",\"JOINREF\",\"JOINT\",\"JOINTONLY\",\"JP\",\"JP.\",\"JSTYLE\",\"JT\",\"JTPROBS\",\"JUST\",\"JUSTIFY\",\"K\",\"K0\",\"KAPPA\",\"KDE\",\"KEEP\",\"KEEPLEN\",\"KENDALL\",\"KENTB\",\"KERNDATA\",\"KERNEL\",\"KEY\",\"KEYLABEL\",\"KEYLEVEL\",\"KEYMAP\",\"KEYS\",\"KEYWORD\",\"KILL\",\"KILLTASK\",\"KLOTZ\",\"KNO\",\"KNOTINFO\",\"KNOTMETHOD\",\"KNOTS\",\"KRATIO\",\"KRIGE2D\",\"KSD\",\"KSDPVAL\",\"KU\",\"KURT\",\"KURTOSIS\",\"L\",\"L95\",\"L95M\",\"LABEL\",\"LABELANGLE\",\"LABELFONT\",\"LABELHEIGHT\",\"LABELS\",\"LACKFIT\",\"LAGD\",\"LAGDEP\",\"LAGDIST\",\"LAGDISTANCE\",\"LAGDV\",\"LAGT\",\"LAGTOL\",\"LAGTOLERANCE\",\"LAM\",\"LAMBDA\",\"LAMBDA0\",\"LAMCR\",\"LAMDAS\",\"LAMRC\",\"LANGLE\",\"LANN\",\"LANNOTATE\",\"LAST\",\"LASTNAME\",\"LATEX\",\"LATMAX\",\"LATMIN\",\"LATTICE\",\"LAUTOHREF\",\"LAUTOREF\",\"LAUTOVREF\",\"LBOXES\",\"LC\",\"LCD\",\"LCDEACT\",\"LCE\",\"LCEPS\",\"LCEPSILON\",\"LCL\",\"LCL.\",\"LCLLABEL\",\"LCLLABEL2\",\"LCLM\",\"LCLM.\",\"LCLMSUM\",\"LCOLS\",\"LCOMPONENTS\",\"LCONF\",\"LCONNECT\",\"LCS\",\"LCSING\",\"LCSINGULAR\",\"LD\",\"LDATA\",\"LDW\",\"LEAD\",\"LEAFCHAR\",\"LEAST\",\"LEAVE\",\"LEFT\",\"LEGEND\",\"LEGENDGRID\",\"LENDGRID\",\"LENGTH\",\"LET\",\"LEV\",\"LEVEL\",\"LEVELS\",\"LEVERAGE\",\"LFACTOR\",\"LFIT\",\"LFRAME\",\"LGOR\",\"LGRID\",\"LGRRC1\",\"LGRRC2\",\"LH\",\"LHREF\",\"LIB\",\"LIBNAME\",\"LIBRARY\",\"LIFEREG\",\"LIFETEST\",\"LIKE\",\"LIL\",\"LILPREFIX\",\"LIMIT\",\"LIMITN\",\"LIMITS\",\"LIML\",\"LIMLABSUBCHAR\",\"LIN\",\"LINCON\",\"LINE\",\"LINEAR\",\"LINEPRINTER\",\"LINEQS\",\"LINES\",\"LINES4\",\"LINESEARCH\",\"LINESIZE\",\"LINESLEFT\",\"LINK\",\"LIS\",\"LIST\",\"LISTALL\",\"LISTBASE\",\"LISTBASEOBS\",\"LISTBASEVAR\",\"LISTCODE\",\"LISTCOMP\",\"LISTCOMPOBS\",\"LISTCOMPVAR\",\"LISTDEP\",\"LISTDER\",\"LISTEQUALVAR\",\"LISTERR\",\"LISTING\",\"LISTOBS\",\"LISTTASK\",\"LISTVAR\",\"LIU\",\"LIUPREFIX\",\"LL\",\"LLEVELS\",\"LLIMITS\",\"LLINE\",\"LLSL\",\"LLX\",\"LM\",\"LMAX\",\"LML\",\"LMLPREFIX\",\"LMU\",\"LMUPREFIX\",\"LN\",\"LNORM\",\"LOAD\",\"LOCAL\",\"LOCALW\",\"LOCATION\",\"LOCCOUNT\",\"LOESS\",\"LOG\",\"LOG10\",\"LOGBASE\",\"LOGDETH\",\"LOGISTIC\",\"LOGIT\",\"LOGITS\",\"LOGLIKL\",\"LOGLIN\",\"LOGLOGS\",\"LOGLOS\",\"LOGNL\",\"LOGNL0\",\"LOGNLAMBDA\",\"LOGNLAMBDA0\",\"LOGNORMAL\",\"LOGNOTE\",\"LOGOR\",\"LOGRBOUND\",\"LOGSTYLE\",\"LOGSURV\",\"LONG\",\"LONGFILEEXT\",\"LONGMAX\",\"LONGMIN\",\"LOOPS\",\"LOSTCARD\",\"LOVERLAY\",\"LOW\",\"LOWER\",\"LOWERB\",\"LOWERCMF\",\"LOWERCUMHAZ\",\"LOWERTAILED\",\"LOWESS\",\"LP\",\"LPI\",\"LPR\",\"LPREDPLOT\",\"LPREFIX\",\"LR\",\"LRCHI\",\"LRCHISQ\",\"LRCHISQ1\",\"LRCI\",\"LRECL\",\"LREF\",\"LROWS\",\"LRX\",\"LRY\",\"LS\",\"LSD\",\"LSFILE\",\"LSL\",\"LSLSYMBOL\",\"LSMEANS\",\"LSMESTIMATE\",\"LSP\",\"LSPACE\",\"LSPRECISION\",\"LSTARCIRCLES\",\"LSTARS\",\"LTARGET\",\"LTEBOUND\",\"LTESTS\",\"LTMARGIN\",\"LTMPLOT\",\"LUSL\",\"LV\",\"LVREF\",\"LWEIGHT\",\"LZONES\",\"M\",\"MA\",\"MAC\",\"MACRO\",\"MAD\",\"MAHALANOBIS\",\"MAJOR\",\"MAKE\",\"MANOVA\",\"MARGINAL\",\"MARGINALS\",\"MARKERS\",\"MARKUP\",\"MAT\",\"MATCHCODE\",\"MATCHCOLOR\",\"MATINGS\",\"MATRIX\",\"MATRIXL\",\"MATTRIB\",\"MAX\",\"MAXC\",\"MAXCLUSTERS\",\"MAXCOLORS\",\"MAXDEC\",\"MAXEIGEN\",\"MAXERRORS\",\"MAXFLUSTERS\",\"MAXFU\",\"MAXFUNC\",\"MAXFUNCTION\",\"MAXH\",\"MAXHEIGHT\",\"MAXID\",\"MAXIMUM\",\"MAXIS\",\"MAXIT\",\"MAXITEM\",\"MAXITER\",\"MAXITSCORE\",\"MAXL\",\"MAXLABLEN\",\"MAXLAG\",\"MAXLAGS\",\"MAXLMMUPDATE\",\"MAXMACRO\",\"MAXNBIN\",\"MAXNUM\",\"MAXOPT\",\"MAXP\",\"MAXPANELS\",\"MAXPCT\",\"MAXPOINTS\",\"MAXPOLY\",\"MAXPRINT\",\"MAXSEARCH\",\"MAXSELEN\",\"MAXSIGMAS\",\"MAXSIZE\",\"MAXSTEP\",\"MAXSUBIT\",\"MAXSUBITER\",\"MAXTIME\",\"MAXTUNE\",\"MC\",\"MCA\",\"MCHART\",\"MCMC\",\"MCNEM\",\"MCONV\",\"MCONVERGE\",\"MCORRB\",\"MCOVB\",\"MDATA\",\"MDP\",\"MDPREF\",\"MDS\",\"MEA\",\"MEAN\",\"MEANDIFF\",\"MEANLABEL\",\"MEANRATIO\",\"MEANS\",\"MEANTYPE\",\"MEASURES\",\"MEC\",\"MEDCENTRAL\",\"MEDIAN\",\"MELO\",\"MEMLIB\",\"MEMORYUSE\",\"MEMTYPE\",\"MENU\",\"MERGE\",\"MESSAGE\",\"MET\",\"METATEXT\",\"METHOD\",\"METHODS\",\"METRIC\",\"MG\",\"MGET\",\"MHCHI\",\"MHOR\",\"MHRRC1\",\"MHRRC2\",\"MI\",\"MIANALYZE\",\"MIDPERCENTS\",\"MIDPOINTS\",\"MIDPTAXIS\",\"MIN\",\"MINC\",\"MINCLUSTERS\",\"MINCRIT\",\"MINEIGEN\",\"MINH\",\"MINHEIGHT\",\"MINIC\",\"MINID\",\"MINIMUM\",\"MININERTIA\",\"MINIT\",\"MINITER\",\"MINMAXITER\",\"MINOR\",\"MINP\",\"MINPOINTS\",\"MINSIZE\",\"MINTIMESTEP\",\"MINTUNE\",\"MIS\",\"MISSBREAK\",\"MISSING\",\"MISSING1\",\"MISSING2\",\"MISSINGCHECK\",\"MISSOVER\",\"MISSPRINT\",\"MISSTEXT\",\"MIXED\",\"ML\",\"MLF\",\"MMEGSOL\",\"MMEQ\",\"MNAME\",\"MNAMES\",\"MNEMONIC\",\"MOD\",\"MODE\",\"MODECLUS\",\"MODEL\",\"MODELDATA\",\"MODELEFFECTS\",\"MODELFONT\",\"MODELHT\",\"MODELLAB\",\"MODELSE\",\"MODES\",\"MODIFICATION\",\"MODIFY\",\"MODULE\",\"MON\",\"MONOTONE\",\"MOOD\",\"MOVE\",\"MPAIRS\",\"MPC\",\"MPROMPT\",\"MQC\",\"MRC\",\"MRCHART\",\"MRE\",\"MREDUNDANCY\",\"MSA\",\"MSE\",\"MSE.\",\"MSIGN\",\"MSING\",\"MSINGULAR\",\"MSP\",\"MSPLINE\",\"MSTAT\",\"MT\",\"MTEST\",\"MTYPE\",\"MU\",\"MU0\",\"MULT\",\"MULTILABEL\",\"MULTIPASS\",\"MULTIPLEGROUP\",\"MULTIPLIER\",\"MULTIVARIATE\",\"MULTREG\",\"MULTTEST\",\"MUO\",\"MWIDTH\",\"N\",\"N1\",\"N2\",\"N2SLS\",\"N3\",\"N3SLS\",\"N4\",\"N5\",\"NADJ\",\"NAHEAD\",\"NAK\",\"NAM\",\"NAME\",\"NAME2\",\"NAMED\",\"NAMELEN\",\"NAMEPIPE\",\"NARROW\",\"NATIONAL\",\"NAXIS1\",\"NAXIS2\",\"NBEST\",\"NBI\",\"NBITER\",\"NBYTE\",\"NCA\",\"NCAN\",\"NCL\",\"NCLUSTER\",\"NCLUSTERS\",\"NCOL\",\"NCOLS\",\"NCOV\",\"NCOVARIATES\",\"NCOVS\",\"ND\",\"NDEC\",\"NDECIMAL\",\"NDECIMAL2\",\"NDIR\",\"NDIRECTIONS\",\"NDOWN\",\"NEAR\",\"NEDIT\",\"NEEDLES\",\"NEGATIVE\",\"NEGBIN\",\"NEIGHBOR\",\"NESTED\",\"NESTIT\",\"NEVENTS\",\"NEW\",\"NEWFILE\",\"NEWNAME\",\"NEWTON\",\"NEXTROBS\",\"NEXTRVAL\",\"NFAC\",\"NFACT\",\"NFACTORS\",\"NFRAC\",\"NFRACTIONAL\",\"NFULLPRED\",\"NFULLPREDICTORS\",\"NG\",\"NGRID\",\"NHC\",\"NHCLASS\",\"NHCLASSES\",\"NIMPUTE\",\"NINTERVAL\",\"NITER\",\"NKN\",\"NKNOTS\",\"NLAG\",\"NLEGEND\",\"NLEGENDPOS\",\"NLEVELS\",\"NLIN\",\"NLINCON\",\"NLINES\",\"NLMIXED\",\"NLOPTIONS\",\"NMARKERS\",\"NMAX\",\"NMC\",\"NMIN\",\"NMISS\",\"NO2SLS\",\"NOAD\",\"NOADJDF\",\"NOADMGDF\",\"NOADSCALE\",\"NOALIAS\",\"NOANOVA\",\"NOAOV\",\"NOAUTOCOPY\",\"NOAUTOFEED\",\"NOAXES\",\"NOAXIS\",\"NOBARS\",\"NOBASEREF\",\"NOBLOCK\",\"NOBLUP\",\"NOBORDER\",\"NOBOUND\",\"NOBRACKETS\",\"NOBS\",\"NOBUILD\",\"NOBYLINE\",\"NOBYPLOT\",\"NOBYREF\",\"NOBYSPECS\",\"NOC\",\"NOCDFLEGEND\",\"NOCELL\",\"NOCENPLOT\",\"NOCENS\",\"NOCENSPLOT\",\"NOCENTER\",\"NOCHARACTERS\",\"NOCHART\",\"NOCHART2\",\"NOCHECK\",\"NOCIRCLEARC\",\"NOCLASSIFY\",\"NOCLONE\",\"NOCLPRINT\",\"NOCODE\",\"NOCOL\",\"NOCOLLAPSE\",\"NOCOLLATE\",\"NOCOLLECT\",\"NOCOLUMN\",\"NOCOMP\",\"NOCOMPRESS\",\"NOCONF\",\"NOCONNECT\",\"NOCONST\",\"NOCONSTANT\",\"NOCONTAIN\",\"NOCONTINUED\",\"NOCORR\",\"NOCOV\",\"NOCOVARIATE\",\"NOCTL\",\"NOCTL2\",\"NOCUM\",\"NOCURVELEGEND\",\"NOCVSTDIZE\",\"NODASH\",\"NODATA\",\"NODATE\",\"NODECR\",\"NODECREMENT\",\"NODESIGN\",\"NODESIGNPRINT\",\"NODETAIL\",\"NODETAILS\",\"NODF\",\"NODI\",\"NODIAG\",\"NODISPLAY\",\"NODOUBLE\",\"NODP\",\"NODRVQRY\",\"NODS\",\"NODUBKEY\",\"NODUMMYPRINT\",\"NODUP\",\"NODUPLEX\",\"NODUPRECS\",\"NOECDF\",\"NOEDIT\",\"NOEIGEN\",\"NOEIGNUM\",\"NOEQUALS\",\"NOERASE\",\"NOERRORSTOP\",\"NOEST\",\"NOEXEC\",\"NOEXPANDTABS\",\"NOFASTTEXT\",\"NOFEEDBACK\",\"NOFILEONLY\",\"NOFILL\",\"NOFIT\",\"NOFR\",\"NOFRAME\",\"NOFREQ\",\"NOFS\",\"NOFULLZ\",\"NOGFOOT\",\"NOGFOOTNOTE\",\"NOGOODFIT\",\"NOGRAPHRC\",\"NOGRID\",\"NOGROUPHEADING\",\"NOGSFPROMPT\",\"NOGTITLE\",\"NOHALVE\",\"NOHEADER\",\"NOHEADING\",\"NOHLABEL\",\"NOHLF\",\"NOHOST\",\"NOHTICK\",\"NOI\",\"NOID\",\"NOILINK\",\"NOIMAGEPRINT\",\"NOINCLUDE\",\"NOINCR\",\"NOINCREMENT\",\"NOINFO\",\"NOINHERIT\",\"NOINPUT\",\"NOINT\",\"NOINTERCEPT\",\"NOINTERLACED\",\"NOITER\",\"NOITPRINT\",\"NOKEYMAP\",\"NOKEYMOVE\",\"NOLABEL\",\"NOLCL\",\"NOLCL2\",\"NOLEGEND\",\"NOLIMIT0\",\"NOLIMIT1\",\"NOLIMITLABEL\",\"NOLIMITS\",\"NOLIMITSFRAME\",\"NOLIMITSLEGEND\",\"NOLINE\",\"NOLINELEGEND\",\"NOLIST\",\"NOLOG\",\"NOLOGSCALE\",\"NOLS\",\"NOM\",\"NOMAD\",\"NOMARKER\",\"NOMEAN\",\"NOMISS\",\"NOMISSBASE\",\"NOMISSCOMP\",\"NOMISSINGCHECK\",\"NOMODEL\",\"NONE\",\"NONEEDLE\",\"NONINTERLACED\",\"NONLOCALW\",\"NONOBS\",\"NONORM\",\"NONUMBER\",\"NOOBS\",\"NOOBSLEGEND\",\"NOOLS\",\"NOOPT\",\"NOOPTIMAL\",\"NOOUTALL\",\"NOOVERLAYLEGEND\",\"NOP\",\"NOPAD\",\"NOPARM\",\"NOPCLIP\",\"NOPENSORT\",\"NOPERCENT\",\"NOPHASEFRAME\",\"NOPHIST\",\"NOPIEFILL\",\"NOPLANE\",\"NOPLOT\",\"NOPMAXNORM\",\"NOPOLISH\",\"NOPOLYGONCLIP\",\"NOPOLYGONFILL\",\"NOPREDVAR\",\"NOPRINT\",\"NOPROB\",\"NOPROFILE\",\"NOPROMAXNORM\",\"NOPROMPT\",\"NOQMSG\",\"NOR\",\"NOREADLIMITS\",\"NOREFINE\",\"NOREML\",\"NOREPLACE\",\"NORESPONSE\",\"NORESTORE\",\"NORESTOREMISSING\",\"NOREVERSE\",\"NORM\",\"NORMAL\",\"NORMALIZE\",\"NORMALTEST\",\"NOROMAN\",\"NOROMHEX\",\"NOROTATE\",\"NOROW\",\"NORWEGIAN\",\"NOS\",\"NOSCALE\",\"NOSCORES\",\"NOSE\",\"NOSEPS\",\"NOSERIFS\",\"NOSHAPE1\",\"NOSIMPLE\",\"NOSORT\",\"NOSORTED\",\"NOSOURCE\",\"NOSPACE\",\"NOSPARSE\",\"NOSPECLEGEND\",\"NOSQUARE\",\"NOSRC\",\"NOSTABLE\",\"NOSTAT\",\"NOSTATS\",\"NOSTD\",\"NOSTDERR\",\"NOSTIMER\",\"NOSTORE\",\"NOSUMMARY\",\"NOSWAP\",\"NOSYMBOL\",\"NOSYMNAME\",\"NOT\",\"NOTAB\",\"NOTABLE\",\"NOTABLES\",\"NOTCHES\",\"NOTE\",\"NOTEST\",\"NOTHRESH\",\"NOTICKREP\",\"NOTIE\",\"NOTITLE\",\"NOTITLES\",\"NOTOTAL\",\"NOTRANSPARENCY\",\"NOTRAP\",\"NOTRENDCONNECT\",\"NOTRUNC\",\"NOTRUNCATE\",\"NOTSORTED\",\"NOU\",\"NOUCL\",\"NOUCL2\",\"NOULB\",\"NOUNI\",\"NOUNIQUE\",\"NOV6COMP\",\"NOVALUES\",\"NOVANGLE\",\"NOVAR\",\"NOVARIOGRAM\",\"NOVLABEL\",\"NOVTICK\",\"NOWAIT\",\"NOWARN\",\"NOWINDOWS\",\"NOWT\",\"NOXWAIT\",\"NOZ\",\"NOZERO\",\"NOZEROCONSTANT\",\"NOZEROS\",\"NP\",\"NP.\",\"NPAIRS\",\"NPANEL\",\"NPANELPOS\",\"NPAR1WAY\",\"NPARTIALVARS\",\"NPATH\",\"NPATHS\",\"NPCHART\",\"NPERG\",\"NPERGROUP\",\"NPINTERVALS\",\"NPLOT\",\"NPLUS1\",\"NPOINTS\",\"NPP\",\"NPP.\",\"NPRINT\",\"NPSYMBOL\",\"NPTS\",\"NPVARS\",\"NQQ.\",\"NR\",\"NREDPRED\",\"NREDUCEDPRED\",\"NREDUCEDPREDICTORS\",\"NREP\",\"NRESPLEV\",\"NROW\",\"NROWS\",\"NSAMP\",\"NSAMPLE\",\"NSEARCH\",\"NSORT\",\"NSR\",\"NSRC\",\"NSUB\",\"NSUBINTERVAL\",\"NSUBINTERVALS\",\"NSUBS\",\"NTEST\",\"NTESTPRED\",\"NTESTPREDICTORS\",\"NTICK\",\"NTOTAL\",\"NTRIALS\",\"NTU\",\"NUGGET\",\"NUL\",\"NULL\",\"NULLC\",\"NULLCONTRAST\",\"NULLCORR\",\"NULLD\",\"NULLDIFF\",\"NULLDISCPRATIO\",\"NULLDISCPROPRATIO\",\"NULLM\",\"NULLMEAN\",\"NULLODDSRATIO\",\"NULLOR\",\"NULLP\",\"NULLPDIFF\",\"NULLPROPORTION\",\"NULLPROPORTIONDIFF\",\"NULLR\",\"NULLRATIO\",\"NULLRELATIVERISK\",\"NULLRR\",\"NULLS\",\"NUM\",\"NUM_LEFT\",\"NUMBER\",\"NUMERIC\",\"NUMPOINTS\",\"NUMR\",\"NUMREAL\",\"NVA\",\"NVALS\",\"NVARS\",\"NVOL\",\"NWAY\",\"OBANOTE\",\"OBBNOTE\",\"OBFOOTN\",\"OBJ\",\"OBJECT\",\"OBPAGE\",\"OBS\",\"OBS.\",\"OBSCAT\",\"OBSERVED\",\"OBSMARGINS\",\"OBSTATS\",\"OBSTITLE\",\"OBTITLE\",\"OBX\",\"OCOEF\",\"OCONFIG\",\"OCRIT\",\"ODDSRATIO\",\"ODS\",\"OF\",\"OFF\",\"OFFSET\",\"OFFSHADOW\",\"OITER\",\"OL\",\"OLD\",\"OLS\",\"OM\",\"OMETHOD\",\"ON\",\"ONDISK\",\"ONECORR\",\"ONESAMPLEFREQ\",\"ONESAMPLEMEANS\",\"ONESIDED\",\"ONEWAY\",\"ONEWAYANOVA\",\"OPS\",\"OPSCORE\",\"OPT\",\"OPTC\",\"OPTCHECK\",\"OPTION\",\"OPTIONS\",\"OPTMETHOD\",\"OR\",\"ORACLEPW\",\"ORD\",\"ORDER\",\"ORDER1\",\"ORDER2\",\"ORDERED\",\"ORDINAL\",\"ORG\",\"ORI\",\"ORIGIN\",\"ORIGNIAL\",\"ORIGNINAL\",\"ORT\",\"ORTH\",\"ORTHEFFECT\",\"ORTHOGONAL\",\"ORTHORDINAL\",\"ORTHOREG\",\"ORTHPOLY\",\"ORTHREF\",\"OSIRIS\",\"OTHER\",\"OTHERLABEL\",\"OTHERWISE\",\"OTRANS\",\"OUT\",\"OUTACTUAL\",\"OUTALL\",\"OUTBASE\",\"OUTBIN\",\"OUTBOX\",\"OUTC\",\"OUTCLUS\",\"OUTCOMP\",\"OUTCORR\",\"OUTCOV\",\"OUTCOV3\",\"OUTCROSS\",\"OUTD\",\"OUTDD\",\"OUTDESIGN\",\"OUTDESIGNONLY\",\"OUTDIF\",\"OUTDIST\",\"OUTDISTANCE\",\"OUTDUR\",\"OUTDURATION\",\"OUTE\",\"OUTEM\",\"OUTER\",\"OUTERRORS\",\"OUTEST\",\"OUTEXPECT\",\"OUTF\",\"OUTFILE\",\"OUTFIN\",\"OUTFINISH\",\"OUTFIT\",\"OUTG\",\"OUTGT\",\"OUTH\",\"OUTHIGHHTML\",\"OUTHIST\",\"OUTHISTOGRAM\",\"OUTHISTORY\",\"OUTHITS\",\"OUTINDEX\",\"OUTINTERVALS\",\"OUTITER\",\"OUTJAC\",\"OUTK\",\"OUTL\",\"OUTLABEL\",\"OUTLABEL2\",\"OUTLAGS\",\"OUTLENGTH\",\"OUTLIB\",\"OUTLIER\",\"OUTLIMITS\",\"OUTLOWHTML\",\"OUTMODEL\",\"OUTN\",\"OUTNBHD\",\"OUTNOEQUAL\",\"OUTOBS\",\"OUTP\",\"OUTPAIR\",\"OUTPARM\",\"OUTPARMS\",\"OUTPCT\",\"OUTPD\",\"OUTPDIST\",\"OUTPDISTANCE\",\"OUTPERCENT\",\"OUTPERM\",\"OUTPHASE\",\"OUTPM\",\"OUTPRED\",\"OUTPREDICT\",\"OUTPREDM\",\"OUTPUT\",\"OUTPUTORDER\",\"OUTQ\",\"OUTR\",\"OUTRAM\",\"OUTREPT\",\"OUTRES\",\"OUTRESID\",\"OUTROC\",\"OUTS\",\"OUTSAMP\",\"OUTSDZ\",\"OUTSEB\",\"OUTSEED\",\"OUTSIDE\",\"OUTSIM\",\"OUTSIZE\",\"OUTSORT\",\"OUTSSCP\",\"OUTSTA\",\"OUTSTART\",\"OUTSTAT\",\"OUTSTATS\",\"OUTSTB\",\"OUTSUM\",\"OUTSURV\",\"OUTSUSED\",\"OUTT\",\"OUTTABLE\",\"OUTTEST\",\"OUTTREE\",\"OUTTRI\",\"OUTTYPE\",\"OUTV\",\"OUTVAR\",\"OUTVARS\",\"OUTVIF\",\"OUTVR\",\"OUTWARD\",\"OUTWGT\",\"OVER\",\"OVERID\",\"OVERLAY\",\"OVERLAYCLIPSYM\",\"OVERLAYCLIPSYMHT\",\"OVERLAYHTML\",\"OVERLAYID\",\"OVERLAYLEGLAB\",\"OVERLAYSYM\",\"OVERLAYSYMHT\",\"OVERPRINT\",\"OVPCHAR\",\"P\",\"P.\",\"P0\",\"P1\",\"P10\",\"P25\",\"P5\",\"P50\",\"P75\",\"P90\",\"P95\",\"P99\",\"PACING\",\"PACK\",\"PAD\",\"PAGE\",\"PAGEBY\",\"PAGENUM\",\"PAGENUMPOS\",\"PAGES\",\"PAGESIZE\",\"PAINT\",\"PAIRED\",\"PAIREDCVS\",\"PAIREDFRERQ\",\"PAIREDMEANS\",\"PAIREDSTDDEVS\",\"PAIREDSTDS\",\"PALL\",\"PANNELS\",\"PAPERDEST\",\"PAPERFEED\",\"PAPERLIMIT\",\"PAPERSIZE\",\"PAPERSOURCE\",\"PAPERTYPE\",\"PAR\",\"PARADIV\",\"PARALEL1\",\"PARALEL2\",\"PARAM\",\"PARAMATER\",\"PARAMETER\",\"PARAMETERS\",\"PARENT\",\"PARITY\",\"PARM\",\"PARMCARDS\",\"PARMCARDS4\",\"PARMINFO\",\"PARMLABEL\",\"PARMS\",\"PARMSDATA\",\"PARPREFIX\",\"PARTIAL\",\"PARTIALCORR\",\"PARTIALDATA\",\"PARTIALR2\",\"PASS\",\"PASSWORD\",\"PATH\",\"PATHS\",\"PATTERN\",\"PATTERNID\",\"PAUSE\",\"PBS\",\"PBSPLINE\",\"PC\",\"PC.\",\"PCE\",\"PCHART\",\"PCHI\",\"PCHOW\",\"PCL\",\"PCLIP\",\"PCOEF\",\"PCOLS\",\"PCOMIT\",\"PCONFIG\",\"PCONV\",\"PCORR\",\"PCORR1\",\"PCORR2\",\"PCOV\",\"PCOVES\",\"PCRPJAC\",\"PCT\",\"PCTAXIS\",\"PCTGTR\",\"PCTLAXIS\",\"PCTLDEF\",\"PCTLIST\",\"PCTLMINOR\",\"PCTLNAME\",\"PCTLORDER\",\"PCTLPRE\",\"PCTLPTS\",\"PCTLSCALE\",\"PCTLSS\",\"PCTN\",\"PCTSUM\",\"PDATA\",\"PDE\",\"PDETERM\",\"PDF\",\"PDIFF\",\"PDISC\",\"PDP\",\"PDPREFIX\",\"PEARSON\",\"PENALTIES\",\"PENALTY\",\"PENMOUNTS\",\"PENSORT\",\"PERCENT\",\"PERCENTILES\",\"PERCENTLABEL\",\"PERCENTS\",\"PERFORMANCE\",\"PERM\",\"PERMUTATION\",\"PERROR\",\"PES\",\"PESTIM\",\"PEVENT\",\"PFILL\",\"PFINAL\",\"PFIT\",\"PFITROW\",\"PGM\",\"PH\",\"PHASEBREAK\",\"PHASELABTYPE\",\"PHASELEGEND\",\"PHASEMEANSYMBOL\",\"PHASEREF\",\"PHES\",\"PHESSIAN\",\"PHI\",\"PHIS\",\"PHISTORY\",\"PHONE\",\"PHREG\",\"PHTML\",\"PICTURE\",\"PIE\",\"PIE3D\",\"PIEFILL\",\"PIN\",\"PINAVDATA\",\"PINEIGVAL\",\"PINEIGVEC\",\"PININ\",\"PINIT\",\"PINITIAL\",\"PIPE\",\"PJACPAT\",\"PJP\",\"PJTJ\",\"PLACEMENT\",\"PLAN\",\"PLATCOV\",\"PLAY\",\"PLC\",\"PLCL\",\"PLCONV\",\"PLCORR\",\"PLEFT\",\"PLOT\",\"PLOT2\",\"PLOT3D\",\"PLOTONLY\",\"PLOTREF\",\"PLOTS\",\"PLOTSIZE\",\"PLOTTER\",\"PLOWER\",\"PLRL\",\"PLS\",\"PM\",\"PMAT\",\"PMEANS\",\"PMENU\",\"PNLCJAC\",\"PNORMAL\",\"POI\",\"POINT\",\"POINTLABEL\",\"POISSON\",\"POLELAT\",\"POLELONG\",\"POLY\",\"POLYGONCLIP\",\"POLYGONFILL\",\"POLYNOMIAL\",\"POOL\",\"POPULATION\",\"POS\",\"POSITION\",\"POSTERR\",\"POSTGEPILOG\",\"POSTGPROLOG\",\"POSTGRAPH\",\"POSTGRAPH1\",\"POSTGRAPH2\",\"POSTSCRIPT\",\"POW\",\"POWER\",\"PP\",\"PPDFILE\",\"PPOS\",\"PPOUT\",\"PPPLOT\",\"PPREFIX\",\"PPROB\",\"PPSYMBOL\",\"PR2E\",\"PR2ENTRY\",\"PR2S\",\"PR2STAY\",\"PRE\",\"PRECENTS\",\"PRECISION\",\"PRED\",\"PRED.\",\"PREDET\",\"PREDICT\",\"PREDICTED\",\"PREDICTED.\",\"PREDICTEDM\",\"PREDPPLOT\",\"PREDPROBS\",\"PREFIX\",\"PREGEPILOG\",\"PREGPROLOG\",\"PREGRAPH\",\"PREGRAPH1\",\"PREGRAPH2\",\"PRELOADFMT\",\"PREPLOT\",\"PREROTATE\",\"PRESENTATION\",\"PRESS\",\"PRESS.\",\"PREVIEW\",\"PRI\",\"PRIGHT\",\"PRIMARY\",\"PRIMAT\",\"PRINCOMP\",\"PRINQUAL\",\"PRINT\",\"PRINTALL\",\"PRINTALLTYPES\",\"PRINTE\",\"PRINTER\",\"PRINTH\",\"PRINTIDS\",\"PRINTIDVARS\",\"PRINTKWT\",\"PRINTM\",\"PRINTMISS\",\"PRINTPROBS\",\"PRINTRV\",\"PRINTTO\",\"PRIOR\",\"PRIOREVENT\",\"PRIORS\",\"PRISM\",\"PRIVEC\",\"PRN\",\"PRO\",\"PROB\",\"PROBIT\",\"PROBLIST\",\"PROBM\",\"PROBN\",\"PROBPLOT\",\"PROBS\",\"PROBSYMBOL\",\"PROBT\",\"PROBTYPE\",\"PROBWIDTH\",\"PROC\",\"PROCESS\",\"PROCESSINPUT\",\"PROCESSOUTPUT\",\"PROCTITLE\",\"PROFILE\",\"PROJECT\",\"PROMPT\",\"PROMPTCHARS\",\"PROP\",\"PROPENSITY\",\"PROPORTION\",\"PROPORTIONAL\",\"PROPORTIONALHAZARDS\",\"PROPORTIONDIFF\",\"PROPVARREDUCTION\",\"PROWS\",\"PRT\",\"PS\",\"PSCALE\",\"PSEARCH\",\"PSEUDO\",\"PSH\",\"PSHORT\",\"PSP\",\"PSPACE\",\"PSPLINE\",\"PSSCP\",\"PSTAT\",\"PSTDDEVS\",\"PSTDS\",\"PSUM\",\"PSUMMARY\",\"PSYMBOL\",\"PTRANS\",\"PUPPER\",\"PURGE\",\"PUT\",\"PUTLOG\",\"PVAL\",\"PVALS\",\"PVEC\",\"PVRED\",\"PW\",\"PWD\",\"PWEIGHT\",\"Q\",\"Q1\",\"Q3\",\"QDATA\",\"QFAC\",\"QMARKERS\",\"QMAX\",\"QMETHOD\",\"QMSG\",\"QN\",\"QNTLDEF\",\"QPO\",\"QPOINT\",\"QPOINTS\",\"QQ\",\"QQPLOT\",\"QQSYMBOL\",\"QRANGE\",\"QSCALEFAC\",\"QTOL\",\"QUANTILE\",\"QUANTILES\",\"QUASI\",\"QUIT\",\"R\",\"R.\",\"RADIOBOX\",\"RADIUS\",\"RAM\",\"RAN\",\"RANDOM\",\"RANGE\",\"RANGES\",\"RANK\",\"RANKADJ\",\"RANKS\",\"RANKSCORE\",\"RATE\",\"RATIO\",\"RATIOS\",\"RAXIS\",\"RBREAK\",\"RBUTTON\",\"RC\",\"RCHART\",\"RCI\",\"RCMD\",\"RCONST\",\"RCONV\",\"RCONVERGE\",\"RCORR\",\"RDF\",\"RDIF1\",\"RDIF2\",\"RDISPLAY\",\"RDP\",\"RDPREFIX\",\"RE\",\"REACTIVATE\",\"READ\",\"READALPHA\",\"READINDEXES\",\"READLIMITS\",\"READPHASES\",\"REAL\",\"RECFM\",\"RECONN\",\"RECORD_SEPARATOR\",\"RECPEV\",\"RECRES\",\"RECTFILL\",\"RED\",\"REDIRECT\",\"REDPREFIX\",\"REDUCED\",\"REDUCEOUT\",\"REDUNDANCY\",\"REF\",\"REFCHAR\",\"REFCOL\",\"REFERENCE\",\"REFERENCES\",\"REFIT\",\"REFLABEL\",\"REFLECT\",\"REFLINES\",\"REFLINP\",\"REFP\",\"REFPOINT\",\"REFPROPORTION\",\"REFPROPOTION\",\"REFRESH\",\"REFSURV\",\"REFSURVEXPH\",\"REFSURVEXPHAZARD\",\"REFSURVIVAL\",\"REG\",\"REGEQN\",\"REGPMM\",\"REGPREDMEANMATCH\",\"REGRESSION\",\"REGWQ\",\"REI\",\"REITERATE\",\"RELATIVERISK\",\"RELRISK\",\"REMOVE\",\"RENAME\",\"RENDER\",\"RENDERLIB\",\"REORDER\",\"REP\",\"REPAINT\",\"REPAIR\",\"REPEAT\",\"REPEATED\",\"REPLACE\",\"REPLAY\",\"REPLICATE\",\"REPONLY\",\"REPORT\",\"RES\",\"RESAMPLE\",\"RESAMPLES\",\"RESCHI\",\"RESDEV\",\"RESET\",\"RESID\",\"RESIDUAL\",\"RESIDUAL.\",\"RESIDUALM\",\"RESIDUALS\",\"RESIDULA\",\"RESLIK\",\"RESMART\",\"RESOL\",\"RESPONSE\",\"RESSCH\",\"RESSCO\",\"REST\",\"RESTART\",\"RESTRICT\",\"RESUME\",\"RETAIN\",\"RETRY\",\"RETURN\",\"REVERSE\",\"REWEIGHT\",\"RGET\",\"RHELP\",\"RHO\",\"RHO0\",\"RI\",\"RIDGE\",\"RIDGEPLOT\",\"RIDGING\",\"RIGHT\",\"RISKDIFF\",\"RISKDIFF1\",\"RISKDIFF2\",\"RISKLIMITS\",\"RITER\",\"RL\",\"RM\",\"RMSE\",\"RMSE.\",\"RMSSTD\",\"RMULTI\",\"ROBUST\",\"ROBUSTREG\",\"ROBUSTSCALE\",\"ROCEPS\",\"ROMCOL\",\"ROMFONT\",\"ROMHEX\",\"ROMHT\",\"ROOT\",\"RORDER\",\"ROTATE\",\"ROTATION\",\"ROUND\",\"ROW\",\"ROWS\",\"RP\",\"RPR\",\"RPREFIX\",\"RR\",\"RRC1\",\"RRC2\",\"RSIDE\",\"RSK1\",\"RSK11\",\"RSK12\",\"RSK2\",\"RSK21\",\"RSK22\",\"RSQ\",\"RSQ.\",\"RSQDIFF\",\"RSQFULL\",\"RSQRED\",\"RSQREDUCED\",\"RSQUARE\",\"RSQUAREDIFF\",\"RSQUAREFULL\",\"RSQUAREREDUCED\",\"RSREG\",\"RSTAT\",\"RSTUDENT\",\"RSTUDENT.\",\"RSUBMIT\",\"RSYMBOL\",\"RTF\",\"RTINCLUDE\",\"RTMARGIN\",\"RTMPLOT\",\"RTSPACE\",\"RULES\",\"RUN\",\"RUPDATE\",\"S\",\"S370V\",\"S370VS\",\"SALPHA\",\"SAMPRATE\",\"SAMPSIZE\",\"SAS\",\"SASFILE\",\"SATISFY\",\"SAVAGE\",\"SAVE\",\"SBC\",\"SBC.\",\"SCALE\",\"SCALEDINDEP\",\"SCALEX\",\"SCALEY\",\"SCAN\",\"SCANOVER\",\"SCANTYPE\",\"SCATTER\",\"SCHART\",\"SCHEFFE\",\"SCO\",\"SCORE\",\"SCOREMOD\",\"SCORES\",\"SCORING\",\"SCOROUT\",\"SCORR\",\"SCORR1\",\"SCORR2\",\"SCREE\",\"SCWGT\",\"SDATA\",\"SDIAG\",\"SE\",\"SEB\",\"SEED\",\"SEIDEL\",\"SELECT\",\"SELECTALL\",\"SELECTION\",\"SEP\",\"SEPARATE\",\"SEPARATOR\",\"SEPARATORS\",\"SEPERATORS\",\"SEQ\",\"SEQB\",\"SEQUENTIAL\",\"SERIFS\",\"SERVER\",\"SET\",\"SETLABEL\",\"SETS\",\"SFACTOR\",\"SHAPE\",\"SHAPE1\",\"SHAPE2\",\"SHAREBUFFERS\",\"SHAREBUFS\",\"SHELL\",\"SHEWHART\",\"SHISQ\",\"SHO\",\"SHORT\",\"SHORTFILEEXT\",\"SHOW\",\"SHOWALL\",\"SHOWROMAN\",\"SID\",\"SIDAK\",\"SIDE\",\"SIDES\",\"SIGITER\",\"SIGMA\",\"SIGMA0\",\"SIGMAS\",\"SIGNOFF\",\"SIGNON\",\"SIGNRANK\",\"SIGSQ\",\"SIM\",\"SIM2D\",\"SIMFONT\",\"SIMILAR\",\"SIMPLE\",\"SIMPLEDIFF\",\"SIMPLEDIFFTYPE\",\"SIMULATE\",\"SIN\",\"SING\",\"SINGCHOL\",\"SINGDEN\",\"SINGHESS\",\"SINGLE\",\"SINGRES\",\"SINGSWEEP\",\"SINGULAR\",\"SINGULARMSG\",\"SINGVAR\",\"SINULAR\",\"SIZE\",\"SJPIMAX\",\"SJPIMIN\",\"SJPINUM\",\"SJPITOL\",\"SKEW\",\"SKEWNESS\",\"SKIP\",\"SKIPHLABEL\",\"SKIPHLABELS\",\"SKIPMISS\",\"SKIPROWS\",\"SLE\",\"SLENTRY\",\"SLICE\",\"SLICEDIFF\",\"SLICEDIFFTYPE\",\"SLIST\",\"SLMW\",\"SLOPE\",\"SLPOOL\",\"SLS\",\"SLSTAY\",\"SM\",\"SMALLINT\",\"SMC\",\"SMDCR\",\"SMDRC\",\"SMETHOD\",\"SMM\",\"SMO\",\"SMOOTH\",\"SMSG\",\"SN\",\"SNK\",\"SNORM\",\"SOCKET\",\"SOL\",\"SOLUTION\",\"SOLVE\",\"SOLVEPRINT\",\"SORT\",\"SORTED\",\"SORTEDBY\",\"SORTMSG\",\"SORTSEQ\",\"SORTSIZE\",\"SOU\",\"SOURCE\",\"SP\",\"SP.\",\"SPACE\",\"SPACEDATA\",\"SPACES\",\"SPACING\",\"SPARSE\",\"SPCORR\",\"SPEARMAN\",\"SPEC\",\"SPECIALINDICES\",\"SPECLEGEND\",\"SPECS\",\"SPEED\",\"SPL\",\"SPLINE\",\"SPLIT\",\"SPRECISION\",\"SPSS\",\"SQL\",\"SQPCORR\",\"SQSPCORR\",\"SQUARE\",\"SR\",\"SRES\",\"SRESIDUAL\",\"SRESTRICT\",\"SS1\",\"SS2\",\"SS3\",\"SS4\",\"SSCP\",\"SSE\",\"SSE.\",\"SSID\",\"SSP\",\"SSPLINE\",\"SSYMBOL\",\"ST\",\"STA\",\"STACKING\",\"STANDARD\",\"STANDORTH\",\"STAR\",\"STARBDRADIUS\",\"STARCIRCLES\",\"STARINRADIUS\",\"STARLABEL\",\"STARLEGEND\",\"STARLEGENDLAB\",\"STARMAX\",\"STARMIN\",\"STAROUTRADIUS\",\"STARSPEC\",\"STARSTART\",\"START\",\"STARTGLM\",\"STARTITER\",\"STARTUP\",\"STARTYPE\",\"STARVERTICES\",\"STAT\",\"STATE\",\"STATFONT\",\"STATHT\",\"STATIC\",\"STATIONARITY\",\"STATS\",\"STATUS\",\"STATUSN\",\"STATUSTIME\",\"STATVAR\",\"STB\",\"STD\",\"STD_ERR\",\"STD_GINI\",\"STD_MAD\",\"STD_QN\",\"STD_QRANGE\",\"STD_SN\",\"STDCMF\",\"STDCOEF\",\"STDCUMHAZ\",\"STDDEV\",\"STDDEVIATIONS\",\"STDERR\",\"STDI\",\"STDI.\",\"STDIZE\",\"STDMEAN\",\"STDP\",\"STDP.\",\"STDR\",\"STDR.\",\"STDRESCHI\",\"STDRESDEV\",\"STDX\",\"STDXBETA\",\"STDXSSE\",\"STDY\",\"STDYSSE\",\"STEP\",\"STEPBON\",\"STEPBOOT\",\"STEPDISC\",\"STEPDOWN\",\"STEPPERM\",\"STEPS\",\"STEPSID\",\"STEST\",\"STIMER\",\"STOP\",\"STOPOVER\",\"STOPRES\",\"STORE\",\"STRATA\",\"STRATUM\",\"STRICT\",\"STRUCTEQ\",\"STUDENT\",\"STUDENT.\",\"STUTC\",\"STYLE\",\"SUB\",\"SUBANALYSIS\",\"SUBCLUST\",\"SUBCLUSTER\",\"SUBGROUP\",\"SUBGROUPN\",\"SUBGROUPSIZE\",\"SUBJECT\",\"SUBMENU\",\"SUBMIT\",\"SUBSET\",\"SUBSETSIZE\",\"SUBSTITUTE\",\"SUBSTR\",\"SUM\",\"SUMBY\",\"SUMLABEL\",\"SUMMARIZE\",\"SUMMARY\",\"SUMSIZE\",\"SUMVAR\",\"SUMWGT\",\"SUP\",\"SUPPLEMENTARY\",\"SUPPRESS\",\"SUR\",\"SURFACE\",\"SURVEYFREQ\",\"SURVEYLOGISTIC\",\"SURVEYMEANS\",\"SURVEYREG\",\"SURVEYSELECT\",\"SURVIVAL\",\"SUSPEND\",\"SWAP\",\"SWEDISH\",\"SYBBUF\",\"SYBBUFZ\",\"SYBPW\",\"SYM\",\"SYMBOL\",\"SYMBOLCHARS\",\"SYMBOLLEGEND\",\"SYMBOLORDER\",\"SYMBOLS\",\"SYMORD\",\"SYSLIN\",\"SYSTASK\",\"T\",\"TABLE\",\"TABLEALL\",\"TABLEBOX\",\"TABLECENTRAL\",\"TABLEID\",\"TABLELEGEND\",\"TABLEOUT\",\"TABLEOUTLIM\",\"TABLES\",\"TABLETESTS\",\"TABULATE\",\"TAGSORT\",\"TAPE\",\"TARGACCEPT\",\"TARGET\",\"TARGETDEVICE\",\"TARGETSYMBOL\",\"TASKNAME\",\"TAU\",\"TC\",\"TCOPY\",\"TCORR\",\"TCOV\",\"TDATA\",\"TDEF\",\"TDEL\",\"TDELETE\",\"TDIFF\",\"TDP\",\"TDPREFIX\",\"TDPREFRIX\",\"TE\",\"TECH\",\"TECHNIQUE\",\"TEMP\",\"TEMPLATE\",\"TERMINAL\",\"TERMINATE\",\"TERMSTR\",\"TES\",\"TEST\",\"TEST2RUN\",\"TEST3RUN\",\"TESTACROSS\",\"TESTCHAR\",\"TESTCLASS\",\"TESTDATA\",\"TESTF\",\"TESTFONT\",\"TESTFREQ\",\"TESTHEIGHT\",\"TESTID\",\"TESTLABEL\",\"TESTLIST\",\"TESTLISTERR\",\"TESTNMETHOD\",\"TESTOUT\",\"TESTOUTD\",\"TESTOVERLAP\",\"TESTP\",\"TESTS\",\"TESTS2\",\"TEXT\",\"THEIL\",\"THEN\",\"THETA\",\"THETA0\",\"THR\",\"THRESHLABPOS\",\"THRESHOLD\",\"TICK\",\"TICKPOS\",\"TIES\",\"TILELEGLABEL\",\"TILT\",\"TIME\",\"TIMELIM\",\"TIMELIST\",\"TIMEOUT\",\"TIMEPLOT\",\"TIP\",\"TIPREFIX\",\"TITLE\",\"TO\",\"TOL\",\"TOLERANCE\",\"TOLLIKE\",\"TOLPROB\",\"TOTAL\",\"TOTALPDISC\",\"TOTALPROPDISC\",\"TOTALT\",\"TOTALTIME\",\"TOTEFF\",\"TOTPANELS\",\"TOTPCT\",\"TPHREG\",\"TPLAY\",\"TPR\",\"TPREFIX\",\"TPSPLINE\",\"TR\",\"TRA\",\"TRACE\",\"TRACEL\",\"TRAILER\",\"TRAILERFILE\",\"TRANS\",\"TRANSFORM\",\"TRANSLATE\",\"TRANSPARENCY\",\"TRANSPOSE\",\"TRANSREG\",\"TRANTAB\",\"TRAP\",\"TREATMENTS\",\"TREE\",\"TREECHAR\",\"TREND\",\"TRENDVAR\",\"TREPLAY\",\"TRIM\",\"TRIMMED\",\"TROFF\",\"TRUNCATE\",\"TRUNCOVER\",\"TSQUARE\",\"TSSCP\",\"TST\",\"TSTANDARD\",\"TSU\",\"TSUFFIX\",\"TSYMM\",\"TTEST\",\"TUKEY\",\"TUNEWT\",\"TURNHLABEL\",\"TURNHLABELS\",\"TURNVLABEL\",\"TURNVLABELS\",\"TWOSAMPLEFREQ\",\"TWOSAMPLEMEANS\",\"TWOSAMPLESURVIVAL\",\"TYP\",\"TYPE\",\"TYPE1\",\"TYPE3\",\"TYPES\",\"U\",\"U0\",\"U95\",\"U95M\",\"UCC\",\"UCHART\",\"UCL\",\"UCL.\",\"UCLLABEL\",\"UCLLABEL2\",\"UCLLABELS2\",\"UCLM\",\"UCLM.\",\"UCLMSUM\",\"UCORR\",\"UCOV\",\"UCR\",\"UID\",\"UL\",\"ULTRA\",\"ULTRAHEYWOOD\",\"ULX\",\"ULY\",\"UN\",\"UNA\",\"UNADJUSTED\",\"UNBUF\",\"UNBUFFERED\",\"UNCORRECTEDDF\",\"UNDERLIN\",\"UNDO\",\"UNDO_POLICY\",\"UNDOPOLICY\",\"UNHIDE\",\"UNIFORM\",\"UNION\",\"UNIQUE\",\"UNISTATS\",\"UNIT\",\"UNITE\",\"UNITS\",\"UNIVAR\",\"UNIVARIATE\",\"UNPACK\",\"UNREST\",\"UNSTD\",\"UNSTDIZE\",\"UNT\",\"UNTIE\",\"UNTIL\",\"UPCASE\",\"UPD\",\"UPDATE\",\"UPDATECENTILES\",\"UPDATEMODE\",\"UPDCEN\",\"UPP\",\"UPPER\",\"UPPERB\",\"UPPERCMF\",\"UPPERCUMHAZ\",\"UPPERTAILED\",\"URC\",\"URL\",\"URSQ\",\"URX\",\"URY\",\"USE\",\"USER\",\"USER_VAR\",\"USING\",\"USL\",\"USLSYMBOL\",\"USS\",\"USSCP\",\"USSCP2\",\"USYMBOL\",\"UTI\",\"UTILITIES\",\"UTITILIES\",\"V\",\"V5FMT\",\"V5MODEL\",\"V6\",\"V604\",\"V608\",\"V609\",\"V610\",\"V611\",\"V612\",\"V6COMP\",\"V6CORR\",\"V7\",\"V8\",\"VA\",\"VADJUST\",\"VALIDATE\",\"VALUE\",\"VALUES\",\"VAR\",\"VARADJ\",\"VARADJUST\",\"VARAIBLE\",\"VARCLUS\",\"VARCOMP\",\"VARDEF\",\"VARIABLE\",\"VARIABLES\",\"VARIANCE\",\"VARIOGRAM\",\"VARNAMES\",\"VARNUM\",\"VARSCALE\",\"VARSS\",\"VARSTAND\",\"VARSUM\",\"VARWT\",\"VARY\",\"VAXIS\",\"VAXIS2\",\"VAXISLABEL\",\"VBAR\",\"VBAR3D\",\"VC\",\"VCI\",\"VCIRY\",\"VCORR\",\"VDATA\",\"VDEP\",\"VERIFY\",\"VERSION\",\"VEXPAND\",\"VFORMAT\",\"VI\",\"VIEW\",\"VIEWDESC\",\"VIF\",\"VLOWER\",\"VM\",\"VMINOR\",\"VN\",\"VNAME\",\"VOFFSET\",\"VORIGIN\",\"VP\",\"VPAGES\",\"VPERCENT\",\"VPLOTS\",\"VPOS\",\"VPREFIX\",\"VREF\",\"VREF2\",\"VREF2LABELS\",\"VREFCHAR\",\"VREFLAB\",\"VREFLABEL\",\"VREFLABELS\",\"VREFLABPOS\",\"VREG\",\"VREVERSE\",\"VS\",\"VSCALE\",\"VSING\",\"VSINGULAR\",\"VSIZE\",\"VSPACE\",\"VTOH\",\"VUPPER\",\"VW\",\"VZERO\",\"VZERO2\",\"W\",\"W2\",\"WAIT\",\"WAITFOR\",\"WALD\",\"WALDCI\",\"WALDCL\",\"WALDRL\",\"WALLER\",\"WAXIS\",\"WAYS\",\"WBARLINE\",\"WCHISQ\",\"WCONF\",\"WCONNECT\",\"WCONST\",\"WCORR\",\"WCOV\",\"WDEP\",\"WEEKDAYS\",\"WEIB\",\"WEIBULL\",\"WEIBULL2\",\"WEIGHT\",\"WEIGHTFUNCTION\",\"WELCH\",\"WF\",\"WFIT\",\"WFRAME\",\"WGRID\",\"WGT\",\"WHEN\",\"WHERE\",\"WHILE\",\"WHITE\",\"WHITENOISE\",\"WIDTH\",\"WILCOXON\",\"WINDOW\",\"WINDOWS\",\"WINSOR\",\"WINSORIZED\",\"WITH\",\"WITHIN\",\"WITHINSUBJECT\",\"WLF\",\"WLIMITS\",\"WLLCHISQ\",\"WLS\",\"WLSL\",\"WML\",\"WMLOLST\",\"WMULTI\",\"WN\",\"WNAME\",\"WNEEDLES\",\"WORKDATA\",\"WORKSHEET\",\"WOUTLINE\",\"WOVERLAY\",\"WP\",\"WPEN\",\"WPENALTY\",\"WPREFIX\",\"WRAP\",\"WREF\",\"WREFL\",\"WREG\",\"WRIDGE\",\"WRITE\",\"WSSCP\",\"WSTARCIRCLES\",\"WSTARS\",\"WT\",\"WTARGET\",\"WTFREQ\",\"WTKAP\",\"WTREND\",\"WTRESSCH\",\"X\",\"XBETA\",\"XC\",\"XCHART\",\"XCONV\",\"XCOORD\",\"XDATA\",\"XLATEX\",\"XLATEY\",\"XLIGHT\",\"XMAX\",\"XOPTS\",\"XPIXELS\",\"XPORT\",\"XPVIX\",\"XPVIXI\",\"XPX\",\"XPXI\",\"XRCHART\",\"XREF\",\"XRESIDUAL\",\"XSCHART\",\"XSCORE\",\"XSIZE\",\"XSYMBOL\",\"XTICKNUM\",\"XTOL\",\"XVARS\",\"XVIEW\",\"XWAIT\",\"XYTYPE\",\"Y\",\"YC\",\"YCOORD\",\"YLIGHT\",\"YMAX\",\"YOPTS\",\"YPAIR\",\"YPCT1\",\"YPIXELS\",\"YRESIDULA\",\"YSCALE\",\"YSCORE\",\"YSIZE\",\"YTICKNUM\",\"YVIEW\",\"Z\",\"ZDATA\",\"ZDI\",\"ZER\",\"ZERO\",\"ZEROBASED\",\"ZEROES\",\"ZEROS\",\"ZEROSTD\",\"ZETA\",\"ZID\",\"ZMAX\",\"ZMIN\",\"ZONE\",\"ZONE2LABELS\",\"ZONE2VALUES\",\"ZONECHAR\",\"ZONELABELS\",\"ZONES\",\"ZONES2\",\"ZONEVALPOS\",\"ZONEVALUES\",\"ZROW\",\"ZTICKNUM\",\"ZVIEW\"]\n},!0);",
	"sas/hc/ui/commons/codeEditor/mode/sas/SasLexer.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./SasKeywords\",\"sas/hc/ui/commons/codeEditor/TextPosition\",\"sas/hc/ui/commons/codeEditor/Utils\"],function(t,r,e){\"use strict\";function i(t,r,e){if(-1===t&&r)return 0;if(0===t&&\"(\"!==e)return-1;if(t>=0){if(\"(\"===e)return t+1;\")\"===e&&0==--t&&(t=-1)}return t}var s=null,n=null,c={JAN:31,FEB:29,MAR:31,APR:30,MAY:31,JUN:30,JUL:31,AUG:31,SEP:30,OCT:31,NOV:30,DEC:31},u=/\\d{2}(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)(\\d{2}|\\d{4})|\\d{2}q[1234]\\b/i,a=function(t){if(!n){var i=window.ace.require(\"ace/unicode\");n=new RegExp(\"[\"+i.packages.L+i.packages.Mn+i.packages.Mc+i.packages.Nd+i.packages.Pc+\"\\\\$_]+$\")}this.model=t,this.start=new r(0,0),this.curr=new r(0,0),this.quoting=-1,this.bquoting=-1,this.ignoreFormat=!1,this.context={},null===s&&(s=e.arrayToMap([\"BQUOTE\",\"BY\",\"CMS\",\"DISPLAY\",\"DO\",\"ELSE\",\"END\",\"EVAL\",\"GLOBAL\",\"GO\",\"IF\",\"INC\",\"INCLUDE\",\"INDEX\",\"INPUT\",\"KEYDEF\",\"LENGTH\",\"LET\",\"LOCAL\",\"MACRO\",\"MEND\",\"NRBQUOTE\",\"NRQUOTE\",\"NRSTR\",\"PUT\",\"QSCAN\",\"QSUBSTR\",\"QSYSFUNC\",\"QUOTE\",\"QUPCASE\",\"SCAN\",\"STR\",\"SUBSTR\",\"SUPERQ\",\"SYSCALL\",\"SYSEVALF\",\"SYSEXEC\",\"SYSFUNC\",\"SYSGET\",\"SYSPROD\",\"SYSRPUT\",\"THEN\",\"TO\",\"TSO\",\"UNQUOTE\",\"UNTIL\",\"UPCASE\",\"WHILE\",\"WINDOW\",\"DEQUOTE\",\"SYMEXIST\",\"SYMGLOBL\",\"SYMLOCAL\",\"LOWCASE\",\"QLOWCASE\",\"TPLOT\",\"SYSMACEXEC\",\"SYSMACEXIST\",\"SYSMEXECDEPTH\",\"SYSMEXECNAME\",\"CMPRES\",\"QCMPRES\",\"QCMPRES\",\"COMPSTOR\",\"DATATYP\",\"LEFT\",\"QLEFT\",\"SYSRC\",\"TRIM\",\"QTRIM\",\"VERIFY\",\"DQLOAD\",\"DQPUTLOC\",\"DQUNLOAD\",\"KLOWCASE\",\"QKLOWCAS\",\"KTRIM\",\"QKTRIM\",\"KVERIFY\",\"ABORT\",\"COPY\",\"GOTO\",\"RETURN\",\"SYMDEL\",\"SYSLPUT\",\"LIST\",\"RUN\",\"SYSMSTORECLEAR\",\"SYSMACDELETE\"]))};return a.TOKEN_TYPES={SEP:\"sep\",KEYWORD:\"keyword\",SKEYWORD:\"sec-keyword\",PROCNAME:\"proc-name\",COMMENT:\"comment\",MKEYWORD:\"macro-keyword\",MCOMMENT:\"macro-comment\",MREF:\"macro-ref\",MSKEYWORD:\"macro-sec-keyword\",CARDSDATA:\"cards-data\",STR:\"string\",DATE:\"date\",TIME:\"time\",DT:\"dt\",BM:\"bitmask\",NL:\"namelit\",HEX:\"hex\",NUM:\"numeric\",WORD:\"text\",FORMAT:\"format\",BLANK:\"blank\"},a.notSyntaxToken=e.arrayToMap([\"comment\",\"macro-comment\",\"blank\"]),a.isComment=e.arrayToMap([\"comment\",\"macro-comment\"]),a.isLiteral=e.arrayToMap([\"string\",\"date\",\"time\",\"dt\",\"bitmask\",\"namelit\",\"hex\",\"numeric\",\"cards-data\"]),a.isWord=e.arrayToMap([\"keyword\",\"sec-keyword\",\"macro-sec-keyword\",\"macro-ref\",\"macro-keyword\",\"text\"]),a.isConst=e.arrayToMap([\"string\",\"date\",\"time\",\"dt\",\"bitmask\",\"namelit\",\"hex\",\"numeric\",\"format\"]),a.isCards=e.arrayToMap([\"CARDS\",\"LINES\",\"DATALINES\",\"DATALINES4\",\"CARDS4\",\"LINES4\"]),a.isCards4=e.arrayToMap([\"DATALINES4\",\"CARDS4\",\"LINES4\"]),a.isParmcards=e.arrayToMap([\"PARMCARDS\",\"PARMCARDS4\"]),a.isParmcards4=e.arrayToMap([\"PARMCARDS4\"]),a.isQuoting=e.arrayToMap([\"%STR\",\"%NRSTR\",\"%QUOTE\",\"%NRQUOTE\"]),a.isBQuoting=e.arrayToMap([\"%SUPERQ\",\"%BQUOTE\",\"%NRBQUOTE\"]),a.isBinaryOpr=e.arrayToMap([\"**\",\"+\",\"-\",\"*\",\"/\",\"&\",\"|\",\"!\",\"\",\"AND\",\"OR\",\"||\",\"<>\",\"><\",\"=\",\"EQ\",\"^=\",\"=\",\"~=\",\"NE\",\">\",\"GT\",\"<\",\"LT\",\">=\",\"GE\",\"<=\",\"LE\",\"=:\",\">:\",\"<:\",\"^=:\",\"=:\",\"~=:\",\">=:\",\"<=:\"]),a.isUnaryOpr=e.arrayToMap([\"\",\"\",\"~\",\"NOT\",\"+\",\"-\"]),a.longBiOprs=/^(\\^=:|\\u00AC=:|~=:|>=:|<=:|\\*\\*|<>|\\^=|\\u00AC=|~=|>=|<=|\\|\\||=:|>:|<:)/,a.prototype={getNext:function(){var t=this.getNext_();return t&&(void 0===a.isComment[t.type]&&(this.context.lastNoncommentToken={type:t.type,start:{line:t.start.line,column:t.start.column},end:{line:t.end.line,column:t.end.column}}),a.isLiteral[t.type]?t.text=this.getText(t):t.text=this.getWord(t).toUpperCase(),void 0===a.isComment[t.type]&&(this.quoting=i(this.quoting,a.isQuoting[t.text],t.text),this.bquoting=i(this.bquoting,a.isBQuoting[t.text],t.text),-1===this.quoting&&-1===this.bquoting&&(this.ignoreFormat||\"%PUT\"!==t.text?this.ignoreFormat&&\";\"===t.text&&(this.ignoreFormat=!1):this.ignoreFormat=!0))),t},getNext_:function(){for(var t,r,e,i,s,o,h=0,E=this.model.getLineCount();this.curr.line<E;)switch(this.start.line=this.curr.line,this.start.column=this.curr.column,r=this.curr.column,e=this.model.getLine(this.curr.line),o=e.length,e[r]){case\"/\":if(++r<o&&\"*\"===e[r]){for(r++;;){if((h=e.indexOf(\"*/\",r))>=0){this.curr.column=h+2;break}if(++this.curr.line>=E){this.curr.line--,this.curr.column=e.length;break}this.curr.column=0,r=0,e=this.model.getLine(this.curr.line)}return{type:a.TOKEN_TYPES.COMMENT,start:this.start,end:this.curr}}return this.curr.column=r,{type:a.TOKEN_TYPES.SEP,start:this.start,end:this.curr};case\"%\":if(++r<o&&/[A-Za-z_]/.test(e[r])){for(r++;r<o&&/[\\w_]/.test(e[r]);)r++;return this.curr.column=r,t=a.TOKEN_TYPES.WORD,t=this.isMacroKeyword(e.substr(this.start.column+1,r-this.start.column-1))?a.TOKEN_TYPES.MKEYWORD:a.TOKEN_TYPES.MREF,{type:t,start:this.start,end:this.curr}}if(r<o&&\"*\"===e[r]){for(;;){if(++r>=o){if(this.curr.line++,r=0,!(this.curr.line<E)){this.curr.line--,this.curr.column=e.length;break}e=this.model.getLine(this.curr.line),o=e.length}if(\";\"===e[r]){this.curr.column=r+1;break}}return{type:a.TOKEN_TYPES.MCOMMENT,start:this.start,end:this.curr}}return this.quoting>0&&r<o&&(\"'\"===e[r]||'\"'===e[r]||\"(\"===e[r]||\")\"===e[r])&&this.curr.column++,this.curr.column++,{type:a.TOKEN_TYPES.SEP,start:this.start,end:this.curr};case'\"':case\"'\":if(this.bquoting>0){this.curr.column++;break}for(i=e[r],t=a.TOKEN_TYPES.STR,r++;this.curr.line<E;)if(r<o)if(i===e[r]){if(r++,i!==e[r]){if(r<o)switch(e[r]){case\"d\":case\"D\":t=a.TOKEN_TYPES.DATE,r++,r<o&&(\"t\"===e[r]||\"T\"===e[r])&&(t=a.TOKEN_TYPES.DT,r++);break;case\"t\":case\"T\":t=a.TOKEN_TYPES.TIME,r++;break;case\"b\":case\"B\":t=a.TOKEN_TYPES.BM,r++;break;case\"n\":case\"N\":t=a.TOKEN_TYPES.NL,r++;break;case\"x\":case\"X\":t=a.TOKEN_TYPES.HEX,r++}return this.curr.column=r,{type:t,start:this.start,end:this.curr}}r++}else r++;else{if(++this.curr.line>=E)return this.curr.line--,this.curr.column=r,{type:t,start:this.start,end:this.curr};r=0,e=this.model.getLine(this.curr.line),o=e.length}break;case\"\\t\":case\" \":case\"\":this.curr.column++;break;case\".\":return this.curr.column=this.readNum(r,10),this.curr.column===r?(this.curr.column++,t=a.TOKEN_TYPES.SEP):t=a.TOKEN_TYPES.NUM,{type:t,start:this.start,end:this.curr};case\"$\":if(this.curr.column++,t=a.TOKEN_TYPES.SEP,++r<o&&(s=e[r],/[a-zA-Z_0-9]/.test(s))){for(r++;r<o&&/[\\w_]/.test(e[r]);)r++;r<o&&\".\"===e[r]&&(this.curr.column=this.readNum(r,10),this.curr.column===r&&this.curr.column++,t=a.TOKEN_TYPES.FORMAT)}return{type:t,start:this.start,end:this.curr};case\"*\":if(null!==this.context.lastNoncommentToken&&\";\"!==this.getWord(this.context.lastNoncommentToken))return r++,this.curr.column=r,{type:a.TOKEN_TYPES.SEP,start:this.start,end:this.curr};for(;\";\"!==e[r];)if(++r>=o){if(++this.curr.line>=E){r--,this.curr.line--;break}r=0,e=this.model.getLine(this.curr.line),o=e.length}return this.curr.column=r+1,{type:a.TOKEN_TYPES.COMMENT,start:this.start,end:this.curr};case\"\\n\":case\"\\r\":case\"\\u2028\":case\"\\u2029\":case void 0:this.curr.line++,this.curr.column=0,r=0;break;default:if(t=a.TOKEN_TYPES.WORD,s=e[r],n.test(s)&&!/\\d/.test(s)){for(r++;r<o&&n.test(e[r]);)r++;if(-1===this.quoting&&-1===this.bquoting&&!this.ignoreFormat&&\".\"===e[r]){if(this.curr.column=this.readNum(r,10),this.curr.column===r&&this.curr.column++,r++,this.curr.column>r||r<o&&!1===/[a-zA-Z_]/.test(e[r])||this.curr.column===r&&r===o)return{type:a.TOKEN_TYPES.FORMAT,start:this.start,end:this.curr};for(;r<o&&/\\w/.test(e[r]);)r++}return this.curr.column=r,{type:t,start:this.start,end:this.curr}}if(s<=\"9\"&&s>=\"0\"){r++,t=a.TOKEN_TYPES.NUM,u.lastIndex=0;var e=this.model.getLine(this.curr.line),T=u.exec(e.substring(this.curr.column));if(T){var m=T[0][2];if(\"q\"!==m&&\"Q\"!==m){var l=parseInt(T[0].substr(0,2));(l<1||l>c[T[1].toUpperCase()])&&(T=null)}}if(\"+\"===s||\"-\"===s){if(!(e[r]<=\"9\"&&e[r]>=\"0\"))return this.curr.column=r,{type:a.TOKEN_TYPES.SEP,start:this.start,end:this.curr};r=this.readNum(r)}else T?(r=T[0].length+this.curr.column,t=a.TOKEN_TYPES.DATE):r=this.readNum(this.curr.column);return this.curr.column=r,{type:t,start:this.start,end:this.curr}}var S=a.longBiOprs.exec(e.substring(this.curr.column));return S?this.curr.column+=S[0].length:this.curr.column++,{type:a.TOKEN_TYPES.SEP,start:this.start,end:this.curr}}},end:function(){return!(this.curr.line<this.model.getLineCount())},reset:function(){this.curr.line=0,this.curr.column=0},startFrom:function(t,r){this.curr.line=t,this.curr.column=r,this.context.lastNoncommentToken=null,this.quoting=-1,this.bquoting=-1,this.ignoreFormat=!1},readNum:function(t,r){var e,i=this.model.getLine(this.curr.line),s=t,n=/^\\b0?[0-9a-fA-F]+[xX]\\b|^(?!0\\d)\\d+(\\.\\d{1,})(E([-+])?(\\d+)?)?|^\\d+\\.|^(?!0\\d)\\d+(\\.\\d{1,})?(E([-+])?(\\d+)?)?|^\\d+\\.?\\d*|\\.\\d+/gi;return 10===r&&(n=/^\\d+\\.?\\d*|^\\.\\d+/),e=n.exec(i.substring(t)),e&&(s=e[0].length+t),s},isMacroKeyword:function(t){return!!s[t.toUpperCase()]},getWord:function(t){var r=\"\";return t&&(r=this.model.getLine(t.end.line).substr(t.start.column,t.end.column-t.start.column)),r},getText:function(t){return this.model.getText(t)}},a},!0);",
	"sas/hc/ui/commons/codeEditor/mode/sas/SasLexerEx.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sap/base/assert\",\"./SasLexer\",\"sas/hc/ui/commons/codeEditor/TextPosition\",\"sas/hc/ui/commons/codeEditor/SasLanguageService\",\"sas/hc/ui/commons/codeEditor/Utils\",\"sas/hc/ui/core/Core\"],function(t,e,s,n,i,r){\"use strict\";var a=function(){1===arguments.length?(this.startLine=arguments[0].startLine,this.startCol=arguments[0].startCol,this.endLine=arguments[0].endLine,this.endCol=arguments[0].endCol,this.type=arguments[0].type,this.name=arguments[0].name,this.endFoldingLine=arguments[0].endFoldingLine,this.endFoldingCol=arguments[0].endFoldingCol):arguments.length>=4?(this.startLine=arguments[0],this.startCol=arguments[1],this.endLine=arguments[2],this.endCol=arguments[3],this.type=arguments[4],this.name=arguments[5]?arguments[5]:\"\"):(this.startLine=-1,this.startCol=-1,this.endLine=-1,this.endCol=-1,this.type=-1,this.name=\"\",this.endFoldingLine=-1,this.endFoldingCol=-1)},o=a,h=a,c=function(s){function r(t,e,s,n){var i=e,r=t[i],a={line:s,column:n};if(!r||R(a,d(r),u(r)))return e;if(v(a,d(r))){do{i--,r=t[i]}while(r&&!v(u(r),a));return++i}do{i++,r=t[i]}while(r&&!v(a,d(r)));return--i}function d(t){return{line:t.startLine,column:t.startCol}}function u(t){return{line:t.endLine,column:t.endCol}}function _(t,e){t.startLine=e.line,t.startCol=e.column}function p(t,e){t.endLine=e.line,t.endCol=e.column}function S(t){return{line:t.endFoldingLine,column:t.endFoldingCol}}function T(t,e){t.endFoldingLine=e.line,t.endFoldingCol=e.column}function E(t){for(var e,s=t,n=G.length-1;s<=n;){if((e=G[s])&&e.specialBlks)return e.specialBlks[0];s++}return-1}function m(t,e){var s,n=null;return s=t.start.exec(e),s&&(e=e.substring(s.index+s[0].length),n=t.cards.exec(e)),n}function A(t,e){var s;do{e=function(e){var n,i,r,a,o=[];for(s=!0;;){if(!(n=t.start.exec(e))){o.push(e);break}if(a=n.index+n[0].length,o.push(e.substring(0,a)),e=\";\"+e.substring(a),!(i=t.cards.exec(e))){o.push(e.substring(1));break}if(o.push(e.substring(0,i.index+1)),e=e.substring(i.index+i[0].length),!(r=t.end.exec(e))){o.push(i[0]);break}if(e=e.substring(r.index+r[0].length),o.length>400){s=!1;break}}return o.join(\"\")}(e)}while(!s);return e}function k(t,e,s){for(var n,i=[];;){if(!(n=t.exec(e))){i.push(e);break}i.push(e.substring(0,n.index)),s&&i.push(s),e=e.substring(n.index+n[0].length)}return i.join(\"\")}function f(t){return k(Q,t)}function g(t){return k(j,t,\"x\")}function N(t){return/^\\s*$/.test(t)}function C(t,e){var n=t.oldRange,i=N(t.text+t.removedText);if(v(n.start,d(e))&&!i)return!0;if(n.start.line===e.startLine){var r=n.start.column-e.startCol;if(\"=\"===t.text){return/(PROC|PROCEDURE|DATA)\\s*/i.test(f(s.getLine(e.startLine).slice(e.startCol,n.start.column)))}if(0===r&&i)return!1;if(r<=e.name.length)return!0}return!1}function P(t,e){var s=t.oldRange;return!!(!v(s.end,u(e))||e.type!==c.SEC_TYPE.GBL&&e.explicitEnd&&v(e.explicitEndStmt.start,s.end))}function O(t){return t&&t.collapsed&&t.endLine!==t.endFoldingLine}function R(t,e,s){return v(e,t)&&v(t,s)}function v(t,e){return t.line<e.line||t.line===e.line&&t.column<e.column}function I(t,e,s){for(var n=t,i=G[n],r=null;i&&!i[e];)n++,i=G[n];return i&&(r=i[e]),r?r[0]:s.length}function y(t,e,s,n){if(!(G.length<=0||e.removedBlocks.count<=0)){var i,r;i=s(e.removedBlocks.start),r=s(e.removedBlocks.end+1);var a=n;return n=a.splice(0,i),a.length>0&&r>i&&(a.splice(0,r-i),x(a,t,e)),{blocks:n,unchangedBlocks:a}}}function D(t){return I(t,\"specialBlks\",W)}function L(t,e){if(e.line===t.oldRange.end.line){var s,n=-1,i=t.text.length,r=t.oldRange.start.column,a=e.column-t.oldRange.end.column;n=t.text.lastIndexOf(\"\\n\"),s=n>=0?\"\\n\"===t.text[t.text.length-1]?a:i-n-1+a:r+i+a,e.column=s}e.line+=t.newRange.end.line-t.newRange.start.line-t.oldRange.end.line+t.oldRange.start.line}function x(t,e,s){var n,i,r=t.length;for(H=e.newRange.end.line-e.newRange.start.line-e.oldRange.end.line+e.oldRange.start.line,n=0;n<r&&!(t[n].startLine>s.endLine&&0===H);n++)i=d(t[n]),L(e,i),_(t[n],i),i=u(t[n]),L(e,i),p(t[n],i),ot[t[n].type]&&(i=S(t[n]),L(e,i),T(t[n],i))}var K,B,w=0,G=[],M=[],Y=[],F=!0,b=[],W=[],U=null,H=0,V=0;this.model=s,this.lexer=new e(s),this.expr=new l(this),this.langSrv=new n,this.SEC_TYPE=c.SEC_TYPE,this.PARSING_STATE={IN_GBL:0,IN_MACRO:1,IN_PROC:2,IN_DATA:3},this.isTokenWithScopeMarks={comment:1,\"macro-comment\":1,string:1,date:1,time:1,dt:1,bitmask:1,namelit:1,hex:1},this.CARDS_STATE={IN_NULL:0,IN_CMD:1,IN_DATA:2,IN_DATA_WAITING:3},this.cardsState=this.CARDS_STATE.IN_NULL,this.startLineForCardsData=0,this.stack=null,this.curr=null,this.lookAheadTokens=[],this.sectionCache=[],this.lastToken=null,G=[],K=new a,B=new o;var z={OPTION:\"OPTIONS\",GOPTION:\"GOPTIONS\"};this._cleanKeyword=function(t){if(/^(TITLE|FOOTNOTE|AXIS|LEGEND|PATTERN|SYMBOL)\\d{0,}$/.test(t)){var e=t.match(/(^(TITLE|FOOTNOTE|AXIS|LEGEND|PATTERN|SYMBOL)|\\d{0,}$)/g),s=parseInt(e[1],10),n=!1;switch(e[0]){case\"TITLE\":case\"FOOTNOTE\":n=s<11&&s>0;break;case\"AXIS\":case\"LEGEND\":n=s<100&&s>0;break;case\"PATTERN\":case\"SYMBOL\":n=s<256&&s>0}n&&(t=e[0])}else{var i=z[t];i&&(t=i)}return t},this.adjustFoldingEnd_=function(t,e){t.endLine>t.startLine&&t.endLine===e.startLine?(t.endFoldingLine=t.endLine-1,t.endFoldingCol=this.model.getColumnCount(t.endFoldingLine)):(t.endFoldingLine=t.endLine,t.endFoldingCol=t.endCol)},this.push_=function(t){this.trimBlock_(t),this.sectionCache[t.startLine]=null,t.endFoldingLine=t.endLine,t.endFoldingCol=t.endCol,G.length&&this.adjustFoldingEnd_(G[G.length-1],t),G.push(t),b=[]},this._changeCardsDataToken=function(t){return b.pop(),b.push(t),t},this._clonePos=function(t){return{line:t.line,column:t.column}},this.startFoldingBlock_=function(t,e,s){1===++w&&(K.startLine=e.line,K.startCol=e.column,K.type=t,K.name=s,K.specialBlks=null)},this.endFoldingBlock_=function(t,e,s,n,i){var r=!1;if(w--,0===w&&(r=!0),r){if(e.line>=K.startLine){K.endLine=e.line,K.endCol=e.column;var o=new a(K);o.explicitEnd=s,s&&(o.explicitEndStmt={},o.explicitEndStmt.start=n.start,o.explicitEndStmt.name=i),K.specialBlks&&(o.specialBlks=K.specialBlks,K.specialBlks=null),this.push_(o)}K.startLine=-1}},this.hasFoldingBlock_=function(){return K.startLine>=0},this.getLastNormalFoldingBlockInLine_=function(t,e){for(var s=t,n=G[s],i=t;n&&(n.startLine===e||n.endLine===e);)i=n.type!==this.SEC_TYPE.GBL?s:-1,s++,n=G[s];if(i<0)for(s=t-1,n=G[s];n&&(n.startLine===e||n.endLine===e);){if(n.type!==this.SEC_TYPE.GBL){i=s;break}i=-1,s--,n=G[s]}return G[i]&&G[i].type===this.SEC_TYPE.GBL&&(i=-1),G[i]},this.getFoldingBlock_=function(t,e,s){var n=this.getBlockPos_(G,t,e),i=G[n];return s?i:i&&i.startLine<=t&&i.endLine>=t?this.getLastNormalFoldingBlockInLine_(n,t):e&&(i=G[G.length-1])&&!v({line:t,column:e},u(i))&&!i.explictEnd?i:null},this.getFoldingBlock=function(t,e,s){if(void 0===e){if(!this.sectionCache[t]){var n=this.getFoldingBlock_(t);n&&t<=n.endFoldingLine?this.sectionCache[t]=n:this.sectionCache[t]=null}return this.sectionCache[t]}return this.getFoldingBlock_(t,e,s)},this.getBlockPos_=function(t,e,s){var n=this.getBlockPos1_(t,e);return(s||0===s)&&(n=r(t,n,e,s)),n},this.getBlockPos1_=function(t,e){var s=t.length,n=Math.floor(s/2),i=0,r=s-1,a={};if(s)for(;;){if(a[n]=!0,e<=t[n].endLine){if(e>=t[n].startLine)return n;r=n,n=Math.floor((i+r)/2)}else i=n,n=Math.ceil((i+r)/2);if(a[n])return e>=t[n].endLine?n+1:n}return 0},this.resetFoldingBlockCache_=function(){G=[],w=0},this.tryEndFoldingBlock_=function(t){if(this.hasFoldingBlock_()){var e=this.SEC_TYPE.PROC;for(this.curr.state===this.PARSING_STATE.IN_DATA?e=this.SEC_TYPE.DATA:this.curr.state===this.PARSING_STATE.IN_MACRO?e=this.SEC_TYPE.MACRO:this.curr.state===this.PARSING_STATE.IN_GBL&&(e=this.SEC_TYPE.GBL),this.endFoldingBlock_(e,t);w>0;)this.endFoldingBlock_(e,t),w--}},this.tryStop_=function(t){var e=M.length;if(this.tryToAddTknBlock_(t),t&&e&&!v(t.start,d(M[0]))){if(this.hasFoldingBlock_()){if(K.type===this.SEC_TYPE.MACRO)return void M.splice(0,1);this.tryEndFoldingBlock_(this.lastToken.end)}var s,e,n=W.length,i=G.length,r=0;throw M.forEach(function(t){if(t.specialBlks)for(s=0,e=t.specialBlks.length;s<e;s++)t.specialBlks[s]=n,U[r]&&(U[r].sectionIdx=i),r++,n++;i++}),G.length&&M.length&&this.adjustFoldingEnd_(G[G.length-1],M[0]),G=G.concat(M),W=W.concat(U),this.lastToken=null,{changedLineCount:H,changedColCount:V,type:\"skip-syntax-parsing\",token:t}}t&&b.push(t)},this.printBlocks=function(){for(var t=0;t<G.length;t++)sas.log.info(G[t].startLine+\"-\"+G[t].endLine)},this._docEndPos=function(){var t=this.model.getLineCount()-1;return{line:t,column:this.model.getColumnCount(t)}},this._getParseText=function(t,e){var s,n,i,r,o,h=G[e.removedBlocks.start],c=G[e.removedBlocks.end],l=[];if(!h)return t.text;if(r=G[e.removedBlocks.start-1],s=r?u(r):{line:0,column:0},\"textChanged\"===t.type)return o=G[e.removedBlocks.end+1],o?(i=new a(o),l.push(i),x(l,t,e),n=d(i)):n=this._docEndPos(),this.model.getText({start:s,end:n});var _,p=this.model.getText({start:s,end:t.oldRange.start});return n=c?u(c):this._docEndPos(),_=this.model.getText({start:t.oldRange.end,end:n}),p+t.text+_},this._getNextComment=function(t){for(var e=E(t);W[e]&&!0!==W[e].blockComment;)e++;return W[e]},this._getNextCards4=function(t){for(var s=E(t);W[s]&&!e.isCards4[W[s].name]&&!e.isParmcards4[W[s].name];)s++;return W[s]};var Q=/(\\/\\*[\\s\\S]*?\\*\\/)|(^\\s*\\*[\\s\\S]*?;)|(;\\s*\\*[\\s\\S]*?;)|(%\\*[\\s\\S]*?;)/i,j=/('|\")([\\s\\S]*?)(\\1)/i,X=/(^\\s*|;\\s*)(data)(;|[\\s]+[^;]*;)/i,$=/(;[\\s]*)(cards|lines|datalines)(;|[\\s]+[^;]*;)/i,J=/(;[\\s]*)(cards4|lines4|datalines4)(;|[\\s]+[^;]*;)/i,q=/(^\\s*|;\\s*)(proc)(\\s*\\/\\*[\\s\\S]+\\*\\/\\s*|\\s+)(explode)(;|[\\s]+[^;]*;)/i,Z=/(;[\\s]*)(parmcards)(;|[\\s]+[^;]*;)/i,tt=/(;[\\s]*)(parmcards4)(;|[\\s]+[^;]*;)/i,et=/([^;]*;)/im,st=/(\\n^;;;;)/im,nt={start:X,cards:$,end:et},it={start:X,cards:J,end:st},rt={start:q,cards:Z,end:et},at={start:q,cards:tt,end:st};this._checkSpecialChange=function(t,e){var t,s=/['\"]/gim,n=/\\/\\*/gim,i=this._getParseText(t,e),r=null,a=null,o=-1;return i=f(i),i=g(i),i=A(nt,i),i=A(it,i),i=A(rt,i),i=A(at,i),i=i.replace(/\\n/g,\" \"),(t=n.test(i))&&(r=this._getNextComment(e.removedBlocks.end+1),r&&(i+=\" /**/\",o=r.sectionIdx,i=f(i),n.lastIndex=0,t=n.test(i)),t)?G.length:i.lastIndexOf(\"*\")>0&&(o=e.removedBlocks.end+1)>G.length?G.length:o>0?o:(t=s.test(i))?G.length:(t=m(it,i))&&(e.removedBlocks&&(a=this._getNextCards4(e.removedBlocks.end+1))&&(i+=\" \\n;;;;\\n\",o=a.sectionIdx,i=A(it,i),t=m(it,i)),t)?G.length:(t=m(at,i),t&&(e.removedBlocks&&(a=this._getNextCards4(e.removedBlocks.end+1))&&(i+=\" \\n;;;;\\n\",o=a.sectionIdx,i=A(at,i),t=m(at,i)),t)?G.length:o>0?o:-1)},this.normalizeStart_=function(t){0!==t.startCol&&t.startCol===this.model.getColumnCount(t.startLine)&&t.startLine+1<this.model.getLineCount()&&(t.startLine++,t.startCol=0)},this.normalizeEnd_=function(t){t.endCol<=0&&t.endLine>0&&this.model.getColumnCount(t.endCol)>0&&(t.endLine--,t.endCol=this.model.getColumnCount(t.endLine))},this.normalizeBlock_=function(t){this.normalizeStart_(t),this.normalizeEnd_(t)},this.trimBlock_=function(t){var e=this.getLastToken_(t);e&&(t.endLine=e.end.line,t.endCol=e.end.column),this.normalizeBlock_(t)},this.getLastToken_=function(t){for(var e=b.length-1;b[e]&&(b[e].start.line>t.endLine||b[e].start.line===t.endLine&&b[e].start.column>=t.endCol);)e--;for(;e>=0&&/^\\s*$/g.test(this.lexer.getText(b[e]));)e--;return e>=0?b[e]:null},this.getChange_=function(t,e){var s=this.getBlockPos_(t,e.line,e.column),n=s,i={startLine:0,startCol:0,endLine:0,endCol:0};return t[s]?i=t[s]:t.length>0&&s>=t.length&&(n=t.length-1,i=t[n],i.explicitEnd&&(i={startLine:i.endLine,startCol:i.endCol,endLine:this.model.getLineCount()-1,endCol:0},i.endCol=this.model.getColumnCount(i.endLine),v(u(i),d(i))&&(i.endLine=i.startLine,i.endCol=i.startCol),n++)),{startLine:i.startLine,startCol:i.startCol,endLine:i.endLine,endCol:i.endCol,blockIdx:n}},this._getParseRange=function(t,e){var s,n=e.oldRange,i=this.getChange_(t,n.start),r={},a=i;if(n.start.line===n.end.line&&n.start.column===n.end.column)i.removedBlocks={start:i.blockIdx,end:i.blockIdx};else if(s=this.getChange_(t,n.end),s.startLine>i.startLine&&s.endLine<i.endLine)i.removedBlocks={start:i.blockIdx,end:i.blockIdx};else{var o,h,c,l;s.startLine>i.startLine?(o=i.startLine,h=i.startCol):i.startLine===s.startLine?(o=i.startLine,h=i.startCol>s.startCol?s.startCol:i.startCol):(o=s.startLine,h=s.startCol),i.endLine>s.endLine?(c=i.endLine,l=i.endCol):i.endLine===s.endLine?(c=i.endLine,l=i.endCol>s.endCol?i.endCol:s.endCol):(c=s.endLine,l=s.endCol),r.start=i.blockIdx,r.end=s.blockIdx,a={startLine:o,startCol:h,endLine:c,endCol:l,removedBlocks:r}}return a},this.getParseRange=function(t){return this.getParseRangeBySections_(t)},this.getParseRangeBySections_=function(t){var e=G,s=this._getParseRange(e,t),n=e[s.removedBlocks.start-1],i=null;n?(s.startLine=n.endLine,s.startCol=n.endCol):(s.startLine=0,s.startCol=0),(n=e[s.removedBlocks.start])&&(i=e[s.removedBlocks.start-1],i&&(C(t,n)&&!i.explicitEnd||O(i))?(s.startLine=i.startLine,s.startCol=i.startCol,s.removedBlocks.start--):!v(t.oldRange.start,u(n))&&n.explicitEnd&&(s.removedBlocks.start++,s.startLine=n.endLine,s.startCol=n.endCol));var r=this._checkSpecialChange(t,s);if(r>=0)r===G.length?(s.endLine=this.model.getLineCount()-1,s.endCol=this.model.getColumnCount(s.endLine),s.removedBlocks.end=e.length-1):r>s.removedBlocks.end&&(s.endLine=G[r].endLine,s.endCol=G[r].endCol,s.removedBlocks.end=r);else{var a=s.removedBlocks.end,o=null;if((n=e[a])&&P(t,n)){do{a++,o=e[a]}while(o&&o.type===this.SEC_TYPE.GBL);o?(a--,a===s.removedBlocks.end&&a++,o=e[a],s.endLine=o.endLine,s.endCol=o.endCol):(s.endLine=this.model.getLineCount()-1,s.endCol=this.model.getColumnCount(s.endLine)),s.removedBlocks.end=a}}if(s.removedBlocks.end>=e.length&&(s.removedBlocks.end=e.length-1),s.removedBlocks.start>=0&&s.removedBlocks.start<e.length?s.removedBlocks.count=s.removedBlocks.end-s.removedBlocks.start+1:s.removedBlocks.count=0,e.length>0&&s.removedBlocks.count>0){s.removedBlocks.blocks=[];for(var h=s.removedBlocks.start;h>=0&&h<=s.removedBlocks.end;h++)s.removedBlocks.blocks.push(e[h])}return sas.log.info(\"parseRange:(\"+s.startLine+\",\"+s.startCol+\")-(\"+s.endLine+\",\"+s.endCol+\");blocks:[\"+s.removedBlocks.start+\"-\"+s.removedBlocks.end+\"]\"),s},this.trimRange_=function(t){for(t.endLine>this.model.getLineCount()&&(t.endLine=this.model.getLineCount()-1,t.endLine<0&&(t.endCol=0));t.endCol<=0;){if(--t.endLine<0){t.endLine=0,t.endCol=0;break}t.endCol=this.model.getColumnCount(t.endLine)}},this.start_=function(t){var e=this.getParseRangeBySections_(t);return this._handleTokens(t,e),this._handleSections(t,e),this.stack=[{parse:this.readProg_,state:this.PARSING_STATE.IN_GBL}],this.curr=null,w=0,this.sectionCache.splice(e.startLine,this.sectionCache.length-e.startLine),this.lexer.startFrom(e.startLine,e.startCol),e},this._handleSections=function(t,e){if(M=G,G=M.splice(0,e.removedBlocks.start),void 0!==e.removedBlocks&&M.splice(0,e.removedBlocks.count),V=0,M.length){var s=M[0].startCol;x(M,t,e),V=M[0].startCol-s}},this._handleStmts=function(t,e){var e=this._getParseRange(Y,t);sas.log.info(\"changed statement:\"+e)},this._handleTokens=function(t,e){var s=y(t,e,D,W);s&&(W=s.blocks,U=s.unchangedBlocks)};var ot=i.arrayToMap([c.SEC_TYPE.DATA,c.SEC_TYPE.PROC,c.SEC_TYPE.MACRO]);this.setKeyword_=function(s,n){return t(s,\"Token must be valid.\"),t(e.isWord[s.type],\"Token must be word type.\"),n&&\"text\"===s.type&&(s.type=e.TOKEN_TYPES.KEYWORD,s.notCheckKeyword=!0),s},this.addTknBlock_=function(t){K.specialBlks||(K.specialBlks=[]),K.specialBlks.push(W.length),W.push(t)},this.tryToAddTknBlock_=function(t){if(t&&this.isTokenWithScopeMarks[t.type]){var e=new h(t.start.line,t.start.column,t.end.line,t.end.column,t.type,this.lexer.getText(t));e.sectionIdx=G.length,e.blockComment=\"/\"===this.model.getLine(t.start.line)[t.start.column],this.addTknBlock_(e)}},this.tryToAddCardsBlock_=function(t){if(t&&t.type===e.TOKEN_TYPES.CARDSDATA){var s=new h(t.start.line,t.start.column,t.end.line,t.end.column,t.type,this.curr.name);s.sectionIdx=G.length,this.addTknBlock_(s)}},this.tryToAddStmtBlock_=function(t){if(!t)return void(F||this.endStmtBlock_());F&&(B.startLine=t.start.line,B.startCol=t.start.column,F=!1),B.endLine=t.end.line,B.endCol=t.end.column,this.isTokenWithScopeMarks[t.type]&&(B.specialBlks||(B.specialBlks=[]),B.specialBlks.push(t)),\";\"===t.text&&this.endStmtBlock_()},this.endStmtBlock_=function(){F=!0,Y.push(new o(B)),B.endLine=-1}};c.prototype={start:function(t,e){return this.lookAheadTokens=[],this.start_(t,e)},end:function(){return this.lexer.end()&&0===this.lookAheadTokens.length},reset:function(){return this.resetFoldingBlockCache_(),this.lexer.reset()},getNext:function(){this.curr=this.stack[this.stack.length-1];var t=this.curr.parse.apply(this);if(this.curr=this.stack[this.stack.length-1],this.tryToAddCardsBlock_(t),!t||this.end()){var e=this.model.getLineCount()-1,s=e>=0?this.model.getColumnCount(e):0;this.tryEndFoldingBlock_({line:e,column:s})}return this.lastToken=t,t},getNext_:function(){var t=null;if(this.lookAheadTokens.length>0)t=this.lookAheadTokens.shift();else{var e=this.lexer.getNext();t=e?{type:e.type,text:e.text,start:new s(e.start),end:new s(e.end)}:e}return this.tryStop_(t),t},cacheToken_:function(t){if(t){var e={type:t.type,text:t.text,start:new s(t.start),end:new s(t.end)};this.lookAheadTokens.push(e)}return e},prefetch0_:function(t){var e=null;if(this.lookAheadTokens.length>=t)e=this.lookAheadTokens[t-1];else for(var s=t-this.lookAheadTokens.length,n=0;n<s;n++)e=this.cacheToken_(this.lexer.getNext());return e},prefetch_:function(t){var s=null;do{s=this.prefetch0_(t.pos),t.pos++}while(s&&e.isComment[s.type]);return s},isNextTokenColon_:function(){var t=this.prefetch0_(1);return!(!t||\":\"!==t.text)},isStmtEnd_:function(t){},getWord_:function(t){return this.lexer.getWord(t).toUpperCase()},isLabel_:function(t){var e=this.prefetch_({pos:1});return e&&\":\"===e.text},isAssignment_:function(t){if(\"PROC\"===t.text||\"PROCEDURE\"===t.text||\"DATA\"===t.text||\"RUN\"===t.text||\"QUIT\"===t.text){var e=this.prefetch_({pos:1});return e&&\"=\"===e.text}return!1},readProg_:function(){var t,s,n=\"\",i=!0,r=this.getNext_();if(!r)return null;if(e.isWord[r.type]&&(t=this.isLabel_(r),s=this.isAssignment_(r),!t&&!s))switch(n=r.text){case\"PROC\":case\"PROCEDURE\":this.startFoldingBlock_(this.SEC_TYPE.PROC,r.start,n),r.type=e.TOKEN_TYPES.SKEYWORD;var a=this.handleProcName_();this.stack.push({parse:this.readProc_,state:this.PARSING_STATE.IN_PROC,name:a}),this.stack.push({parse:this.readProcDef_,state:this.PARSING_STATE.IN_PROC,name:a}),i=!1;break;case\"%MACRO\":this.startFoldingBlock_(this.SEC_TYPE.MACRO,r.start,n),r.type=e.TOKEN_TYPES.MSKEYWORD,this.stack.push({parse:this.readMacro_,state:this.PARSING_STATE.IN_MACRO}),this.stack.push({parse:this.readMacroDef_,state:this.PARSING_STATE.IN_MACRO}),i=!1;break;case\"DATA\":this.startFoldingBlock_(this.SEC_TYPE.DATA,r.start,n),r.type=e.TOKEN_TYPES.SKEYWORD,this.stack.push({parse:this.readData_,state:this.PARSING_STATE.IN_DATA}),this.stack.push({parse:this.readDataDef_,state:this.PARSING_STATE.IN_DATA}),i=!1}if(i)if(this.startFoldingBlock_(this.SEC_TYPE.GBL,r.start,n),this.stack.push({parse:this.readGbl_,state:this.PARSING_STATE.IN_GBL}),t)this.stack.push({parse:this.readLabel_,state:this.PARSING_STATE.IN_GBL});else if(r.type===e.TOKEN_TYPES.MREF)this.handleMref_(this.PARSING_STATE.IN_GBL);else if(!e.isComment[r.type]&&\";\"!==r.text){var o=this._cleanKeyword(n),h={parse:this.readGblStmt_,state:this.PARSING_STATE.IN_GBL,name:o};if(this.stack.push(h),!s&&e.isWord[r.type]&&!this.tryToHandleSectionEnd_(r)){var c=this.handleLongStmtName_(\"\",o);h.name=c.stmtName,this.setKeyword_(r,c.isKeyword),h.hasSlashOptionDelimiter=this.langSrv.hasOptionDelimiter(\"\",c.stmtName)}}return r},stmtWithDatasetOption_:i.arrayToMap([\"DATA/SET\",\"DATA/MERGE\",\"DATA/MODIFY\",\"DATA/UPDATE\",\"DOCUMENT/IMPORT\",\"JSON/EXPORT\",\"SERVER/ALLOCATE SASFILE\"]),OptionCheckers_:{\"proc-def\":{getOptionType:function(t){return this.langSrv.getProcedureOptionType(this.curr.name,t)},checkSubOption:function(t,e){return this.langSrv.isProcedureSubOptKeyword(this.curr.name,t,e)},checkOption:function(t){return this.langSrv.isProcedureOptionKeyword(this.curr.name,t)}},\"proc-stmt\":{getOptionType:function(t){return this.langSrv.getProcedureStatementOptionType(this.curr.procName,this.curr.name,t)},checkSubOption:function(t,e,s){return this.handleLongStmtSubOptionName_(this.curr.procName,this.curr.name,t,e,s).isKeyword||this.handleLongStmtOptionName_(this.curr.procName,this.curr.name,e,s).isKeyword||!!this.stmtWithDatasetOption_[this.curr.procName+\"/\"+this.curr.name]&&this.langSrv.isDatasetKeyword(e)},checkOption:function(t){return this.handleLongStmtOptionName_(this.curr.procName,this.curr.name,t).isKeyword}},\"data-def\":{getOptionType:function(t){return\"\"},checkSubOption:function(t,e){return this.langSrv.isDatasetKeyword(e)},checkOption:function(t){return this.langSrv.isProcedureOptionKeyword(\"DATA\",t)}},\"data-stmt\":{getOptionType:function(t){return this.langSrv.getProcedureStatementOptionType(\"DATA\",this.curr.name,t)},checkSubOption:function(t,e){var s=this.langSrv.isProcedureStatementSubOptKeyword(\"DATA\",this.curr.name,t,e);return s||this.stmtWithDatasetOption_[\"DATA/\"+this.curr.name]&&(s=this.langSrv.isDatasetKeyword(e)),s},checkOption:function(t){return this.langSrv.isProcedureStatementKeyword(\"DATA\",this.curr.name,t)}},\"macro-def\":{getOptionType:function(t){return this.langSrv.getProcedureOptionType(\"MACRO\",t)},checkSubOption:function(t,e){return this.langSrv.isProcedureSubOptKeyword(\"MACRO\",t,e)},checkOption:function(t){return this.langSrv.isProcedureOptionKeyword(\"MACRO\",t)}},\"macro-stmt\":{getOptionType:function(t){return this.langSrv.getProcedureStatementOptionType(\"MACRO\",this.curr.name,t)},checkSubOption:function(t,e){return this.langSrv.isProcedureStatementSubOptKeyword(\"MACRO\",this.curr.name,t,e)},checkOption:function(t){return this.langSrv.isProcedureStatementKeyword(\"MACRO\",this.curr.name,t)}},\"gbl-stmt\":{getOptionType:function(t){return this.langSrv.getStatementOptionType(this._cleanKeyword(this.curr.name),t)},checkSubOption:function(t,e){return this.langSrv.isStatementSubOptKeyword(this._cleanKeyword(this.curr.name),t,e)},checkOption:function(t){return this.langSrv.isStatementKeyword(this._cleanKeyword(this.curr.name),t)}},\"sg-def\":{getOptionType:function(t){return this.langSrv.getProcedureStatementOptionType(\"TEMPLATE\",\"BEGINGRAPH\",t)},checkSubOption:function(t,e){return this.langSrv.isProcedureStatementSubOptKeyword(\"TEMPLATE\",\"BEGINGRAPH\",t,e)},checkOption:function(t){return this.langSrv.isProcedureStatementKeyword(\"TEMPLATE\",\"BEGINGRAPH\",t)}},\"sg-stmt\":{getOptionType:function(t){return this.langSrv.getProcedureStatementOptionType(\"STATGRAPH\",this.curr.name,t)},checkSubOption:function(t,e){return this.langSrv.isProcedureStatementSubOptKeyword(\"STATGRAPH\",this.curr.name,t,e)},checkOption:function(t){return this.langSrv.isProcedureStatementKeyword(\"STATGRAPH\",this.curr.name,t)}},\"dt-def\":{getOptionType:function(t){return this.langSrv.getProcedureStatementOptionType(\"TEMPLATE\",\"DEFINE TAGSET\",t)},checkSubOption:function(t,e){return this.langSrv.isProcedureStatementSubOptKeyword(\"TEMPLATE\",this.curr.name,t,e)},checkOption:function(t){return this.langSrv.isProcedureStatementKeyword(\"TEMPLATE\",\"DEFINE TAGSET\",t)}},\"dt-stmt\":{getOptionType:function(t){return this.langSrv.getProcedureStatementOptionType(\"DEFINE_TAGSET\",this.curr.name,t)},checkSubOption:function(t,e){return this.langSrv.isProcedureStatementSubOptKeyword(\"DEFINE_TAGSET\",this.curr.name,t,e)},checkOption:function(t){return this.langSrv.isProcedureStatementKeyword(\"DEFINE_TAGSET\",this.curr.name,t)}},\"de-def\":{getOptionType:function(t){return this.langSrv.getProcedureStatementOptionType(\"TEMPLATE\",\"DEFINE EVENT\",t)},checkSubOption:function(t,e){return this.langSrv.isProcedureStatementSubOptKeyword(\"TEMPLATE\",\"DEFINE EVENT\",t,e)},checkOption:function(t){return this.langSrv.isProcedureStatementKeyword(\"TEMPLATE\",\"DEFINE EVENT\",t)}},\"de-stmt\":{getOptionType:function(t){return this.langSrv.getProcedureStatementOptionType(\"DEFINE_EVENT\",this.curr.name,t)},checkSubOption:function(t,e){return this.langSrv.isProcedureStatementSubOptKeyword(\"DEFINE_EVENT\",this.curr.name,t,e)},checkOption:function(t){return this.langSrv.isProcedureStatementKeyword(\"DEFINE_EVENT\",this.curr.name,t)}}},handleProcName_:function(){var t=this.prefetch_({pos:1}),s=\"\";return t&&(s=t.text,t.type=e.TOKEN_TYPES.PROCNAME,t.notCheckKeyword=!0),s},readProcDef_:function(){return this.handleStatement_(this.OptionCheckers_[\"proc-def\"])},readDataDef_:function(){return this.handleStatement_(this.OptionCheckers_[\"data-def\"])},readMacroDef_:function(){return this.handleStatement_(this.OptionCheckers_[\"macro-def\"])},handleODSStmt_:function(t){var e=!1,s=t.text;if(void 0===this.curr.fullName){var n=this.handleLongStmtName_(\"ODS\",\"ODS \"+s);1!==n.stmtNameLen||n.isKeyword?(this.curr.fullName=n.stmtName,e=n.isKeyword):(this.curr.fullName=\"ODS\",e=this.langSrv.isStatementKeyword(\"ODS\",s))}else e=this.curr.fullName===this.curr.name?this.langSrv.isStatementKeyword(\"ODS\",s):this.langSrv.isProcedureStatementKeyword(\"ODS\",this.curr.fullName,s);return this.setKeyword_(t,e),e},handleLongStmtName_:function(t,s){var n,i,r,a=!1,o=s,h=null,c=null,l=null,d=1,u=o,_={pos:1};return n=this.prefetch_(_),n&&e.isWord[n.type]&&(h=o+\" \"+n.text,(i=this.prefetch_(_))&&e.isWord[i.type]&&(c=h+\" \"+i.text,(r=this.prefetch_(_))&&e.isWord[r.type]&&(l=c+\" \"+r.text))),l&&(a=this.langSrv.isProcedureStatementKeyword(t,l))&&(d=4,u=l,this.setKeyword_(n,!0),this.setKeyword_(i,!0),this.setKeyword_(r,!0)),!a&&c&&(a=this.langSrv.isProcedureStatementKeyword(t,c))&&(d=3,u=c,this.setKeyword_(n,!0),this.setKeyword_(i,!0)),!a&&h&&(a=this.langSrv.isProcedureStatementKeyword(t,h))&&(d=2,u=h,this.setKeyword_(n,!0)),a||(a=this.langSrv.isProcedureStatementKeyword(t,o)),{isKeyword:a,stmtName:u,stmtNameLen:d}},handleLongStmtOptionName_:function(t,e,s,n){var i={procName:t,stmtName:e,startWord:s,pos:n,checkKeyword:function(t,e){return this.langSrv.isProcedureStatementKeyword(t.procName,t.stmtName,e)}};return this.handleLongOptionName_(i)},handleLongStmtSubOptionName_:function(t,e,s,n,i){var r={procName:t,stmtName:e,optName:s,startWord:n,pos:i,checkKeyword:function(t,e){return this.langSrv.isProcedureStatementSubOptKeyword(t.procName,t.stmtName,t.optName,e)}};return this.handleLongOptionName_(r)},handleLongOptionName_:function(t){var s,n=!1,i=t.startWord,r=null,a=1,o=i,h={pos:1};return t.pos&&(h.pos=t.pos+1),s=this.prefetch_(h),s&&e.isWord[s.type]&&(r=i+\" \"+s.text),r&&(n=t.checkKeyword.call(this,t,r))&&(a=2,this.setKeyword_(s,!0),o=r),n||(n=t.checkKeyword.call(this,t,i)),{isKeyword:n,name:o,nameLen:a}},sectionEndStmts_:{RUN:1,\"RUN CANCEL\":1,QUIT:1},tryToHandleSectionEnd_:function(t){var s=!1;if(this.sectionEndStmts_[t.text]){t.type=e.TOKEN_TYPES.SKEYWORD;var n=this.prefetch_({pos:1});n&&\"CANCEL\"===n.text&&(n.type=e.TOKEN_TYPES.SKEYWORD),s=!0}return s},tryToHandleExpr_:function(t,s){if(this.curr.exprTokenCount&&(t.notCheckKeyword=!0,++this.curr.exprTokenIndex>this.curr.exprTokenCount&&(this.curr.exprTokenCount=0,t.notCheckKeyword=!1)),!this.curr.exprTokenCount){var n=!1,i=0;if(e.isWord[t.type]){var r=this.prefetch_({pos:1}),a={\"=\":1,\"(\":1};r&&a[r.text]&&(\"=\"===r.text&&(i=1),n=!0),r&&\"(\"===r.text&&this.langSrv.isSasFunction(t.text)&&this.setKeyword_(t,!0)}else\"=\"===t.text&&(n=!0);if(n){var o=this,h=this.expr.parse(this.curr.hasSlashOptionDelimiter,i,function(e,n){var i,r=s.getOptionType.call(o,t.text)||\"\";i=-1!==r.indexOf(\"DV\")?o.langSrv.isDatasetKeyword(e.text):s.checkSubOption.call(o,t.text,e.text,n),o.setKeyword_(e,i)});this.curr.exprTokenCount=h.pos,this.curr.exprTokenIndex=0}}},readGblStmt_:function(){return this.handleStatement_(this.OptionCheckers_[\"gbl-stmt\"])},specialStmts_:{\"DATASETS/IC CREATE\":1,\"TRANSREG/MODEL\":1},readProcStmt_:function(){var t=this.handleStatement_(this.OptionCheckers_[\"proc-stmt\"]);if(t&&e.isWord[t.type]&&this.specialStmts_[this.curr.procName+\"/\"+this.curr.name]){var s=!1;if(void 0!==this.curr.optNameLen&&this.curr.optNameLen>1)s=!0,this.curr.optNameLen--;else{var n=this.handleLongStmtOptionName_(this.curr.procName,this.curr.name,t.text);this.curr.optNameLen=n.nameLen,s=n.isKeyword}this.setKeyword_(t,s)}return t},readDataStmt_:function(){return this.handleStatement_(this.OptionCheckers_[\"data-stmt\"])},readMacroStmt_:function(){return this.handleStatement_(this.OptionCheckers_[\"macro-stmt\"])},popSMTo_:function(t){for(var e=this.stack.length-t;e>0;)this.stack.pop(),e--},handleBlock_:function(t){var s=\"\",n=this.getNext_();if(!n)return null;if(e.isWord[n.type])if(this.isLabel_())this.stack.push({parse:this.readLabel_,state:this.PARSING_STATE.IN_PROC});else if(this.isAssignment_(n))t.call(this,n);else switch(s=n.text){case\"RUN\":case\"QUIT\":n.type=e.TOKEN_TYPES.SKEYWORD,this.popSMTo_(2),this.stack.push({parse:this.readEnd_,state:this.PARSING_STATE.IN_PROC,start:n,name:s});break;case\"PROC\":case\"PROCEDURE\":this.endFoldingBlock_(this.SEC_TYPE.PROC,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.PROC,n.start,s),n.type=e.TOKEN_TYPES.SKEYWORD,this.popSMTo_(1);var i=this.handleProcName_();this.stack.push({parse:this.readProc_,state:this.PARSING_STATE.IN_PROC,name:i}),this.stack.push({parse:this.readProcDef_,state:this.PARSING_STATE.IN_PROC,name:i});break;case\"DATA\":this.endFoldingBlock_(this.SEC_TYPE.PROC,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.DATA,n.start,s),n.type=e.TOKEN_TYPES.SKEYWORD,this.popSMTo_(1),this.stack.push({parse:this.readData_,state:this.PARSING_STATE.IN_DATA}),this.stack.push({parse:this.readDataDef_,state:this.PARSING_STATE.IN_DATA});break;case\"%MACRO\":this.endFoldingBlock_(this.SEC_TYPE.PROC,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.MACRO,n.start,s),n.type=e.TOKEN_TYPES.MSKEYWORD,this.popSMTo_(1),this.stack.push({parse:this.readMacro_,state:this.PARSING_STATE.IN_MACRO}),this.stack.push({parse:this.readMacroDef_,state:this.PARSING_STATE.IN_MACRO});break;default:t.call(this,n)}return n},handleStatement_:function(t){var s=this.getNext_();return s&&(this.tryToHandleExpr_(s,t),\";\"===s.text?this.stack.pop():e.isWord[s.type]&&!s.notCheckKeyword&&(\"ODS\"===this.curr.name?this.handleODSStmt_(s):t.checkOption&&this.setKeyword_(s,t.checkOption.call(this,s.text)))),s},handleEnd_:function(){var t=this.getNext_();return t&&\";\"===t.text&&(this.stack.pop(),this.stack.pop()),t},handleMref_:function(t){var e=this.prefetch_({pos:1});e&&\"(\"===e.text&&this.stack.push({parse:this.readMRef_,state:t})},readLabel_:function(){var t=this.getNext_();return t&&\":\"===t.text&&this.stack.pop(),t},readMRef_:function(){var t=this.getNext_();if(t&&\")\"===t.text)this.stack.pop();else{var e=this.prefetch_({pos:1});e&&\"(\"===e.text&&this.stack.push(this.curr)}return t},readComment_:function(){},readStatGraph_:function(){return this.handleBlock_(function(t){if(\"ENDGRAPH\"===t.text)this.setKeyword_(t,!0),this.stack.push({parse:this.readStatGraphEnd_,state:this.PARSING_STATE.IN_PROC,start:t,name:t.text});else{var e={parse:this.readStatGraphStmt_,state:this.PARSING_STATE.IN_PROC,name:t.text};this.stack.push(e);var s=null,n=this.langSrv.isProcedureStatementKeyword(\"STATGRAPH\",this._cleanKeyword(t.text));if(!n&&(s=this.prefetch_({pos:1}))){var i=t.text+\" \"+s.text;n=this.langSrv.isProcedureStatementKeyword(\"STATGRAPH\",i),n&&(e.name=i,this.setKeyword_(s,!0))}this.setKeyword_(t,n)}})},readStatGraphDef_:function(){return this.handleStatement_(this.OptionCheckers_[\"sg-def\"])},readStatGraphStmt_:function(){return this.handleStatement_(this.OptionCheckers_[\"sg-stmt\"])},readStatGraphEnd_:function(){return this.handleEnd_()},readDefineTagset_:function(){return this.handleBlock_(function(t){var e=t.text;if(\"END\"===t.text)this.setKeyword_(t,!0),this.stack.push({parse:this.readDefineTagsetEnd_,state:this.PARSING_STATE.IN_PROC,start:t,name:e});else{var s=!0,n=this.prefetch_({pos:1});if(n){var i=e+\" \"+n.text;\"DEFINE EVENT\"===i&&(this.stack.push({parse:this.readDefineEvent_,state:this.PARSING_STATE.IN_PROC,name:i}),this.stack.push({\nparse:this.readDefineEventDef_,state:this.PARSING_STATE.IN_PROC,name:i}),s=!1,this.setKeyword_(n,!0),this.setKeyword_(t,!0))}if(s){var r={parse:this.readDefineTagsetStmt_,state:this.PARSING_STATE.IN_PROC,name:e};this.stack.push(r);var a=this.langSrv.isProcedureStatementKeyword(\"DEFINE_TAGSET\",this._cleanKeyword(e));a||n&&(e+=\" \"+n.text,(a=this.langSrv.isProcedureStatementKeyword(\"DEFINE_TAGSET\",e))&&(r.name=e,this.setKeyword_(n,!0))),this.setKeyword_(t,a)}}})},readDefineTagsetDef_:function(){return this.handleStatement_(this.OptionCheckers_[\"dt-def\"])},readDefineTagsetStmt_:function(){return this.handleStatement_(this.OptionCheckers_[\"dt-stmt\"])},readDefineTagsetEnd_:function(){return this.handleEnd_()},readDefineEvent_:function(){return this.handleBlock_(function(t){var e=t.text;if(\"END\"===e)this.setKeyword_(t,!0),this.stack.push({parse:this.readDefineEventEnd_,state:this.PARSING_STATE.IN_PROC,start:t,name:e});else{var s={parse:this.readDefineEventStmt_,state:this.PARSING_STATE.IN_PROC,name:e};this.stack.push(s);var n=null,i=this.langSrv.isProcedureStatementKeyword(\"DEFINE_EVENT\",this._cleanKeyword(e));i||(n=this.prefetch_({pos:1}))&&(e+=\" \"+n.text,(i=this.langSrv.isProcedureStatementKeyword(\"DEFINE_EVENT\",e))&&(this.setKeyword_(n,!0),s.name=e)),this.setKeyword_(t,i)}})},readDefineEventDef_:function(){return this.handleStatement_(this.OptionCheckers_[\"de-def\"])},readDefineEventStmt_:function(){return this.handleStatement_(this.OptionCheckers_[\"de-stmt\"])},readDefineEventEnd_:function(){return this.handleEnd_()},DS2_:{DS2:1,HPDS2:1},readProc_:function(){var t=\"\",s=this.getNext_(),n=this.curr.name||\"\";if(s){if(e.isWord[s.type])if(this.isLabel_())this.stack.push({parse:this.readLabel_,state:this.PARSING_STATE.IN_PROC});else if(this.isAssignment_(s)){var i=this._cleanKeyword(t);this.stack.push({parse:this.readProcStmt_,state:this.PARSING_STATE.IN_PROC,name:i,procName:n})}else switch(t=s.text){case this.langSrv.isInteractiveProc(n)?\"QUIT\":\"RUN\":case\"QUIT\":s.type=e.TOKEN_TYPES.SKEYWORD,this.stack.push({parse:this.readEnd_,state:this.PARSING_STATE.IN_PROC,start:s,name:t});break;case\"%MEND\":s.type=e.TOKEN_TYPES.MSKEYWORD,this.stack.length>2&&this.stack[this.stack.length-2].state===this.PARSING_STATE.IN_MACRO&&(this.endFoldingBlock_(this.SEC_TYPE.PROC,this.lastToken.end),this.stack.pop(),this.stack.push({parse:this.readMend_,state:this.PARSING_STATE.IN_MACRO,start:s,name:t}));break;case\"PROC\":case\"PROCEDURE\":this.endFoldingBlock_(this.SEC_TYPE.PROC,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.PROC,s.start,t),s.type=e.TOKEN_TYPES.SKEYWORD,this.stack.pop(),n=this.handleProcName_(),this.stack.push({parse:this.readProc_,state:this.PARSING_STATE.IN_PROC,name:n}),this.stack.push({parse:this.readProcDef_,state:this.PARSING_STATE.IN_PROC,name:n});break;case\"%MACRO\":this.endFoldingBlock_(this.SEC_TYPE.PROC,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.MACRO,s.start,t),s.type=e.TOKEN_TYPES.MSKEYWORD,this.stack.pop(),this.stack.push({parse:this.readMacro_,state:this.PARSING_STATE.IN_MACRO}),this.stack.push({parse:this.readMacroDef_,state:this.PARSING_STATE.IN_MACRO});break;case\"DATA\":if(!this.DS2_[n]){this.endFoldingBlock_(this.SEC_TYPE.PROC,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.DATA,s.start,t),s.type=e.TOKEN_TYPES.SKEYWORD,this.stack.pop(),this.stack.push({parse:this.readData_,state:this.PARSING_STATE.IN_DATA}),this.stack.push({parse:this.readDataDef_,state:this.PARSING_STATE.IN_DATA});break}default:this.tryToHandleSectionEnd_(s);var r=!0;if(\"TEMPLATE\"===n)if(\"BEGINGRAPH\"===t)this.stack.push({parse:this.readStatGraph_,state:this.PARSING_STATE.IN_PROC}),this.stack.push({parse:this.readStatGraphDef_,state:this.PARSING_STATE.IN_PROC}),this.setKeyword_(s,!0),r=!1;else{var a=this.prefetch_({pos:1});a&&\"TAGSET\"===a.text&&\"DEFINE\"===t&&(this.stack.push({parse:this.readDefineTagset_,state:this.PARSING_STATE.IN_PROC}),this.stack.push({parse:this.readDefineTagsetDef_,state:this.PARSING_STATE.IN_PROC}),this.setKeyword_(a,!0),this.setKeyword_(s,!0),r=!1)}else\"EXPLODE\"===n?e.isParmcards[t]&&(this.cardsState=this.CARDS_STATE.IN_CMD,this.stack.push({parse:this.readCards_,state:this.PARSING_STATE.IN_DATA,name:t,token:s}),this.setKeyword_(s,!0),r=!1):s.type===e.TOKEN_TYPES.MREF&&(this.handleMref_(this.PARSING_STATE.IN_PROC),r=!1);if(r){var i=this._cleanKeyword(t),o={parse:this.readProcStmt_,state:this.PARSING_STATE.IN_PROC,name:i,procName:n};this.stack.push(o);var h=this.handleLongStmtName_(n,i);o.name=h.stmtName,this.setKeyword_(s,h.isKeyword),o.hasSlashOptionDelimiter=this.langSrv.hasOptionDelimiter(n,h.stmtName)}}return s}},hasRunCancelFollowed_:function(){var t,s,n=!1,i={pos:1};do{t=this.prefetch_(i)}while(t&&\";\"!==t.text);return t&&(t=this.prefetch_(i),s=this.prefetch_(i),t&&s&&(e.isWord[t.type]&&\":\"===s.text&&(t=this.prefetch_(i),s=this.prefetch_(i)),t&&s&&\"RUN\"===t.text&&\"CANCEL\"===s.text&&(n=!0))),n},readData_:function(){var t=\"\",s=this.getNext_();if(s){if(e.isWord[s.type])if(this.isLabel_())this.stack.push({parse:this.readLabel_,state:this.PARSING_STATE.IN_DATA});else if(this.isAssignment_(s)){var n=this._cleanKeyword(t);this.stack.push({parse:this.readDataStmt_,state:this.PARSING_STATE.IN_DATA,name:n})}else switch(t=s.text){case\"%MEND\":s.type=e.TOKEN_TYPES.MSKEYWORD,this.stack.length>2&&this.stack[this.stack.length-2].state===this.PARSING_STATE.IN_MACRO&&(this.endFoldingBlock_(this.SEC_TYPE.DATA,this.lastToken.end),this.stack.pop(),this.stack.push({parse:this.readMend_,state:this.PARSING_STATE.IN_MACRO,start:s,name:t}));break;case\"DATA\":this.endFoldingBlock_(this.SEC_TYPE.DATA,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.DATA,s.start,t),s.type=e.TOKEN_TYPES.SKEYWORD,this.stack.push({parse:this.readDataDef_,state:this.PARSING_STATE.IN_DATA});break;case\"PROC\":case\"PROCEDURE\":this.endFoldingBlock_(this.SEC_TYPE.DATA,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.PROC,s.start,t),s.type=e.TOKEN_TYPES.SKEYWORD,this.stack.pop();var i=this.handleProcName_();this.stack.push({parse:this.readProc_,state:this.PARSING_STATE.IN_PROC,name:i}),this.stack.push({parse:this.readProcDef_,state:this.PARSING_STATE.IN_PROC,name:i});break;case\"%MACRO\":this.endFoldingBlock_(this.SEC_TYPE.DATA,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.MACRO,s.start,t),s.type=e.TOKEN_TYPES.MSKEYWORD,this.stack.pop(),this.stack.push({parse:this.readMacro_,state:this.PARSING_STATE.IN_MACRO}),this.stack.push({parse:this.readMacroDef_,state:this.PARSING_STATE.IN_MACRO});break;case\"RUN\":case\"QUIT\":if(s.type=e.TOKEN_TYPES.SKEYWORD,!this.hasRunCancelFollowed_()){this.tryToHandleSectionEnd_(s),this.stack.push({parse:this.readEnd_,state:this.PARSING_STATE.IN_DATA,start:s,name:t});break}default:if(e.isCards[t])this.cardsState=this.CARDS_STATE.IN_CMD,this.stack.push({parse:this.readCards_,state:this.PARSING_STATE.IN_DATA,name:t,token:s}),this.setKeyword_(s,this.langSrv.isProcedureStatementKeyword(\"DATA\",t));else if(s.type===e.TOKEN_TYPES.MREF)this.handleMref_(this.PARSING_STATE.IN_DATA);else{var n=this._cleanKeyword(t),r={parse:this.readDataStmt_,state:this.PARSING_STATE.IN_DATA,name:n};if(this.stack.push(r),!this.tryToHandleSectionEnd_(s)){var a=this.handleLongStmtName_(\"DATA\",n);r.name=a.stmtName,this.setKeyword_(s,a.isKeyword),r.hasSlashOptionDelimiter=this.langSrv.hasOptionDelimiter(\"DATA\",a.stmtName)}}}return s}},readMacro_:function(){var t=\"\",s=this.getNext_();if(s){if(e.isWord[s.type])if(this.isLabel_())this.stack.push({parse:this.readLabel_,state:this.PARSING_STATE.IN_MACRO});else if(this.isAssignment_(s)){var n=this._cleanKeyword(t);this.stack.push({parse:this.readMacroStmt_,state:this.PARSING_STATE.IN_MACRO,name:n})}else switch(t=s.text){case\"%MEND\":s.type=e.TOKEN_TYPES.MSKEYWORD,this.stack.push({parse:this.readMend_,state:this.PARSING_STATE.IN_MACRO,start:s,name:t});break;case\"%MACRO\":this.startFoldingBlock_(this.SEC_TYPE.MACRO,s.start,t),s.type=e.TOKEN_TYPES.MSKEYWORD,this.stack.push({parse:this.readMacro_,state:this.PARSING_STATE.IN_MACRO}),this.stack.push({parse:this.readMacroDef_,state:this.PARSING_STATE.IN_MACRO});break;case\"PROC\":case\"PROCEDURE\":this.startFoldingBlock_(this.SEC_TYPE.PROC,s.start,t),s.type=e.TOKEN_TYPES.SKEYWORD;var i=this.handleProcName_();this.stack.push({parse:this.readProc_,state:this.PARSING_STATE.IN_PROC,name:i}),this.stack.push({parse:this.readProcDef_,state:this.PARSING_STATE.IN_PROC,name:i});break;case\"DATA\":this.startFoldingBlock_(this.SEC_TYPE.DATA,s.start,t),s.type=e.TOKEN_TYPES.SKEYWORD,this.stack.push({parse:this.readData_,state:this.PARSING_STATE.IN_DATA}),this.stack.push({parse:this.readDataDef_,state:this.PARSING_STATE.IN_DATA});break;default:var n=this._cleanKeyword(t),r={parse:this.readMacroStmt_,state:this.PARSING_STATE.IN_MACRO,name:n};this.stack.push(r);var a=this.handleLongStmtName_(\"MACRO\",n);r.name=a.stmtName,this.setKeyword_(s,a.isKeyword),r.hasSlashOptionDelimiter=this.langSrv.hasOptionDelimiter(\"DATA\",a.stmtName)}return s}},readGbl_:function(){var t=\"\",s=this.getNext_();if(s){if(e.isWord[s.type])if(this.isLabel_())this.stack.push({parse:this.readLabel_,state:this.PARSING_STATE.IN_GBL});else if(this.isAssignment_(s)){var n=this._cleanKeyword(t);this.stack.push({parse:this.readGblStmt_,state:this.PARSING_STATE.IN_GBL,name:n})}else if(\"PROC\"===(t=s.text)||\"PROCEDURE\"===t){this.endFoldingBlock_(this.SEC_TYPE.GBL,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.PROC,s.start,t),s.type=e.TOKEN_TYPES.SKEYWORD,this.stack.pop();var i=this.handleProcName_();this.stack.push({parse:this.readProc_,state:this.PARSING_STATE.IN_PROC,name:i}),this.stack.push({parse:this.readProcDef_,state:this.PARSING_STATE.IN_PROC,name:i})}else if(\"%MACRO\"===t)this.endFoldingBlock_(this.SEC_TYPE.GBL,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.MACRO,s.start,t),s.type=e.TOKEN_TYPES.MSKEYWORD,this.stack.pop(),this.stack.push({parse:this.readMacro_,state:this.PARSING_STATE.IN_MACRO}),this.stack.push({parse:this.readMacroDef_,state:this.PARSING_STATE.IN_MACRO});else if(\"DATA\"===t)this.endFoldingBlock_(this.SEC_TYPE.GBL,this.lastToken.end),this.startFoldingBlock_(this.SEC_TYPE.DATA,s.start,t),s.type=e.TOKEN_TYPES.SKEYWORD,this.stack.pop(),this.stack.push({parse:this.readData_,state:this.PARSING_STATE.IN_DATA}),this.stack.push({parse:this.readDataDef_,state:this.PARSING_STATE.IN_DATA});else if(s.type===e.TOKEN_TYPES.MREF)this.handleMref_(this.PARSING_STATE.IN_GBL);else{var n=this._cleanKeyword(t),r={parse:this.readGblStmt_,state:this.PARSING_STATE.IN_GBL,name:n};if(this.stack.push(r),!this.tryToHandleSectionEnd_(s)){var a=this.handleLongStmtName_(\"\",n);r.name=a.stmtName,this.setKeyword_(s,a.isKeyword),r.hasSlashOptionDelimiter=this.langSrv.hasOptionDelimiter(\"\",a.stmtName)}}return s}},readCards_:function(){var t,s,n,i=e.isCards4[this.curr.name]||e.isParmcards4[this.curr.name]?/^;;;;/:/;/,r=null;if(this.cardsState===this.CARDS_STATE.IN_CMD)(r=this.getNext_())&&r.type===e.TOKEN_TYPES.SEP&&\";\"===r.text&&(this.startLineForCardsData=r.end.line+1,this.cardsState=this.CARDS_STATE.IN_DATA_WAITING);else if(this.cardsState===this.CARDS_STATE.IN_DATA_WAITING){if((r=this.getNext_())&&r.start.line>=this.startLineForCardsData){this.cardsState=this.CARDS_STATE.IN_DATA,this.startLineForCardsData=r.start.line,t=this.model.getLineCount(),s=r.start.line,n=\"\";do{if(n=this.model.getLine(s),i.test(n))break;s++}while(s<t);return s--,this.lexer.start.line=this.startLineForCardsData,this.lexer.start.column=0,this.lexer.curr.line=s,this.lexer.curr.column=this.model.getLine(s).length,this._changeCardsDataToken({type:e.TOKEN_TYPES.CARDSDATA,start:this._clonePos(this.lexer.start),end:this._clonePos(this.lexer.curr)})}}else this.cardsState===this.CARDS_STATE.IN_DATA&&(r=this.getNext_())&&\";\"===r.text&&(this.cardsState=this.CARDS_STATE.IN_NULL,this.stack.pop());return r},readEnd_:function(){var t=this.getNext_();return t&&\";\"===t.text&&(this.curr.state!==this.PARSING_STATE.IN_PROC&&this.curr.state!==this.PARSING_STATE.IN_DATA||(this.stack.pop(),this.stack.pop(),this.endFoldingBlock_(this.curr.state===this.PARSING_STATE.IN_PROC?this.SEC_TYPE.PROC:this.SEC_TYPE.DATA,t.end,!0,this.curr.start,this.curr.name))),t},readMend_:function(){var t=this.getNext_();return t&&\";\"===t.text&&this.curr.state===this.PARSING_STATE.IN_MACRO&&(this.stack.pop(),this.stack.pop(),this.endFoldingBlock_(this.SEC_TYPE.MACRO,t.end,!0,this.curr.start,this.curr.name)),t}};var l=function(s){function n(t,e){e.pos=t.pos}function r(t){return{pos:t.pos}}function a(t){t.pos++;var e=s.prefetch0_(t.pos);if(!e){var n=s._docEndPos();e={type:\"text\",text:\"\",start:n,end:n}}return e}function o(t){var s;do{s=a(t)}while(e.isComment[s.type]);return s}function h(t){var e=r(t);return{token:o(e),context:e}}function c(t,i,a){var u,_,p,S=r(t);if(u=o(S),!i||!i[u.text])for(d[u.text]?l(t,i):e.isUnaryOpr[u.text]?(n(S,t),c(t,i)):(n(S,t),a&&e.isWord[u.type]&&t.onMeetTarget(u,t.pos));;)if(p=h(t),_=p.token.text,e.isBinaryOpr[_])n(p.context,t),e.isWord[p.token.type]&&t.onMeetTarget(p.token,t.pos),c(t,i);else{if(!d[_])return;e.isWord[u.type]&&\"(\"===_&&s.langSrv.isSasFunction(u.text)&&s.setKeyword_(u,!0),l(t,i)}}function l(t,e){var s=o(t),i=null,a=!1,h={\"(\":\")\",\"[\":\"]\",\"{\":\"}\"},l=s.text,d=h[l];e={\";\":1},e[d]=1;do{switch(c(t,e,!0),i=r(t),s=o(i),s.text){case\"\":case\";\":a=!0;break;case d:n(i,t),a=!0;break;case\"=\":n(i,t),c(t,e);break;case\",\":n(i,t)}}while(!a)}var d=i.arrayToMap([\"[\",\"{\",\"(\"]);this.parse=function(s,n,i){var r={pos:n,onMeetTarget:i},a={pos:0};try{void 0===s&&(s=!0),e.isBinaryOpr[\"/\"]=!s,c(r,{\";\":1}),a.pos=r.pos,e.isBinaryOpr[\"/\"]=1}catch(e){t(\"parse expression error\")}return a}};return c.SEC_TYPE={DATA:0,PROC:1,MACRO:2,GBL:3},c},!0);",
	"sas/hc/ui/commons/codeEditor/mode/sas/SyntaxColor.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./SasLexerEx\",\"sas/hc/ui/commons/codeEditor/LanguageService\",\"sas/hc/ui/commons/codeEditor/TextPosition\"],function(t,e,n){\"use strict\";return function(l){function a(t){f.push(t)}function s(t){var l=0;x=0,v=null,p=e.ParsingState.STARTING,L=y.start(t),jQuery(h).triggerHandler({type:\"parsingStateEvent\",state:p,change:t,parsedRange:L}),l=L.endLine+1,k=m.splice(l,m.length-l),d=m.splice(L.startLine,l-L.startLine);var a=[],s=0,i=d[0];if(L.startCol>0&&i){for(;i[s]&&i[s].start<L.startCol;)a.push(i[s]),s++;i.splice(0,s);var r=L.startCol;i.length&&(r=i[0].start);var c=a[a.length-1];v={start:new n(L.startLine,c.start),end:new n(L.startLine,r),type:c.style},x=a.length,m[L.startLine]=a}if(s=0,L.startLine===L.endLine&&i){for(;i[s]&&i[s].start<L.endCol;)s++;i.splice(0,s)}o(t)}function i(t){p=e.ParsingState.ENDED,jQuery(h).triggerHandler({type:\"parsingStateEvent\",state:p,change:t}),r()}function r(){if(p===e.ParsingState.ENDED&&f.length){s(f.shift())}}function o(t){var e=(new Date).getTime()+100,n=null;try{for(;;){if(n=y.getNext(),g(n),!n||y.end()){i(t);break}if((new Date).getTime()>e){window.setTimeout(o.bind(h),0,t);break}}}catch(e){if(!e||void 0===e.changedLineCount)throw e;v?n=v:0===m.length&&(n={type:\"text\",start:{line:0,column:0},end:{line:0,column:0}});var l,a=d.length,s=0,r=e.token.start.line;a>=1&&r===L.endLine+e.changedLineCount&&(l=d[a-1],l.forEach(function(t){t.start+=e.changedColCount,t.start<e.token.start.column&&s++}),l.splice(0,s),m[r]&&(c(r,m[r],l),m[r]=m[r].concat(l))),m=m.concat(k),i(t)}}function c(t,e,n){if(e.length){var a=e[e.length-1];if(n.length){var s=l.getLine(t).substring(a.start,n[0].start),i=/\\s+$/.exec(s);i&&e.push({start:a.start+s.length-i[0].length,state:null,style:\"text\"})}}}function u(t,e){var n=0,l=0,a=null;if(t.end.line!==e){n=t.end.line,l=t.end.column;do{a=m[n]=m[n]||[],x<a.length&&a.splice(x,a.length-x),a.push({start:l,state:0,style:\"text\"}),n++,l=0}while(n<e);x=0,v=null}}function g(t){var e=0,a=null,s=!1,i=!0;if(v&&u(v,t?t.start.line:l.getLineCount()),t){e=t.start.line,(null===v&&t.start.column>0||v&&v.end.column!==t.start.column&&v.end.line===t.start.line)&&(a=m[e]=m[e]||[],x<a.length&&a.splice(x,a.length-x),a.push({start:v?v.end.column:0,state:null,style:\"text\"}),x++),t.end.line!==t.start.line&&(s=!0);do{a=m[e]=m[e]||[],x<a.length&&a.splice(x,a.length-x),a.push({start:e===t.start.line?t.start.column:0,state:i?s?{line:t.end.line,col:t.end.column}:1:null,style:t.type}),x++,s=!1,i=!1,e<t.end.line&&(a.push({start:l.getLine(e).length,state:0,style:\"text\"}),x=0),e++}while(e<=t.end.line);v={type:t.type,start:new n(t.start.line,t.start.column),end:new n(t.end.line,t.end.column)},h._tokenCallback&&h._tokenCallback({text:l.getText(t),type:t.type,start:{line:t.start.line,column:t.start.column},end:{line:t.end.line,column:t.end.column}})}}var d,h=this,f=[],p=e.ParsingState.ENDED,m=[],y=new t(l),v=null,x=0,L={},k=[];this.blockComment={start:\"/*\",end:\"*/\"},h.getSyntax=function(t){return m[t]?m[t]:[]},h.getParseRange=function(t){return y.getParseRange(t)},h.getFoldingBlock=function(t,e,n){return y.getFoldingBlock(t,e,n)},h.add=function(t){a(t),r()},h.type=function(t,e){for(var n=h.getSyntax(t),l=n.length,a=1;a<l;a++)if(n[a].start>=e)return n[a-1].start<=e?n[a-1].style:\"text\";return n&&2===n.length&&0===n[0].start&&0===n[1].state?n[0].style:\"text\"},h.setTokenCallback=function(t){h._tokenCallback=t}}},!0);",
	"sas/hc/ui/commons/codeEditor/mode/SyntaxColorerAdapter.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sap/ui/base/Object\",\"./../LanguageService\",\"sas/hc/ui/thirdparty/ace/ace\"],function(t,e,n){\"use strict\";return e.extend(\"sas.hc.ui.commons.codeEditor.SyntaxColorerAdapter\",{constructor:function(e){function r(t){return t.start.row=t.start.line,t.end.row=t.end.line,t}function i(t){var e=t.split(\".\"),n=\"\";return e.forEach(function(t){n+=\" \"+t}),n}window.ace.config.set(\"basePath\",sap.ui.require.toUrl(\"sas/hc/ui/thirdparty/ace\"));var o=window.ace.require(\"ace/edit_session\").EditSession,a=new o(\"\",e),s=a.bgTokenizer,l=[];if(\"ace/mode/html\"===e){var g=this;a.$worker.on(\"error\",function(e){t(g).triggerHandler({type:\"syntaxError\",errors:e.data})})}else a.setUseWorker(!1);this.lineCommentStart=a.getMode().lineCommentStart,this.blockComment=a.getMode().blockComment,this.getSyntax=function(t){for(var e=s.getTokens(t),n=0,r=e.length,o=0,a=[];n<r;n++)a.push({style:i(e[n].type),start:o}),o+=e[n].value.length;return a},this.getFoldingBlock=function(t,e){var n=a.getFoldLine(t);return n?(n.startLine=n.start.row,n.endFoldingLine=n.end.row,n.collapsed=!0):l[t]&&(n=l[t],n.collapsed=!1),n},this.toggleFoldWidget=function(t,e){return a.$toggleFoldWidget(t,e||{})},this.add=function(e){var i=n.ParsingState.STARTING;if(t(this).triggerHandler({type:\"parsingStateEvent\",state:i,change:e}),a.replace(r(e.oldRange),e.text),l=[],a.getFoldWidget)for(var o=a.getLength(),g=[],u=0;u<o;u++){var d=null;if(s.getTokens(u),\"start\"===a.getFoldWidget(u))try{d=a.getFoldWidgetRange(u),d&&(d.startLine=d.start.row,d.endFoldingLine=d.end.row,g.push(d))}catch(t){}else if(g.length>0)for(var c=d=g[g.length-1];c&&c.end.row===u;)g.pop(),c=g[g.length-1];l[u]=d}i=n.ParsingState.ENDED,t(this).triggerHandler({type:\"parsingStateEvent\",state:i,change:e})},this.type=function(t,e){return\"text\"},this.reparse=function(){s.start(0)},this.getCurrentZone=function(t,e){return null},this.getProcName=function(){return null},this.getStmtName=function(){return null},this.getParseRange=function(){return null},this.destroy=function(){a.setMode(null),a.destroy(),s=null}}})},!0);",
	"sas/hc/ui/commons/codeEditor/orion/code_edit/built-codeEdit.js": "sap.ui.define([],function(){/**\n * almond 0.2.4 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n */\nvar e,t,n;!function(i){function r(e,t){return C.call(e,t)}function o(e,t){var n,i,r,o,s,a,l,d,c,h,u=t&&t.split(\"/\"),f=_.map,p=f&&f[\"*\"]||{};if(e&&\".\"===e.charAt(0))if(t){for(u=u.slice(0,u.length-1),e=u.concat(e.split(\"/\")),d=0;d<e.length;d+=1)if(\".\"===(h=e[d]))e.splice(d,1),d-=1;else if(\"..\"===h){if(1===d&&(\"..\"===e[2]||\"..\"===e[0]))break;d>0&&(e.splice(d-1,2),d-=2)}e=e.join(\"/\")}else 0===e.indexOf(\"./\")&&(e=e.substring(2));if((u||p)&&f){for(n=e.split(\"/\"),d=n.length;d>0;d-=1){if(i=n.slice(0,d).join(\"/\"),u)for(c=u.length;c>0;c-=1)if((r=f[u.slice(0,c).join(\"/\")])&&(r=r[i])){o=r,s=d;break}if(o)break;!a&&p&&p[i]&&(a=p[i],l=d)}!o&&a&&(o=a,s=l),o&&(n.splice(0,s,o),e=n.join(\"/\"))}return e}function s(e,t){return function(){return f.apply(i,w.call(arguments,0).concat([e,t]))}}function a(e){return function(t){return o(t,e)}}function l(e){return function(t){v[e]=t}}function d(e){if(r(m,e)){var t=m[e];delete m[e],y[e]=!0,u.apply(i,t)}if(!r(v,e)&&!r(y,e))throw new Error(\"No \"+e);return v[e]}function c(e){var t,n=e?e.indexOf(\"!\"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function h(e){return function(){return _&&_.config&&_.config[e]||{}}}var u,f,p,g,v={},m={},_={},y={},C=Object.prototype.hasOwnProperty,w=[].slice;p=function(e,t){var n,i=c(e),r=i[0];return e=i[1],r&&(r=o(r,t),n=d(r)),r?e=n&&n.normalize?n.normalize(e,a(t)):o(e,t):(e=o(e,t),i=c(e),r=i[0],e=i[1],r&&(n=d(r))),{f:r?r+\"!\"+e:e,n:e,pr:r,p:n}},g={require:function(e){return s(e)},exports:function(e){var t=v[e];return void 0!==t?t:v[e]={}},module:function(e){return{id:e,uri:\"\",exports:v[e],config:h(e)}}},u=function(e,t,n,o){var a,c,h,u,f,_,C=[];if(o=o||e,\"function\"==typeof n){for(t=!t.length&&n.length?[\"require\",\"exports\",\"module\"]:t,f=0;f<t.length;f+=1)if(u=p(t[f],o),\"require\"===(c=u.f))C[f]=g.require(e);else if(\"exports\"===c)C[f]=g.exports(e),_=!0;else if(\"module\"===c)a=C[f]=g.module(e);else if(r(v,c)||r(m,c)||r(y,c))C[f]=d(c);else{if(!u.p)throw new Error(e+\" missing \"+c);u.p.load(u.n,s(o,!0),l(c),{}),C[f]=v[c]}h=n.apply(v[e],C),e&&(a&&a.exports!==i&&a.exports!==v[e]?v[e]=a.exports:h===i&&_||(v[e]=h))}else e&&(v[e]=n)},e=t=f=function(e,t,n,r,o){return\"string\"==typeof e?g[e]?g[e](t):d(p(e,t).f):(e.splice||(_=e,t.splice?(e=t,t=n,n=null):e=i),t=t||function(){},\"function\"==typeof n&&(n=r,r=o),r?u(i,e,t,n):setTimeout(function(){u(i,e,t,n)},4),f)},f.config=function(e){return _=e,f},n=function(e,t,n){t.splice||(n=t,t=[]),r(v,e)||r(m,e)||(m[e]=[e,t,n])},n.amd={jQuery:!0}}(),n(\"almond\",function(){}),/**\n * @license RequireJS i18n 2.0.4 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/i18n for details\n */\nfunction(){\"use strict\";function e(e,t,n,i,r,o){t[e]&&(n.push(e),!0!==t[e]&&1!==t[e]||i.push(r+e+\"/\"+o))}function i(e,n,i,r,o){var s=r+n+\"/\"+o;t._fileExists(e.toUrl(s+\".js\"))&&i.push(s)}function r(e,t,n){var i;for(i in t)!t.hasOwnProperty(i)||e.hasOwnProperty(i)&&!n?\"object\"==typeof t[i]&&(!e[i]&&t[i]&&(e[i]={}),r(e[i],t[i],n)):e[i]=t[i]}var o=/(^.*(^|\\/)nls(\\/|$))([^\\/]*)\\/?([^\\/]*)/;n(\"i18n\",[\"module\"],function(t){var n=t.config?t.config():{};return n=n||{},{version:\"2.0.4\",load:function(t,s,a,l){l=l||{},l.locale&&(n.locale=l.locale);var d,c,h,u=o.exec(t),f=u[1],p=u[4],g=u[5],v=p.split(\"-\"),m=[],_={},y=\"\";if(u[5]?(f=u[1],d=f+g):(d=t,g=u[4],p=n.locale,p||(p=n.locale=\"undefined\"==typeof navigator?\"root\":(navigator.language||navigator.userLanguage||\"root\").toLowerCase()),v=p.split(\"-\")),l.isBuild){for(m.push(d),i(s,\"root\",m,f,g),c=0;c<v.length;c++)h=v[c],y+=(y?\"-\":\"\")+h,i(s,y,m,f,g);if(l.locales){var C,w;for(C=0;C<l.locales.length;C++)for(p=l.locales[C],v=p.split(\"-\"),y=\"\",w=0;w<v.length;w++)h=v[w],y+=(y?\"-\":\"\")+h,i(s,y,m,f,g)}s(m,function(){a()})}else s([d],function(t){var n,i=[];for(e(\"root\",t,i,m,f,g),c=0;c<v.length;c++)n=v[c],y+=(y?\"-\":\"\")+n,e(y,t,i,m,f,g);s(m,function(){var e,n,o;for(e=i.length-1;e>-1&&i[e];e--)o=i[e],n=t[o],!0!==n&&1!==n||(n=s(f+o+\"/\"+g)),r(_,n);a(_)})})}}})}(),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n ******************************************************************************/\nn(\"orion/nls/messages\",{root:!0}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n ******************************************************************************/\nn(\"orion/nls/root/messages\",{Navigator:\"Navigator\",Sites:\"Sites\",Shell:\"Shell\",\"Get Plugins\":\"Get Plug-ins\",Global:\"Global\",Editor:\"Editor\",EditorRelatedLink:\"Show Current Folder\",EditorRelatedLinkParent:\"Show Enclosing Folder\",EditorLinkWorkspace:\"Edit\",EditorRelatedLinkProj:\"Show Project\",sidebar:\"Sidebar\",\"Filter bindings\":\"Filter bindings\",BindingPrompt:\"Enter the new binding\",NoBinding:\"---\",orionClientLabel:\"Orion client repository\",\"Orion Editor\":\"Text Editor\",\"Orion Image Viewer\":\"Image Viewer\",\"Orion Markdown Editor\":\"Markdown Editor\",\"Orion Markdown Viewer\":\"Markdown Viewer\",\"Orion JSON Editor\":\"JSON Editor\",\"View on Site\":\"View on Site\",\"View this file or folder on a web site hosted by Orion\":\"View this file or folder on a web site hosted by Orion.\",ShowAllKeyBindings:\"Show a list of all the keybindings on this page\",\"Show Keys\":\"Show Keys\",HideShowBannerFooter:\"Hide or show the page banner\",\"Toggle banner and footer\":\"Toggle banner\",ChooseFileOpenEditor:\"Choose a file by name and open an editor on it\",FindFile:\"Open File...\",\"System Configuration Details\":\"System Configuration Details\",\"System Config Tooltip\":\"Go to the System Configuration Details page\",\"Background Operations\":\"Background Operations\",\"Background Operations Tooltip\":\"Go to the Background Operations page\",\"Operation status is unknown\":\"Operation status is unknown\",\"Unknown item\":\"Unknown item\",NoSearchAvailableErr:\"Can't search: no search service is available\",Related:\"Related\",Options:\"Options\",\"LOG: \":\"LOG: \",View:\"View\",SplashTitle:\"Setting up Workspace\",SplashTitleSettings:\"Loading Settings\",SplashTitleGit:\"Loading Git Repositories\",LoadingPage:\"Loading Page\",LoadingPlugins:\"Loading Plugins\",LoadingResources:\"Loading Resources\",plugin_started:'\"${0}\" started',\"plugin_lazy activation\":'\"${0}\" lazily activated',plugin_starting:'\"${0}\" starting',\"no parent\":\"no parent\",\"no tree model\":\"no tree model\",\"no renderer\":\"no renderer\",\"could not find table row \":\"could not find table row \",Operations:\"Operations\",\"Operations running\":\"Operations running\",SomeOpWarning:\"Some operations finished with warning\",SomeOpErr:\"Some operations finished with error\",\"no service registry\":\"no service registry\",Tasks:\"Tasks\",Close:\"Close\",\"Expand all\":\"Expand all\",\"Collapse all\":\"Collapse all\",Search:\"Search\",\"Advanced search\":\"Advanced search\",Submit:\"Submit\",More:\"More\",\"Recent searches\":\"Recent searches\",\"Regular expression\":\"Regular expression\",\"Search options\":\"Search options\",\"Global search\":\"Global search\",\"Orion Home\":\"Home\",\"Close notification\":\"Close notification\",OpPressSpaceMsg:\"Operations - Press spacebar to show current operations\",\"Toggle side panel\":\"Toggle side panel\",\"Open or close the side panel\":\"Open or close the side panel\",Projects:\"Projects\",\"Toggle Sidebar\":\"Toggle Sidebar\",\"Sample HTML5 Site\":\"Sample HTML5 Site\",\"Generate an HTML5 'Hello World' website, including JavaScript, HTML, and CSS files.\":\"Generate an HTML5 'Hello World' website, including JavaScript, HTML, and CSS files.\",\"Sample Orion Plugin\":\"Sample Orion Plug-in\",\"Generate a sample plugin for integrating with Orion.\":\"Generate a sample plug-in for integrating with Orion.\",Browser:\"Web Browser\",OutlineProgress:\"Getting outline for ${0} from ${1}\",outlineTimeout:\"Outline service timed out. Try reloading the page and opening the outline again.\",UnknownError:\"An unknown error occurred.\",Filter:\"Filter (* = any string, ? = any character)\",TemplateExplorerLabel:\"Templates\",OpenTemplateExplorer:\"Open Template Explorer\",Edit:\"Edit\",CentralNavTooltip:\"Toggle Navigation Menu\",\"Wrote: ${0}\":\"Wrote: ${0}\",GenerateHTML:\"Generate HTML file\",GenerateHTMLTooltip:\"Write an HTML file generated from the current Markdown editor content\",\"alt text\":\"alt text\",blockquote:\"blockquote\",code:\"code\",\"code (block)\":\"code (block)\",\"code (span)\":\"code (span)\",emphasis:\"emphasis\",\"fenced code (${0})\":\"fenced code (${0})\",\"header (${0})\":\"header (${0})\",\"horizontal rule\":\"horizontal rule\",label:\"label\",\"link (auto)\":\"link (auto)\",\"link (image)\":\"link (image)\",\"link (inline)\":\"link (inline)\",\"link label\":\"link label\",\"link label (optional)\":\"link label (optional)\",\"link (ref)\":\"link (ref)\",\"list item (bullet)\":\"list item (bullet)\",\"list item (numbered)\":\"list item (numbered)\",\"strikethrough (${0})\":\"strikethrough (${0})\",strong:\"strong\",\"table (${0})\":\"table (${0})\",text:\"text\",\"title (optional)\":\"title (optional)\",url:\"url\",workedProgress:\"${0} (${1}/${2})\",TogglePaneOrientationTooltip:\"Toggle split pane orientation\",WarningDuplicateLinkId:\"Duplicate link ID: ${0} (link IDs are not case-sensitive)\",WarningHeaderTooDeep:\"Header level cannot exceed 6\",WarningLinkHasNoText:\"Link has no text\",WarningLinkHasNoURL:\"Link has no URL\",WarningOrderedListItem:\"Ordered list item within unordered list\",WarningOrderedListShouldStartAt1:\"The first item in an ordered list should have index 1\",WarningUndefinedLinkId:\"Undefined link ID: ${0}\",WarningUnorderedListItem:\"Unordered list item within ordered list\",PageTitleFormat:\"${0} - ${1}\",KeyCTRL:\"Ctrl\",KeySHIFT:\"Shift\",KeyALT:\"Alt\",KeyBKSPC:\"Backspace\",KeyDEL:\"Del\",KeyEND:\"End\",KeyENTER:\"Enter\",KeyESCAPE:\"Esc\",KeyHOME:\"Home\",KeyINSERT:\"Ins\",KeyPAGEDOWN:\"Page Down\",KeyPAGEUP:\"Page Up\",KeySPACE:\"Space\",KeyTAB:\"Tab\",\"a year\":\"a year\",years:\"${0} years\",\"a month\":\"a month\",months:\"${0} months\",\"a day\":\"a day\",days:\"${0} days\",\"an hour\":\"an hour\",hours:\"${0} hours\",\"a minute\":\"a minute\",minutes:\"${0} minutes\",timeAgo:\"${0} ago\",justNow:\"just now\",fixAll:\"Fix all\"}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/util\",[],function(){function e(e){var t=arguments;return e.replace(/\\$\\{([^\\}]+)\\}/g,function(e,n){return t[1+(n<<0)]})}function t(e,t){return e.createElementNS?e.createElementNS(m,t):e.createElement(t)}function n(e,t){t.addEventListener(\"keydown\",function(t){9!==t.keyCode||t.shiftKey||(t.preventDefault(),e.focus())}),e.addEventListener(\"keydown\",function(e){9===e.keyCode&&e.shiftKey&&(e.preventDefault(),t.focus())})}var i=navigator.userAgent,r=-1!==i.indexOf(\"MSIE\")||-1!==i.indexOf(\"Trident\")?document.documentMode:void 0,o=parseFloat(i.split(\"Firefox/\")[1]||i.split(\"Minefield/\")[1])||void 0,s=-1!==i.indexOf(\"Opera\")?parseFloat(i.split(\"Version/\")[1]):void 0,a=parseFloat(i.split(\"Chrome/\")[1])||void 0,l=-1!==i.indexOf(\"Safari\")&&!a,d=parseFloat(i.split(\"WebKit/\")[1])||void 0,c=-1!==i.indexOf(\"Android\"),h=-1!==i.indexOf(\"iPad\"),u=-1!==i.indexOf(\"iPhone\"),f=h||u,p=-1!==i.indexOf(\"Electron\"),g=-1!==navigator.platform.indexOf(\"Mac\"),v=-1!==navigator.platform.indexOf(\"Win\"),m=\"http://www.w3.org/1999/xhtml\";return{formatMessage:e,createElement:t,confineDialogTab:n,isIE:r,isFirefox:o,isOpera:s,isChrome:a,isSafari:l,isWebkit:d,isAndroid:c,isIPad:h,isIPhone:u,isIOS:f,isElectron:p,isMac:g,isWindows:v,isLinux:-1!==navigator.platform.indexOf(\"Linux\"),isTouch:\"undefined\"!=typeof document&&\"ontouchstart\"in document.createElement(\"input\"),platformDelimiter:v?\"\\r\\n\":\"\\n\"}}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/webui/littlelib\",[\"orion/util\"],function(e){function t(e,t){return t||(t=document),t.querySelector(e)}function n(e,t){return t||(t=document),t.querySelectorAll(e)}function i(e,t){return Array.prototype.slice.call(n(e,t))}function r(e){var t=e;return\"string\"==typeof e&&(t=document.getElementById(e)),t}function o(e,t){if(!e||!t)return!1;if(e===t)return!0;var n=e.compareDocumentPosition(t);return Boolean(16&n)}function s(e){var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),i=Math.max(document.documentElement.scrollTop,document.body.scrollTop);return{left:t.left+n,top:t.top+i,width:t.width,height:t.height}}function a(e){for(;e.hasChildNodes();){var t=e.firstChild;e.removeChild(t)}}function l(t){var n=t.tabIndex;if(0===n&&e.isIE){({a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0})[t.nodeName.toLowerCase()]||t.attributes.tabIndex||(n=-1)}return n}function d(e){if(l(e)>=0)return e;if(e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++){var n=d(e.childNodes[t]);if(n)return n}return null}function c(e){if(l(e)>=0)return e;if(e.hasChildNodes())for(var t=e.childNodes.length-1;t>=0;t--){var n=c(e.childNodes[t]);if(n)return n}return null}function h(e,t){if(3===e.nodeType){var n=x.exec(e.nodeValue);n&&n.length>1&&t(e,n)}if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++)h(e.childNodes[i],t)}function u(e,t){if(!e||!t)return 0;var n=e.ownerDocument,i=n.defaultView||n.parentWindow;if(i.getComputedStyle){var r=i.getComputedStyle(e,null),o=r.getPropertyValue(t);if(o.length>2&&-1!==o.indexOf(\"px\",o.length-2)){o=o.slice(0,-2);var s=parseInt(o,10);return s!==s?0:s}}return 0}function f(e,t){h(e,function(e,n){var i=t[n[1]]||n[1];e.parentNode.replaceChild(document.createTextNode(i),e)})}function p(e,t){h(e,function(e,n){var i=t[n[1]];if(i){var r=document.createRange(),o=n.index;r.setStart(e,o),r.setEnd(e,o+n[0].length),r.deleteContents(),r.insertNode(i)}})}function g(t,n){function i(e){S.forEach(function(t){var n=!1,i=t.excludeNodes.some(function(t){return!!document.body.contains(t)&&(n=!0,t.contains(e.target))});if(n&&!i)try{t.dismiss(e)}catch(e){\"undefined\"!=typeof console&&console&&console.error(e&&e.message)}}),S=S.filter(function(e){return e.excludeNodes.some(function(e){return document.body.contains(e)})})}null===S&&(S=[],document.addEventListener(\"click\",i,!0),e.isIOS&&document.addEventListener(\"touchend\",function(e){function t(){e.target.removeEventListener(\"click\",t)}0===e.touches.length&&e.target.addEventListener(\"click\",t)},!1)),S.push({excludeNodes:t,dismiss:n})}function v(e){S=S.filter(function(t){return e!==t.dismiss})}function m(e){for(var t=e.parentNode,n=document.documentElement;t&&t!==n;){var i=window.getComputedStyle(t,null);if(!i)break;var r=i.getPropertyValue(\"overflow-y\");if(\"auto\"===r||\"scroll\"===r)break;t=t.parentNode}return t}function _(e){window.document.all&&(e.keyCode=0),e.preventDefault&&(e.preventDefault(),e.stopPropagation())}function y(e){for(var t=document.getElementsByTagName(\"iframe\"),n=0;n<t.length;n++)t[n].parentNode.style.pointerEvents=e?\"\":\"none\"}function C(e){return T[e]||null}function w(e,t){var n=t;return void 0===n&&(n=document.createElement(\"div\")),n.innerHTML=e,n.children.length>1?n.children:n.firstChild}var x=/\\$\\{([^\\}]+)\\}/,S=null,b={BKSPC:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DEL:46,COMMAND:991},T=Object.create(null);return Object.keys(b).forEach(function(e){T[b[e]]=e}),{$:t,$$:n,$$array:i,node:r,contains:o,bounds:s,empty:a,firstTabbable:d,lastTabbable:c,pixelValueOf:u,stop:_,processTextNodes:f,processDOMNodes:p,addAutoDismiss:g,setFramesEnabled:y,getOffsetParent:m,removeAutoDismiss:v,keyName:C,KEY:b,createNodes:w}}),/*******************************************************************************\n * @license\n * Copyright (c) 2010,2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/commandsProxy\",[\"orion/util\",\"orion/webui/littlelib\"],function(e,t){function n(t,n){if(t=t||window.event,function(t){if(e.isMac){if(t.metaKey&&!t.altKey)return!(t.shiftKey||t.ctrlKey||65!==t.keyCode&&67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode&&90!==t.keyCode);if(t.ctrlKey)return!1}else{if(t.ctrlKey&&!t.altKey)return!(t.shiftKey||65!==t.keyCode&&67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode&&90!==t.keyCode);if(t.altKey&&!t.ctrlKey)return!1;if(t.ctrlKey&&t.altKey)return!1}if(t.char)return t.char.length>0;if(t.charCode||t.keyCode){var n=t.charCode||t.keyCode;switch(n){case 8:case 9:case 13:case 46:return!0;default:return n>=32&&n<112||n>123}}return!1}(t)){if(\"true\"===t.target.contentEditable)return;var i=t.target.nodeName.toLowerCase();if(\"input\"===i){switch(t.target.type.toLowerCase()){case\"text\":case\"password\":case\"search\":case\"color\":case\"date\":case\"datetime\":case\"datetime-local\":case\"email\":case\"month\":case\"number\":case\"range\":case\"tel\":case\"time\":case\"url\":case\"week\":return}}else if(\"textarea\"===i)return}n(t)}function i(){this._init()}return i.prototype={destroy:function(){this._listener&&(document.removeEventListener(\"keydown\",this._listener),this._listener=null)},setProxy:function(e){this.proxy=e},setKeyBindings:function(e){this.bindings=e},_init:function(){var e=this;document.addEventListener(\"keydown\",this._listener=function(i){return n(i,function(n){var i=e.proxy,r=e.bindings;if(r&&i)for(var o=0;o<r.length;o++)r[o].match(n)&&(i.processKey({type:n.type,keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,shiftKey:n.shiftKey}),t.stop(n))})})}},{handleKeyEvent:n,CommandsProxy:i}}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/EventTarget\",[],function(){function e(){this._namedListeners={}}return e.prototype={dispatchEvent:function(e){if(!e.type)throw new Error(\"unspecified type\");var t=this._namedListeners[e.type];return t&&t.forEach(function(t){try{\"function\"==typeof t?t(e):t.handleEvent(e)}catch(e){\"undefined\"!=typeof console&&console.log(e)}}),!e.defaultPrevented},addEventListener:function(e,t){(\"function\"==typeof t||t.handleEvent)&&(this._namedListeners[e]=this._namedListeners[e]||[],this._namedListeners[e].push(t))},removeEventListener:function(e,t){var n=this._namedListeners[e];if(n)for(var i=0;i<n.length;i++)if(n[i]===t){1===n.length?delete this._namedListeners[e]:n.splice(i,1);break}}},e.prototype.constructor=e,e.attach=function(t){var n=new e;t.dispatchEvent=n.dispatchEvent.bind(n),t.addEventListener=n.addEventListener.bind(n),t.removeEventListener=n.removeEventListener.bind(n)},e}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/webui/dropdown\",[\"orion/webui/littlelib\",\"orion/EventTarget\"],function(e,t){function n(e){t.attach(this),this._init(e)}function i(e,t){t=void 0===t?\"span\":t;var n=document.createElement(t);if(n.tabIndex=0,n.className=\"dropdownMenuItem\",n.setAttribute(\"role\",\"menuitem\"),e){var i=document.createElement(\"span\");i.appendChild(document.createTextNode(e)),i.classList.add(\"dropdownCommandName\"),n.appendChild(i)}var r=document.createElement(\"li\");return r.appendChild(n),r}function r(){var e=document.createElement(\"li\");return e.classList.add(\"dropdownSeparator\"),e}function o(e,t){var n=document.createElement(\"span\");n.classList.add(\"dropdownKeyBinding\"),n.appendChild(document.createTextNode(t)),e.appendChild(n)}return n.prototype={_init:function(t){if(this._dropdownNode=e.node(t.dropdown),!this._dropdownNode)throw\"no dom node for dropdown found\";if(this._populate=t.populate,this._selectionClass=t.selectionClass,this._parentDropdown=t.parentDropdown,this._positioningNode=t.positioningNode,!this._parentDropdown)for(var n=this._dropdownNode.parentNode;n&&document!==n;){if(n.classList&&n.classList.contains(\"dropdownMenu\")){this._parentDropdown=n.dropdown;break}n=n.parentNode}if(this._dropdownNode.tabIndex=0,t.triggerNode?this._triggerNode=t.triggerNode:this._triggerNode=e.$(\".dropdownTrigger\",this._dropdownNode.parentNode),!this._triggerNode)throw\"no dom node for dropdown trigger found\";var i=function(t){var n=!1;(n=this._triggerNode.classList.contains(\"dropdownMenuItem\")?this.open(t):this.toggle(t))&&e.stop(t)}.bind(this);t.skipTriggerEventListeners||(this._triggerNode.addEventListener(\"click\",i,!1),\"span\"===this._triggerNode.tagName.toLowerCase()&&this._triggerNode.addEventListener(\"keydown\",function(t){t.keyCode!==e.KEY.ENTER&&t.keyCode!==e.KEY.SPACE||i(t)}.bind(this),!1)),this._dropdownNode.addEventListener(\"keydown\",this._dropdownKeyDown.bind(this),!1)},addTriggerNode:function(t){var n=this;t.addEventListener(\"click\",function(t){n.toggle(t)&&e.stop(t)},!1)},toggle:function(e){return this.isVisible()?this.close():this.open(e)},isVisible:function(){return this._isVisible},open:function(t){var n=!1;if(!this.isVisible()){this.dispatchEvent({type:\"triggered\",dropdown:this,event:t}),this._populate&&(this.empty(),this._populate(this._dropdownNode));if(this.getItems().length>0){e.setFramesEnabled(!1),this._boundAutoDismiss&&e.removeAutoDismiss(this._boundAutoDismiss),this._boundAutoDismiss=this._autoDismiss.bind(this);var i=e.$$array(\".dropdownSubMenu\",this._dropdownNode);e.addAutoDismiss([this._triggerNode].concat(i),this._boundAutoDismiss),this._triggerNode.classList.add(\"dropdownTriggerOpen\"),this._selectionClass&&this._triggerNode.classList.add(this._selectionClass),this._dropdownNode.classList.add(\"dropdownMenuOpen\"),this._isVisible=!0,this._positionDropdown(t),this._focusDropdownNode(),n=!0,this._parentDropdown&&this._parentDropdown.submenuOpen(this)}}return n},_focusDropdownNode:function(){this._dropdownNode.focus()},_autoDismiss:function(e){if(this.close(!1)&&this._dropdownNode.contains(e.target))for(var t=this._parentDropdown;t;)t.close(!1),t=t._parentDropdown},_positionDropdown:function(t){if(this._dropdownNode.style.left=\"\",this._dropdownNode.style.top=\"\",this._positioningNode)return void(this._dropdownNode.style.left=this._positioningNode.offsetLeft+\"px\");var n=e.bounds(this._dropdownNode),i=e.bounds(document.body);if(n.left+n.width>i.left+i.width)if(this._triggerNode.classList.contains(\"dropdownMenuItem\"))this._dropdownNode.style.left=-n.width+\"px\";else{var r=e.bounds(this._boundingNode(this._triggerNode)),o=e.bounds(this._triggerNode);this._dropdownNode.style.left=o.left-r.left-n.width+o.width+\"px\"}var s=n.top+n.height-(i.top+i.height);0<s&&(this._dropdownNode.style.top=Math.floor(this._dropdownNode.style.top-s)+\"px\")},_boundingNode:function(e){var t=window.getComputedStyle(e,null);return null===t?e:\"absolute\"!==t.getPropertyValue(\"position\")&&e.parentNode&&e!==document.body?this._boundingNode(e.parentNode):e},close:function(t){var n=!1;return this.isVisible()&&(this._triggerNode.classList.remove(\"dropdownTriggerOpen\"),this._selectionClass&&this._triggerNode.classList.remove(this._selectionClass),this._dropdownNode.classList.remove(\"dropdownMenuOpen\"),e.setFramesEnabled(!0),t&&this._triggerNode.focus(),this._isVisible=!1,this._selectedItem&&(this._selectedItem.classList.remove(\"dropdownMenuItemSelected\"),this._selectedItem=null),this._boundAutoDismiss&&(e.removeAutoDismiss(this._boundAutoDismiss),this._boundAutoDismiss=null),n=!0),n},getItems:function(){var t=e.$$array(\"li:not(.dropdownSeparator) > .dropdownMenuItem\",this._dropdownNode,!0),n=[],i=this;return t.forEach(function(e){e.parentNode.parentNode===i._dropdownNode&&n.push(e)}),n.forEach(function(t){t._hasDropdownMouseover||(t.addEventListener(\"mouseover\",function(n){t.dropdown?t.dropdown.open(n):(i._closeSelectedSubmenu(),e.stop(n)),i._selectItem(t)}),t._hasDropdownMouseover=!0)}),n},empty:function(){var t=this;e.$$array(\"li\",this._dropdownNode).forEach(function(e){e.parentNode===t._dropdownNode&&e.parentNode.removeChild(e)})},_dropdownKeyDown:function(t){if(t.keyCode===e.KEY.UP||t.keyCode===e.KEY.DOWN||t.keyCode===e.KEY.RIGHT||t.keyCode===e.KEY.ENTER||t.keyCode===e.KEY.LEFT){var n=this.getItems();if(n.length&&n.length>0){if(this._selectedItem){var i=n.indexOf(this._selectedItem);i<0&&(i=n.indexOf(this._selectedItem.parentNode)),i>=0&&(t.keyCode===e.KEY.UP&&i>0?(i--,this._selectItem(n[i])):t.keyCode===e.KEY.DOWN&&i<n.length-1?(i++,this._selectItem(n[i])):t.keyCode===e.KEY.ENTER||t.keyCode===e.KEY.RIGHT?this._selectedItem.classList.contains(\"dropdownTrigger\")&&this._selectedItem.dropdown?(this._selectedItem.dropdown.open(),this._selectedItem.dropdown._selectItem()):t.keyCode===e.KEY.ENTER&&this._selectedItem.click():t.keyCode===e.KEY.LEFT&&this._selectedItem.parentNode.parentNode.classList.contains(\"dropdownMenuOpen\")&&(this.close(!0),this._parentDropdown&&this._parentDropdown._dropdownNode.focus()))}else this._selectItem(n[0]);e.stop(t)}}else t.keyCode===e.KEY.ESCAPE&&(this.close(!0),e.stop(t))},_selectItem:function(e){var t=e||this.getItems()[0];t&&(this._selectedItem&&this._selectedItem.classList.remove(\"dropdownMenuItemSelected\"),this._selectedItem=t,this._selectedItem.classList.add(\"dropdownMenuItemSelected\")),document.activeElement!==this._dropdownNode&&this._dropdownNode.focus()},submenuOpen:function(e){e!==this._selectedSubmenu&&(this._closeSelectedSubmenu(),this._selectedSubmenu=e)},_closeSelectedSubmenu:function(){for(var e=this._selectedSubmenu;e;)e.close(),e=e._selectedSubmenu},destroy:function(){this.empty(),this._boundAutoDismiss&&(e.removeAutoDismiss(this._boundAutoDismiss),this._boundAutoDismiss=null)},appendMenuItem:function(e,t){var n=i(e,t);return this._dropdownNode.appendChild(n),n},appendSeparator:function(){var e=r();return this._dropdownNode.appendChild(e),e}},n.prototype.constructor=n,{Dropdown:n,appendKeyBindingString:o,createMenuItem:i,createSeparator:r}}),/**\n * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/text for details\n */\nn(\"text\",[\"module\"],function(e){\"use strict\";var n,i,r,o,s,a=[\"Msxml2.XMLHTTP\",\"Microsoft.XMLHTTP\",\"Msxml2.XMLHTTP.4.0\"],l=/^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,d=/<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,c=\"undefined\"!=typeof location&&location.href,h=c&&location.protocol&&location.protocol.replace(/\\:/,\"\"),u=c&&location.hostname,f=c&&(location.port||void 0),p={},g=e.config&&e.config()||{};return n={version:\"2.0.12\",strip:function(e){if(e){e=e.replace(l,\"\");var t=e.match(d);t&&(e=t[1])}else e=\"\";return e},jsEscape:function(e){return e.replace(/(['\\\\])/g,\"\\\\$1\").replace(/[\\f]/g,\"\\\\f\").replace(/[\\b]/g,\"\\\\b\").replace(/[\\n]/g,\"\\\\n\").replace(/[\\t]/g,\"\\\\t\").replace(/[\\r]/g,\"\\\\r\").replace(/[\\u2028]/g,\"\\\\u2028\").replace(/[\\u2029]/g,\"\\\\u2029\")},createXhr:g.createXhr||function(){var e,t,n;if(\"undefined\"!=typeof XMLHttpRequest)return new XMLHttpRequest;if(\"undefined\"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=a[t];try{e=new ActiveXObject(n)}catch(e){}if(e){a=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,o=e.indexOf(\".\"),s=0===e.indexOf(\"./\")||0===e.indexOf(\"../\");return-1!==o&&(!s||o>1)?(t=e.substring(0,o),n=e.substring(o+1,e.length)):t=e,i=n||t,o=i.indexOf(\"!\"),-1!==o&&(r=\"strip\"===i.substring(o+1),i=i.substring(0,o),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\\w+)\\:)?\\/\\/([^\\/\\\\]+)/,useXhr:function(e,t,i,r){var o,s,a,l=n.xdRegExp.exec(e);return!l||(o=l[2],s=l[3],s=s.split(\":\"),a=s[1],s=s[0],!(o&&o!==t||s&&s.toLowerCase()!==i.toLowerCase()||(a||s)&&a!==r))},finishLoad:function(e,t,i,r){i=t?n.strip(i):i,g.isBuild&&(p[e]=i),r(i)},load:function(e,t,i,r){if(r&&r.isBuild&&!r.inlineText)return void i();g.isBuild=r&&r.isBuild;var o=n.parseName(e),s=o.moduleName+(o.ext?\".\"+o.ext:\"\"),a=t.toUrl(s),l=g.useXhr||n.useXhr;if(0===a.indexOf(\"empty:\"))return void i();!c||l(a,h,u,f)?n.get(a,function(t){n.finishLoad(e,o.strip,t,i)},function(e){i.error&&i.error(e)}):t([s],function(e){n.finishLoad(o.moduleName+\".\"+o.ext,o.strip,e,i)})},write:function(e,t,i,r){if(p.hasOwnProperty(t)){var o=n.jsEscape(p[t]);i.asModule(e+\"!\"+t,\"define(function () { return '\"+o+\"';});\\n\")}},writeFile:function(e,t,i,r,o){var s=n.parseName(t),a=s.ext?\".\"+s.ext:\"\",l=s.moduleName+a,d=i.toUrl(s.moduleName+a)+\".js\";n.load(l,i,function(t){var i=function(e){return r(d,e)};i.asModule=function(e,t){return r.asModule(e,d,t)},n.write(e,l,i,o)},o)}},\"node\"===g.env||!g.env&&\"undefined\"!=typeof process&&process.versions&&process.versions.node&&!process.versions[\"node-webkit\"]?(i=t.nodeRequire(\"fs\"),n.get=function(e,t,n){try{var r=i.readFileSync(e,\"utf8\");0===r.indexOf(\"\\ufeff\")&&(r=r.substring(1)),t(r)}catch(e){n&&n(e)}}):\"xhr\"===g.env||!g.env&&n.createXhr()?n.get=function(e,t,i,r){var o,s=n.createXhr();if(s.open(\"GET\",e,!0),r)for(o in r)r.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),r[o]);g.onXhr&&g.onXhr(s,e),s.onreadystatechange=function(n){var r,o;4===s.readyState&&(r=s.status||0,r>399&&r<600?(o=new Error(e+\" HTTP status: \"+r),o.xhr=s,i&&i(o)):t(s.responseText),g.onXhrComplete&&g.onXhrComplete(s,e))},s.send(null)}:\"rhino\"===g.env||!g.env&&\"undefined\"!=typeof Packages&&\"undefined\"!=typeof java?n.get=function(e,t){var n,i,r=new java.io.File(e),o=java.lang.System.getProperty(\"line.separator\"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),\"utf-8\")),a=\"\";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=s.readLine());)n.append(o),n.append(i);a=String(n.toString())}finally{s.close()}t(a)}:(\"xpconnect\"===g.env||!g.env&&\"undefined\"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,o=Components.interfaces,Components.utils.import(\"resource://gre/modules/FileUtils.jsm\"),s=\"@mozilla.org/windows-registry-key;1\"in r,n.get=function(e,t){var n,i,a,l={};s&&(e=e.replace(/\\//g,\"\\\\\")),a=new FileUtils.File(e);try{n=r[\"@mozilla.org/network/file-input-stream;1\"].createInstance(o.nsIFileInputStream),n.init(a,1,0,!1),i=r[\"@mozilla.org/intl/converter-input-stream;1\"].createInstance(o.nsIConverterInputStream),i.init(n,\"utf-8\",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),l),i.close(),n.close(),t(l.value)}catch(e){throw new Error((a&&a.path||\"\")+\": \"+e)}}),n}),n(\"text!orion/webui/dropdowntriggerbutton.html\",[],function(){return'<button class=\"dropdownTrigger\">${ButtonText}\\x3c!--span class=\"dropdownArrowDown core-sprite-openarrow\"></span--\\x3e</button><ul class=\"dropdownMenu\"></ul>'}),n(\"text!orion/webui/dropdowntriggerbuttonwitharrow.html\",[],function(){return'<button class=\"dropdownTrigger dropdownDefaultButton\">${ButtonText}<span class=\"dropdownArrowDown core-sprite-openarrow\"></span></button><ul class=\"dropdownMenu\"></ul>'}),n(\"text!orion/webui/checkedmenuitem.html\",[],function(){return'<li><label class=\"dropdownMenuItem\"><input class=\"checkedMenuItem\" role=\"menuitem\" type=\"checkbox\" />${ItemText}</label></li>'}),/*******************************************************************************\n * @license\n * Copyright (c) 2012, 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/webui/tooltip\",[\"orion/webui/littlelib\"],function(e){function t(e){this._init(e)}return t.prototype={_init:function(t){if(this._node=e.node(t.node),!this._node)throw\"no dom node for tooltip found\";this._position=t.position||[\"right\",\"above\",\"below\",\"left\"],this._text=t.text,this._hideDelay=void 0===t.hideDelay?200:t.hideDelay,this._tailSize=t.tailSize||10,this._trigger=t.trigger||\"mouseover\",this._afterShowing=t.afterShowing,this._afterHiding=t.afterHiding;var n=this;if(\"click\"===this._trigger)this._showDelay=0,this._node.addEventListener(\"click\",this._clickHandler=function(t){t.target===n._node&&(n.show(),e.stop(t))},!1);else if(\"mouseover\"===this._trigger){this._showDelay=void 0===t.showDelay?500:t.showDelay;var i=[\"mouseout\",\"click\"];this._node.addEventListener(\"mouseover\",this._mouseoverHandler=function(t){e.contains(n._node,t.target)&&(n.show(),e.stop(t))},!1),this._leaveHandler=function(t){e.contains(n._node,t.target)&&n.hide()};for(var r=0;r<i.length;r++)this._node.addEventListener(i[r],this._leaveHandler,!1)}else\"focus\"===this._trigger&&(this._showDelay=void 0===t.showDelay?0:t.showDelay,this._hideDelay=void 0===t.hideDelay?0:t.hideDelay,this._node.addEventListener(\"focus\",this._focusHandler=function(t){e.contains(n._node,t.target)&&n.show()},!1),this._blurHandler=function(t){e.contains(n._node,t.target)&&n.hide()},this._node.addEventListener(\"blur\",this._blurHandler,!1))},_makeTipNode:function(){if(!this._tip){if(this._tip=document.createElement(\"span\"),this._tip.classList.add(\"tooltipContainer\"),this._tipInner=document.createElement(\"div\"),this._tipInner.classList.add(\"tooltip\"),this._text){this._tipTextContent=document.createElement(\"div\"),this._tipTextContent.classList.add(\"textContent\"),this._tipInner.appendChild(this._tipTextContent);var t=document.createTextNode(this._text);this._tipTextContent.appendChild(t)}this._tip.appendChild(this._tipInner),document.body.appendChild(this._tip);var n=this;if(e.addAutoDismiss([this._tip,this._node],function(){n.hide()}),\"mouseover\"===this._trigger){this._tipInner.setAttribute(\"role\",\"tooltip\"),this._tipInner.id=\"tooltip\"+(new Date).getTime().toString();var i=this._node.getAttribute(\"aria-label\");this._text!==i&&this._node.setAttribute(\"aria-describedby\",this._tipInner.id),this._tip.addEventListener(\"mouseover\",function(t){n._timeout&&(window.clearTimeout(n._timeout),n._timeout=null),n._tip.addEventListener(\"mouseout\",function(t){e.contains(n._tip,t.target)&&(n.hide(),e.stop(t))},!1)},!1)}}return this._tip},_positionTip:function(t,n){this._makeTipNode(),this._tip.classList.add(\"tooltipShowing\"),\"left\"===t?this._tipInner.classList.add(\"left\"):this._tipInner.classList.remove(\"left\");var i,r=this._node;for(i=e.bounds(r);r&&!i.width&&!i.height;r=r.parentNode)i=e.bounds(r);var o,s,a=e.bounds(this._tipInner);switch(t){case\"above\":o=i.top-a.height-this._tailSize-1,s=i.left-this._tailSize;break;case\"below\":o=i.top+i.height+this._tailSize+1,s=i.left-this._tailSize;break;case\"left\":o=i.top-this._tailSize/2,s=i.left-a.width-this._tailSize-1;break;default:o=i.top-this._tailSize/2,s=i.left+i.width+this._tailSize+1}var l=document.body,d=document.documentElement,c=Math.max(d.scrollLeft,l.scrollLeft),h=Math.max(d.scrollTop,l.scrollTop),u=c+d.clientWidth,f=h+d.clientHeight;if(o+a.height>f){if(!n)return!1;o=f-a.height-1}if(s+a.width>u){if(!n)return!1;s=u-a.width-1}if(s<c){if(!n)return!1;s=c+4}if(o<h){if(!n)return!1;o=h+4}return this._tail&&this._tail.previousPosition!==t&&(this._tip.removeChild(this._tail),this._tail=null),this._tail||(this._tail=document.createElement(\"span\"),this._tail.classList.add(\"tooltipTailFrom\"+t),\"above\"===t||\"left\"===t?this._tip.appendChild(this._tail):this._tip.insertBefore(this._tail,this._tipInner),this._tail.previousPosition=t),this._tip.style.top=o+\"px\",this._tip.style.left=s+\"px\",!0},contentContainer:function(){return this._makeTipNode(),this._tipInner},isShowing:function(){return this._tip&&this._tip.classList.contains(\"tooltipShowing\")},show:function(){this.isShowing()||(this._timeout&&(window.clearTimeout(this._timeout),this._timeout=null),this._showDelay?this._timeout=window.setTimeout(this._showImmediately.bind(this),this._showDelay):this._showImmediately())},_showImmediately:function(){for(var e=!1,t=0;!e&&t<this._position.length;)e=this._positionTip(this._position[t]),t++;e||this._positionTip(this._position[0],!0),this._afterShowing&&this._afterShowing()},hide:function(e){if(this._timeout&&(window.clearTimeout(this._timeout),this._timeout=null),this.isShowing()){void 0===e&&(e=this._hideDelay);var t=this;this._timeout=window.setTimeout(function(){t._tip.classList.remove(\"tooltipShowing\"),t._tip.removeAttribute(\"style\"),t._afterHiding&&t._afterHiding()},e)}},destroy:function(){if(this._timeout&&(window.clearTimeout(this._timeout),this._timeout=null),this._tip&&(document.body.removeChild(this._tip),this._tip=null,this._tipInner=null,this._tipTextContent=null,this._tail=null),this._node){this._node.removeEventListener(\"click\",this._clickHandler,!1),this._node.removeEventListener(\"mouseover\",this._mouseoverHandler,!1),this._node.removeEventListener(\"focus\",this._focusHandler,!1),this._node.removeEventListener(\"blur\",this._blurHandler,!1);for(var e=[\"mouseout\",\"click\"],t=0;t<e.length;t++)this._node.removeEventListener(e[t],this._leaveHandler,!1)}}},t.prototype.constructor=t,{Tooltip:t}}),/*******************************************************************************\n * @license\n * Copyright (c) 2014, 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/metrics\",[],function(){function e(e,t){var n=e.getServiceReferences(\"orion.metrics\"),i=[];n.forEach(function(t){i.push(e.getService(t))});var o=window.location.protocol+\"//\"+window.location.hostname+window.location.pathname+window.location.search,s=window.location.pathname+window.location.search,a=document.title;r=i,r.forEach(function(e){e.pageLoad(o,s,a,t)}),e.registerService(\"orion.core.metrics.client\",this)}function t(e,t,n,i){r.forEach(function(r){r.logTiming(e,t,n,i)})}function n(e,t,n,i,o){r.forEach(function(r){r.logEvent(e,t,n||\"\",i,o)})}function i(e,n){if(window.performance){if(window.performance.getEntriesByName&&window.performance.mark){if(window.performance.getEntriesByName(e).length)return;window.performance.mark(e)}else{if(o[e])return;o[e]=Date.now()}t(\"page\",e,window.performance.now(),n)}}var r=[],o=Object.create(null);return e.prototype={logTiming:function(e,n,i,r){t(e,n,i,r)},logEvent:function(e,t,i,r,o){n(e,t,i,r,o)},logPageLoadTiming:function(e,t){i(e,t)}},{Metrics:e,logTiming:t,logEvent:n,logPageLoadTiming:i}}),/*******************************************************************************\n * @license\n * Copyright (c) 2010,2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/commands\",[\"i18n!orion/nls/messages\",\"orion/webui/littlelib\",\"orion/commandsProxy\",\"orion/webui/dropdown\",\"text!orion/webui/dropdowntriggerbutton.html\",\"text!orion/webui/dropdowntriggerbuttonwitharrow.html\",\"text!orion/webui/checkedmenuitem.html\",\"orion/webui/tooltip\",\"orion/metrics\"],function(e,t,n,i,r,o,s,a,l){function d(e){S=e}function c(e){var t=e.invocation;if(t){var n=e.command;if(\"function\"==typeof n.hrefCallback){var i=n.hrefCallback.call(t.handler||window,t);return i.then?i.then(function(e){window.open(e)}):window.open(i),!0}if(t.commandRegistry)return t.commandRegistry._invoke(t),!0;if(n.onClick||n.callback)return window.setTimeout(function(){(n.onClick||n.callback).call(t.handler||window,t)},0),!0}return!1}function h(e,n){for(var i in n)if(n[i]&&n[i].keyBinding&&n[i].command&&n[i].keyBinding.match(e)){var r=n[i],o=r.keyBinding;if((!o.domScope||t.contains(t.node(o.domScope),e.target))&&c(r))return void t.stop(e)}}function u(){var e={};if(S){var t,n,i;for(n=Object.keys(b),t=0;t<n.length;t++)i=n[t],e[i]=b[i];var r=S();for(n=Object.keys(r),t=0;t<n.length;t++)i=n[t],e[i]=r[i]}else e=b;return e}function f(e){h(e,u())}function p(e,t,n){t.classList.add(\"commandImage\");var i;return e.imageClass?e.addImageClassToElement?t.classList.add(e.imageClass):(i=document.createElement(\"span\"),t.appendChild(i),i.classList.add(e.spriteClass),i.classList.add(e.imageClass)):(i=new Image,i.alt=e.name,i.name=n,i.id=n,i.src=e.image,t.appendChild(i)),i}function g(e,n,s,a,l,d,c,h,u,f){if(!(e=t.node(e)))throw\"no parent node was specified\";var g=document.createRange();g.selectNode(e);var v=u?g.createContextualFragment(o):g.createContextualFragment(r);t.processTextNodes(v,{ButtonText:n}),e.appendChild(v);var m,_,y=e.lastChild;return u?(m=y.previousSibling,_=m.lastChild):m=y.previousSibling,a?m.classList.add(a):(m.classList.add(\"orionButton\"),m.classList.add(\"commandButton\")),f&&f.split(\" \").forEach(m.classList.add.bind(m.classList)),l&&(d||(m.textContent=\"\",m.setAttribute(\"aria-label\",n)),p({spriteClass:\"commandSprite\",imageClass:l},m,n),m.classList.add(\"orionButton\")),m.dropdown=new i.Dropdown({dropdown:y,populate:s,selectionClass:c,skipTriggerEventListeners:!!_,positioningNode:h}),y.dropdown=m.dropdown,{menuButton:m,menu:y,dropdown:m.dropdown,dropdownArrow:_}}function v(e,n,i,r){if(!(e=t.node(e)))throw\"no parent node was specified\";var o=document.createRange();o.selectNode(e);var a=o.createContextualFragment(s);t.processTextNodes(a,{ItemText:n}),e.appendChild(a);var l=e.lastChild,d=t.$(\".checkedMenuItem\",l);return d.checked=i,d.addEventListener(\"change\",r,!1),d}function m(t,n,i,r,o){var s,a,l,d,c;s=document.createElement(\"div\"),a=l=document.createElement(\"button\"),a.className=\"orionButton\",n.extraClass&&a.classList.add(n.extraClass),a.classList.add(\"commandButton\");var h=document.createTextNode(n.name);a.appendChild(h);var u=r||n.callback;if(u){var f=function(){d&&(d.checked&&(i.userData.doFixAll=!0),o&&o.get(\"/languageTools/quickfix\").then(function(e){e[n.id]=d.checked,o.put(\"/languageTools/quickfix\",e)})),u.call(i.handler,i)};n.onClick=u,l.addEventListener(\"click\",function(e){var t;t=function(e){e&&f()},n.preCallback?n.preCallback(i).then(function(e){t(e)}):t(!0),e.stopPropagation()},!1)}if(\"ul\"===t.nodeName.toLowerCase()){var p=document.createElement(\"li\");t.appendChild(p),t=p}else a.classList.add(\"commandMargins\");if(s.appendChild(a),n.fixAllEnabled&&i.userData._annotationModel){var g=n.id+\"fixAll\";d=document.createElement(\"input\"),d.type=\"checkbox\",d.className=\"quickfixAllParameter\",d.checked=!0,d.id=g,c=document.createElement(\"label\"),c.htmlFor=g,c.className=\"quickfixAllParameter\",c.appendChild(document.createTextNode(e.fixAll)),o&&o.get(\"/languageTools/quickfix\").then(function(e){\"boolean\"==typeof e[n.id]&&(d.checked=e[n.id])}),s.appendChild(d),s.appendChild(c)}return t.appendChild(s),s}function _(e,n,i,r,o,s,l){var d,c;s=s||!n.name&&n.hasImage();var h=function(){if(s)n.hasImage()?(p(n,d,r),n.name&&d.setAttribute(\"aria-label\",n.name)):(d.classList.add(\"commandButton\"),d.classList.add(\"commandMissingImageButton\"),d.appendChild(document.createTextNode(n.name)));else{d.classList.add(\"commandButton\");var e=document.createTextNode(n.name);d.appendChild(e)}};if(\"function\"==typeof n.hrefCallback){d=c=document.createElement(\"a\"),d.id=r,s&&n.hasImage()?p(n,d,r):(d.className=\"commandLink\",d.appendChild(document.createTextNode(n.name)));var u=n.hrefCallback.call(i.handler,i);u.then?u.then(function(e){d.href=e}):d.href=u||\"#\"}else{if(\"switch\"===n.type){d=document.createElement(\"div\"),d.tabIndex=0,d.className=\"orionSwitch\";var f=c=document.createElement(\"input\");f.type=\"checkbox\",f.className=\"orionSwitchCheck\",f.id=\"orionSwitchCheck\"+n.id,e.id&&(f.id=f.id+e.id),d.appendChild(f);var g=document.createElement(\"label\");g.className=\"orionSwitchLabel\",g.setAttribute(\"for\",f.id);var v=document.createElement(\"span\");v.className=\"orionSwitchInner\";var m=document.createElement(\"span\");m.className=\"orionSwitchSwitch\",g.appendChild(v),g.appendChild(m),d.appendChild(g),d.addEventListener(\"keydown\",function(e){e.keyCode!==t.KEY.ENTER&&e.keyCode!==t.KEY.SPACE||f.click()},!1),f.checked=n.checked,v.classList.add(n.imageClass)}else\"toggle\"===n.type?(d=c=document.createElement(\"button\"),d.className=\"orionButton\",d.classList.add(n.checked?\"orionToggleOn\":\"orionToggleOff\"),n.extraClass&&d.classList.add(n.extraClass),d.id=\"orionToggle\"+n.id,e.id&&(d.id=d.id+e.id),h()):(d=c=document.createElement(\"button\"),d.className=\"orionButton\",n.extraClass&&d.classList.add(n.extraClass),h());var _=l||n.callback;if(_){var y=function(){_.call(i.handler,i)};n.onClick=_,c.addEventListener(\"click\",function(e){var t;t=\"switch\"===n.type||\"toggle\"===n.type?function(e){\"toggle\"===n.type?(e&&(n.checked=!n.checked),n.checked?(d.classList.remove(\"orionToggleOff\"),d.classList.add(\"orionToggleOn\"),d.classList.add(\"orionToggleAnimate\")):(d.classList.remove(\"orionToggleOn\"),d.classList.add(\"orionToggleOff\"),d.classList.add(\"orionToggleAnimate\"))):e?n.checked=f.checked:f.checked=!f.checked,e&&window.setTimeout(y,250)}:function(e){e&&y()},n.preCallback?n.preCallback(i).then(function(e){t(e)}):t(!0),e.stopPropagation()},!1)}}if(\"ul\"===e.nodeName.toLowerCase()){var C=document.createElement(\"li\");e.appendChild(C),e=C}else d.classList.add(\"commandMargins\");return e.appendChild(d),n.tooltip&&(d.commandTooltip=new a.Tooltip({node:d,text:n.tooltip,position:[\"above\",\"below\",\"right\",\"left\"]})),o&&(b[n.id]={keyBinding:o,command:n,invocation:i}),d}function y(e,n,r,o,s,l){var d,c,h=e.dropdown;if(\"function\"==typeof n.hrefCallback){c=i.createMenuItem(n.name,\"a\"),r.domNode=d=c.firstElementChild;var u=n.hrefCallback.call(r.handler,r);u.then?u.then(function(e){d.href=e}):d.href=u||\"#\",d.addEventListener(\"keydown\",function(e){e.keyCode!==t.KEY.ENTER&&e.keyCode!==t.KEY.SPACE||d.click()},!1)}else{c=i.createMenuItem(n.name),d=c.firstElementChild;var f=s||n.callback;f&&(n.onClick=f,d.addEventListener(\"click\",function(e){h&&h.close(!0),f.call(r.handler,r)},!1),d.addEventListener(\"keydown\",function(e){e.keyCode!==t.KEY.ENTER&&e.keyCode!==t.KEY.SPACE||(e.preventDefault(),d.click())},!1))}return n.tooltip&&(d.commandTooltip=new a.Tooltip({node:d,text:n.tooltip,position:[\"right\",\"above\",\"below\",\"left\"]})),l&&i.appendKeyBindingString(d,l),e.appendChild(c),o&&(b[n.id]={keyBinding:o,command:n,invocation:r}),d}function C(e,t,n,i,r){this.commandRegistry=r,this.handler=e,this.items=t,this.userData=n,this.command=i,i.parameters&&(this.parameters=i.parameters.makeCopy()),this.id=i.id}function w(e){this._init(e)}var x=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAAtJREFUCNdjIBEAAAAwAAFletZ8AAAAAElFTkSuQmCC\",S=null,b={};return window.document.addEventListener(\"keydown\",function(e){return n.handleKeyEvent(e,f)},!1),C.prototype={collectsParameters:function(){return this.commandRegistry&&this.commandRegistry.collectsParameters()},makeCopy:function(e){var t=new C(this.handler,this.items,this.userData,this.command,this.commandRegistry);return t.domNode=this.domNode,t.domParent=this.domParent,e?t.parameters=e.makeCopy():this.parameters&&(t.parameters=this.parameters.makeCopy()),t}},C.prototype.constructor=C,w.prototype={_init:function(e){this.id=e.id,this.name=e.name,this.tooltip=e.tooltip,this.fixAllEnabled=e.fixAllEnabled,this.callback=e.callback,this.preCallback=e.preCallback,this.hrefCallback=e.hrefCallback,this.choiceCallback=e.choiceCallback,this.positioningNode=e.positioningNode,this.image=e.image||x,this.imageClass=e.imageClass,this.addImageClassToElement=e.addImageClassToElement,this.extraClass=e.extraClass,this.selectionClass=e.selectionClass,this.spriteClass=e.spriteClass||\"commandSprite\",this.visibleWhen=e.visibleWhen,this.parameters=e.parameters,this.isEditor=e.isEditor,this.type=e.type,this.checked=e.checked,this.track=e.track},populateChoicesMenu:function(e,n,i,r,o){var s=this.getChoices(n,i,r),a=s.some(function(e){return e.checked});s.forEach(function(i){if(i.name){var r=document.createElement(\"li\");e.appendChild(r);var s=document.createElement(\"span\");if(s.tabIndex=0,s.setAttribute(\"role\",\"menuitem\"),s.classList.add(\"dropdownMenuItem\"),a){var d=document.createElement(\"span\");d.classList.add(\"check\"),d.appendChild(document.createTextNode(i.checked?\"\":\"\")),s.appendChild(d)}if(i.imageClass){var c=document.createElement(\"span\");c.classList.add(i.imageClass),s.appendChild(c)}var h=document.createElement(\"span\"),u=document.createTextNode(i.name);h.appendChild(u),s.appendChild(h),r.appendChild(s),s.choice=i,s.addEventListener(\"click\",function(e){l.logEvent(\"command\",\"invoke\",this.id+\">\"+i.name),i.callback.call(i,n)}.bind(this),!1),s.addEventListener(\"keydown\",function(e){e.keyCode!==t.KEY.ENTER&&e.keyCode!==t.KEY.SPACE||(l.logEvent(\"command\",\"invoke\",this.id+\">\"+i.name),i.callback.call(i,n))}.bind(this),!1)}else o._generateMenuSeparator(e)}.bind(this))},getChoices:function(e,t,n){return this.choiceCallback?this.choiceCallback.call(t,e,n):null},makeChoiceCallback:function(e,t){return function(n){e.callback&&e.callback.call(e,t,n)}},hasImage:function(){return this.imageClass||this.image!==x}},w.prototype.constructor=w,{Command:w,CommandInvocation:C,createDropdownMenu:g,createCheckedMenuItem:v,createQuickfixItem:m,createCommandItem:_,createCommandMenuItem:y,executeBinding:c,setKeyBindingProvider:d,localKeyBindings:b,getKeyBindings:u,processKey:f,NO_IMAGE:x,_testMethodProcessKey:h}}),/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *        Felipe Heidrich (IBM Corporation) - initial API and implementation\n *        Silenio Quarti (IBM Corporation) - initial API and implementation\n ******************************************************************************/\nn(\"orion/keyBinding\",[\"orion/util\"],function(e){function t(e,t,n,i,r,o){this.type=o||\"keydown\",\"string\"==typeof e&&\"keydown\"===this.type?this.keyCode=e.toUpperCase().charCodeAt(0):this.keyCode=e,this.mod1=void 0!==t&&null!==t&&t,this.mod2=void 0!==n&&null!==n&&n,this.mod3=void 0!==i&&null!==i&&i,this.mod4=void 0!==r&&null!==r&&r}function n(e){this.keys=e}return t.prototype={getKeys:function(){return[this]},match:function(t,n){if(void 0!==n){if(0!==n)return!1}else if(t instanceof Array){if(t.length>1)return!1;t=t[0]}if(t.type!==this.type)return!1;if(this.keyCode===t.keyCode||this.keyCode===String.fromCharCode(e.isOpera?t.which:void 0!==t.charCode?t.charCode:t.keyCode)){var i=e.isMac?t.metaKey:t.ctrlKey;return this.mod1===i&&((\"keydown\"!==this.type||this.mod2===t.shiftKey)&&(this.mod3===t.altKey&&(!e.isMac||this.mod4===t.ctrlKey)))}return!1},equals:function(e){return!!e&&(this.keyCode===e.keyCode&&(this.mod1===e.mod1&&(this.mod2===e.mod2&&(this.mod3===e.mod3&&(this.mod4===e.mod4&&this.type===e.type)))))}},n.prototype={getKeys:function(){return this.keys.slice(0)},match:function(e,t){var n=this.keys;if(void 0!==t)return!(t>n.length)&&(!!n[t].match(e)&&(t===n.length-1||t+1));if(e instanceof Array||(e=[e]),e.length>n.length)return!1;var i;for(i=0;i<e.length;i++)if(!n[i].match(e[i]))return!1;return i===n.length||i},equals:function(e){if(!e.keys)return!1;if(e.keys.length!==this.keys.length)return!1;for(var t=0;t<e.keys.length;t++)if(!e.keys[t].equals(this.keys[t]))return!1;return!0}},{KeyBinding:t,KeyStroke:t,KeySequence:n}}),/*******************************************************************************\n * @license\n * Copyright (c) 2009, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/explorers/navigationUtils\",[],function(){function e(e,t,n,i){r||e&&(e.push({domNode:t}),t.style.outline=\"none\")}function t(t,n,i){if(t){var r=t.getGridNavHolder(n,!0);r&&e(r,i)}}function n(e,t){if(e)for(var n=0;n<e.length;n++)if(e[n].domNode===t)return void e.splice(n,1)}var i=navigator.userAgent,r=-1!==i.indexOf(\"iPad\");return{addNavGrid:t,generateNavGrid:e,removeNavGrid:n}}),/*******************************************************************************\n * @license\n * Copyright (c) 2012, 2015 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/i18nUtil\",[],function(){function e(e){var t=/\\$\\{([^\\}]+)\\}/g,n=arguments;return 2===n.length&&n[1]&&\"object\"==typeof n[1]?e.replace(t,function(e,t){return n[1][t]}):e.replace(t,function(e,t){return n[1+(t<<0)]})}return{formatMessage:e}}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/PageUtil\",[],function(){function e(){var e=window.location.href.split(\"#\")[1];return e=e?\"#\"+e:\"\"}function t(e){e=e||window.location.toString();var t={resource:\"\"},n=e.indexOf(\"#\");if(-1!==n){var i=e.substring(n+1);if(0!==i.length){var r=i.split(\",\");t.resource=decodeURIComponent(r[0]);for(var o=1;o<r.length;o++){var s=r[o],a=/([^=]*)(=?)(.*)/.exec(s),l=decodeURIComponent(a[1]||\"\"),d=decodeURIComponent(a[3]||\"\");\"\"!==l&&\"resource\"!==l&&(t[l]=d)}}}return t}function n(e,t){var n=e;if(-1===e.indexOf(\"://\")){var r=document.createElement(\"a\");r.href=e,n=r.href}var o=!1;return o=t?t.some(function(e){return new RegExp(\"^\"+e+\":\",\"i\").test(n)}):i.test(n),o?e:(console.log(\"Illegal URL Scheme: '\"+e+\"'\"),\"\")}var i=new RegExp(\"^http[s]?\",\"i\");return{hash:e,matchResourceParameters:t,validateURLScheme:n}}),/*******************************************************************************\n * @license\n * Copyright (c) 2009, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/uiUtils\",[\"i18n!orion/nls/messages\",\"orion/webui/littlelib\",\"orion/i18nUtil\"],function(e,t,n){function i(n){var i=\"\";if(v)n.mod4&&(i+=\"\"),n.mod3&&(i+=\"\"),n.mod2&&(i+=\"\"),n.mod1&&(i+=\"\");else{n.mod1&&(i+=e.KeyCTRL+\"+\"),n.mod2&&(i+=e.KeySHIFT+\"+\"),n.mod3&&(i+=e.KeyALT+\"+\")}if(n.alphaKey)return i+n.alphaKey;if(\"keypress\"===n.type)return i+n.keyCode;var r=n.keyCode,o=m[r];if(o)return i+o;var s=t.keyName(r);if(s)return s=e[\"Key\"+s]||s,i+s;var a;switch(n.keyCode){case 59:a=n.mod2?\":\":\";\";break;case 61:a=n.mod2?\"+\":\"=\";break;case 188:a=n.mod2?\"<\":\",\";break;case 190:a=n.mod2?\">\":\".\";break;case 191:a=n.mod2?\"?\":\"/\";break;case 192:a=n.mod2?\"~\":\"`\";break;case 219:a=n.mod2?\"{\":\"[\";break;case 220:a=n.mod2?\"|\":\"\\\\\";break;case 221:a=n.mod2?\"}\":\"]\";break;case 222:a=n.mod2?'\"':\"'\"}return a?i+a:n.keyCode>=112&&n.keyCode<=123?i+\"F\"+(n.keyCode-111):i+String.fromCharCode(n.keyCode)}function r(e){for(var t=\"\",n=e.getKeys(),r=0;r<n.length;r++)0!==r&&(t+=\" \"),t+=i(n[r]);return t}function o(e){var n=e.id,i=e.refNode,r=e.hideRefNode,o=e.initialText,s=e.onComplete,a=e.onEditDestroy,l=e.selectTo,d=e.isInitialValid,c=e.insertAsChild,h=!1,u=function(e){return function(l){if(!h){var c=t.node(n),u=c.value;if(c)return e&&l.keyCode===t.KEY.ESCAPE?(r&&(i.style.display=\"inline\"),h=!0,c.parentNode.removeChild(c),void(a&&a())):void(e&&l.keyCode!==t.KEY.ENTER||(0===u.length||!d&&u===o?(r&&(i.style.display=\"inline\"),h=!0):(s(u),r&&i.parentNode&&(i.style.display=\"inline\"),h=!0),c.parentNode&&c.parentNode.removeChild(c),a&&a()))}}},f=document.createElement(\"input\");f.id=n,f.value=o||\"\",c?i.appendChild(f):i.parentNode.insertBefore(f,i.nextSibling),f.classList.add(\"userEditBoxPrompt\"),r&&(i.style.display=\"none\"),f.addEventListener(\"keydown\",u(!0),!1),f.addEventListener(\"blur\",u(!1),!1),window.setTimeout(function(){if(f.focus(),o){var e=t.node(n),i=l?o.indexOf(l):-1;if(i>0)if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveStart(\"character\",0),r.moveEnd(\"character\",i),r.select()}else e.setSelectionRange?e.setSelectionRange(0,i):void 0!==e.selectionStart&&(e.selectionStart=0,e.selectionEnd=i);else e.select()}},0)}function s(e){var t=-1!==window.navigator.platform.indexOf(\"Mac\");return t&&e.metaKey||!t&&e.ctrlKey}function a(e,t){t&&s(t)?window.open(e):window.location=e}function l(e,n){var i=document.createElement(\"button\");return i.className=\"orionButton commandButton commandMargins\",i.addEventListener(\"click\",function(e){n(),t.stop(e)},!1),e&&i.appendChild(document.createTextNode(e)),i}function d(e,t,n){}function c(e,t){if(!e||!e.tagName)return!1;switch(e.tagName.toLowerCase()){case\"button\":case\"fieldset\":case\"form\":case\"input\":case\"keygen\":case\"label\":case\"legend\":case\"meter\":case\"optgroup\":case\"output\":case\"progress\":case\"select\":case\"textarea\":return!0}return e.parentNode!==t&&(e.parentNode&&c(e.parentNode,t))}function h(e,t,n){var i=n?0:1;return e.substring(0,e.length-encodeURIComponent(t).length-i)}function u(e){var t=new Date,n=new Date(e),i=t.getTime()-n.getTime(),r=Math.floor(i/1e3/60/60/24/365);i-=1e3*r*60*60*24*365;var o=Math.floor(i/1e3/60/60/24/30);i-=1e3*o*60*60*24*30;var s=Math.floor(i/1e3/60/60/24);i-=1e3*s*60*60*24;var a=Math.floor(i/1e3/60/60);i-=1e3*a*60*60;var l=Math.floor(i/1e3/60);return i-=1e3*l*60,{year:r,month:o,day:s,hour:a,minute:l,second:Math.floor(i/1e3)}}function f(t,i,r){return t>0?1===t?e[i]:n.formatMessage(e[r],t):\"\"}function p(e){var t=u(e),n=f(t.year,\"a year\",\"years\"),i=f(t.month,\"a month\",\"months\"),r=f(t.day,\"a day\",\"days\"),o=f(t.hour,\"an hour\",\"hours\"),s=f(t.minute,\"a minute\",\"minutes\"),a=\"\";return n?a=t.year>0?n:n+i:i?a=t.month>0?i:i+r:r?a=t.day>0?r:r+o:o?a=t.hour>0?o:o+s:s&&(a=s),a}function g(t){var i=p(t);return i?n.formatMessage(e.timeAgo,i):e.justNow}var v=-1!==navigator.platform.indexOf(\"Mac\"),m=Object.create(null);return m[t.KEY.DOWN]=\"\",m[t.KEY.UP]=\"\",m[t.KEY.RIGHT]=\"\",m[t.KEY.LEFT]=\"\",v&&(m[t.KEY.BKSPC]=\"\",m[t.KEY.DEL]=\"\",m[t.KEY.END]=\"\",m[t.KEY.ENTER]=\"\",m[t.KEY.ESCAPE]=\"\",m[t.KEY.HOME]=\"\",m[t.KEY.PAGEDOWN]=\"\",m[t.KEY.PAGEUP]=\"\",m[t.KEY.SPACE]=\"\",m[t.KEY.TAB]=\"\"),{getUserKeyString:r,getUserText:o,openInNewWindow:s,followLink:a,createButton:l,createDropdownButton:d,isFormElement:c,path2FolderName:h,timeElapsed:p,displayableTimeElapsed:g}}),n(\"text!orion/webui/submenutriggerbutton.html\",[],function(){return'<li class=\"dropdownSubMenu\"><span class=\"dropdownTrigger dropdownMenuItem\" role=\"menuitem\" tabindex=\"0\"><span class=\"dropdownCommandName\">${ButtonText}</span><span class=\"dropdownArrowRight core-sprite-closedarrow\"></span></span><ul class=\"dropdownMenu\"></ul></li>'}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nfunction(e,t){\"function\"==typeof n&&n.amd?n(\"orion/Deferred\",t):\"object\"==typeof exports?module.exports=t():(e.orion=e.orion||{},e.orion.Deferred=t())}(this,function(){function e(){for(var e;e=o.shift();)e();s=!1}function t(e){o.push(e),s||(s=!0,a())}function n(e){return function(t){e(t)}}function i(e,t,i){try{var r=e(t),o=r&&(\"object\"==typeof r||\"function\"==typeof r)&&r.then;if(\"function\"==typeof o)if(r===i.promise)i.reject(new TypeError);else{var s=r.cancel;\"function\"==typeof s?i._parentCancel=s.bind(r):delete i._parentCancel,o.call(r,n(i.resolve),n(i.reject),n(i.progress))}else i.resolve(r)}catch(e){i.reject(e)}}function r(){function e(){for(var e;e=d.shift();){var t=e.deferred,n=\"fulfilled\"===l?\"resolve\":\"reject\",r=e[n];\"function\"==typeof r?i(r,a,t):t[n](a)}}function n(n){delete c._parentCancel,l=\"rejected\",a=n,d.length&&t(e)}function o(i){function s(e){return function(t){l&&\"assumed\"!==l||e(t)}}delete c._parentCancel;try{var h=i&&(\"object\"==typeof i||\"function\"==typeof i)&&i.then;if(\"function\"==typeof h)if(i===c)n(new TypeError);else{l=\"assumed\";var u=i&&i.cancel;if(\"function\"!=typeof u){var f=new r;i=f.promise;try{h(f.resolve,f.reject,f.progress)}catch(e){f.reject(e)}u=i.cancel,h=i.then}a=i,h.call(i,s(o),s(n)),c._parentCancel=u.bind(i)}else l=\"fulfilled\",a=i,d.length&&t(e)}catch(e){s(n)(e)}}function s(){var e=c._parentCancel;if(e)delete c._parentCancel,e();else if(!l){var t=new Error(\"Cancel\");t.name=\"Cancel\",n(t)}}var a,l,d=[],c=this;this.resolve=function(e){return l||o(e),c},this.reject=function(e){return l||n(e),c},this.progress=function(e){return l||d.forEach(function(t){if(t.progress)try{t.progress(e)}catch(e){}}),c.promise},this.cancel=function(){return c._parentCancel?setTimeout(s,0):s(),c},this.then=function(n,i,o){var s=new r;return s._parentCancel=c.promise.cancel,d.push({resolve:n,reject:i,progress:o,deferred:s}),\"fulfilled\"!==l&&\"rejected\"!==l||t(e),s.promise},this.promise={then:c.then,cancel:c.cancel}}var o=[],s=!1,a=function(){if(\"undefined\"!=typeof process&&\"function\"==typeof process.nextTick){var t=process.nextTick;return function(){t(e)}}if(\"function\"==typeof MutationObserver){var n=document.createElement(\"div\");return new MutationObserver(e).observe(n,{attributes:!0}),function(){n.setAttribute(\"class\",\"_tick\")}}return function(){setTimeout(e,0)}}();return r.all=function(e,t){function n(e,t){a||(s[e]=t,0==--o&&l.resolve(s))}function i(e,i){if(!a){if(t)try{return void n(e,t(i))}catch(e){i=e}l.reject(i)}}var o=e.length,s=[],a=!1,l=new r;return l.then(void 0,function(){a=!0,e.forEach(function(e){e.cancel&&e.cancel()})}),0===o?l.resolve(s):e.forEach(function(e,t){e.then(n.bind(void 0,t),i.bind(void 0,t))}),l.promise},r.when=function(e,t,n,i){var o,s;return e&&\"function\"==typeof e.then?o=e:(s=new r,s.resolve(e),o=s.promise),o.then(t,n,i)},r}),/*******************************************************************************\n * @license\n * Copyright (c) 2010,2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/commandRegistry\",[\"orion/commands\",\"orion/keyBinding\",\"orion/explorers/navigationUtils\",\"orion/i18nUtil\",\"orion/PageUtil\",\"orion/uiUtils\",\"orion/webui/littlelib\",\"orion/webui/dropdown\",\"orion/webui/tooltip\",\"text!orion/webui/submenutriggerbutton.html\",\"orion/metrics\",\"orion/Deferred\",\"orion/EventTarget\"],function(e,t,n,i,r,o,s,a,l,d,c,h,u){function f(e){this._commandList={},this._contributionsByScopeId={},this._activeBindings={},this._urlBindings={},this._pendingBindings={},this._parameterCollector=null,this._init(e||{})}function p(e,t){this.token=e,this.parameterName=t}function g(e,t,n){this.event=e,this.handler=t,this.capture=n||!1}function v(e,t,n,i,r,o,s){this.name=e,this.type=t,this.label=n,this.value=i,this.lines=r||1,this.validator=s,this.eventListeners=Array.isArray(o)?o:o?[o]:[]}function m(e,t,n){this._storeParameters(e),this._hasOptionalParameters=t&&t.hasOptionalParameters,this._options=t,this.optionsRequested=!1,this.getParameters=n,this.clientCollect=t&&t.clientCollect,this.getParameterElement=t&&t.getParameterElement,this.getSubmitName=t&&t.getSubmitName,this.getCancelName=t&&t.getCancelName,this.message=t&&t.message}return f.prototype={_init:function(t){this._selectionService=t.selection;var n=this;e.setKeyBindingProvider(function(){return n._activeBindings}),u.attach(f.prototype),this.addEventListener(\"bindingChanged\",function(e){this._handleBindingChanges(e)}.bind(this)),this.addEventListener=function(e,t){this._bindingOverrides&&\"bindingChanged\"===e&&this._updateBindingOverrides(t),f.prototype.addEventListener.call(this,e,t)}},processURL:function(e){for(var t in this._urlBindings)if(this._urlBindings[t]&&this._urlBindings[t].urlBinding&&this._urlBindings[t].command){var n=this._urlBindings[t].urlBinding.match(e);if(n){var i=this._urlBindings[t],r=i.command,o=i.invocation;if(o&&o.parameters&&r.callback){o.parameters.setValue(n.parameterName,n.parameterValue);var s=this;return void window.setTimeout(function(){s._invoke(o)},0)}}}},findCommand:function(e){return this._commandList[e]},runCommand:function(t,n,i,r,o,s){var a=this;if(n){var l=this._commandList[t];if(l&&(!l.visibleWhen||l.visibleWhen(n))&&l.callback){var d=new e.CommandInvocation(i,n,o,l,a);return d.domParent=s,a._invoke(d,r)}}else{var c=this._urlBindings[t];if(c&&c.command&&c.command.callback)return a._invoke(c.invocation,r)}},getSelectionService:function(){return this._selectionService},setParameterCollector:function(e){this._parameterCollector=e},openParameterCollector:function(e,t,n){this._parameterCollector&&(this._parameterCollector.close(),this._parameterCollector.open(e,t,n))},confirm:function(e,t,n,i,r,o){var s=!1;if(!this._parameterCollector||r)s=window.confirm(t),o(s);else{var a=this,d=function(){o(s)},c=function(){a._parameterCollector.close()},h=function(e,r){var o=document.createElement(\"span\");o.classList.add(\"parameterPrompt\"),o.textContent=t,e.appendChild(o);var a=document.createElement(\"button\");a.addEventListener(\"click\",function(e){s=!0,d(),c()},!1),r.appendChild(a),a.appendChild(document.createTextNode(n)),a.className=\"dismissButton\";var l=document.createElement(\"button\");return l.addEventListener(\"click\",function(e){s=!1,c()},!1),r.appendChild(l),l.appendChild(document.createTextNode(i)),l.className=\"dismissButton\",a};this._parameterCollector.close();if(!this._parameterCollector.open(e,h,function(){})){var u=new l.Tooltip({node:e,afterHiding:function(){this.destroy()},trigger:\"click\",position:[\"below\",\"right\",\"above\",\"left\"]}),f=u.contentContainer();f.classList.add(\"parameterPopup\");var p=window.document.activeElement;c=function(){p&&p.focus(),u.destroy()};var g=document.createElement(\"div\");g.classList.add(\"parameterMessage\"),f.appendChild(g);var v=document.createElement(\"div\");f.appendChild(v),v.classList.add(\"layoutRight\"),v.classList.add(\"parametersDismiss\");var m=h(g,v);u.show(),m&&window.setTimeout(function(){m.focus(),m.select&&m.select()},0)}}},closeParameterCollector:function(){this._parameterCollector&&this._parameterCollector.close()},collectsParameters:function(){return this._parameterCollector},_invoke:function(e,t){return this._collectAndInvoke(e.makeCopy(t),!1)},_collectAndInvoke:function(e,t,n){if(e){if(!(this._parameterCollector&&e.parameters&&e.parameters.hasParameters()&&(t||e.parameters.shouldCollectParameters())))return c.logEvent(\"command\",\"invoke\",e.command.id),e.command.callback.call(e.handler||window,e);var i=!1;if(e.parameters.updateParameters(e),e.parameters.shouldCollectParameters()&&!(i=this._parameterCollector.collectParameters(e,n))){var r=new l.Tooltip({node:e.domNode||e.domParent,afterHiding:function(){this.destroy(),e.domParent&&e.domParent.classList.remove(\"parameterPopupOpen\")},trigger:\"click\",position:[\"below\",\"right\",\"above\",\"left\"]}),o=r.contentContainer();o.classList.add(\"parameterPopup\");var s=window.document.activeElement,a=this._parameterCollector.getFillFunction(e,function(){s&&s.focus(),r.destroy(),e.domParent&&e.domParent.classList.remove(\"parameterPopupOpen\")},n)(o);r.show(),e.domParent&&e.domParent.classList.add(\"parameterPopupOpen\"),a&&window.setTimeout(function(){a.focus(),a.select&&a.select()},0),i=!0}if(!i)return c.logEvent(\"command\",\"invoke\",e.command.id),e.command.callback.call(e.handler||window,e)}else window.console.log(\"Client attempted to invoke command without an available (rendered) command invocation\")},collectParameters:function(e,t){this._collectAndInvoke(e,!0,t)},showKeyBindings:function(t){function n(t){return function(){e.executeBinding(t)}}var i,r={},o=[];for(var s in this._activeBindings)(i=this._activeBindings[s])&&i.keyBinding&&i.command&&(i.command.name||i.command.tooltip)&&o.push(i);o.sort(function(e,t){var n=e.command.name||e.command.tooltip,i=t.command.name||t.command.tooltip;return n.localeCompare(i)});for(var a=0;a<o.length;a++)i=o[a],i.keyBinding.scopeName?(r[i.keyBinding.scopeName]||(r[i.keyBinding.scopeName]=[]),r[i.keyBinding.scopeName].push(i)):t.createItem(i.keyBinding,i.command.name||i.command.tooltip,i.command.id,n(i));for(var l in r)r[l].length&&r[l].length>0&&(t.createHeader(l),r[l].forEach(function(e){t.createItem(e.keyBinding,e.command.name||e.command.tooltip,e.command.id,n(e))}))},_handleBindingChanges:function(t){var n=this.findCommand(t.id);if(n){var i=this._activeBindings[t.id];i?i.keyBinding=t.newBinding:this._addBinding(n,\"key\",t.newBinding)}if(this._renderedCommands&&this._renderedCommands[t.id])for(var r=this._renderedCommands[t.id],s=Object.keys(r),a=0;a<s.length;a++){var l=r[s[a]],d=o.getUserKeyString(t.newBinding),c=e.createCommandMenuItem(l.domParent,l.command,l,null,l.onClick,d);l.domNode.parentNode.replaceChild(c,l.domNode),l.domNode=c}},createBindingOverride:function(e,t,n){if(this._bindingOverrides||(this._bindingOverrides=[]),this._bindingOverrides.push({id:e,newBinding:t,prevBinding:n}),this._prefService){var i=JSON.stringify(this._bindingOverrides);this._prefService.put(\"/KeyBindings\",{overridesJSON:i})}var r={type:\"bindingChanged\",id:e,newBinding:t,prevBinding:n};this.dispatchEvent(r)},_registerRenderedCommand:function(e,t,n){this._renderedCommands||(this._renderedCommands={});var i=this._renderedCommands[e];i||(i=this._renderedCommands[e]={}),i[t]=n},_getBindingOverrides:function(){return this._prefService.get(\"/KeyBindings\").then(function(e){var n=[],i=e.overridesJSON;i&&(n=\"string\"==typeof i?JSON.parse(i):i);for(var r=0;r<n.length;r++){var o=n[r];if(o.newBinding){var s=o.newBinding;n[r].newBinding=new t.KeyStroke(s.keyCode,s.mod1,s.mod2,s.mod3,s.mod4,s.type)}if(o.prevBinding){var a=o.prevBinding;n[r].prevBinding=new t.KeyStroke(a.keyCode,a.mod1,a.mod2,a.mod3,a.mod4,a.type)}}return(new h).resolve(n)}.bind(this))},getBindingOverride:function(e){if(!this._bindingOverrides)return null;for(var t=this._bindingOverrides.length-1;t>=0;t--){var n=this._bindingOverrides[t];if(n.id===e)return n.newBinding}return null},addCommand:function(e){this._commandList[e.id]=e;var t=this._pendingBindings[e.id];if(t){var n=this;t.forEach(function(t){n._addBinding(e,t.type,t.binding,t.bindingOnly)}),delete this._pendingBindings[e.id]}},addCommandGroup:function(e,t,n,i,r,o,s,a,l,d,c){this._contributionsByScopeId[e]||(this._contributionsByScopeId[e]={});var h=this._contributionsByScopeId[e];r&&(h=this._createEntryForPath(h,r)),h[t]?(i&&(h[t].title=i),n&&(h[t].position=n),s&&(h[t].imageClass=s),a&&(h[t].tooltip=a),l&&(h[t].selectionClass=l),c&&(h[t].extraClass=c),!0===d?h[t].pretendDefaultActionId=!0:h[t].defaultActionId=d,h[t].emptyGroupMessage=o):(h[t]={title:i,position:n,emptyGroupMessage:o,imageClass:s,tooltip:a,selectionClass:l,defaultActionId:!0===d?null:d,pretendDefaultActionId:!0===d,children:{},extraClasses:c},h.sortedContributions=null)},_createEntryForPath:function(e,t){if(t){t.split(\"/\").forEach(function(t){t.length>1&&(e[t]||(e[t]={position:0,children:{}},e.sortedContributions=null),e=e[t].children)})}return e},registerSelectionService:function(e,t){this._contributionsByScopeId[e]||(this._contributionsByScopeId[e]={}),this._contributionsByScopeId[e].localSelectionService=t},setServiceRegistry:function(e){this._serviceRegistry=e,this._prefService=e.getService(\"orion.core.preference\"),this._prefService&&(this._getBindingOverrides().then(function(e){this._bindingOverrides=e,this._updateBindingOverrides()}.bind(this)),this._prefService.addEventListener(\"changed\",function(e){\"/KeyBindings\"===e.namespace&&this._getBindingOverrides().then(function(e){if(e.length>this._bindingOverrides.length)for(var t=this._bindingOverrides.length;t<e.length;t++){var n=e[t],i={type:\"bindingChanged\",id:n.id,newBinding:n.newBinding,prevBinding:n.prevBinding};this.dispatchEvent(i)}this._bindingOverrides=e}.bind(this))}.bind(this)))},_updateBindingOverrides:function(e){for(var t=0;t<this._bindingOverrides.length;t++){var n=this._bindingOverrides[t],i={type:\"bindingChanged\",id:n.id,newBinding:n.newBinding,prevBinding:n.prevBinding};e?e(i):this.dispatchEvent(i)}},registerCommandContribution:function(e,t,n,i,r,o,s,a){this._contributionsByScopeId[e]||(this._contributionsByScopeId[e]={});var l=this._contributionsByScopeId[e];i&&(l=this._createEntryForPath(l,i)),l[t]={position:n,handler:a};var d;if(this._bindingOverrides){var c=this.getBindingOverride(t,o);c&&(o=c)}o&&(d=this._commandList[t],d?this._addBinding(d,\"key\",o,r):this._addPendingBinding(t,\"key\",o,r)),s&&(d=this._commandList[t],d?this._addBinding(d,\"url\",s,r):this._addPendingBinding(t,\"url\",s,r)),l.sortedContributions=null},unregisterCommandContribution:function(e,t,n){if(this._contributionsByScopeId[e]){delete this._commandList[t],delete this._activeBindings[t],delete this._urlBindings[t],delete this._pendingBindings[t];var i=this._contributionsByScopeId[e];if(n){n.split(\"/\").forEach(function(e){if(e.length>1){if(!i[e])return;i=i[e].children}})}delete i[t],i.sortedContributions=null}},_addBinding:function(e,t,n,i){if(!e.id)throw new Error(\"No command id: \"+e);\"key\"===t?this._activeBindings[e.id]={command:e,keyBinding:n,bindingOnly:i}:\"url\"===t&&(this._urlBindings[e.id]={command:e,urlBinding:n,bindingOnly:i})},_addPendingBinding:function(e,t,n,i){this._pendingBindings[e]=this._pendingBindings[e]||[],this._pendingBindings[e].push({type:t,binding:n,bindingOnly:i})},_checkForTrailingSeparator:function(e,t,n){var i;if((\"tool\"===t||\"button\"===t)&&(i=e.childNodes.length>0?e.childNodes[e.childNodes.length-1]:null)&&i.classList.contains(\"commandSeparator\"))return!n||(e.removeChild(i),!1);if(\"menu\"===t){var r=s.$$array(\"li > *\",e);if(r.length>0&&r[r.length-1].classList.contains(\"dropdownSeparator\"))return i=r[r.length-1],!n||(i.parentNode.parentNode.removeChild(i.parentNode),!1)}return!1},renderCommands:function(e,t,n,i,r,o,a){if(\"string\"!=typeof e)throw\"a scope id for rendering must be specified\";if(!(t=s.node(t)))throw\"no parent\";var l=this._contributionsByScopeId[e];if(!n&&l){var d=l.localSelectionService||this._selectionService,c=this;return void(d&&d.getSelections(function(n){c.renderCommands(e,t,n,i,r,o)}))}l&&(this._render(e,l,t,n,i,r||\"button\",o,a),this._checkForTrailingSeparator(t,r,!0))},destroy:function(e){if(!(e=s.node(e)))throw\"no parent\";for(;e.hasChildNodes();){var t=e.firstChild;t.commandTooltip&&t.commandTooltip.destroy(),t.emptyGroupTooltip&&t.emptyGroupTooltip.destroy(),this.destroy(t),e.removeChild(t)}},_render:function(t,i,r,s,a,d,c,h,u){var f=i.sortedContributions;if(!f){f=[];var p=!1;for(var g in i)if(Object.prototype.hasOwnProperty.call(i,g)){var v=i[g];v&&\"number\"==typeof v.position&&(v.id=g,f.push(v),p=!0)}p&&(f.sort(function(e,t){return e.position-t.position}),i.sortedContributions=f)}var m=0,_=this;f.forEach(function(i){function u(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var f,p;if(i.imageClass||(i.imageClass=null),i.children&&Object.getOwnPropertyNames(i.children).length>0){var g,v=i.children;if(\"tool\"===d||\"button\"===d)if(i.title){var y;if(i.defaultActionId){i.pretendDefaultActionId=!0===i.defaultActionId;var C=_._commandList[i.defaultActionId];!C||C.visibleWhen&&!C.visibleWhen(s)?i.pretendDefaultActionId=!0:(y=new e.CommandInvocation(a,s,c,C,_),y.domParent=r)}g=_._createDropdownMenu(r,i.title,null,null,i.imageClass,i.tooltip,i.selectionClass,null,y,i.pretendDefaultActionId,i.extraClasses),h&&n.generateNavGrid(h,g.menuButton),g&&(_._render(t,i.children,g.menu,s,a,\"menu\",c,h),_._checkForTrailingSeparator(g.menu,\"menu\",!0),0===g.menu.childNodes.length?i.emptyGroupMessage?g.menuButton.emptyGroupTooltip||(g.menuButton.emptyGroupTooltip=new l.Tooltip({node:g.menuButton,text:i.emptyGroupMessage,trigger:\"click\",position:[\"below\",\"right\",\"above\",\"left\"]})):(h&&n.removeNavGrid(h,g.menuButton),u(g.menu),u(g.menuButton),u(g.destroyButton)):g.menuButton.style.visibility=\"visible\")}else{var w;if(r.childNodes.length>0&&!_._checkForTrailingSeparator(r,d)&&(w=_.generateSeparatorImage(r)),_._render(t,v,r,s,a,d,c,h),r.childNodes.length>0){var x=r.childNodes[r.childNodes.length-1];x!==w&&(w=_.generateSeparatorImage(r))}}else if(i.title){var S=_._createDropdownMenu(r,i.title,!0,null,null,i.imageClass);S&&(_._render(t,v,S.menu,s,a,\"menu\",c,h),_._checkForTrailingSeparator(S.menu,\"menu\",!0),0===S.menu.childNodes.length&&S.destroyButton&&r.removeChild(S.destroyButton))}else r.childNodes.length>0&&_._generateMenuSeparator(r),_._render(t,v,r,s,a,d,c,h),r.childNodes.length>0&&_._generateMenuSeparator(r)}else{var b=_._commandList[i.id],T=!!b,E=null,L=null;if(b){p=new e.CommandInvocation(i.handler||a,s,c,b,_),p.domParent=r;var k=!1;try{k=T&&(!b.visibleWhen||b.visibleWhen(s,p))}catch(e){throw console.log(e),e}_._activeBindings[b.id]&&_._activeBindings[b.id].keyBinding&&(E=_._activeBindings[b.id],E.invocation=k?p:null,E.bindingOnly&&(T=!1)),_._urlBindings[b.id]&&_._urlBindings[b.id].urlBinding&&(L=_._urlBindings[b.id],L.invocation=k?p:null,L.bindingOnly&&(T=!1)),T=T&&k}if(T)if(b.choiceCallback){var M,A;\"tool\"===d||\"button\"===d?(M=r,A=!1,\"ul\"===r.nodeName.toLowerCase()&&(M=document.createElement(\"li\"),r.appendChild(M))):(M=r,A=!0);var D=function(e){b.populateChoicesMenu(e,s,a,c,_)};_._createDropdownMenu(M,b.name,A,D.bind(b),b.imageClass,b.tooltip||b.title,b.selectionClass,b.positioningNode)}else{p.handler=p.handler||this,p.domParent=r;var O,N=function(e){_._invoke(p)};if(\"menu\"===d){var I=null;E&&E.keyBinding&&(I=o.getUserKeyString(E.keyBinding)),O=e.createCommandMenuItem(r,b,p,null,N,I),p.onClick=N,_._registerRenderedCommand(b.id,t,p)}else if(\"quickfix\"===d){f=d+b.id+m;var R=document.createElement(\"div\");r.appendChild(R),r.classList.add(\"quickFixList\"),O=e.createQuickfixItem(R,b,p,N,_._prefService)}else f=d+b.id+m,O=e.createCommandItem(r,b,p,f,null,\"tool\"===d,N);n.generateNavGrid(h,O),p.domNode=O,m++}}})},_createDropdownMenu:function(t,n,i,r,o,c,h,u,f,p,g){if(!(t=s.node(t))||!s.contains(document.body,t))return null;var v,m,_,y,C=t;if(i){var w=document.createRange();w.selectNode(t);var x=w.createContextualFragment(d);s.processTextNodes(x,{ButtonText:n}),t.appendChild(x),y=t.lastChild,m=y.lastChild,v=m.previousSibling,v.dropdown=new a.Dropdown({dropdown:m,populate:r,parentDropdown:t.dropdown}),m.dropdown=v.dropdown}else{\"ul\"===t.nodeName.toLowerCase()&&(C=document.createElement(\"li\"),t.appendChild(C),y=C);var S=null;o&&(S=\"dropdownButtonWithIcon\",c=c||n),c=o?c||n:c;var b=e.createDropdownMenu(C,n,r,S,o,!1,h,u,f||p,g);if(_=b.dropdownArrow,v=b.menuButton,_){f&&(f.domNode=b.menuButton);var T=this;v.onclick=function(e){var t=s.bounds(_);(e.clientX>=t.left||!0===p)&&b.dropdown?b.dropdown.toggle(e):T._invoke(f)},b.dropdown&&(v.onkeydown=function(e){s.KEY.DOWN===e.keyCode&&(b.dropdown.toggle(e),s.stop(e))})}m=b.menu;var E;E=f&&f.command&&(f.command.tooltip||f.command.name)?f.command.tooltip||f.command.name:c,E&&(v.commandTooltip=new l.Tooltip({node:v,text:E,position:[\"above\",\"below\",\"right\",\"left\"]}))}return{menuButton:v,menu:m,dropdown:v.dropdown,destroyButton:y,dropdownArrow:_}},_generateMenuSeparator:function(e){if(!this._checkForTrailingSeparator(e,\"menu\")){var t=document.createElement(\"li\");t.classList.add(\"dropdownSeparator\");var n=document.createElement(\"span\");n.classList.add(\"dropdownSeparator\"),t.appendChild(n),e.appendChild(t)}},generateSeparatorImage:function(e){var t;return\"ul\"===e.nodeName.toLowerCase()?(t=document.createElement(\"li\"),e.appendChild(t)):(t=document.createElement(\"span\"),e.appendChild(t)),t.classList.add(\"core-sprite-sep\"),t.classList.add(\"imageSprite\"),t.classList.add(\"commandSeparator\"),t}},f.prototype.constructor=f,p.prototype={match:function(e){var t=r.matchResourceParameters(e);return void 0!==t[this.token]?(this.parameterValue=t[this.token],this):null}},p.prototype.constructor=p,g.prototype.constructor=g,v.prototype={optionsRequested:function(){return this.optionsRequested}},v.prototype.constructor=v,m.prototype={_storeParameters:function(e){if(this.parameterTable=null,e){var t=this.parameterTable={};e.forEach(function(e){t[e.name]=e})}},updateParameters:function(e){\"function\"==typeof this.getParameters&&this._storeParameters(this.getParameters(e))},hasParameters:function(){return null!==this.parameterTable},shouldCollectParameters:function(){return!this.clientCollect&&this.hasParameters()},parameterNamed:function(e){return this.parameterTable[e]},valueFor:function(e){var t=this.parameterTable[e];return t?t.value:null},setValue:function(e,t){var n=this.parameterTable[e];n&&(n.value=t)},forEach:function(e){for(var t in this.parameterTable)this.parameterTable[t].type&&this.parameterTable[t].name&&e(this.parameterTable[t])},validate:function(e,t){var n=this.parameterTable[e];return!n||!n.validator||n.validator(t)},makeCopy:function(){var e=[];this.forEach(function(t){var n=new v(t.name,t.type,t.label,t.value,t.lines,t.eventListeners,t.validator);e.push(n)});var t=new m(e,this._options,this.getParameters);return t.clientCollect=this.clientCollect,t.message=this.message,t},hasOptionalParameters:function(){return this._hasOptionalParameters}},m.prototype.constructor=m,{CommandRegistry:f,URLBinding:p,ParametersDescription:m,CommandParameter:v,CommandEventListener:g}}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n ******************************************************************************/\nn(\"orion/navigate/nls/messages\",{root:!0}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n ******************************************************************************/\nn(\"orion/navigate/nls/root/messages\",{Navigator:\"Navigator\",\"Strings Xtrnalizr\":\"Strings Xtrnalizr\",\"Externalize strings\":\"Externalize strings from JavaScript files in this folder.\",NotSupportFileSystem:\"${0} is not supported in this file system\",SrcNotSupportBinRead:\"Source file service does not support binary read\",TargetNotSupportBinWrite:\"Target file service does not support binary write\",NoFileSrv:\"No matching file service for location: ${0}\",\"Choose a Folder\":\"Choose a Folder\",\"Copy of ${0}\":\"Copy of ${0}\",EnterName:\"Enter a new name for '${0}'\",ChooseFolder:\"Choose folder...\",Rename:\"Rename\",RenameFilesFolders:\"Rename the selected files or folders\",CompareEach:\"Compare with each other\",\"Compare 2 files\":\"Compare the selected 2 files with each other\",\"Compare with...\":\"Compare With...\",CompareFolders:\"Compare the selected folder with a specified folder\",Delete:\"Delete\",\"Unknown item\":\"Unknown item\",\"delete item msg\":\"Are you sure you want to delete these ${0} items?\",DeleteTrg:\"Are you sure you want to delete '${0}'?\",Zip:\"Zip\",ZipDL:\"Create a zip file of the folder contents and download it\",\"New File\":\"File\",\"Create a new file\":\"Create a new file\",FailedToCreateProject:\"Failed to create project: ${0}\",FailedToCreateFile:\"Failed to create file: ${0}\",CopyFailed:\"Copy operation failed\",MoveFailed:\"Move operation failed\",\"Name:\":\"Name:\",\"New Folder\":\"Folder\",\"Folder name:\":\"Folder name:\",\"Create a new folder\":\"Create a new folder\",\"Creating folder\":\"Creating folder\",Folder:\"Folder\",\"Create an empty folder\":\"Create an empty folder\",CreateEmptyMsg:\"Create an empty folder on the Orion server. You can import, upload, or create content in the editor.\",\"Sample HTML5 Site\":\"Sample HTML5 Site\",\"Generate a sample\":\"Generate a sample\",'Generate an HTML5 \"Hello World\" website, including JavaScript, HTML, and CSS files.':'Generate an HTML5 \"Hello World\" website, including JavaScript, HTML, and CSS files.',\"Creating a folder for ${0}\":\"Creating a folder for ${0}\",\"SFTP Import\":\"SFTP Import\",\"Import content from SFTP\":\"Import content from SFTP\",\"Imported Content\":\"Imported Content\",\"Upload a Zip\":\"Upload a Zip\",\"Upload content from a local zip file\":\"Upload content from a local zip file\",\"Uploaded Content\":\"Uploaded Content\",\"Clone Git Repository\":\"Clone Git Repository\",\"Clone a git repository\":\"Clone a git repository\",\"Link to Server\":\"Link to Server\",LinkContent:\"Link to existing content on the server\",CreateLinkedFolder:\"Create a folder that links to an existing folder on the server.\",\"Server path:\":\"Server path:\",NameLocationNotClear:\"The name and server location were not specified.\",\"Go Up\":\"Go Up\",GoUpToParent:\"Move up to the parent folder\",\"Go Into\":\"Go Into\",GoSelectedFolder:\"Move into the selected folder\",\"File or zip archive\":\"File or Zip Archive\",ImportLcFile:\"Import a file or zip archive from your local file system\",\"SFTP from...\":\"SFTP\",CpyFrmSftp:\"Copy files and folders from a specified SFTP connection\",\"Importing from ${0}\":\"Importing from ${0}\",\"SFTP to...\":\"SFTP\",CpyToSftp:\"Copy files and folders to a specified SFTP location\",Exporting:\"Exporting to ${0}\",\"Pasting ${0}\":\"Pasting ${0}\",\"Copy to\":\"Copy to\",\"Move to\":\"Move to\",\"Copying ${0}\":\"Copying ${0}\",\"Moving ${0}\":\"Moving ${0}\",\"Renaming ${0}\":\"Renaming ${0}\",\"Deleting ${0}\":\"Deleting ${0}\",\"Creating ${0}\":\"Creating ${0}\",\"Linking to ${0}\":\"Linking to ${0}\",MvToLocation:\"Move files and folders to a new location\",Cut:\"Cut\",Copy:\"Copy\",\"Fetching children of \":\"Fetching children of \",Paste:\"Paste\",\"Open With\":\"Open With\",\"Loading \":\"Loading \",New:\"New\",File:\"File\",Actions:\"Actions\",\"Orion Content\":\"Orion Content\",\"File System\":\"File System\",\"Create new content\":\"Create new content\",\"Import from HTTP...\":\"HTTP\",\"File URL:\":\"File URL:\",ImportURL:\"Import a file from a URL and optionally unzip it\",\"Unzip *.zip files:\":\"Unzip *.zip files:\",\"Extracted from:\":\"Extracted from:\",FolderDropNotSupported:\"Did not drop ${0}. Folder drop is not supported in this browser.\",CreateFolderErr:\"You cannot copy files directly into the workspace. Create a folder first.\",\"Unzip ${0}?\":\"Unzip ${0}?\",\"Upload progress: \":\"Upload progress: \",\"Uploading \":\"Uploading \",\"Cancel upload\":\"Cancel upload\",UploadingFileErr:\"Uploading the following file failed: \",\"Enter project name:\":\"Enter project name:\",\"Create new project\":\"Create new project\",\"Creating project ${0}\":\"Creating project ${0}\",NoFile:\"Use the ${0} menu to create new files and folders. Click a file to start coding.\",Download:\"Download\",Download_tooltips:\"Download the file contents as the displayed name\",\"Downloading...\":\"Reading file contents...\",\"Download not supported\":\"Contents download is not supported in this browser.\",gettingContentFrom:\"Getting content from \",confirmLaunchDelete:'Delete Launch Configuration \"${0}\" ?',deletingLaunchConfiguration:\"Deleting launch configuration...\",deployTo:\"Deploy to \",deploy:\"Deploy \",connect:\"Connect\",fetchContent:\"Fetch content\",fetchContentOf:\"Fetch content of \",disconnectFromProject:\"Disconnect from project\",doNotTreatThisFolder:\"Do not treat this folder as a part of the project\",checkStatus:\"Check status\",checkApplicationStatus:\"Check application status\",checkApplicationState:\"Check application state\",stop:\"Stop\",start:\"Start\",stopApplication:\"Stop the App\",startApplication:\"Start the application\",manage:\"Manage\",manageThisApplicationOnRemote:\"Manage this application on remote server\",deleteLaunchConfiguration:\"Delete this launch configuration\",editLaunchConfiguration:\"Edit this launch configuration\",deployThisApplication:\"Deploy the App from the Workspace\",associatedFolder:\"Associated Folder\",associateAFolderFromThe:\"Associate a folder from the workspace with this project.\",convertToProject:\"Convert to project\",convertThisFolderIntoA:\"Convert this folder into a project\",thisFolderIsAProject:\"This folder is a project already.\",basic:\"Basic\",\"createAnEmptyProject.\":\"Create an empty project.\",sFTP:\"SFTP\",createAProjectFromAn:\"Create a project from an SFTP site.\",readMeCommandName:\"Readme File\",readMeCommandTooltip:\"Create a README.md file in this project\",zipArchiveCommandName:\"Zip Archive\",zipArchiveCommandTooltip:\"Create a project from a local zip archive.\",\"Url:\":\"Url:\",notZip:\"The following files are not zip files: ${0}. Would you like to continue the import?\",notZipMultiple:\"There are multiple non-zip files being uploaded. Would you like to continue the import?\",Cancel:\"Cancel\",Ok:\"Ok\",missingCredentials:\"Enter the ${0} authentication credentials associated with ${1} to check its status.\",deploying:\"deploying\",starting:\"restarting\",stopping:\"stopping\",checkingStateShortMessage:\"checking status\"}),/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/fileClient\",[\"i18n!orion/navigate/nls/messages\",\"orion/Deferred\",\"orion/i18nUtil\",\"orion/EventTarget\"],function(e,t,n,i){function r(t,i,r){if(!t[i])throw new Error(n.formatMessage(e.NotSupportFileSystem,i));return t[i].apply(t,r)}function o(n,i,s,a){if(!n.readBlob)throw new Error(e.SrcNotSupportBinRead);if(!s.writeBlob)throw new Error(e.TargetNotSupportBinWrite);if(\"/\"!==i[i.length-1])return r(n,\"readBlob\",[i]).then(function(e){return r(s,\"writeBlob\",[a,e])});var l=a.substring(0,a.length-1),d=decodeURIComponent(l.substring(l.lastIndexOf(\"/\")+1)),c=l.substring(0,l.lastIndexOf(\"/\")+1);return r(s,\"createFolder\",[c,d]).then(function(){},function(){}).then(function(){return r(n,\"fetchChildren\",[i]).then(function(e){for(var i=[],r=0;r<e.length;++r){var l=e[r].Location,d=l;e[r].Directory&&(d=l.substring(0,l.length-1));var c=decodeURIComponent(d.substring(d.lastIndexOf(\"/\")+1)),h=a+encodeURIComponent(c);e[r].Directory&&(h+=\"/\"),i[r]=o(n,l,s,h)}return t.all(i)})})}function s(r,o){function s(n){var i=new t;return i.reject(e[\"No Matching FileService for location:\"]+n),i}function a(){if(!d){l=[],d=[],c=[];var e=r.getServiceReferences(\"orion.core.file\"),t=e;if(o){t=[];for(var n=0;n<e.length;++n)o(e[n])&&t.push(e[n])}t.sort(function(e,t){return(e.getProperty(\"ranking\")||0)-(t.getProperty(\"ranking\")||0)});for(var i=0;i<t.length;++i){h[i]={Directory:!0,Length:0,LocalTimeStamp:0,Location:t[i].getProperty(\"top\"),ChildrenLocation:t[i].getProperty(\"top\"),Name:t[i].getProperty(\"Name\")||t[i].getProperty(\"NameKey\")};var s=t[i].getProperty(\"top\"),a=t[i].getProperty(\"pattern\")||(s?s.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g,\"\\\\$1\"):\"\");Array.isArray(a)||(a=[a]);for(var u=[],f=0;f<a.length;f++){var p=a[f];\"^\"!==p[0]&&(p=\"^\"+p),u.push(new RegExp(p))}l[i]=u,d[i]=r.getService(t[i]),c[i]=t[i].getProperty(\"Name\")||t[i].getProperty(\"NameKey\")}}}var l,d,c;i.attach(this);var h=[],u={fetchChildren:function(){var e=new t;return e.resolve(h),e},createWorkspace:function(){var n=new t;return n.reject(e[\"no file service\"]),n},loadWorkspaces:function(){var n=new t;return n.reject(e[\"no file service\"]),n},loadWorkspace:function(n){var i=new t;return window.setTimeout(function(){i.resolve({Directory:!0,Length:0,LocalTimeStamp:0,Name:e[\"File Servers\"],Location:\"/\",Children:h,ChildrenLocation:\"/\"})},100),i},search:s,createProject:s,createFolder:s,createFile:s,deleteFile:s,moveFile:s,copyFile:s,read:s,write:s};this._getServiceIndex=function(t){if(a(),\"/\"===t)return-1;if(!t||t.length&&0===t.length)return d[0]?0:-1;for(var i=0;i<l.length;++i)for(var r=0;r<l[i].length;r++)if(l[i][r].test(t))return i;throw new Error(n.formatMessage(e.NoFileSrv,t))},this._getService=function(e){var t=this._getServiceIndex(e);return-1===t?u:d[t]},this._getServiceName=function(e){var t=this._getServiceIndex(e);return-1===t?u.Name:c[t]},this._getServiceRootURL=function(e){var t=this._getServiceIndex(e);return-1===t?u.Location:h[t].Location},this._frozenEvent={type:\"Changed\"},this._eventFrozenMode=!1,r.registerService(\"orion.core.file.client\",this)}return s.prototype={freezeChangeEvents:function(){this._frozenEvent={type:\"Changed\"},this._eventFrozenMode=!0},thawChangeEvents:function(){this._eventFrozenMode=!1,this.dispatchEvent(this._frozenEvent)},isEventFrozen:function(){return this._eventFrozenMode},getService:function(e){return this._getService(e)},fileServiceName:function(e){return this._getServiceName(e)},fileServiceRootURL:function(e){return this._getServiceRootURL(e)},fetchChildren:function(e){return r(this._getService(e),\"fetchChildren\",arguments)},createWorkspace:function(e){return r(this._getService(),\"createWorkspace\",arguments)},loadWorkspaces:function(){return r(this._getService(),\"loadWorkspaces\",arguments)},loadWorkspace:function(e){return r(this._getService(e),\"loadWorkspace\",arguments)},changeWorkspace:function(e){return r(this._getService(),\"changeWorkspace\",arguments)},_createArtifact:function(e,t,n,i){return r(this._getService(e),t,i).then(function(t){return this.isEventFrozen()?(this._frozenEvent.created||(this._frozenEvent.created=[]),this._frozenEvent.created.push({parent:e,result:t,eventData:n})):this.dispatchEvent({type:\"Changed\",created:[{parent:e,result:t,eventData:n}]}),t}.bind(this))},createProject:function(e,t,n,i){return r(this._getService(e),\"createProject\",arguments)},createFolder:function(e,t,n){return this._createArtifact(e,\"createFolder\",n,arguments)},createFile:function(e,t,n){return this._createArtifact(e,\"createFile\",n,arguments)},deleteFile:function(e,t){return r(this._getService(e),\"deleteFile\",arguments).then(function(n){return this.isEventFrozen()?(this._frozenEvent.deleted||(this._frozenEvent.deleted=[]),this._frozenEvent.deleted.push({deleteLocation:e,eventData:t})):this.dispatchEvent({type:\"Changed\",deleted:[{deleteLocation:e,eventData:t}]}),n}.bind(this))},moveFile:function(e,t,n){var i=this._getService(e),s=this._getService(t);if(i===s)return r(i,\"moveFile\",arguments).then(function(n){return this.isEventFrozen()?(this._frozenEvent.moved||(this._frozenEvent.moved=[]),this._frozenEvent.moved.push({source:e,target:t,result:n})):this.dispatchEvent({type:\"Changed\",moved:[{source:e,target:t,result:n}]}),n}.bind(this));var a=\"/\"===e[e.length-1],l=t;if(\"/\"!==l[l.length-1]&&(l+=\"/\"),n)l+=encodeURIComponent(n);else{var d=e;a&&(d=d.substring(0,d.length-1)),l+=d.substring(d.lastIndexOf(\"/\")+1)}return a&&\"/\"!==l[l.length-1]&&(l+=\"/\"),o(i,e,s,l).then(function(){return r(i,\"deleteFile\",[e])})},copyFile:function(e,t,n){var i=this._getService(e),s=this._getService(t);if(i===s)return r(i,\"copyFile\",arguments).then(function(n){return this.isEventFrozen()?(this._frozenEvent.copied||(this._frozenEvent.copied=[]),this._frozenEvent.copied.push({source:e,target:t,result:n})):this.dispatchEvent({type:\"Changed\",copied:[{source:e,target:t,result:n}]}),n}.bind(this));var a=\"/\"===e[e.length-1],l=t;if(\"/\"!==l[l.length-1]&&(l+=\"/\"),n)l+=encodeURIComponent(n);else{var d=e;a&&(d=d.substring(0,d.length-1)),l+=d.substring(d.lastIndexOf(\"/\")+1)}return a&&\"/\"!==l[l.length-1]&&(l+=\"/\"),o(i,e,s,l)},read:function(e,t){return r(this._getService(e),\"read\",arguments)},readBlob:function(e){return r(this._getService(e),\"readBlob\",arguments)},write:function(e,t,n){return r(this._getService(e),\"write\",arguments).then(function(t){return this.isEventFrozen()?(this._frozenEvent.modified||(this._frozenEvent.modified=[]),this._frozenEvent.modified.push(e)):this.dispatchEvent({type:\"Changed\",modified:[e]}),t}.bind(this))},remoteImport:function(e,t,n){return r(this._getService(e),\"remoteImport\",arguments).then(function(e){return this.isEventFrozen()?(this._frozenEvent.copied||(this._frozenEvent.copied=[]),this._frozenEvent.copied.push({target:n})):this.dispatchEvent({type:\"Changed\",copied:[{target:n}]}),e}.bind(this))},remoteExport:function(e,t){return r(this._getService(e),\"remoteExport\",arguments)},find:function(e,t,n){return r(this._getService(location),\"find\",arguments)},search:function(e){return r(this._getService(e.resource),\"search\",arguments)}},s.prototype.constructor=s,{FileClient:s}}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/serviceTracker\",[],function(){function e(e,i){function r(e){var t=e.getProperty(\"service.id\"),n=this.addingService(e);n&&(d[t]=e,c[t]=n)}function o(e){var t=e.getProperty(\"service.id\"),n=c[t];delete d[t],delete c[t],this.removedService(e,n)}function s(e){return-1!==e.getProperty(\"objectClass\").indexOf(i)}this.serviceRegistry=e;var a,l,d={},c={},h=t;this.close=function(){if(h!==n)throw new Error(\"Already closed\");h=t,e.removeEventListener(\"registered\",a),e.removeEventListener(\"unregistering\",l),a=null,l=null;var i=this;this.getServiceReferences().forEach(function(e){o.call(i,e)}),\"function\"==typeof this.onClose&&this.onClose()},this.getServiceReferences=function(){var e=Object.keys(d);return e.length?e.map(function(e){return d[e]}):null},this.open=function(d){if(void 0===d&&(d=!0),h!==t)throw new Error(\"Already open\");h=n;var c=this;a=function(e){if(s(e.serviceReference)&&(r.call(c,e.serviceReference),\"function\"==typeof c.onServiceAdded))return c.onServiceAdded(e.serviceReference,c.serviceRegistry.getService(e.serviceReference))},l=function(e){s(e.serviceReference)&&o.call(c,e.serviceReference)},e.addEventListener(\"registered\",a),e.addEventListener(\"unregistering\",l),d&&e.getServiceReferences(i).forEach(function(t){if(r.call(c,t),\"function\"==typeof c.onServiceAdded)return c.onServiceAdded(t,e.getService(t))}),\"function\"==typeof this.onOpen&&this.onOpen()}}var t=0,n=1;return e.prototype={addingService:function(e){return this.serviceRegistry.getService(e)},onOpen:null,onClose:null,onServiceAdded:null,removedService:function(e,t){}},e}),/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/contentTypes\",[\"orion/serviceTracker\"],function(e){function t(e,t){return-1!==e.indexOf(t)}function n(e){switch(e&&e.id){case\"image/jpeg\":case\"image/png\":case\"image/gif\":case\"image/ico\":case\"image/tiff\":case\"image/svg\":return!0}return!1}function i(e){return!!e&&(\"application/octet-stream\"===e.id||\"application/octet-stream\"===e.extends)}function r(e,n){if(\"string\"!=typeof e)return null;var i,r=null,o=e.indexOf(\".\");o++;for(var s=e.substring(o).toLowerCase(),a=0;a<n.length;a++){if(i=n[a],i.filename.indexOf(e)>=0){r=i;break}t(i.extension,s)&&(r=i)}if(!r)for(o=s.indexOf(\".\");!r&&o>=0;){for(o++,s=s.substring(o),a=0;a<n.length;a++)if(i=n[a],t(i.extension,s)){r=i;break}o=s.indexOf(\".\")}return r}function o(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}function s(e){return o(e).map(function(e){return String.prototype.toLowerCase.call(e)})}function a(e){return{id:e.id,name:e.name,image:e.image,imageClass:e.imageClass,extends:e.extends,extension:s(e.extension),filename:o(e.filename)}}function l(e,t){t.map(a).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t.id)||(e[t.id]=t)})}function d(e,t){t.map(a).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t.id)&&delete e[t.id]})}function c(e,t){for(var n=o(e.getProperty(\"contentTypes\")),i=0;i<n.length;i++)t.push(n[i])}function h(e){var t=Object.create(null);return l(t,e),t}function u(e){for(var t=e.getServiceReferences(g).concat(e.getServiceReferences(v)),n=[],i=0;i<t.length;i++){c(t[i],n)}return h(n)}function f(t){if(t&&t.registerService){this.serviceRegistry=t;var n=new e(this.serviceRegistry,\"orion.core.contenttype\"),i=this;n.onServiceAdded=function(e){var t=[];c(e,t),l(i.map,t)},n.removedService=function(e){var t=[];c(e,t),d(i.map,t)},n.open(!1),this.map=u(t),t.registerService(p,this)}else{if(!Array.isArray(t))throw new Error(\"Invalid parameter\");this.serviceRegistry=null,this.map=h(t)}}var p=\"orion.core.contentTypeRegistry\",g=\"orion.core.contenttype\",v=\"orion.file.contenttype\";return f.prototype={getContentTypes:function(){var e=this.getContentTypesMap(),t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(e[n]);return t},getContentTypesMap:function(){return this.map},getFileContentType:function(e){return r(e.Name,this.getContentTypes())},getFilenameContentType:function(e){return r(e,this.getContentTypes())},getContentType:function(e){return this.map[e]||null},isExtensionOf:function(e,t){if(e=\"string\"==typeof e?this.getContentType(e):e,t=\"string\"==typeof t?this.getContentType(t):t,!e||!t)return!1;if(e.id===t.id)return!0;for(var n=e,i={};n&&(n=this.getContentType(n.extends));){if(n.id===t.id)return!0;if(i[n.id])throw new Error(\"Cycle: \"+n.id);i[n.id]=!0}return!1},isSomeExtensionOf:function(e,t){for(var n=0;n<t.length;n++)if(this.isExtensionOf(e,t[n]))return!0;return!1}},{ContentTypeRegistry:f,isImage:n,isBinary:i,getFilenameContentType:r}}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n ******************************************************************************/\nn(\"orion/edit/nls/messages\",{root:!0}),/*******************************************************************************\n * @license\n * Copyright (c) 2012, 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n ******************************************************************************/\nn(\"orion/edit/nls/root/messages\",{Editor:\"Editor\",switchEditor:\"Switch Editor\",Fetching:\"Fetching: ${0}\",confirmUnsavedChanges:\"There are unsaved changes. Do you still want to navigate away?\",searchFilesCommand:\"Quick Search...\",searchFiles:\"Quick Search in ${0}\",searchTerm:\"Enter search term:\",unsavedChanges:\"There are unsaved changes.\",unsavedAutoSaveChanges:\"Please stay on the page until Auto Save is complete.\",Save:\"Save\",Saved:\"Saved\",Blame:\"Blame\",BlameTooltip:\"Show blame annotations\",Diff:\"Diff\",DiffTooltip:\"Show diff annotations\",saveOutOfSync:\"Resource is out of sync with the server. Do you want to save it anyway?\",loadOutOfSync:\"Resource is out of sync with the server. Do you want to load it anyway? This will overwrite your local changes.\",ReadingMetadata:\"Reading metadata of ${0}\",ReadingMetadataError:\"Cannot get metadata of ${0}\",Reading:\"Reading ${0}\",ReloadWith:\"Reload With\",\"Convert Line Delimiters\":\"Convert Line Delimiters\",\"Windows (CR/LF)\":\"Windows (CR/LF)\",\"Unix (LF)\":\"Unix (LF)\",ConversionCompleteCRLF:\"Line delimiters have been converted to CR/LF\",ConversionCompleteLF:\"Line delimiters have been converted to LF\",readonly:\"Read Only.\",saveFile:\"Save this file\",toggleZoomRuler:\"Toggle Zoom Ruler\",gotoLine:\"Go to Line...\",gotoLineTooltip:\"Go to specified line number\",gotoLinePrompt:\"Go to line:\",Undo:\"Undo\",Redo:\"Redo\",Cut:\"Cut\",Copy:\"Copy\",Paste:\"Paste\",Find:\"Find...\",noResponse:\"No response from server. Check your internet connection and try again.\",savingFile:\"Saving file ${0}\",running:\"Running ${0}\",\"Saving...\":\"Saving...\",View:\"View\",SplitSinglePage:\"Single Page\",SplitVertical:\"Split Vertical\",SplitHorizontal:\"Split Horizontal\",SplitPipInPip:\"Picture in Picture\",SplitModeTooltip:\"Change split editor mode\",SidePanel:\"Side Panel\",SidePanelTooltip:\"Choose what to show in the side panel.\",Slideout:\"Slideout\",Actions:\"Actions\",Navigator:\"Navigator\",FolderNavigator:\"Folder Navigator\",Project:\"Project\",New:\"New\",File:\"File\",Edit:\"Edit\",Tools:\"Tools\",Add:\"Add\",noActions:\"There are no actions for the current selection.\",NoFile:\"Use the ${0} to create new files and folders. Click a file to start coding.\",LocalEditorSettings:\"Local Editor Settings\",NoProject:\"${0} is not a project. To convert it to a project use ${1}.\",NoProjects:\"There are no projects in your workspace. Use the ${0} menu to create projects.\",Disconnected:\"${0} (disconnected)\",ChooseFS:\"Choose Filesystem\",ChooseFSTooltip:\"Choose the filesystem you want to view.\",FSTitle:\"${0} (${1})\",Deploy:\"Deploy\",\"Deploy As\":\"Deploy As\",Import:\"Import\",Export:\"Export\",OpenWith:\"Open With\",OpenRelated:\"Open Related\",OpenFolder:\"Open Folder\",OpenRecent:\"Open Recent\",OpenFolderTip:\"Change the root folder\",Dependency:\"Dependency\",UnnamedCommand:\"Unnamed\",searchInFolder:\"Folder Search...\",\"Global Search\":\"Global Search...\",ClickEditLabel:\"Click to edit\",ProjectInfo:\"Project Information\",Name:\"Name\",Description:\"Description\",Site:\"Site\",projectsSectionTitle:\"Projects\",listingProjects:\"Listing projects...\",gettingWorkspaceInfo:\"Getting workspace information...\",showProblems:\"Show Problems...\",showTooltip:\"Show Tooltip\",showTooltipTooltip:\"Shows the tooltip immediately based on the caret position\",emptyDeploymentInfoMessage:\"Use the Launch Configurations dropdown to deploy this project\"}),/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/objects\",[],function(){function e(e){for(var t=Object.prototype.hasOwnProperty,n=1,i=arguments.length;n<i;n++){var r=arguments[n];for(var o in r)t.call(r,o)&&(e[o]=r[o])}return e}return{clone:function(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=Object.create(Object.getPrototypeOf(t));return e(n,t),n},mixin:e,toArray:function(e){return Array.isArray(e)?e:[e]}}}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: Anton McConville - IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"orion/widgets/input/DropDownMenu\",[\"orion/objects\",\"orion/webui/littlelib\"],function(e,t){function n(e,n,i){var r=t.node(e);if(!r)throw new Error(\"Parent node of dropdown menu not found\");this._parent=r,i=i||{},this.options=i,this.navDropDownId=this._parent.id+\"_navdropdown\",this.selectionClass=i.selectionClass;var o=document.createElement(\"div\");if(o.classList.add(\"dropdownMenu\"),o.classList.add(\"dropdownMenuOpen\"),o.id=this.navDropDownId,o.style.display=\"none\",this._parent.appendChild(o),this._dropdownMenu=o,!(n=t.node(n)))throw\"Trigger node of dropdown menu not found\";this._triggerNode=n,\"hidden\"===this._triggerNode.style.visibility&&(this._triggerNode.style.visibility=\"visible\"),i.noClick||(this._triggerNode.onclick=this.click.bind(this)),this._dropdownMenu.addEventListener(\"keydown\",function(e){e.keyCode===t.KEY.ESCAPE&&this.clearPanel()}.bind(this))}return e.mixin(n.prototype,{click:function(){\"none\"===this._dropdownMenu.style.display?this.updateContent(this.getContentNode(),function(){t.setFramesEnabled(!1),this._dropdownMenu.style.display=\"\",this._positionDropdown(),this.selectionClass&&this._triggerNode.classList.add(this.selectionClass),this.handle=t.addAutoDismiss([this._triggerNode,this._dropdownMenu],this.clearPanel.bind(this)),this.options.onShow&&this.options.onShow()}.bind(this)):this.clearPanel()},clearPanel:function(){this.isVisible()&&(this._dropdownMenu.style.display=\"none\",t.setFramesEnabled(!0),this.selectionClass&&this._triggerNode.classList.remove(this.selectionClass),this.options.onHide&&this.options.onHide())},addContent:function(e){this._dropdownMenu.innerHTML=e},getContentNode:function(){return this._dropdownMenu},updateContent:function(e,t){t()},_positionDropdown:function(){this._dropdownMenu.style.right=\"\";var e=t.bounds(this._dropdownMenu),n=t.bounds(document.body);if(e.left+e.width>n.left+n.width){var i=t.bounds(this._boundingNode(this._triggerNode)),r=t.bounds(this._triggerNode);this._dropdownMenu.style.right=i.width-(r.left-i.left+r.width)+\"px\"}},_boundingNode:function(e){var t=window.getComputedStyle(e,null);return null===t?e:\"absolute\"!==t.getPropertyValue(\"position\")&&e.parentNode&&e!==document.body?this._boundingNode(e.parentNode):e},isDestroyed:function(){return!this._dropdownMenu.parentNode},isVisible:function(){return\"none\"!==this._dropdownMenu.style.display&&!this.isDestroyed()},focus:function(){this._dropdownMenu.focus()},destroy:function(){this._parent&&(t.setFramesEnabled(!0),t.empty(this._parent),this._parent=this.select=null)}}),n}),/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/URITemplate\",[],function(){function e(e){this._text=e}function t(e){return e.replace(\"%25\",\"%\")}function n(e,n){if(\"U\"===n)return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return\"%\"+e.charCodeAt(0).toString(16).toUpperCase()});if(\"U+R\"===n)return encodeURI(e).replace(/%5B/g,\"[\").replace(/%5D/g,\"]\").replace(h,t);if(\"U+R-,\"===n)return encodeURI(e).replace(/%5B/g,\"[\").replace(/%5D/g,\"]\").replace(/,/g,\"%2C\");throw new Error(\"Unknown allowed character set: \"+n)}function i(e,t,i){for(var r=[],o=0;o<e.length;o++)void 0!==e[o]&&r.push(n(e[o],t));return r.join(i)}function r(e,t,i,r){for(var o=Object.keys(e),s=[],a=0;a<o.length;a++)void 0!==e[o[a]]&&s.push(n(o[a],t)+i+n(e[o[a]],t));return s.join(r)}function o(e){for(var t=[],n=e.split(\",\"),i=0;i<n.length;i++){var r=n[i].match(c);if(null===r)throw new Error(\"Bad VarSpec: \"+e);t.push({name:r[1],explode:!!r[2],prefix:r[3]?parseInt(r[3],10):-1})}return t}function s(e){if(0===e.length)throw new Error(\"Invalid Expression: 0 length expression\");this._operator=d[e[0]],this._operator?e=e.substring(1):this._operator=d.NUL,this._varSpecList=o(e)}function a(t){for(var n=[],i=0,r=t.indexOf(\"{\",i);-1!==r;){n.push(new e(t.substring(i,r)));var o=t.indexOf(\"}\",r+1);if(-1===o)throw new Error(\"Invalid template: \"+t);n.push(new s(t.substring(r+1,o))),i=o+1,r=t.indexOf(\"{\",i)}return n.push(new e(t.substring(i))),n}function l(e){this._templateComponents=a(e)}var d={NUL:{first:\"\",sep:\",\",named:!1,ifemp:\"\",allow:\"U\"},\"+\":{first:\"\",sep:\",\",named:!1,ifemp:\"\",allow:\"U+R\"},\".\":{first:\".\",sep:\",\",named:!1,ifemp:\"\",allow:\"U\"},\"/\":{first:\"/\",sep:\"/\",named:!1,ifemp:\"\",allow:\"U\"},\";\":{first:\";\",sep:\";\",named:!0,ifemp:\"\",allow:\"U\"},\"?\":{first:\"?\",sep:\"&\",named:!0,ifemp:\"=\",allow:\"U\"},\"&\":{first:\"&\",sep:\"&\",named:!0,ifemp:\"=\",allow:\"U\"},\"#\":{first:\"#\",sep:\",\",named:!1,ifemp:\"\",allow:\"U+R\"},\",\":{first:\"\",sep:\",\",named:!1,ifemp:\"\",allow:\"U+R-,\"}},c=/^((?:(?:[a-zA-Z0-9_])|(?:%[0-9A-F][0-9A-F]))(?:(?:[a-zA-Z0-9_.])|(?:%[0-9A-F][0-9A-F]))*)(?:(\\*)|:([0-9]+))?$/,h=/%25[0-9A-F][0-9A-F]/g;return e.prototype={expand:function(e){return encodeURI(this._text)}},s.prototype={expand:function(e){for(var t=[],o=0;o<this._varSpecList.length;o++){var s=this._varSpecList[o],a=s.name,l=e[a],d=typeof l;if(\"undefined\"!==d&&null!==l){var c=0===t.length?this._operator.first:this._operator.sep;if(\"string\"===d)this._operator.named&&(c+=n(a,\"U+R\"),c+=0===l.length?this._operator.ifemp:\"=\"),-1!==s.prefix&&s.prefix<l.length&&(l=l.substring(0,s.prefix)),c+=n(l,this._operator.allow);else if(Array.isArray(l)){if(0===l.length)continue;if(s.explode)c+=i(l,this._operator.allow,this._operator.sep);else{var h=i(l,this._operator.allow,\",\");this._operator.named&&(c+=n(a,\"U+R\"),c+=0===h.length?this._operator.ifemp:\"=\"),c+=h}}else{if(\"object\"!==d)throw new Error(\"bad param type: \"+a+\" : \"+d);if(0===Object.keys(l).length)continue;if(s.explode)c+=r(l,this._operator.allow,\"=\",this._operator.sep);else{var u=r(l,this._operator.allow,\",\",\",\");this._operator.named&&(c+=n(a,\"U+R\"),c+=0===u.length?this._operator.ifemp:\"=\"),c+=u}}t.push(c)}}return t.join(\"\")}},l.prototype={expand:function(e){for(var t=[],n=0;n<this._templateComponents.length;n++)t.push(this._templateComponents[n].expand(e));return t.join(\"\")}},l}),/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nfunction(){function e(e){if(\"string\"!=typeof e)throw new TypeError}function t(e){return e?e.split(\"&\"):[]}function n(e){return 0===e.length?\"\":e.join(\"&\")}function i(e){var t=/([^=]*)(?:=?)(.*)/.exec(e);return[t[1]?decodeURIComponent(t[1]):\"\",t[2]?decodeURIComponent(t[2]):\"\"]}function r(e){var t=encodeURIComponent(e[0]);return e[1]&&(t+=\"=\"+encodeURIComponent(e[1])),t}function o(e,n){var r=\"\",o=[],s=0;return{next:function(){if(r!==e.query&&(r=e.query,o=t(r)),s<o.length){var a=i(o[s++]);switch(n){case\"keys\":return a[0];case\"values\":return a[1];case\"keys+values\":return[a[0],a[1]];default:throw new TypeError}}throw k}}}function s(e){Object.defineProperty(this,\"_url\",{get:function(){return e._url}})}function a(e,t){if(!e.scheme&&t&&(e.scheme=t.scheme,!e.host&&t.host&&(e.userinfo=t.userinfo,e.host=t.host,e.port=t.port,e.pathRelative=!0)),e.pathRelative)if(e.path){if(\"/\"!==e.path[0]){var n=/^(.*\\/)[^\\/]*$/.exec(t.path)[1]||\"/\";e.path=n+e.path}}else e.path=t.path}function l(e){return e.toLowerCase()}function d(e){return e?/[1-9]\\d*$/.exec(e)[0]:\"\"}function c(e){var t=[];return e.split(\"/\").forEach(function(e){\"..\"===e?t.length>1&&t.pop():\".\"!==e&&t.push(e)}),t.join(\"/\")}function h(e){e.scheme&&(e.scheme=l(e.scheme)),e.port&&(e.port=d(e.port)),e.host&&e.path&&(e.path=c(e.path))}function u(e){return e.replace(/\\s/g,function(e){return\"%\"+e.charCodeAt(0).toString(16)})}function f(e,t){if(\"string\"!=typeof e)throw new TypeError;e=u(e);var n=m.exec(e);if(!n)return null;var i={};if(i.scheme=n[1]||\"\",i.scheme&&!C.test(i.scheme))return null;var r=n[2];if(r){var o=_.exec(r);if(i.userinfo=o[1],i.host=o[2],i.port=o[3],i.port&&!w.test(i.port))return null}return i.path=n[3],i.query=n[4],i.fragment=n[5],a(i,t),h(i),i}function p(e){var t=e.scheme?e.scheme+\":\":\"\";return e.host&&(t+=\"//\",e.userinfo&&(t+=e.userinfo+\"@\"),t+=e.host,e.port&&(t+=\":\"+e.port)),t+=e.path,e.query&&(t+=\"?\"+e.query),e.fragment&&(t+=\"#\"+e.fragment),t}function g(e,t){var n;if(t){if(t=t.href||t,!(n=f(t))||!n.scheme)throw new SyntaxError;Object.defineProperty(this,\"_baseURL\",{value:n})}var i=f(e,n);if(!i)throw new SyntaxError;Object.defineProperty(this,\"_input\",{value:e,writable:!0}),Object.defineProperty(this,\"_url\",{value:i,writable:!0});var r=new s(this);Object.defineProperty(this,\"query\",{get:function(){return this._url?r:null},enumerable:!0})}try{var v;if(\"function\"==typeof self.URL&&0!==self.URL.length&&\"http:\"===(v=new self.URL(\"http://www.w3.org?q\")).protocol&&v.query)return}catch(e){}var m=/^(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$/,_=/^(?:(.*)@)?(\\[[^\\]]*\\]|[^:]*)(?::(.*))?$/,y=/^\\S*$/,C=/^([a-zA-Z](?:[a-zA-Z0-9+-.])*)$/,w=/^\\d*$/,x=/^(\\[[^\\]\\/?#\\s]*\\]|[^:\\/?#\\s]*)$/,S=/^(\\[[^\\]\\/?#\\s]*\\]|[^:\\/?#\\s]*)(?::(\\d*))?$/,b=/^([^?#\\s]*)$/,T=/^([^\\s]*)$/,E=y,L=/([^:]*):?(.*)/,k=\"undefined\"!=typeof StopIteration?StopIteration:new Error(\"Stop Iteration\"),M={\"ftp:\":\"21\",\"gopher:\":\"70\",\"http:\":\"80\",\"https:\":\"443\",\"ws:\":\"80\",\"wss:\":\"443\"};Object.defineProperties(s.prototype,{get:{value:function(n){e(n);var r;return t(this._url.query).some(function(e){var t=i(e);if(t[0]===n)return r=t[1],!0}),r},enumerable:!0},set:{value:function(o,s){e(o),e(s);var a=t(this._url.query);a.some(function(e,t){var n=i(e);if(n[0]===o)return n[1]=s,a[t]=r(n),!0})||a.push(r([o,s])),this._url.query=n(a)},enumerable:!0},has:{value:function(n){return e(n),t(this._url.query).some(function(e){if(i(e)[0]===n)return!0})},enumerable:!0},delete:{value:function(r){e(r);var o=t(this._url.query),s=o.filter(function(e){return i(e)[0]!==r});return s.length!==o.length&&(this._url.query=n(s),!0)},enumerable:!0},clear:{value:function(){this._url.query=\"\"},enumerable:!0},forEach:{value:function(e,t){if(\"function\"!=typeof e)throw new TypeError;var n=o(this._url,\"keys+values\");try{for(;;){var i=n.next();e.call(t,i[1],i[0],this)}}catch(e){if(e!==k)throw e}},enumerable:!0},keys:{value:function(){return o(this._url,\"keys\")},enumerable:!0},values:{value:function(){return o(this._url,\"values\")},enumerable:!0},items:{value:function(){return o(this._url,\"keys+values\")}},size:{get:function(){return t(this._url.query).length},enumerable:!0},getAll:{value:function(n){e(n);var r=[];return t(this._url.query).forEach(function(e){var t=i(e);t[0]===n&&r.push(t[1])}),r},enumerable:!0},append:{value:function(i,o){e(i),e(o);var s=t(this._url.query);s.push(r([i,o])),this._url.query=n(s)},enumerable:!0}}),Object.defineProperties(g.prototype,{toString:{value:function(){return this.href}},href:{get:function(){return this._url?p(this._url):this._input},set:function(t){e(t),this._input=t,this._url=f(this._input,this._baseURL)},enumerable:!0},origin:{get:function(){return this._url&&this._url.host?this.protocol+\"//\"+this.host:\"\"},enumerable:!0},protocol:{get:function(){return this._url?this._url.scheme+\":\":\":\"},set:function(t){if(e(t),this._url){var n=\":\"===t.slice(-1)?t.substring(0,t.length-1):t;(\"\"===n||C.test(n))&&(this._url.scheme=l(n))}},enumerable:!0},_userinfo:{get:function(){return this._url?this._url.userinfo:\"\"},set:function(t){e(t),this._url&&(this._url.userinfo=t)}},username:{get:function(){if(!this._url)return\"\";var e=L.exec(this._userinfo);return decodeURIComponent(e[1]||\"\")},set:function(t){if(e(t),this._url){var n=L.exec(this._userinfo),i=[encodeURIComponent(t||\"\")];n[2]&&i.push(n[2]),this._userinfo=i.join(\":\")}},enumerable:!0},password:{get:function(){if(!this._url)return\"\";var e=L.exec(this._userinfo);return decodeURIComponent(e[2]||\"\")},set:function(t){if(e(t),this._url){var n=L.exec(this._userinfo),i=[n[1]||\"\"];t&&i.push(encodeURIComponent(t)),this._userinfo=i.join(\":\")}},enumerable:!0},host:{get:function(){var e=\"\";return this._url&&this._url.host&&(e+=this._url.host,this._url.port&&(e+=\":\"+this._url.port)),e},set:function(t){if(e(t),this._url){var n=S.exec(t);n&&(this._url.host=n[1],this._url.port=d(n[2]))}},enumerable:!0},hostname:{get:function(){return this._url?this._url.host:\"\"},set:function(t){if(e(t),this._url){x.exec(t)&&(this._url.host=t)}},enumerable:!0},port:{get:function(){var e=this._url?this._url.port||\"\":\"\";return e&&e===M[this.protocol]&&(e=\"\"),e},set:function(t){if(e(t),this._url){w.exec(t)&&(this._url.port=d(t))}},enumerable:!0},pathname:{get:function(){return this._url?this._url.path:\"\"},set:function(t){if(e(t),this._url){b.exec(t)&&(this._url.host&&t&&\"/\"!==t[0]&&(t=\"/\"+t),this._url.path=t?c(t):\"\")}},enumerable:!0},search:{get:function(){return this._url&&this._url.query?\"?\"+this._url.query:\"\"},set:function(t){if(e(t),this._url){t&&\"?\"===t[0]&&(t=t.substring(1));T.exec(t)&&(this._url.query=t)}},enumerable:!0},hash:{get:function(){return this._url&&this._url.fragment?\"#\"+this._url.fragment:\"\"},set:function(t){if(e(t),this._url){t&&\"#\"===t[0]&&(t=t.substring(1));E.exec(t)&&(this._url.fragment=t)}},enumerable:!0}});var A=self.URL||self.webkitURL;A&&A.createObjectURL&&(Object.defineProperty(g,\"createObjectURL\",{value:A.createObjectURL.bind(A),enumerable:!1}),Object.defineProperty(g,\"revokeObjectURL\",{value:A.revokeObjectURL.bind(A),enumerable:!1})),self.URL=g}(),n(\"orion/URL-shim\",function(){}),/*******************************************************************************\n * @license\n * Copyright (c) 2012, 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n ******************************************************************************/\nn(\"orion/PageLinks\",[\"require\",\"orion/Deferred\",\"orion/PageUtil\",\"orion/URITemplate\",\"orion/i18nUtil\",\"orion/objects\",\"orion/URL-shim\"],function(e,t,n,i,r,o){function s(){if(e.toUrl){var t=new URL(e.toUrl(\"orion/\"),self.location.href);return new URL(\"../\",t).href.slice(0,-1)}return new URL(\"/\",self.location.href).href.slice(0,-1)}function a(e,t){return d(e,t).then(function(e){return new u(e)})}function l(e){var t={};return e.getPropertyKeys().forEach(function(n){\"objectClass\"!==n&&\"service.names\"!==n&&\"service.id\"!==n&&\"__plugin__\"!==n&&(t[n]=e.getProperty(n))}),t}function d(e,r){r=r||\"orion.page.link\";var o=e.getServiceReferences(r),a=n.matchResourceParameters(window.location.href),d=s(),c={OrionHome:d,Location:a.resource},h=[];return o.forEach(function(e){var r=l(e);if(r.uriTemplate&&(r.nls||r.name)){var o=new i(r.uriTemplate),s=o.expand(c);s=n.validateURLScheme(s),r.href=s,r.textContent=r.name||r.nameKey,h.push((new t).resolve(r))}}),t.all(h)}function c(e){var n;if(!g){n=[];return e.getServiceReferences(\"orion.page.link.category\").forEach(function(i){var r=l(i);r.id&&(r.name||r.nameKey)&&(r.service=e.getService(i),r.textContent=r.name,n.push((new t).resolve(r)))}),t.all(n).then(function(e){return g=new h(e)})}return(new t).resolve(g)}function h(e){var t=this.categories=Object.create(null);e.forEach(function(e){t[e.id]=e})}function u(e){this.allPageLinks=e,this.allPageLinks.sort(f)}function f(e,t){var n=e.textContent&&e.textContent.toLowerCase(),i=t.textContent&&t.textContent.toLowerCase();return n<i?-1:n>i?1:0}function p(e,t,n){var i=document.createElement(\"a\");return i.href=e,i.target=t,i.classList.add(\"targetSelector\"),i.textContent=n,i}var g;return o.mixin(h.prototype,{getCategoryIDs:function(){return Object.keys(this.categories)},getCategory:function(e){return this.categories[e]||null}}),o.mixin(u.prototype,{createLinkElements:function(){return this.allPageLinks.map(function(e){return p(e.href,\"_self\",e.textContent)})},getAllLinks:function(){return this.allPageLinks}}),{getCategoriesInfo:c,getPageLinksInfo:a,getOrionHome:s}}),/*******************************************************************************\n * @license\n * Copyright (c) 2011,2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/extensionCommands\",[\"orion/Deferred\",\"orion/commands\",\"orion/PageUtil\",\"orion/contentTypes\",\"orion/URITemplate\",\"orion/i18nUtil\",\"orion/PageLinks\",\"i18n!orion/edit/nls/messages\",\"orion/URL-shim\"],function(e,t,n,i,r,o,s,a){function l(e){var t={};return e.getPropertyKeys().forEach(function(n){t[n]=e.getProperty(n)}),t}function d(e){return e.id||e.name}var c={},h=s.getOrionHome();c._cloneItemWithoutChildren=function e(t){if(null===t||\"object\"!=typeof t)return t;var n=t.constructor();for(var i in t)\"children\"!==i&&\"Children\"!==i&&\"parent\"!==i&&\"Project\"!==i&&(n[i]=e(t[i]));return n},c._getOpenWithNavCommandExtensions=function(e,t){for(var n,i=function(){for(var t=e.getServiceReferences(\"orion.edit.editor\"),n=[],i=0;i<t.length;i++){var r=t[i],o=r.getProperty(\"id\");n.push({id:o,default:r.getProperty(\"default\")||!1,name:r.getProperty(\"name\"),nameKey:r.getProperty(\"nameKey\"),nls:r.getProperty(\"nls\"),uriTemplate:r.getProperty(\"orionTemplate\")||r.getProperty(\"uriTemplate\"),validationProperties:r.getProperty(\"validationProperties\")||[]})}return n}(),r=[],o=0;o<i.length;o++){var s=i[o],a=function(e,t){for(var n=e.getServiceReferences(\"orion.navigate.openWith\"),i=[],r=[],o=0;o<n.length;o++){var s=n[o];if(s.getProperty(\"editor\")===t.id){var a=s.getProperty(\"contentType\");a instanceof Array?i=i.concat(a):i.push(a||\"*/*\");var l=s.getProperty(\"excludedContentTypes\");l instanceof Array?r=r.concat(l):null!==l&&void 0!==l&&r.push(l)}}return 0===i.length&&(i=null),0===r.length&&(r=null),{contentTypes:i,excludedContentTypes:r}}(e,s),l=a.contentTypes,d=a.excludedContentTypes,c={name:s.name||s.id,nameKey:s.nameKey,id:\"eclipse.openWithCommand.\"+s.id,contentType:l,excludedContentTypes:d,uriTemplate:s.uriTemplate,nls:s.nls,forceSingleItem:!0,isEditor:s.default?\"default\":\"editor\",validationProperties:s.validationProperties},h={properties:c,service:{}};\"orion.editor\"===s.id?n=h:r.push(h)}return n&&r.push(n),r},c._makeValidator=function(e,t,n,o){function s(e,t,n,i,r){var o,s=!1;if(\"!\"===t.charAt(0))return void 0===e[t.substring(1)];if(void 0!==e[t]){if(void 0===n)o=e[t],s=!0;else if(\"string\"==typeof n){if(e[t],!1)return!1;if(!i.variableName)return new RegExp(n).test(e[t]);var a=new RegExp(n).exec(e[t]);if(a){var l=a[0];o=\"before\"===i.variableMatchPosition?e[t].substring(0,a.index):\"after\"===i.variableMatchPosition?e[t].substring(a.index+l.length):\"only\"===i.variableMatchPosition?l:e[t],s=!0}}else e[t]===n&&(o=e[t],s=!0);var d=i.variableName,c=i.replacements;if(s&&d&&(r[d]=o,r.itemCached=e,c)){if(\"string\"!=typeof o)return window.console.log(\"Cannot replace \"+d+\", value is not a string: \"+o),s;for(var h=0;h<c.length;h++){var u=!1;if(c[h].pattern){var f=c[h].pattern,p=c[h].replacement||\"\";r[d]=r[d].replace(new RegExp(f),p).replace(new RegExp(f),p)}else u=!0;u&&window.console.log(\"Invalid replacements specified in validation property.  \"+c[h])}}return s}return!1}function a(e,t,n,i){var r,o,l,d,c=n.match;if((l=t.indexOf(\"[\"))>=0){if((d=t.indexOf(\"]\"))<0)return!1;var h,u,f=t.substring(0,l);if(!(h=e[f])||!Array.isArray(h))return!1;if(r=t.substring(l+1,d),u=parseInt(r,10),isNaN(u))return!1;u<0&&(u+=h.length),o=t.substring(d+1),t=f+\":\"+String(u)+o}return t.indexOf(\"|\")>=0?(r=t.substring(0,t.indexOf(\"|\")),o=t.substring(t.indexOf(\"|\")+1),!!a(e,r,n,i)||a(e,o,n,i)):t.indexOf(\":\")>=0?(r=t.substring(0,t.indexOf(\":\")),o=t.substring(t.indexOf(\":\")+1),!!e[r]&&a(e[r],o,n,i)):s(e,t,c,n,i)}function l(t,n,r){if(r.info.validationProperties)for(var o=0;o<r.info.validationProperties.length;o++){var s=r.info.validationProperties[o];if(void 0===s.source)return window.console.log(\"Invalid validationProperties in \"+e.id+\".  No source property specified.\"),!1;var l=a(t,s.source,s,r);if(!l)return!1}if(!r.info.contentType&&!r.info.excludedContentTypes)return!0;if(t.Directory)return!!(r.info.contentType&&r.info.contentType.indexOf(\"*/*\")>=0);var d=!0,c=n?i.getFilenameContentType(t.Name,n):null;return c=c||{id:\"application/octet-stream\"},r.info.excludedContentTypes&&n&&(d=r.info.excludedContentTypes.every(function(e){var t=e.replace(/([*?])/g,\".$1\");return-1===c.id.search(t)})),d&&r.info.contentType&&n&&(d=r.info.contentType.some(function(e){var t=e.replace(/([*?])/g,\".$1\");return-1!==c.id.search(t)})),d}var d={info:e};return d.validationFunction=function(e){if(\"function\"==typeof o&&(e=o.call(this,e)),e){if(Array.isArray(e)){if((this.info.forceSingleItem||this.info.uriTemplate)&&1!==e.length)return!1;if(e.length<1)return!1}else e=[e];for(var t=0;t<e.length;t++)if(!l(e[t],n,this))return!1;return!0}return!1},d.generatesURI=function(){return!!this.info.uriTemplate},d.getURI=function(e){if(this.info.uriTemplate){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);if(this.info.validationProperties)for(var i=0;i<this.info.validationProperties.length;i++){var o=this.info.validationProperties[i];if(o.source&&o.variableName){var s=this.itemCached===e&&this[o.variableName];s||a(e,o.source,o,this),e[o.variableName]?window.console.log(\"Variable name \"+o.variableName+\" in the extension \"+this.info.id+\" conflicts with an existing property in the item metadata.\"):t[o.variableName]=this[o.variableName]}}t.OrionHome=h;return new r(this.info.uriTemplate).expand(t)}return null},d};var u=a.UnnamedCommand;c._createCommandOptions=function(t,i,r,o,s,a){var l=new e,h={name:t.name||t.nameKey||u,image:t.image,id:d(t),tooltip:t.tooltip||t.tooltipKey||\"\",isEditor:t.isEditor,showGlobally:t.showGlobally};return t.fixAllEnabled&&(h.fixAllEnabled=!0),function(e,l){var d=c._makeValidator(t,r,o,a);if(e.visibleWhen=d.validationFunction.bind(d),s)if(d.generatesURI.bind(d)())e.hrefCallback=function(e){var t=Array.isArray(e.items)?e.items[0]:e.items,i=d.getURI.bind(d)(t);return e.command&&e.command.isEditor&&e.domNode.addEventListener(\"click\",function(r){if(t.Location){var o=n.matchResourceParameters();if(o.resource!==t.Location)return void(e.domNode.target=\"_blank\");var s=n.matchResourceParameters(i);if(s&&s.editor===o.editor)return void(e.domNode.target=\"_blank\")}e.domNode.target=\"\"}),i};else{var h=t;e.callback=function(t){var n;if(h.forceSingleItem){var o=Array.isArray(t.items)?t.items[0]:t.items;n=c._cloneItemWithoutChildren(o)}else if(Array.isArray(t.items)){n=[];for(var s=0;s<t.items.length;s++)n.push(c._cloneItemWithoutChildren(t.items[s]))}else n=c._cloneItemWithoutChildren(t.items);if(r)var a=r.getService(\"orion.page.progress\");i.run?a?a.progress(i.run(n),\"Running command: \"+e.name):i.run(n):r&&(a?a.progress(r.getService(i).run(n),\"Running command: \"+e.name):r.getService(i).run(n))}}l.resolve(e)}(h,l),l},c.getOpenWithCommand=function(e,t,n){for(var i,r=n||c.getOpenWithCommands(e),o=0;o<r.length;o++)if(r[o].visibleWhen(t)){var s=\"default\"===r[o].isEditor;if((!i||s)&&(i=r[o],s))break}return i},c.getOpenWithCommands=function(e){var t=[];for(var n in e._commandList){var i=e._commandList[n];i.isEditor&&t.push(i)}return t};var f;return c.createAndPlaceFileCommandsExtension=function(e,t,n,i,r,o){var s=o?\"all\":void 0,l=!!o;return c.createFileCommands(e,null,s,l,t).then(function(e){return r&&0<e.length&&(t.addCommandGroup(n,\"eclipse.openWith\",1e3,a.OpenWith,r,null,null,null,\"dropdownSelection\"),t.addCommandGroup(n,\"eclipse.fileCommandExtensions\",1e3,a.OpenRelated,r)),e.forEach(function(e){var o=null;r&&(o=e.isEditor?r+\"/eclipse.openWith\":r+\"/eclipse.fileCommandExtensions\"),t.registerCommandContribution(n,e.id,i,o)}),{}})},c.createFileCommands=function(n,i,r,o,s){r=void 0===r?\"global\":r,o=void 0===o||o;var a=[];return c._cachedFileCommands||c._createCachedFileCommands(n),\"all\"!==r&&\"global\"!==r||c._cachedFileCommands.forEach(function(e){var t=e.properties;(\"all\"===r||t.forceSingleItem&&t.showGlobally)&&a.push(e)}),e.when(function(){var t=n.getService(\"orion.core.contentTypeRegistry\")||i;return f||e.when(t.getContentTypes(),function(e){return f=e})}(),function(){o&&(c._cachedOpenWithExtensions||(c._cachedOpenWithExtensions=c._getOpenWithNavCommandExtensions(n,f)),a=a.concat(c._cachedOpenWithExtensions),s._addedOpenWithCommands=o);var i=a.map(function(i){var r=i.properties,o=i.service,a=s.findCommand(d(r));return a?(new e).resolve(a):c._createCommandOptions(r,o,n,f,!0).then(function(e){var n=new t.Command(e);return s.addCommand(n),n})});return e.all(i,function(e){return{_error:e}}).then(function(e){return e})})},c._createCachedFileCommands=function(e){var t=e.getServiceReferences(\"orion.navigate.command\");c._cachedFileCommands=[];for(var n=0;n<t.length;n++){if(\"orion.navigateFromMetadata\"!==t[n].getProperty(\"id\")){var i=e.getService(t[n]),r=l(t[n]);c._cachedFileCommands.push({properties:r,service:i})}}},c.getFileCommandIds=function(){var e=[];if(!c._cachedFileCommands)throw\"extensionCommandUtils._cachedFileCommands is not initialized\";return c._cachedFileCommands.length&&(e=c._cachedFileCommands.map(function(e){return e.properties.id})),e},c.createOpenWithCommands=function(t,n,i){return i&&i._addedOpenWithCommands?(new e).resolve(c.getOpenWithCommands(i)):c.createFileCommands(t,n,\"none\",!0,i)},c}),/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/regex\",[],function(){function e(e){return e.replace(/([\\\\$\\^*\\/+?\\.\\(\\)|{}\\[\\]])/g,\"\\\\$&\")}function t(e){var t=/^\\s*\\/(.+)\\/([gim]{0,3})\\s*$/.exec(e);return t?{pattern:t[1],flags:t[2]}:null}return{escape:e,parse:t}}),/*******************************************************************************\n * Copyright (c) 2010, 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *        Felipe Heidrich (IBM Corporation) - initial API and implementation\n *        Silenio Quarti (IBM Corporation) - initial API and implementation\n ******************************************************************************/\nn(\"orion/editor/eventTarget\",[],function(){function e(){}return e.addMixin=function(t){var n=e.prototype;for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},e.prototype={addEventListener:function(e,t,n){this._eventTypes||(this._eventTypes={});var i=this._eventTypes[e];i||(i=this._eventTypes[e]={level:0,listeners:[]}),i.listeners.push({listener:t,useCapture:n})},dispatchEvent:function(e){var t=e.type;this._dispatchEvent(\"pre\"+t,e),this._dispatchEvent(t,e),this._dispatchEvent(\"post\"+t,e)},_dispatchEvent:function(e,t){var n=this._eventTypes?this._eventTypes[e]:null;if(n){var i=n.listeners;try{if(n.level++,i)for(var r=0,o=i.length;r<o;r++)if(i[r]){var s=i[r].listener;\"function\"==typeof s?s.call(this,t):s.handleEvent&&\"function\"==typeof s.handleEvent&&s.handleEvent(t)}}finally{if(n.level--,n.compact&&0===n.level){for(var a=i.length-1;a>=0;a--)i[a]||i.splice(a,1);0===i.length&&delete this._eventTypes[e],n.compact=!1}}}},isListening:function(e){return!!this._eventTypes&&void 0!==this._eventTypes[e]},removeEventListener:function(e,t,n){if(this._eventTypes){var i=this._eventTypes[e];if(i){for(var r=i.listeners,o=0,s=r.length;o<s;o++){var a=r[o];if(a&&a.listener===t&&a.useCapture===n){0!==i.level?(r[o]=null,i.compact=!0):r.splice(o,1);break}}0===r.length&&delete this._eventTypes[e]}}}},{EventTarget:e}}),/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *        Felipe Heidrich (IBM Corporation) - initial API and implementation\n *        Silenio Quarti (IBM Corporation) - initial API and implementation\n ******************************************************************************/\nn(\"orion/editor/textModel\",[\"orion/editor/eventTarget\",\"orion/regex\",\"orion/util\"],function(e,t,n){function i(e,t){this._lastLineIndex=-1,this._text=[\"\"],this._lineOffsets=[0],this.setText(e),this.setLineDelimiter(t)}return i.prototype={destroy:function(){},find:function(e){this._text.length>1&&(this._text=[this._text.join(\"\")]);var n=e.string,i=e.regex,r=n,o=\"\",s=e.caseInsensitive;if(r)if(i){var a=t.parse(r);a&&(r=a.pattern,o=a.flags)}else r=n.replace(/([\\\\$\\^*\\/+?\\.\\(\\)|{}\\[\\]])/g,\"\\\\$&\"),s&&(r=r.replace(/[iI\\u0130\\u0131]/g,\"[Ii]\"));var l,d=null;if(r){var c=e.reverse,h=e.wrap,u=e.wholeWord,f=e.start||0,p=e.end,g=null!==p&&void 0!==p;-1===o.indexOf(\"g\")&&(o+=\"g\"),-1===o.indexOf(\"m\")&&(o+=\"m\"),s&&-1===o.indexOf(\"i\")&&(o+=\"i\"),u&&(r=\"\\\\b\"+r+\"\\\\b\");var v,m,_=this._text[0],y=0;if(g){var C=f<p?f:p,w=f<p?p:f;_=_.substring(C,w),y=C}var x=new RegExp(r,o);c?l=function(){var e=null;for(x.lastIndex=0;;){if(m=x.lastIndex,v=x.exec(_),m===x.lastIndex)return null;if(!v)break;if(v.index+y<f)e={start:v.index+y,end:x.lastIndex+y};else{if(!h||e)break;f=_.length+y,e={start:v.index+y,end:x.lastIndex+y}}}return e&&(f=e.start),e}:(g||(x.lastIndex=f),l=function(){for(;;){if(m=x.lastIndex,v=x.exec(_),m===x.lastIndex)return null;if(v)return{start:v.index+y,end:x.lastIndex+y};if(0===m||!h)break}return null}),d=l()}return{next:function(){var e=d;return e&&(d=l()),e},hasNext:function(){return null!==d}}},getCharCount:function(){for(var e=0,t=0;t<this._text.length;t++)e+=this._text[t].length;return e},getLine:function(e,t){var n=this.getLineCount();if(!(0<=e&&e<n))return null;var i=this._lineOffsets[e];if(e+1<n){var r=this.getText(i,this._lineOffsets[e+1]);if(t)return r;for(var o,s=r.length;10===(o=r.charCodeAt(s-1))||13===o;)s--;return r.substring(0,s)}return this.getText(i)},getLineAtOffset:function(e){var t=this.getCharCount();if(!(0<=e&&e<=t))return-1;var n=this.getLineCount();if(e===t)return n-1;var i,r,o=this._lastLineIndex;if(0<=o&&o<n&&(i=this._lineOffsets[o],r=o+1<n?this._lineOffsets[o+1]:t,i<=e&&e<r))return o;for(var s=n,a=-1;s-a>1;)if(o=Math.floor((s+a)/2),i=this._lineOffsets[o],r=o+1<n?this._lineOffsets[o+1]:t,e<=i)s=o;else{if(e<r){s=o;break}a=o}return this._lastLineIndex=s,s},getLineCount:function(){return this._lineOffsets.length},getLineDelimiter:function(){return this._lineDelimiter},getLineEnd:function(e,t){var n=this.getLineCount();if(!(0<=e&&e<n))return-1;if(e+1<n){var i=this._lineOffsets[e+1];if(t)return i;for(var r,o=this.getText(Math.max(this._lineOffsets[e],i-2),i),s=o.length;10===(r=o.charCodeAt(s-1))||13===r;)s--;return i-(o.length-s)}return this.getCharCount()},getLineStart:function(e){return 0<=e&&e<this.getLineCount()?this._lineOffsets[e]:-1},getText:function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=this.getCharCount()),e===t)return\"\";for(var n,i=0,r=0;r<this._text.length&&(n=this._text[r].length,!(e<=i+n));)i+=n,r++;for(var o=i,s=r;r<this._text.length&&(n=this._text[r].length,!(t<=i+n));)i+=n,r++;var a=i,l=r;if(s>=this._text.length||l>=this._text.length||s>l)return\"\";if(s===l)return this._text[s].substring(e-o,t-a);var d=this._text[s].substring(e-o),c=this._text[l].substring(0,t-a);return d+this._text.slice(s+1,l).join(\"\")+c},onChanging:function(e){return this.dispatchEvent(e)},onChanged:function(e){return this.dispatchEvent(e)},setLineDelimiter:function(e,t){if(\"auto\"===e&&(e=void 0,this.getLineCount()>1&&(e=this.getText(this.getLineEnd(0),this.getLineEnd(0,!0)))),this._lineDelimiter=e||n.platformDelimiter,t){var i=this.getLineCount();if(i>1){for(var r=new Array(i),o=0;o<i;o++)r[o]=this.getLine(o);this.setText(r.join(this._lineDelimiter))}}},setText:function(e,t,n){if(void 0===e&&(e=\"\"),void 0===t&&(t=0),void 0===n&&(n=this.getCharCount()),t!==n||\"\"!==e){for(var i=this.getLineAtOffset(t),r=this.getLineAtOffset(n),o=t,s=n-t,a=r-i,l=e.length,d=0,c=this.getLineCount(),h=0,u=0,f=0,p=[];;){if(-1!==h&&h<=f&&(h=e.indexOf(\"\\r\",f)),-1!==u&&u<=f&&(u=e.indexOf(\"\\n\",f)),-1===u&&-1===h)break;f=-1!==h&&-1!==u?h+1===u?u+1:(h<u?h:u)+1:-1!==h?h+1:u+1,p.push(t+f),d++}var g={type:\"Changing\",text:e,start:o,removedCharCount:s,addedCharCount:l,removedLineCount:a,addedLineCount:d};if(this.onChanging(g),0===p.length){var v,m=this.getLineStart(i);v=r+1<c?this.getLineStart(r+1):this.getCharCount(),t!==m&&(e=this.getText(m,t)+e,t=m),n!==v&&(e+=this.getText(n,v),n=v)}for(var _=l-s,y=i+a+1;y<c;y++)this._lineOffsets[y]+=_;var C;if(p.length<5e4)C=[i+1,a].concat(p),Array.prototype.splice.apply(this._lineOffsets,C);else{f=i+1,this._lineOffsets.splice(f,a);for(var w=0;w<p.length;w+=5e4)C=[f,0].concat(p.slice(w,Math.min(p.length,w+5e4))),Array.prototype.splice.apply(this._lineOffsets,C),f+=5e4}for(var x,S=0,b=0;b<this._text.length&&(x=this._text[b].length,!(t<=S+x));)S+=x,b++;for(var T=S,E=b;b<this._text.length&&(x=this._text[b].length,!(n<=S+x));)S+=x,b++;var L=S,k=b,M=this._text[E],A=this._text[k],D=M.substring(0,t-T),O=A.substring(n-L),N=[E,k-E+1];D&&N.push(D),e&&N.push(e),O&&N.push(O),Array.prototype.splice.apply(this._text,N),0===this._text.length&&(this._text=[\"\"]);var I={type:\"Changed\",start:o,removedCharCount:s,addedCharCount:l,removedLineCount:a,addedLineCount:d};this.onChanged(I)}}},e.EventTarget.addMixin(i.prototype),{TextModel:i}}),/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/searchUtils\",[\"i18n!orion/nls/messages\",\"orion/regex\",\"orion/editor/textModel\",\"orion/URITemplate\"],function(e,t,n,i){function r(e,n,i){var r=\"\";i&&(r=\"^\");var o=n.wholeWord?\"\\\\b\"+e.searchStr+\"\\\\b\":e.searchStr,s=t.parse(\"/\"+r+o+\"/\");if(s){var a=s.pattern,l=s.flags;-1!==l.indexOf(\"i\")||n.caseSensitive||(l+=\"i\"),e.regExp={pattern:a,flags:l},e.wildCard=!0}}var o={};return o.ALL_FILE_TYPE=\"*.*\",o.getSearchParams=function(t,n,i){if(t){var r=n,s=!0;if(\"*\"===r&&(r=\"\"),\"\"===r&&(s=i&&i.type!==o.ALL_FILE_TYPE),s){return t.createSearchParams(r,!1,!1,i)}}else window.alert(e.NoSearchAvailableErr);return null},o.generateSearchHelper=function(e,t){var n=e.keyword,i=n,s={};if(e.fileType&&e.fileType!==o.ALL_FILE_TYPE&&\"\"===n&&(i=\"*.\"+e.fileType),e.regEx)s.searchStr=n,r(s,e,t);else{var a=n.indexOf(\"*\")>-1,l=n.indexOf(\"?\")>-1;a&&(n=n.split(\"*\").join(\".*\")),l&&(n=n.split(\"?\").join(\".\")),e.wholeWord&&(n=a||l?n.replace(/[-[\\]{}()+,\\\\^$|#\\s]/g,\"\\\\$&\"):n.replace(/[-[\\]{}()+.,\\\\^$|#\\s]/g,\"\\\\$&\")),a||l||e.nameSearch||e.wholeWord?(s.searchStr=e.caseSensitive?n:n.toLowerCase(),r(s,e,t),s.wildCard=!0):(s.searchStr=e.caseSensitive?n.split(\"\\\\\").join(\"\"):n.split(\"\\\\\").join(\"\").toLowerCase(),s.wildCard=!1)}return s.searchStrLength=s.searchStr.length,{params:e,inFileQuery:s,displayedSearchTerm:i}},o.convertSearchParams=function(e){void 0!==e.rows&&(e.rows=parseInt(e.rows,10)),void 0!==e.start&&(e.start=parseInt(e.start,10)),\"string\"==typeof e.regEx&&(e.regEx=\"true\"===e.regEx.toLowerCase()),\"string\"==typeof e.caseSensitive&&(e.caseSensitive=\"true\"===e.caseSensitive.toLowerCase()),\"string\"==typeof e.nameSearch&&(e.nameSearch=\"true\"===e.nameSearch.toLowerCase()),void 0!==e.fileNamePatterns&&(e.fileNamePatterns=o.getFileNamePatternsArray(e.fileNamePatterns))},o.getFileNamePatternsArray=function(e){var t=void 0;if(e){var n=e.trim();n=n.replace(/^(\\s*,\\s*)+/g,\"\"),n=n.replace(/([^\\\\]),(\\s*,\\s*)*/g,\"$1/\"),n=n.replace(/(\\s*\\/\\s*)/g,\"/\"),n=n.replace(/\\/\\/+/g,\"/\"),n=n.replace(/\\/+$/g,\"\"),t=n.split(\"/\")}return t},o.copySearchParams=function(e,t){var n={};for(var i in e)if(void 0!==e[i]&&null!==e[i]){if(!t&&\"replace\"===i)continue;n[i]=e[i]}return n},o.generateFindURLBinding=function(e,t,n,r,o){var s={find:t.searchStr,regEx:!!t.wildCard||void 0,caseSensitive:!!e.caseSensitive||void 0,wholeWord:!!e.wholeWord||void 0,replaceWith:\"string\"==typeof r?r:void 0,atLine:\"number\"==typeof n?n:void 0};return o?s:\",\"+new i(\"{,params*}\").expand({params:s})},o.convertFindURLBinding=function(e){\"string\"==typeof e.regEx&&(e.regEx=\"true\"===e.regEx.toLowerCase()),\"string\"==typeof e.caseSensitive&&(e.caseSensitive=\"true\"===e.caseSensitive.toLowerCase()),\"string\"==typeof e.wholeWord&&(e.wholeWord=\"true\"===e.wholeWord.toLowerCase()),\"string\"==typeof e.atLine&&(e.atLine=parseInt(e.atLine,10))},o.replaceRegEx=function(e,t,n){var i=new RegExp(t.pattern,t.flags);return e.replace(i,n)},o.replaceStringLiteral=function(e,n,i){var r=t.parse(\"/\"+n+\"/gim\");return o.replaceRegEx(e,r,i)},o.searchOnelineLiteral=function(e,t,n,i,r){for(var o,s=0,a=!1,l=[];;){if((o=t.indexOf(e.searchStr,s))<0)break;if(i){var d=i.getLineStart(r)+o;l.push({startIndex:o,length:e.searchStrLength,start:d,end:d+e.searchStrLength})}else l.push({startIndex:o,length:e.searchStrLength});if(a=!0,n)break;s=o+e.searchStrLength}return a?l:null},o.findRegExp=function(e,t,n,i){if(!t)return null;n=n||\"\",n+=(-1===n.indexOf(\"g\")?\"g\":\"\")+(-1===n.indexOf(\"m\")?\"m\":\"\");var r=new RegExp(t,n),o=null;return(o=r.exec(e.substring(i)))&&{startIndex:o.index+i,length:o[0].length}},o.searchOnelineRegEx=function(e,t,n,i,r){for(var s=0,a=!1,l=[];;){var d=o.findRegExp(t,e.regExp.pattern,e.regExp.flags,s);if(!d)break;if(i){var c=i.getLineStart(r)+d.startIndex;d.start=c,d.end=c+d.length}if(l.push(d),a=!0,n)break;s=d.startIndex+d.length}return a?l:null},o.generateNewContents=function(e,t,n,i,r,s){if(i&&t){e||(n.contents=[]);for(var a=0;a<t.length;a++){for(var l,d,c=t[a],h=!1,u=!1,f=[],p=0,g=0;g<i.children.length;g++){if(i.children[g].lineNumber-1===a){for(p=g,d=0;d<i.children[g].matches.length;d++)!1!==i.children[g+d].checked&&f.push(d);u=f.length>0,l=i.children[g].matches,h=!0;break}}if(h){var v;if(u){var m=o.replaceCheckedMatches(c,r,l,f,s);for(v=m.replacedStr,d=0;d<i.children[p].matches.length;d++)i.children[p+d].newMatches=m.newMatches}else for(v=c,d=0;d<i.children[p].matches.length;d++)i.children[p+d].newMatches=i.children[p+d].matches;e?n.contents[a]=v:n.contents.push(v)}else e||n.contents.push(c)}}},o.generateMatchContext=function(e,t,n){var i,r,o=[],s=2*e+1;t.length<=s?(i=0,r=t.length-1):(i=n-e,i<0?(i=0,r=i+s-1):(r=n+e)>t.length-1&&(r=t.length-1,i=r-s+1));for(var a=i;a<=r;a++)o.push({context:t[a],current:a===n});return o},o.splitFile=function(e){for(var t=0,n=0,i=0,r=0,o=[];;){if(-1!==t&&t<=i&&(t=e.indexOf(\"\\r\",i)),-1!==n&&n<=i&&(n=e.indexOf(\"\\n\",i)),-1===n&&-1===t){o.push(e.substring(r));break}-1!==t&&-1!==n?t+1===n?(2,i=n+1):i=(t<n?t:n)+1:i=-1!==t?t+1:n+1,o.push(e.substring(r,i)),r=i}return o},o.searchWithinFile=function(e,t,i,r,s,a,l){var d;(a||l)&&(d=new n.TextModel(i));var c=o.splitFile(i);if((r||a)&&(t.contents=c),t){t.children=[];for(var h=0,u=0;u<c.length;u++){var f=c[u];if(f&&f.length>0){var p,g=s?f:f.toLowerCase();if(p=e.wildCard?o.searchOnelineRegEx(e,g,!1,d,u):o.searchOnelineLiteral(e,g,!1,d,u)){var v,m=u+1;if(r)for(var _=0;_<p.length;_++){var y=_+1;v={parent:t,checked:t.checked,type:\"detail\",matches:p,lineNumber:m,matchNumber:y,name:f,location:t.location},t.children.push(v)}else v=a?{lineNumber:m,matches:p,name:f}:{parent:t,context:o.generateMatchContext(2,c,u),checked:t.checked,type:\"detail\",matches:p,lineNumber:m,name:f,location:t.location},t.children.push(v);h+=p.length}}}t.totalMatches=h}},o.replaceCheckedMatches=function(e,t,n,i,r){for(var o=r,s=0,a=\"\",l=[],d=0;d<n.length;d++){s!==n[d].startIndex&&(a+=e.substring(s,n[d].startIndex)),n[d].length&&(o=n[d].length);for(var c=!1,h=0;h<i.length;h++)if(i[h]===d){c=!0;break}c?(l.push({startIndex:a.length,length:t.length}),a+=t):(l.push({startIndex:a.length,length:o}),a+=e.substring(n[d].startIndex,n[d].startIndex+o)),s=n[d].startIndex+o}return s<e.length&&(a+=e.substring(s)),{replacedStr:a,newMatches:l}},o.fullPathNameByMeta=function(e){var t=e.length,n=\"\";if(t>0)for(var i=t-1;i>-1;i--){var r=\"\"===n?\"\":\"/\";n=n+r+e[i].Name}return n},o}),/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *        Felipe Heidrich (IBM Corporation) - initial API and implementation\n *        Silenio Quarti (IBM Corporation) - initial API and implementation\n ******************************************************************************/\nn(\"orion/editor/nls/messages\",{root:!0}),/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *        Felipe Heidrich (IBM Corporation) - initial API and implementation\n *        Silenio Quarti (IBM Corporation) - initial API and implementation\n ******************************************************************************/\nn(\"orion/editor/nls/root/messages\",{multipleAnnotations:\"Multiple annotations:\",line:\"Line: ${0}\",breakpoint:\"Breakpoint\",bookmark:\"Bookmark\",task:\"Task\",error:\"Error\",warning:\"Warning\",currentSearch:\"Current Search\",currentLine:\"Current Line\",matchingBracket:\"Matching Bracket\",currentBracket:\"Current Bracket\",diffAdded:\"Diff Added Lines\",diffDeleted:\"Diff Deleted Lines\",diffModified:\"Diff Modified Lines\",lineUp:\"Line Up\",lineDown:\"Line Down\",lineStart:\"Line Start\",lineEnd:\"Line End\",charPrevious:\"Previous Character\",charNext:\"Next Character\",pageUp:\"Page Up\",pageDown:\"Page Down\",scrollPageUp:\"Scroll Page Up\",scrollPageDown:\"Scroll Page Down\",scrollLineUp:\"Scroll Line Up\",scrollLineDown:\"Scroll Line Down\",wordPrevious:\"Previous Word\",wordNext:\"Next Word\",textStart:\"Document Start\",textEnd:\"Document End\",scrollTextStart:\"Scroll Document Start\",scrollTextEnd:\"Scroll Document End\",centerLine:\"Center Line\",selectLineUp:\"Select Line Up\",selectLineDown:\"Select Line Down\",selectWholeLineUp:\" Select Whole Line Up\",selectWholeLineDown:\"Select Whole Line Down\",selectLineStart:\"Select Line Start\",selectLineEnd:\"Select Line End\",selectCharPrevious:\"Select Previous Character\",selectCharNext:\"Select Next Character\",selectPageUp:\"Select Page Up\",selectPageDown:\"Select Page Down\",selectWordPrevious:\"Select Previous Word\",selectWordNext:\"Select Next Word\",selectTextStart:\"Select Document Start\",selectTextEnd:\"Select Document End\",deletePrevious:\"Delete Previous Character\",deleteNext:\"Delete Next Character\",deleteWordPrevious:\"Delete Previous Word\",deleteWordNext:\"Delete Next Word\",deleteLineStart:\"Delete Line Start\",deleteLineEnd:\"Delete Line End\",tab:\"Insert Tab\",enter:\"Insert Line Delimiter\",enterNoCursor:\"Insert Line Delimiter\",escape:\"Escape\",selectAll:\"Select All\",copy:\"Copy\",cut:\"Cut\",paste:\"Paste\",uppercase:\"To Upper Case\",lowercase:\"To Lower Case\",capitalize:\"Capitalize\",reversecase:\"Reverse Case\",toggleWrapMode:\"Toggle Wrap Mode\",toggleTabMode:\"Toggle Tab Mode\",toggleOverwriteMode:\"Toggle Overwrite Mode\",committerOnTime:\"${0} on ${1}\",emacs:\"Emacs\",exchangeMarkPoint:\"Exchange Mark and Point\",setMarkCommand:\"Set Mark\",clearMark:\"Clear Mark\",digitArgument:\"Digit Argument ${0}\",negativeArgument:\"Negative Argument\",Comment:\"Comment\",\"Flat outline\":\"Flat outline\",incrementalFindStr:\"Incremental find: ${0}\",incrementalFindStrNotFound:\"Incremental find: ${0} (not found)\",incrementalFindReverseStr:\"Reverse Incremental find: ${0}\",incrementalFindReverseStrNotFound:\"Reverse Incremental find: ${0} (not found)\",findReplace:\"Find/Replace\",find:\"Find...\",undo:\"Undo\",redo:\"Redo\",cancelMode:\"Cancel Current Mode\",findNext:\"Find Next Occurrence\",findPrevious:\"Find Previous Occurrence\",incrementalFind:\"Incremental Find\",incrementalFindReverse:\"Incremental Find Reverse\",indentLines:\"Indent Lines\",unindentLines:\"Unindent Lines\",moveLinesUp:\"Move Lines Up\",moveLinesDown:\"Move Lines Down\",copyLinesUp:\"Copy Lines Up\",copyLinesDown:\"Copy Lines Down\",deleteLines:\"Delete Lines\",gotoLine:\"Goto Line...\",gotoLinePrompty:\"Goto Line:\",nextAnnotation:\"Next Annotation\",prevAnnotation:\"Previous Annotation\",expand:\"Expand\",collapse:\"Collapse\",expandAll:\"Expand All\",collapseAll:\"Collapse All\",lastEdit:\"Last Edit Location\",trimTrailingWhitespaces:\"Trim Trailing Whitespaces\",toggleLineComment:\"Toggle Line Comment\",addBlockComment:\"Add Block Comment\",removeBlockComment:\"Remove Block Comment\",linkedModeEntered:\"Linked Mode: Enter or ESC to exit\",linkedModeExited:\"Linked Mode exited\",syntaxError:\"Syntax Error\",contentAssist:\"Content Assist\",noProposals:\"No proposals found\",computingProposals:\"Computing content assist proposals...\",lineColumn:\"Line ${0} : Column ${1}\",lineColumnOffset:\"Line ${0} : Column ${1} : Offset ${2}\",multiSelections:\"${0} selection regions\",vi:\"vi\",vimove:\"(Move)\",viyank:\"(Yank)\",videlete:\"(Delete)\",vichange:\"(Change)\",viLeft:\"${0} Left\",viRight:\"${0} Right\",viUp:\"${0} Up\",viDown:\"${0} Down\",viw:\"${0} Next Word\",vib:\"${0} Beginning of Word\",viW:\"${0} Next Word (ws stop)\",viB:\"${0} Beginning of Word (ws stop)\",vie:\"${0} End of Word\",viE:\"${0} End of Word (ws stop)\",vi$:\"${0} End of the line\",\"vi^_\":\"${0} First non-blank Char Current Line\",\"vi+\":\"${0} First Char Next Line\",\"vi-\":\"${0} First Char Previous Line\",\"vi|\":\"${0} nth Column in Line\",viH:\"${0} Top of Page\",viM:\"${0} Middle of Page\",viL:\"${0} Bottom of Page\",\"vi/\":\"${0} Search Forward\",\"vi?\":\"${0} Search Backward\",vin:\"${0} Next Search\",viN:\"${0} Previous Search\",vif:\"${0} Search Char Fwd\",viF:\"${0} Search Char Bckwd\",vit:\"${0} Search Before Char Fwd\",viT:\"${0} Search Before Char Bckwd\",\"vi,\":\"${0} Repeat Reverse Char Search\",\"vi;\":\"${0} Repeat Char Search\",viG:\"${0} Go to Line\",viycd:\"${0} Current Line\",via:\"Append After Cursor\",viA:\"Append to End of Line\",vii:\"Insert Before Cursor\",viI:\"Insert at Beginning of Line\",viO:\"Insert Line Above\",vio:\"Insert Line Below\",viR:\"Begin Overwriting Text\",vis:\"Substitute a Character\",viS:\"Substitute Entire Line\",viC:\"Change Text Until Line End\",vip:\"Paste After Char or Line\",viP:\"Paste Before Char or Line\",viStar:\"Search Word Under Cursor\",next:\"Next\",previous:\"Previous\",replace:\"Replace\",replaceAll:\"Replace All\",findWith:\"Find With\",replaceWith:\"Replace With\",caseInsensitive:\"Aa\",regex:\"/.*/\",wholeWord:\"\\\\b\",caseInsensitiveTooltip:\"Toggle Case Insensitive\",regexTooltip:\"Toggle Regular Expression\",wholeWordTooltip:\"Toggle Whole Word\",closeTooltip:\"Close\",replacingAll:\"Replacing all...\",replacedMatches:\"Replaced ${0} matches\",nothingReplaced:\"Nothing replaced\",notFound:\"Not found\"}),/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *        Felipe Heidrich (IBM Corporation) - initial API and implementation\n *        Silenio Quarti (IBM Corporation) - initial API and implementation\n ******************************************************************************/\nn(\"orion/editor/annotations\",[\"i18n!orion/editor/nls/messages\",\"orion/editor/eventTarget\"],function(e,t){function n(){}function i(e,t,n){this.start=e,this.end=t,this._projectionModel=n,this.html=this._expandedHTML,this.style=this._expandedStyle,this.expanded=!0}function r(t,i){var r=t.lastIndexOf(\".\"),o=t.substring(r+1),s={title:e[o],style:{styleClass:\"annotation \"+o},html:\"<div class='annotationHTML \"+o+\"'></div>\",overviewStyle:{styleClass:\"annotationOverview \"+o}};i?s.lineStyle={styleClass:\"annotationLine \"+o}:s.rangeStyle={styleClass:\"annotationRange \"+o},n.registerType(t,s)}function o(){}function s(e,t,n,i,r){var o;for(void 0===i&&(i=-1),void 0===r&&(r=e.length);r-i>1;)if(o=Math.floor((r+i)/2),t<=e[o].start)r=o;else{if(n&&t<e[o].end){r=o;break}i=o}return r}function a(e){this._annotations=[];var t=this;this._listener={onChanged:function(e){t._onChanged(e)}},this.setTextModel(e)}function l(e,t){this._view=e,this._annotationModel=t;var n=this;this._listener={onDestroy:function(e){n._onDestroy(e)},onLineStyle:function(e){n._onLineStyle(e)},onChanged:function(e){n._onAnnotationModelChanged(e)}},e.addEventListener(\"Destroy\",this._listener.onDestroy),e.addEventListener(\"postLineStyle\",this._listener.onLineStyle),t.addEventListener(\"Changed\",this._listener.onChanged)}i.prototype={_expandedHTML:\"<div class='annotationHTML expanded'></div>\",_expandedStyle:{styleClass:\"annotation expanded\"},_collapsedHTML:\"<div class='annotationHTML collapsed'></div>\",_collapsedStyle:{styleClass:\"annotation collapsed\"},_collapse:function(){return!!this.expanded&&(this.expanded=!1,this.html=this._collapsedHTML,this.style=this._collapsedStyle,this._annotationModel&&this._annotationModel.modifyAnnotation(this),!0)},_expand:function(){return!this.expanded&&(this.expanded=!0,this.html=this._expandedHTML,this.style=this._expandedStyle,this._annotationModel&&this._annotationModel.modifyAnnotation(this),!0)},_collapseImpl:function(e){if(this._collapse()){e&&this._forEachOverlaping(function(e){e.expanded||(e._expandImpl(!1),e._recollapse=!0)});var t=this._projectionModel,n=t.getBaseModel();this._projection={annotation:this,start:n.getLineStart(n.getLineAtOffset(this.start)+1),end:n.getLineEnd(n.getLineAtOffset(this.end),!0)},t.addProjection(this._projection)}},_expandImpl:function(e){this._expand()&&(this._projectionModel._removeProjection(this._projection,!this._annotationModel),e&&this._forEachOverlaping(function(e){e._recollapse&&(e._collapseImpl(!1),e._recollapse=!1)}))},_forEachOverlaping:function(e){if(this._annotationModel)for(var t=this._annotationModel.getAnnotations(this.start,this.end);t.hasNext();){var i=t.next();i!==this&&i.type===n.ANNOTATION_FOLDING&&e.call(this,i)}},collapse:function(){this._recollapse=!1,this._collapseImpl(!1)},expand:function(){this._recollapse=!1,this._expandImpl(!1)}},n.ANNOTATION_ERROR=\"orion.annotation.error\",n.ANNOTATION_WARNING=\"orion.annotation.warning\",n.ANNOTATION_TASK=\"orion.annotation.task\",n.ANNOTATION_BREAKPOINT=\"orion.annotation.breakpoint\",n.ANNOTATION_BOOKMARK=\"orion.annotation.bookmark\",n.ANNOTATION_FOLDING=\"orion.annotation.folding\",n.ANNOTATION_CURRENT_BRACKET=\"orion.annotation.currentBracket\",n.ANNOTATION_MATCHING_BRACKET=\"orion.annotation.matchingBracket\",n.ANNOTATION_CURRENT_LINE=\"orion.annotation.currentLine\",n.ANNOTATION_CURRENT_SEARCH=\"orion.annotation.currentSearch\",n.ANNOTATION_MATCHING_SEARCH=\"orion.annotation.matchingSearch\",n.ANNOTATION_READ_OCCURRENCE=\"orion.annotation.readOccurrence\",n.ANNOTATION_WRITE_OCCURRENCE=\"orion.annotation.writeOccurrence\",n.ANNOTATION_SELECTED_LINKED_GROUP=\"orion.annotation.selectedLinkedGroup\",n.ANNOTATION_CURRENT_LINKED_GROUP=\"orion.annotation.currentLinkedGroup\",n.ANNOTATION_LINKED_GROUP=\"orion.annotation.linkedGroup\",n.ANNOTATION_BLAME=\"orion.annotation.blame\",n.ANNOTATION_CURRENT_BLAME=\"orion.annotation.currentBlame\",n.ANNOTATION_DIFF_ADDED=\"orion.annotation.diffAdded\",n.ANNOTATION_DIFF_DELETED=\"orion.annotation.diffDeleted\",n.ANNOTATION_DIFF_MODIFIED=\"orion.annotation.diffModified\";var d={};return n.registerType=function(e,t){var n=t;return\"function\"!=typeof n&&(n=function(e,t,n){this.start=e,this.end=t,void 0!==n&&(this.title=n)},n.prototype=t),n.prototype.type=e,d[e]=n,e},n.createAnnotation=function(e,t,n,i){return new(this.getType(e))(t,n,i)},n.getType=function(e){return d[e]},r(n.ANNOTATION_ERROR),r(n.ANNOTATION_WARNING),r(n.ANNOTATION_TASK),r(n.ANNOTATION_BREAKPOINT),r(n.ANNOTATION_BOOKMARK),r(n.ANNOTATION_CURRENT_BRACKET),r(n.ANNOTATION_MATCHING_BRACKET),r(n.ANNOTATION_CURRENT_SEARCH),r(n.ANNOTATION_MATCHING_SEARCH),r(n.ANNOTATION_READ_OCCURRENCE),r(n.ANNOTATION_WRITE_OCCURRENCE),r(n.ANNOTATION_SELECTED_LINKED_GROUP),r(n.ANNOTATION_CURRENT_LINKED_GROUP),r(n.ANNOTATION_LINKED_GROUP),r(n.ANNOTATION_CURRENT_LINE,!0),r(n.ANNOTATION_BLAME,!0),r(n.ANNOTATION_CURRENT_BLAME,!0),r(n.ANNOTATION_DIFF_ADDED),r(n.ANNOTATION_DIFF_DELETED),r(n.ANNOTATION_DIFF_MODIFIED),n.registerType(n.ANNOTATION_FOLDING,i),o.addMixin=function(e){var t=o.prototype;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o.prototype={addAnnotationType:function(e,t){this._annotationTypes||(this._annotationTypes=[]);var n=t-1;void 0!=t&&0<=n&&n<this._annotationTypes.length?this._annotationTypes.splice(n,0,e):this._annotationTypes.push(e)},getAnnotationTypePriority:function(e){if(this._annotationTypes)for(var t=0;t<this._annotationTypes.length;t++)if(this._annotationTypes[t]===e)return t+1;return 0},getAnnotationsByType:function(e,t,n){for(var i,r=e.getAnnotations(t,n),o=[];r.hasNext();){i=r.next();0!==this.getAnnotationTypePriority(i.type)&&o.push(i)}var s=this;return o.sort(function(e,t){return s.getAnnotationTypePriority(e.type)-s.getAnnotationTypePriority(t.type)}),o},isAnnotationTypeVisible:function(e){return 0!==this.getAnnotationTypePriority(e)},removeAnnotationType:function(e){if(this._annotationTypes)for(var t=0;t<this._annotationTypes.length;t++)if(this._annotationTypes[t]===e){this._annotationTypes.splice(t,1);break}}},a.prototype={addAnnotation:function(e){if(e){var t=this._annotations,n=s(t,e.start);t.splice(n,0,e),e._annotationModel=this;var i={type:\"Changed\",added:[e],removed:[],changed:[]};this.onChanged(i)}},getTextModel:function(){return this._model},getAnnotations:function(e,t){var n,i,r=this._annotations,o=0;return i=void 0===e&&void 0===t?function(){return o<r.length?r[o++]:null}:function(){for(;o<r.length;){var n=r[o++];if(e===n.start||(e>n.start?e<n.end:n.start<t))return n;if(n.start>=t)break}return null},n=i(),{next:function(){var e=n;return e&&(n=i()),e},hasNext:function(){return null!==n}}},modifyAnnotation:function(e){if(e){if(!(this._getAnnotationIndex(e)<0)){var t={type:\"Changed\",added:[],removed:[],changed:[e]};this.onChanged(t)}}},onChanged:function(e){return this.dispatchEvent(e)},removeAnnotations:function(e){var t,n,i=this._annotations;if(e)for(t=[],n=i.length-1;n>=0;n--){var r=i[n];r.type===e&&(i.splice(n,1),t.splice(0,0,r),r._annotationModel=null)}else t=i,i=[];var o={type:\"Changed\",removed:t,added:[],changed:[]};this.onChanged(o)},removeAnnotation:function(e){if(e){var t=this._getAnnotationIndex(e);if(!(t<0)){e._annotationModel=null;var n={type:\"Changed\",removed:this._annotations.splice(t,1),added:[],changed:[]};this.onChanged(n)}}},replaceAnnotations:function(e,t){var n,i,r,o=this._annotations,a=[];if(e)for(n=e.length-1;n>=0;n--)r=e[n],(i=this._getAnnotationIndex(r))<0||(r._annotationModel=null,o.splice(i,1),a.splice(0,0,r));for(t||(t=[]),n=0;n<t.length;n++)r=t[n],i=s(o,r.start),r._annotationModel=this,o.splice(i,0,r);var l={type:\"Changed\",removed:a,added:t,changed:[]};this.onChanged(l)},setTextModel:function(e){this._model&&this._model.removeEventListener(\"Changed\",this._listener.onChanged),this._model=e,this._model&&this._model.addEventListener(\"Changed\",this._listener.onChanged)},_getAnnotationIndex:function(e){for(var t=this._annotations,n=s(t,e.start);n<t.length&&t[n].start===e.start;){if(t[n]===e)return n;n++}return-1},_onChanged:function(e){var t=e.start,n=e.addedCharCount,i=e.removedCharCount,r=this._annotations,o=t+i;if(0<r.length){var s,a={type:\"Changed\",added:[],removed:[],changed:[],textModelChangedEvent:e},l=n-i;for(s=0;s<r.length;s++){var d=r[s];d.start>=o?(d._oldStart=d.start,d._oldEnd=d.end,d.start+=l,d.end+=l,a.changed.push(d)):d.end<=t||(d.start<t&&o<d.end?(d._oldStart=d.start,d._oldEnd=d.end,d.end+=l,a.changed.push(d)):(r.splice(s,1),a.removed.push(d),d._annotationModel=null,d.expand&&d.expand(),s--))}(a.added.length>0||a.removed.length>0||a.changed.length>0)&&this.onChanged(a)}}},t.EventTarget.addMixin(a.prototype),l.prototype={destroy:function(){var e=this._view;e&&(e.removeEventListener(\"Destroy\",this._listener.onDestroy),e.removeEventListener(\"LineStyle\",this._listener.onLineStyle),this.view=null);var t=this._annotationModel;t&&(t.removeEventListener(\"Changed\",this._listener.onChanged),t=null)},_mergeStyle:function(e,t){if(t){e||(e={}),e.styleClass&&t.styleClass&&e.styleClass!==t.styleClass?e.styleClass+=\" \"+t.styleClass:e.styleClass=t.styleClass;var n;if(t.tagName&&(e.tagName||(e.tagName=t.tagName)),t.style){e.style||(e.style={});for(n in t.style)e.style[n]||(e.style[n]=t.style[n])}if(t.attributes){e.attributes||(e.attributes={});for(n in t.attributes)e.attributes[n]||(e.attributes[n]=t.attributes[n])}e.unmergeable=e.unmergeable||t.unmergeable}return e},_mergeStyleRanges:function(e,t){e||(e=[]);for(var n,i=s(e,t.start,!0);i<e.length&&t;i++){var r=e[i];if(t.end<=r.start)break;if(!(t.start>=r.end)){n=this._mergeStyle({},r.style),n=this._mergeStyle(n,t.style);var o=[];o.push(i,1),t.start<r.start&&o.push({start:t.start,end:r.start,style:t.style}),t.start>r.start&&o.push({start:r.start,end:t.start,style:r.style}),o.push({start:Math.max(r.start,t.start),end:Math.min(r.end,t.end),style:n}),t.end<r.end&&o.push({start:t.end,end:r.end,style:r.style}),t=t.end>r.end?{start:r.end,end:t.end,style:t.style}:null,Array.prototype.splice.apply(e,o)}}return t&&(n=this._mergeStyle({},t.style),e.splice(i,0,{start:t.start,end:t.end,style:n})),e},_onAnnotationModelChanged:function(e){function t(e,t){o.getBaseModel&&(e=o.mapOffset(e,!0),t=o.mapOffset(t,!0)),-1!==e&&-1!==t&&i.redrawRange(e,t)}function n(e,n){for(var i=0;i<e.length;i++)if(r.isAnnotationTypeVisible(e[i].type)){var o=e[i];t(o.start,o.end),n&&void 0!==o._oldStart&&o._oldEnd&&t(o._oldStart,o._oldEnd)}}var i=this._view;if(i){var r=this,o=i.getModel();n(e.added),n(e.removed),n(e.changed,!0)}},_onDestroy:function(e){this.destroy()},_onLineStyle:function(e){var t=this._annotationModel,n=e.textView.getModel(),i=t.getTextModel(),r=e.lineStart,o=e.lineStart+e.lineText.length;i!==n&&(r=n.mapOffset(r),o=n.mapOffset(o));for(var s=t.getAnnotations(r,o);s.hasNext();){var a=s.next();if(this.isAnnotationTypeVisible(a.type)){if(a.rangeStyle){var l=a.start,d=a.end;i!==n&&(l=n.mapOffset(l,!0),d=n.mapOffset(d,!0)),e.ranges=this._mergeStyleRanges(e.ranges,{start:l,end:d,style:a.rangeStyle})}a.lineStyle&&(e.style=this._mergeStyle({},e.style),e.style=this._mergeStyle(e.style,a.lineStyle))}}}},o.addMixin(l.prototype),{FoldingAnnotation:i,AnnotationType:n,AnnotationTypeList:o,AnnotationModel:a,AnnotationStyler:l}}),/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2015 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/editorCommands\",[\"i18n!orion/edit/nls/messages\",\"orion/i18nUtil\",\"orion/webui/littlelib\",\"orion/widgets/input/DropDownMenu\",\"orion/Deferred\",\"orion/URITemplate\",\"orion/commands\",\"orion/keyBinding\",\"orion/commandRegistry\",\"orion/extensionCommands\",\"orion/contentTypes\",\"orion/searchUtils\",\"orion/objects\",\"orion/PageUtil\",\"orion/PageLinks\",\"orion/editor/annotations\",\"orion/regex\",\"orion/PageUtil\",\"orion/uiUtils\",\"orion/util\"],function(e,t,n,i,r,o,s,a,l,d,c,h,u,f,p,g,v,m,_,y){function C(e){var t=new o(e.uriTemplate),n=e.params||{};n.OrionHome=n.OrionHome||p.getOrionHome();var i=t.expand(n),r=document.createElement(\"div\"),s=document.createElement(\"iframe\");return s.id=e.id,s.name=e.id,s.type=\"text/html\",s.sandbox=\"allow-scripts allow-same-origin allow-forms allow-popups\",s.frameborder=void 0!==e.border?e.border:1,s.src=i,s.className=\"delegatedUI\",e.width&&(r.style.width=e.width,s.style.width=e.width),e.height&&(r.style.height=e.height,s.style.height=e.height),s.style.visibility=\"hidden\",null!==e.parent&&(e.parent||window.document.body).appendChild(r),r.appendChild(s),s.style.left=e.left||(window.innerWidth-parseInt(s.clientWidth,10))/2+\"px\",s.style.top=e.top||(window.innerHeight-parseInt(s.clientHeight,10))/2+\"px\",s.style.visibility=\"\",window.addEventListener(\"message\",function t(n){if(n.source===s.contentWindow&&\"string\"==typeof n.data){var i=JSON.parse(n.data);\"orion.page.delegatedUI\"===i.pageService&&i.source===e.id&&(i.cancelled?e.cancelled&&e.cancelled():i.result?e.done&&e.done(i.result):(i.Status||i.status)&&e.status&&e.status(i.Status||i.status),window.removeEventListener(\"message\",t,!1),r.parentNode&&r.parentNode.removeChild(r))}},!1),r}function w(e,t){t&&void 0!==t.HTML&&delete t.HTML;var n=e.getService(\"orion.page.message\");return n?n.setProgressResult(t).then(null,function(e){throw console.log(e),e}):(console.log(t),(new r).resolve(t))}function x(e){return{_error:e}}function S(e){this.serviceRegistry=e.serviceRegistry,this.commandService=e.commandRegistry,this.fileClient=e.fileClient,this.preferences=e.preferences,this.inputManager=e.inputManager,this.renderToolbars=e.renderToolbars,this.toolbarId=e.toolbarId,this.saveToolbarId=e.saveToolbarId,this.editToolbarId=e.editToolbarId,this.pageNavId=e.navToolbarId,this.editorContextMenuId=e.editorContextMenuId,this.isReadOnly=e.readonly,this.textSearcher=e.textSearcher,this.searcher=e.searcher,this.localSettings=e.localSettings,this.editorPreferences=e.editorPreferences,this.differ=e.differ,this.blamer=e.blamer;var t=this;this.listener={onServiceAdded:function(e){t._onServiceAdded(e.serviceReference)},onServiceRemoved:function(e){t._onServiceRemoved(e.serviceReference)}},this.serviceRegistry.addEventListener(\"registered\",this.listener.onServiceAdded),this.serviceRegistry.addEventListener(\"unregistering\",this.listener.onServiceRemoved)}var b={},T=null;return b.createDelegatedUI=C,S.prototype={createCommands:function(){return this._createSettingsCommand(),this._createGotoLineCommnand(),this._createFindCommnand(),this._createBlameCommand(),this._createDiffCommand(),this._createShowTooltipCommand(),this._createUndoStackCommands(),this._createClipboardCommands(),this._createDelimiterCommands(),this._createEncodingCommand(),this._createSaveCommand(),this._createOpenFolderCommand(),this._createOpenRecentCommand(),this._createEditCommands()},updateWorkspacePrefs:function(e){var t=this;return this.preferences.get(\"/workspace\").then(function(e){return e.recentWorkspaces?e.recentWorkspaces:[]}).then(function(n){var i=n.indexOf(e);return-1!==i&&n.splice(i,1),n.length<10?n.unshift(e):10===n.length&&(n.pop(),n.unshift(e)),t.preferences.put(\"/workspace\",{recentWorkspaces:n,currentWorkspace:e})})},setSideBar:function(e){this.sideBar=e},getEditCommands:function(){var e=[],t=this.commandService;for(var n in t._commandList){var i=t._commandList[n];i.editInfo&&e.push(i)}return e},updateCommands:function(e){e=e||{},this.editor=e.editor,this.inputManager=e.inputManager,this.localSettings=e.localSettings,this.differ=e.differ,this.blamer=e.blamer,this.textSearcher=e.textSearcher,this._recreateEditCommands&&this._createEditCommands().then(function(){this.registerCommands(),this.registerContextMenuCommands(),this.renderToolbars&&this.renderToolbars()}.bind(this))},_registerCommandGroups:function(e,t){var n,i=this.commandService,r=this.serviceRegistry;r.getServiceReferences(\"orion.edit.command.category\").forEach(function(r){for(var o={},s=r.getPropertyKeys(),a=0;a<s.length;a++)o[s[a]]=r.getProperty(s[a]);n=t,o.parentPath&&(n+=\"/\"+o.parentPath),i.addCommandGroup(e,o.id,o.position||101,o.name,n,null,o.imageClass)}.bind(this))},registerCommands:function(){function t(e){if(!e)return null;var t=new a.KeyBinding;return a.KeyBinding.apply(t,e),t}var n=this.commandService;n.registerCommandContribution(\"settingsActions\",\"orion.edit.settings\",1,null,!1,new a.KeyBinding(\"s\",!0,!0),null,this),n.registerCommandContribution(this.editToolbarId||this.toolbarId,\"orion.edit.undo\",400,this.editToolbarId?\"orion.menuBarEditGroup/orion.edit.undoGroup\":null,!this.editToolbarId,new a.KeyBinding(\"z\",!0),null,this),n.registerCommandContribution(this.editToolbarId||this.toolbarId,\"orion.edit.redo\",401,this.editToolbarId?\"orion.menuBarEditGroup/orion.edit.undoGroup\":null,!this.editToolbarId,y.isMac?new a.KeyBinding(\"z\",!0,!0):new a.KeyBinding(\"y\",!0),null,this),n.registerCommandContribution(this.saveToolbarId||this.toolbarId,\"orion.edit.openFolder\",1,this.saveToolbarId?\"orion.menuBarFileGroup/orion.edit.saveGroup\":null,!1,new a.KeyBinding(\"o\",!0)),n.registerCommandContribution(this.saveToolbarId||this.toolbarId,\"orion.edit.openRecent\",3,this.saveToolbarId?\"orion.menuBarFileGroup/orion.edit.saveGroup\":null,!1,new a.KeyBinding(\"r\",!0)),n.registerCommandContribution(this.saveToolbarId||this.toolbarId,\"orion.openResource\",1,this.saveToolbarId?\"orion.menuBarFileGroup/orion.edit.saveGroup\":null,!1,new a.KeyBinding(\"f\",!0,!0)),n.registerCommandContribution(this.saveToolbarId||this.toolbarId,\"orion.edit.save\",2,this.saveToolbarId?\"orion.menuBarFileGroup/orion.edit.saveGroup\":null,!1,new a.KeyBinding(\"s\",!0),null,this),n.registerCommandContribution(this.editToolbarId||this.pageNavId,\"orion.edit.gotoLine\",3,this.editToolbarId?\"orion.menuBarEditGroup/orion.findGroup\":null,!this.editToolbarId,new a.KeyBinding(\"l\",!y.isMac,!1,!1,y.isMac),new l.URLBinding(\"gotoLine\",\"line\"),this),n.registerCommandContribution(this.editToolbarId||this.pageNavId,\"orion.edit.find\",0,this.editToolbarId?\"orion.menuBarEditGroup/orion.findGroup\":null,!this.editToolbarId,new a.KeyBinding(\"f\",!0),new l.URLBinding(\"find\",\"find\"),this),n.registerCommandContribution(this.toolbarId,\"orion.keyAssist\",0,\"orion.menuBarToolsGroup\",!1,new a.KeyBinding(191,!1,!0,!0)),n.registerCommandContribution(this.toolbarId,\"orion.edit.showTooltip\",1,\"orion.menuBarToolsGroup\",!1,new a.KeyBinding(113),null,this),n.registerCommandContribution(this.toolbarId,\"orion.edit.blame\",2,\"orion.menuBarToolsGroup\",!1,new a.KeyBinding(\"b\",!0,!0),new l.URLBinding(\"blame\",\"blame\"),this),n.registerCommandContribution(this.toolbarId,\"orion.edit.diff\",3,\"orion.menuBarToolsGroup\",!1,new a.KeyBinding(\"d\",!0,!0),new l.URLBinding(\"diff\",\"diff\"),this);var i=0;n.addCommandGroup(this.toolbarId,\"orion.editorMenuBarMenuDelimitersGroup\",999,e[\"Convert Line Delimiters\"],\"orion.menuBarToolsGroup\"),n.registerCommandContribution(this.toolbarId,\"orion.edit.convert.crlf\",i++,\"orion.menuBarToolsGroup/orion.editorMenuBarMenuDelimitersGroup\",!1,null,null,this),n.registerCommandContribution(this.toolbarId,\"orion.edit.convert.lf\",i++,\"orion.menuBarToolsGroup/orion.editorMenuBarMenuDelimitersGroup\",!1,null,null,this),n.registerCommandContribution(this.toolbarId,\"orion.edit.reloadWithEncoding\",1e3,\"orion.menuBarToolsGroup\"),this._registerCommandGroups(this.toolbarId,\"orion.menuBarToolsGroup\");for(var r=this.getEditCommands(),o=0,s=100;o<r.length;o++,s++){var d=r[o],c=d.editInfo;if(c.scopeId)n.registerCommandContribution(c.scopeId,d.id,s,c.scopeId+\"Group\",c.bindingOnly,t(c.key),null,this);else{var h=\"orion.menuBarToolsGroup\";c.parentPath&&(h+=\"/\"+c.parentPath),n.registerCommandContribution(this.toolbarId,d.id,s,h,c.bindingOnly,t(c.key),null,this)}}},registerContextMenuCommands:function(){var t=this.commandService;t.addCommandGroup(this.editorContextMenuId,\"orion.editorContextMenuGroup\",100,null,null,null,null,null,\"dropdownSelection\");var n=1;t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.copy\",n++,\"orion.editorContextMenuGroup/orion.edit.copyGroup\",!1,new a.KeyBinding(\"c\",!0)),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.cut\",n++,\"orion.editorContextMenuGroup/orion.edit.copyGroup\",!1,new a.KeyBinding(\"x\",!0)),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.paste\",n++,\"orion.editorContextMenuGroup/orion.edit.copyGroup\",!1,new a.KeyBinding(\"v\",!0)),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.undo\",n++,\"orion.editorContextMenuGroup/orion.edit.undoGroup\",!1),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.redo\",n++,\"orion.editorContextMenuGroup/orion.edit.undoGroup\",!1),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.find\",n++,\"orion.editorContextMenuGroup/orion.findGroup\",!1),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.gotoLine\",n++,\"orion.editorContextMenuGroup/orion.findGroup\",!1),t.registerCommandContribution(this.editorContextMenuId,\"orion.quickSearch\",n++,\"orion.editorContextMenuGroup/orion.findGroup\",!1),t.registerCommandContribution(this.editorContextMenuId,\"orion.openSearch\",n++,\"orion.editorContextMenuGroup/orion.findGroup\",!1),t.addCommandGroup(this.editorContextMenuId,\"orion.editorContextMenuToolsGroup\",400,e.Tools,\"orion.editorContextMenuGroup\"),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.reloadWithEncoding\",1e3,\"orion.editorContextMenuGroup/orion.editorContextMenuToolsGroup\"),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.blame\",1,\"orion.editorContextMenuGroup/orion.editorContextMenuToolsGroup\",!1),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.diff\",2,\"orion.editorContextMenuGroup/orion.editorContextMenuToolsGroup\",!1),t.addCommandGroup(this.editorContextMenuId,\"orion.editorContextMenuDelimitersGroup\",999,e[\"Convert Line Delimiters\"],\"orion.editorContextMenuGroup/orion.editorContextMenuToolsGroup\"),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.convert.crlf\",n++,\"orion.editorContextMenuGroup/orion.editorContextMenuToolsGroup/orion.editorContextMenuDelimitersGroup\"),t.registerCommandContribution(this.editorContextMenuId,\"orion.edit.convert.lf\",n++,\"orion.editorContextMenuGroup/orion.editorContextMenuToolsGroup/orion.editorContextMenuDelimitersGroup\"),this._registerCommandGroups(this.editorContextMenuId,\"orion.editorContextMenuGroup/orion.editorContextMenuToolsGroup\");for(var i=this.getEditCommands(),r=0,o=100;r<i.length;r++,o++){var s=i[r],l=s.editInfo,d=\"orion.editorContextMenuGroup/orion.editorContextMenuToolsGroup\";l.parentPath&&(d+=\"/\"+l.parentPath),this.commandService.registerCommandContribution(this.editorContextMenuId,s.id,o,d)}},overwriteKeyBindings:function(e){var t=this;if(this.editor=e,e.getTextView&&e.getTextView()){var n=e.getTextView();n.setKeyBinding(new a.KeyBinding(\"s\",!0),\"save\");var i=t.commandService.findCommand(\"orion.edit.save\");i&&n.setAction(\"save\",function(){return i.callback.call({inputManager:t.inputManager}),!0},i),n.setAction(\"gotoLine\",function(n){return n?(e.onGotoLine(n.line-1,0,void 0,n.callback),!0):(t.commandService.runCommand(\"orion.edit.gotoLine\"),!0)},t.commandService.findCommand(\"orion.edit.gotoLine\")),this.textSearcher&&n.setAction(\"find\",function(e){return e?(t.textSearcher.show(e),!0):(t.commandService.runCommand(\"orion.edit.find\"),!0)},t.commandService.findCommand(\"orion.edit.find\"));var r=t.commandService.findCommand(\"orion.keyAssist\");r&&(n.setKeyBinding(new a.KeyStroke(191,!1,!0,!y.isMac,y.isMac),r.id),n.setAction(r.id,r.callback,r)),this.bindingChangeListener=function(e){this._handleBindingChanges(n,e)}.bind(this),this.commandService.addEventListener(\"bindingChanged\",this.bindingChangeListener)}},_handleBindingChanges:function(e,t){-1!==e.getActions(!0).indexOf(t.id)&&(t.prevBinding&&e.setKeyBinding(t.prevBinding,null),e.setKeyBinding(t.newBinding,t.id))},showKeyBindings:function(t){var n=this.editor;if(n&&n.getTextView&&n.getTextView()){var i=n.getTextView(),r=i.getActions(!0).filter(function(e){var t=i.getActionDescription(e);return t&&t.name});r.sort(function(e,t){return i.getActionDescription(e).name.localeCompare(i.getActionDescription(t).name)}),t.createHeader(e.Editor);for(var o,s=function(e){return function(){return i.focus(),i.invokeAction(e)}},a={},l=0;l<r.length;l++){var d=r[l],c=i.getActionDescription(d),h=i.getKeyBindings(d);if(h.length>0)for(var u=0;u<h.length;u++){o=h[u];var f=_.getUserKeyString(o);o.scopeName?(a[o.scopeName]||(a[o.scopeName]=[]),a[o.scopeName].push({bindingString:f,name:c.name,execute:s(d)})):t.createItem(o,c.name,d,s(d))}else t.createItem(null,c.name,d,s(d))}for(var p in a)if(a[p].length){t.createHeader(p);for(var g=0;g<a[p].length;g++)o=a[p][g],t.createItem(o,o.name,o.name,o.execute)}}},_createSettingsCommand:function(){var t=this,n=new s.Command({imageClass:\"core-sprite-wrench\",tooltip:e.LocalEditorSettings,id:\"orion.edit.settings\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed&&n.handler.localSettings},callback:function(e){var r=this.localSettings||t.localSettings,o=n.settingsDropDown;if(!o||o.isDestroyed()){o=n.settingsDropDown=new i(e.domNode.parentNode,e.domNode,{noClick:!0,selectionClass:\"dropdownSelection\",onShow:function(){o.focus()},onHide:function(){t.editor.focus()}}),o.updateContent=r.show.bind(r);var s=o.getContentNode();s.tabIndex=s.style.marginTop=0}o.click()}});this.commandService.addCommand(n)},_createDelimiterCommands:function(){var t=this,n=function(n){var i=t.editor;if(i&&i.getModel()){i.getModel().setLineDelimiter(n,!0);var r=t.serviceRegistry.getService(\"orion.page.progress\");if(r){var o=e[\"\\r\\n\"===n?\"ConversionCompleteCRLF\":\"ConversionCompleteLF\"];r.setProgressResult({Message:o})}i.focus()}},i=new s.Command({name:e[\"Windows (CR/LF)\"],id:\"orion.edit.convert.crlf\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed},callback:function(){n(\"\\r\\n\")}});this.commandService.addCommand(i);var r=new s.Command({name:e[\"Unix (LF)\"],id:\"orion.edit.convert.lf\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed},callback:function(){n(\"\\n\")}});this.commandService.addCommand(r)},_createClipboardCommands:function(){if(y.isIE||y.isElectron){var t=this,n=new s.Command({name:e.Copy,id:\"orion.edit.copy\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed},callback:function(){var e=this.editor||t.editor;if(e&&e.getTextView&&e.getTextView()){e.getTextView().copy(),e.focus()}}});this.commandService.addCommand(n);var i=new s.Command({name:e.Cut,id:\"orion.edit.cut\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed},callback:function(){var e=this.editor||t.editor;if(e&&e.getTextView&&e.getTextView()){e.getTextView().cut(),e.focus()}}});this.commandService.addCommand(i);var r=new s.Command({name:e.Paste,id:\"orion.edit.paste\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed},callback:function(){var e=this.editor||t.editor;if(e&&e.getTextView&&e.getTextView()){e.getTextView().paste(),e.focus()}}});this.commandService.addCommand(r)}},_createUndoStackCommands:function(){var t=this,n=new s.Command({name:e.Undo,id:\"orion.edit.undo\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed},callback:function(){(this.editor||t.editor).getUndoStack().undo()}});this.commandService.addCommand(n);var i=new s.Command({name:e.Redo,id:\"orion.edit.redo\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed},callback:function(){(this.editor||t.editor).getUndoStack().redo()}});this.commandService.addCommand(i)},_createSaveCommand:function(){var t=this,n=new s.Command({name:e.Save,tooltip:e.saveFile,imageClass:\"core-sprite-save\",id:\"orion.edit.save\",visibleWhen:function(e,n){var i=n.handler.inputManager||t.inputManager,r=n.handler.editor||t.editor||i&&i.getEditor();return!!(r&&r.installed&&i&&i.isSaveEnabled())},callback:function(){(this.inputManager||t.inputManager).save()}});this.commandService.addCommand(n)},_createOpenFolderCommand:function(){var t=this,n=new s.Command({name:e.OpenFolder,tooltip:e.OpenFolderTip,id:\"orion.edit.openFolder\",visibleWhen:function(e,t){return!!window.__dialogModule},callback:function(){window.__dialogModule.showOpenDialog({properties:[\"openDirectory\"]},function(e){e&&t.fileClient.changeWorkspace(e[0]).then(function(){return t.updateWorkspacePrefs(e[0])}).then(function(){delete sessionStorage.lastFile,window.location.hash=\"\",window.location.reload()})})}});this.commandService.addCommand(n)},_createOpenRecentCommand:function(){var t=this;this.preferences&&this.preferences.get(\"/workspace\").then(function(e){return e.recentWorkspaces}).then(function(n){var i=new s.Command({name:e.OpenRecent,selectionClass:\"dropdownSelection\",id:\"orion.edit.openRecent\",visibleWhen:function(e,t){return!!window.__dialogModule&&!!n},choiceCallback:function(){return n.map(function(e){return{name:e,callback:function(){t.fileClient.changeWorkspace(e).then(function(){return t.updateWorkspacePrefs(e)}).then(function(){delete sessionStorage.lastFile,window.location.hash=\"\",window.location.reload()})}}})}});t.commandService.addCommand(i)})},_createEncodingCommand:function(){var t=this,n=[\"UTF-8\",\"UTF-16LE\",\"iso-8859-1\",\"iso-8859-2\",\"iso-8859-3\",\"iso-8859-4\",\"iso-8859-5\",\"iso-8859-6\",\"iso-8859-7\",\"iso-8859-8\",\"iso-8859-9\",\"iso-8859-10\",\"iso-8859-11\",\"iso-8859-12\",\"iso-8859-13\",\"iso-8859-14\",\"iso-8859-15\",\"iso-8859-16\",\"windows-1250\",\"windows-1251\",\"windows-1252\",\"windows-1253\",\"windows-1254\",\"windows-1255\",\"windows-1256\",\"windows-1258\",\"gb18030\",\"gb2312\",\"gbk\",\"Big5\",\"Big5-HKSCS\",\"koi8-r\",\"koi8-u\",\"euc-jp\",\"euc-tw\",\"shift-jis\",\"iso-2022-jp\",\"iso-2022-kr\",\"iso-2022-cn\",\"hz\",\"MacRoman\"],i=new o(\"#{,resource,params*}\"),r=new s.Command({name:e.ReloadWith,selectionClass:\"dropdownSelection\",id:\"orion.edit.reloadWithEncoding\",visibleWhen:function(){var e=t.editor;return e&&e.installed},choiceCallback:function(){return n.map(function(e){return{name:e,callback:function(){var e=m.matchResourceParameters(),t=e.resource;delete e.resource,delete e.encoding,\"UTF-8\"!==this.name&&(e.encoding=this.name),window.location.href=i.expand({resource:t,params:e})}}})}});this.commandService.addCommand(r)},_createGotoLineCommnand:function(){var t=this,n=new l.ParametersDescription([new l.CommandParameter(\"line\",\"number\",e.gotoLinePrompt)],{hasOptionalParameters:!1},function(n){var i=n.handler.editor||t.editor,r=i.getModel().getLineAtOffset(i.getCaretOffset())+1;return[new l.CommandParameter(\"line\",\"number\",e.gotoLinePrompt,r.toString())]}),i=new s.Command({name:e.gotoLine,tooltip:e.gotoLineTooltip,id:\"orion.edit.gotoLine\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed},parameters:n,callback:function(n){var i,r=this.editor||t.editor,o=r.getModel();n.parameters&&n.parameters.valueFor(\"line\")?i=n.parameters.valueFor(\"line\"):(i=o.getLineAtOffset(r.getCaretOffset()),(i=prompt(e.gotoLinePrompt,i+1))&&(i=parseInt(i,10))),i&&r.onGotoLine(i-1,0)}});this.commandService.addCommand(i)},_createFindCommnand:function(){var t=this,i=new l.ParametersDescription([new l.CommandParameter(\"find\",\"text\",\"Find:\")],{clientCollect:!0},function(e){var n=e.handler.editor||t.editor,i=e.handler.textSearcher||t.textSearcher,r=n.getSelection(),o=\"\";if(r.end>r.start){o=n.getModel().getText(r.start,r.end),i&&i.getOptions().regex&&(o=v.escape(o))}return[new l.CommandParameter(\"find\",\"text\",\"Find:\",o)]}),r=new s.Command({name:e.Find,tooltip:e.Find,id:\"orion.edit.find\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor,r=n.handler.textSearcher||t.textSearcher;return i&&i.installed&&r},parameters:i,callback:function(e){var i=n.node(\"replaceCompareDiv\");if(i&&i.classList.contains(\"replaceCompareDivVisible\"))return!1;var o=this.editor||t.editor,s=this.textSearcher||t.textSearcher;r.textSearcher&&r.textSearcher!==s&&r.textSearcher.hide(),r.textSearcher=s;var a=\"\",l=null,d=o.getSelection();if(e.parameters&&e.parameters.valueFor(\"find\"))a=e.parameters.valueFor(\"find\"),l=f.matchResourceParameters(),h.convertFindURLBinding(l);else if(d.end>d.start){var c=o.getModel();a=c.getText(d.start,d.end),s.getOptions().regex&&(a=v.escape(a))}if(l){var u=(this.inputManager||t.inputManager).getFileMetadata();if(!u||l.resource!==u.Location)return;s.setOptions({regex:l.regEx,caseInsensitive:!l.caseSensitive,wholeWord:l.wholeWord});var p={};l.atLine&&(p.start=o.getModel().getLineStart(l.atLine-1)),s.show({findString:a,replaceString:l.replaceWith}),s.find(!0,p),t.commandService.closeParameterCollector()}else s.show({findString:a})}});this.commandService.addCommand(r)},_createBlameCommand:function(){var t=this,n=new s.Command({name:e.Blame,tooltip:e.BlameTooltip,id:\"orion.edit.blame\",parameters:new l.ParametersDescription([new l.CommandParameter(\"blame\",\"boolean\")],{clientCollect:!0}),visibleWhen:function(e,n){var i=n.handler.editor||t.editor,r=n.handler.blamer||t.blamer;return i&&i.installed&&r&&r.isVisible()},callback:function(e){for(var n=!1,i=this.editor||t.editor,r=this.blamer||t.blamer,o=i.getAnnotationModel().getAnnotations();o.hasNext();){if(o.next().type===g.AnnotationType.ANNOTATION_BLAME){n=!0;break}}n=!n,e.parameters&&e.parameters.valueFor(\"blame\")&&(n=\"true\"===e.parameters.valueFor(\"blame\")),n?r.doBlame():i.showBlame([]),i.focus()}});this.commandService.addCommand(n)},_createDiffCommand:function(){var t=this,n=new s.Command({name:e.Diff,tooltip:e.DiffTooltip,id:\"orion.edit.diff\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor,r=n.handler.differ||t.differ;return i&&i.installed&&r&&r.isVisible()},callback:function(){var e=this.editor||t.editor,n=this.differ||t.differ;n.toggleEnabled();var i=this.editorPreferences;i.getPrefs(function(e){e.diffService=n.isEnabled(),i.setPrefs(e)}),e.focus()}});this.commandService.addCommand(n)},_createShowTooltipCommand:function(){var t=this,n=new s.Command({name:e.showTooltip,tooltip:e.showTooltipTooltip,id:\"orion.edit.showTooltip\",visibleWhen:function(e,n){var i=n.handler.editor||t.editor;return i&&i.installed},callback:function(){var e=this.editor||t.editor,n=e.getTooltip(),i=e.getTextView(),r=i.getCaretOffset(),o=i.getLocationAtOffset(r);n.show({x:o.x,y:o.y,getTooltipInfo:function(){return e._getTooltipInfo(this.x,this.y)}},!1,!0)}});this.commandService.addCommand(n)},_onServiceRemoved:function(e){-1!==e.getProperty(\"objectClass\").indexOf(\"orion.edit.command\")&&(this._recreateEditCommands=!0)},_onServiceAdded:function(e){-1!==e.getProperty(\"objectClass\").indexOf(\"orion.edit.command\")&&(this._recreateEditCommands=!0),-1!==e.getProperty(\"objectClass\").indexOf(\"orion.core.contenttype\")&&(T=null)},_createEditCommands:function(){var n=this;this._recreateEditCommands=!1;var i=this.serviceRegistry,o=this.commandService,a=i.getServiceReferences(\"orion.edit.command\"),l=i.getService(\"orion.page.progress\"),h=i.getService(\"orion.page.message\"),f=w.bind(null,i),p=function(i,r,o){var a=o.visibleWhen;return o.visibleWhen=function(e,t){var r=t.handler.editor||n.editor,o=t.handler.inputManager||n.inputManager;return!!(r&&r.installed&&o)&&((!i.editor||!r.id||i.editor===r.id)&&(!n.inputManager.getReadOnly()&&(!a||a(e))))},o.callback=function(s){var a,d,c=this.editor||n.editor,p=this.inputManager||n.inputManager,g=c.getSelection?c.getSelection():{start:0,end:0},v=c.getModel(),m=function(e){\"object\"==typeof e&&e?(e.text&&c.setText(e.text),e.selection&&(c.setSelection&&c.setSelection(e.selection.start,e.selection.end,!0),c.focus())):\"string\"==typeof e&&(c.setText(e,g.start,g.end,!0),c.setSelection&&c.setSelection(g.start,g.start+e.length),c.focus())};if(r.execute){var _={contentType:p.getContentType(),input:p.getInput(),offset:c.getCaretOffset()};if(\"orion.edit.quickfix\"===i.scopeId&&(_.annotation={start:s.userData.start,end:s.userData.end,title:s.userData.title,id:s.userData.id,data:s.userData.data},s.userData.doFixAll&&s.userData._annotationModel)){_.doFixAll=!0,_.annotations=[];for(var y=s.userData._annotationModel._annotations,w=0;w<y.length;w++)y[w].id===s.userData.id&&_.annotations.push({start:y[w].start,end:y[w].end,title:y[w].title,id:y[w].id,data:y[w].data})}var x=c.getEditorContext();x.openDelegatedUI=function(){var e=arguments[0];e=e||{},e.done=m,e.status=f,e.params=e.params||{},u.mixin(e.params,p.getFileMetadata()),C.apply(null,Array.prototype.slice.call(arguments))},x.setStatus=f,c.focus(),a=r.execute(x,_)}else a=r.run(v.getText(g.start,g.end),v.getText(),g,p.getInput());d=function(e){if(e&&e.uriTemplate){var t={};t.uriTemplate=e.uriTemplate,t.params=p.getFileMetadata(),t.id=i.id,t.width=e.width,t.height=e.height,t.done=m,t.status=f,C(t)}else e&&e.searchParams?n.sideBar&&n.sideBar.fillSearchPane(e.searchParams,e.refResult?e:null):e&&(e.Status||e.status)?f(e.Status||e.status):m(e)};var S=t.formatMessage(e.running,o.name);return h&&h.createProgressMonitor(a,S),l.showWhile(a,S).then(d),!0},new s.Command(o)};return r.when(function(e){if(T)return T;var t=e.getService(\"orion.core.contentTypeRegistry\");return t||(t=new c.ContentTypeRegistry(e),t=e.getService(\"orion.core.contentTypeRegistry\")),t.getContentTypes().then(function(e){return T=e})}(this.serviceRegistry),function(){var e=[];return a.forEach(function(t){for(var i=n.serviceRegistry.getService(t),r={},s=t.getPropertyKeys(),a=0;a<s.length;a++)r[s[a]]=t.getProperty(s[a]);r.forceSingleItem=!0;var l=d._createCommandOptions(r,t,n.serviceRegistry,T,!1,function(e){return n.inputManager.getFileMetadata()}).then(function(e){var t=p(r,i,e);return t.editInfo=r,o.addCommand(t),t});e.push(l)}),r.all(e,x)})}},b.EditorCommandFactory=S,b.handleStatusMessage=w,b}),/*******************************************************************************\n * @license\n * Copyright (c) 2009, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"embeddedEditor/helper/memoryFileSysConst\",[],function(){return{MEMORY_FILE_PATTERN:\"/in_memory_fs/\",MEMORY_FILE_PROJECT_PATTERN:\"/in_memory_fs/project/\"}}),/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/encoding-shim\",function(){}),/*******************************************************************************\n * @license\n * Copyright (c) 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nn(\"embeddedEditor/helper/embeddedFileImpl\",[\"orion/Deferred\",\"embeddedEditor/helper/memoryFileSysConst\",\"orion/encoding-shim\",\"orion/URL-shim\"],function(e,t){function n(e){this.fileBase=e,this.fileRoot={},this.fileRoot[t.MEMORY_FILE_PROJECT_PATTERN]={Location:t.MEMORY_FILE_PROJECT_PATTERN,Directory:!0}}return n.prototype={fetchChildren:function(){return(new e).resolve([])},loadWorkspaces:function(){return(new e).resolve([])},loadWorkspace:function(){return(new e).resolve([])},createProject:function(){throw new Error(\"Not supported\")},createFolder:function(){throw new Error(\"Not supported\")},createFile:function(e,t){var n=e+t;return this._getFile(n,!0),this.read(n,!0)},moveFile:function(){throw new Error(\"Not supported\")},copyFile:function(){throw new Error(\"Not supported\")},remoteImport:function(){throw new Error(\"Not supported\")},remoteExport:function(){throw new Error(\"Not supported\")},writeBlob:function(){throw new Error(\"Not supported\")},_getFile:function(e,t){var n=new URL(e),i=n.pathname;return void 0===this.fileRoot[i]&&t&&(this.fileRoot[i]={Name:n.pathname.split(\"/\").pop(),Location:i,LocalTimeStamp:Date.now(),ETag:0}),this.fileRoot[i]},read:function(n,i){var r=this._getFile(n);if(void 0===r)return(new e).resolve(i?{}:\"\");if(i){var o=n===t.MEMORY_FILE_PROJECT_PATTERN?[]:[this.fileRoot[t.MEMORY_FILE_PROJECT_PATTERN]],s={Length:r.length,Directory:!!r.Directory,LocalTimeStamp:r.LocalTimeStamp,ETag:r.ETag,Location:r.Location,Name:r.Name,Parents:o};return(new e).resolve(s)}return(new e).resolve(r.contents)},write:function(e,t,n){var i=this._getFile(e,!0);return\"string\"==typeof t&&(i.ETag++,i.LocalTimeStamp=Date.now(),i.contents=t),this.read(e,!0)},deleteFile:function(t){var n=new URL(t),i=n.pathname;return delete this.fileRoot[i],(new e).resolve()}},n.prototype.constructor=n,n}),/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2015 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nn(\"orion/pluginregistry\",[\"orion/Deferred\",\"orion/EventTarget\",\"orion/URL-shim\"],function(e,t){function n(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;n.sort(),i.sort();for(var r=0,o=n.length;r<o;r++){var s=n[r];if(s!==i[r])return!1;var a=e[s],l=t[s];if(a!==l&&JSON.stringify(a)!==JSON.stringify(l))return!1}return!0}function i(e){for(var t=Object.prototype.hasOwnProperty,n=1,i=arguments.length;n<i;n++){var r=arguments[n];for(var o in r)t.call(r,o)&&(e[o]=r[o])}return e}function r(e){if(-1===e.indexOf(\"://\"))try{return new URL(e,location.href).href}catch(e){}return e}function o(e){function t(){return n=n||Object.keys(e)}var n=null,i={key:function(e){return t()[e]},getItem:function(t){return e[t]},setItem:function(t,i){e[t]=i,n=null},removeItem:function(t){delete e[t],n=null},clear:function(){t().forEach(function(t){delete e[t]}.bind(this)),n=null}};return Object.defineProperty(i,\"length\",{get:function(){return t().length}}),i}function s(e,t){if(t&&t instanceof XMLHttpRequest){var n,i;try{n=t.status,i=t.statusText}catch(e){n=0,i=\"\"}return{status:n||0,statusText:i}}return t}function a(e){var t=e?JSON.parse(JSON.stringify(e,s)):e;return e instanceof Error&&(t.__isError=!0,t.message=t.message||e.message,t.name=t.name||e.name),t}function l(e,t){this.type=e,this.plugin=t}function d(e,t){this.__objectId=e,this.__methods=t}function c(i,r,o){function s(e){T&&o.postMessage(e,T)}function c(t){if(!T)return(new e).reject(new Error(\"plugin not connected\"));t.id=String(V++);var n=new e;H[t.id]=n,n.then(null,function(e){\"active\"===P&&e instanceof Error&&\"Cancel\"===e.name&&s({requestId:t.id,method:\"cancel\",params:e.message?[e.message]:[]})});var i=Object.prototype.toString;return t.params.forEach(function(e,r){if(\"[object Object]\"===i.call(e)&&!(e instanceof d)){var o,s;for(o in e)\"[object Function]\"===i.call(e[o])&&(s=s||[],s.push(o));if(s){var a=U++;K[a]=e;var l=function(){delete K[a]};n.then(l,l),t.params[r]=new d(a,s)}}}),o.postMessage(t,T),n.promise}function h(e,t){e||0===e?s({id:e,result:null,error:t}):console.log(t)}function u(e,t,n,i){i.forEach(function(e,t){if(e&&void 0!==e.__objectId){var n={};e.__methods.forEach(function(t){n[t]=function(){return c({objectId:e.__objectId,method:t,params:Array.prototype.slice.call(arguments)})}}),i[t]=n}});var r=void 0===e?null:{id:e,result:null,error:null};try{var o=n.apply(t,i);if(!r)return;o&&\"function\"==typeof o.then?(W[e]=o,o.then(function(t){delete W[e],r.result=t,s(r)},function(t){W[e]&&(delete W[e],r.error=a(t),s(r))},function(){s({responseId:e,method:\"progress\",params:Array.prototype.slice.call(arguments)})})):(r.result=o,s(r))}catch(e){r&&(r.error=a(e),s(r))}}function f(e){try{if(e.method){var t=e.method,n=e.params||[];if(\"serviceId\"in e){var i=L[e.serviceId];if(i)if(_(i)){var r=o.serviceRegistry;i=r.getService(i),t in i?u(e.id,i,i[t],n):h(e.id,\"method not found\")}else h(e.id,\"not trusted\");else h(e.id,\"service not found\")}else if(\"objectId\"in e){var s=K[e.objectId];s?t in s?u(e.id,s,s[t],n):h(e.id,\"method not found\"):h(e.id,\"object not found\")}else if(\"requestId\"in e){var a=W[e.requestId];a&&\"cancel\"===t&&a.cancel&&a.cancel.apply(a,n)}else if(\"responseId\"in e){var l=H[e.responseId];l&&\"progress\"===t&&l.progress&&l.progress.apply(l,n)}else if(\"loading\"===e.method)T.loading();else if(\"plugin\"===e.method){T.connected();var d=e.params[0];k({headers:d.headers,services:d.services}).then(function(){b&&b.resolve(x)}),d.updateRegistry&&y()}else{if(\"timeout\"!==e.method&&\"error\"!==e.method)throw new Error(\"Bad method: \"+e.method);b&&b.reject(e.error)}}else if(e.id){var c=H[String(e.id)];if(c)if(delete H[String(e.id)],e.error){var f=o.handleServiceError(x,e.error);c.reject(f)}else c.resolve(e.result)}}catch(e){console.log(\"Plugin._messageHandler \"+e)}}function p(e){var n={};if(e.methods&&(e.methods.forEach(function(t){n[t]=function(){var n={serviceId:e.serviceId,method:t,params:Array.prototype.slice.call(arguments)};return\"active\"===P?c(n):x.start({transient:!0}).then(function(){return c(n)})}}),n.addEventListener&&n.removeEventListener)){var i=new t,r=U++;K[r]={handleEvent:i.dispatchEvent.bind(i)};var o=new d(r,[\"handleEvent\"]),s=n.addEventListener;n.addEventListener=function(e,t){i._namedListeners[e]||s(e,o),i.addEventListener(e,t)};var a=n.removeEventListener;n.removeEventListener=function(e,t){i.removeEventListener(e,t),i._namedListeners[e]||a(e,o)}}return n}function g(e){var t=JSON.parse(JSON.stringify(e.properties));t.__plugin__=i;var n=e.names||e.type||[];return Array.isArray(n)||(n=[n]),t.objectClass=n,t}function v(e){var t=p(e),n=g(e),i=o.registerService(e.names||e.type,t,n);F[e.serviceId]={registration:i,proxy:t}}function m(){var e=[];return Object.keys(L).forEach(function(t){var n=L[t],i={};n.getPropertyKeys().forEach(function(e){i[e]=n.getProperty(e)}),[\"service.id\",\"service.names\",\"objectClass\",\"__plugin__\"].forEach(function(e){delete i[e]});var r=[],s=o.serviceRegistry,a=s.getService(n);for(var l in a)\"function\"==typeof a[l]&&r.push(l);e.push({serviceId:String(n.getProperty(\"service.id\")),names:n.getProperty(\"service.names\"),methods:r,properties:i})}),{services:e}}function _(e){var t=new URL(i);if(t.origin===location.origin)return!0;var n=e.getProperty(\"__plugin__\");return t.origin===(n?new URL(n):location).origin}function y(){function e(e,t,n){var i=n.serviceReference,r=i.getProperty(\"service.id\");!L[r]&&_(i)&&(e&&(L[r]=i),t&&delete L[r],y())}if(!L){L={};var t=o.serviceRegistry;t.getServiceReferences().forEach(function(e){_(e)&&(L[e.getProperty(\"service.id\")]=e)}),t.addEventListener(\"registered\",M=e.bind(null,!0,!1)),t.addEventListener(\"unregistered\",A=e.bind(null,!1,!0)),t.addEventListener(\"modified\",D=e.bind(null,!1,!1))}c({method:\"plugin\",params:[m()]})}function C(){var e=o.serviceRegistry;M&&e.removeEventListener(\"registered\",M),A&&e.removeEventListener(\"unregistered\",A),D&&e.removeEventListener(\"modified\",D),M=A=D=null}function w(){o.persist(i,{created:O,headers:N,services:I,autostart:R,lastModified:B})}var x=this;r=r||{};var S,b,T,E,L,k,M,A,D,O=r.created||(new Date).getTime(),N=r.headers||{},I=r.services||[],R=r.autostart,B=r.lastModified||0,P=\"installed\",F={},V=0,U=0,W={},H={},K={};this._default=!1,this._persist=w,this._resolve=function(){P=\"resolved\",o.dispatchEvent(new l(\"resolved\",x))},this._getAutostart=function(){return R},this._getCreated=function(){return O},this.getLocation=function(){return i},this.getHeaders=function(){return JSON.parse(JSON.stringify(N))},this.getName=function(){var e=this.getHeaders();return e?e.name||\"\":null},this.getVersion=function(){var e=this.getHeaders();return e?e.version||\"0.0.0\":null},this.getLastModified=function(){return B},this.getServiceReferences=function(){var e=[];return Object.keys(F).forEach(function(t){e.push(F[t].registration.getReference())}),e},this.setParent=function(t){return E!==t?(E=t,x.stop({transient:!0}).then(function(){return\"started\"===R?x.start({transient:!0}):\"lazy\"===R?x.start({lazy:!0,transient:!0}):void 0})):(new e).resolve()},this.getState=function(){return P},this.getProblemLoading=function(){return!!x._problemLoading},this.start=function(t){if(\"uninstalled\"===P)return(new e).reject(new Error(\"Plugin is uninstalled\"));if(S)return S.promise.then(this.start.bind(this,t));if(\"active\"===P)return(new e).resolve();if(!t||!t.transient){var n=t&&t.lazy?\"lazy\":\"started\";n!==R&&(R=n,w())}var r=o.getState();if(\"starting\"!==r&&\"active\"!==r)return t.transient?(new e).reject(new Error(\"start transient error\")):(new e).resolve();if(\"installed\"===P)try{this._resolve()}catch(t){return(new e).reject(t)}if(\"resolved\"===P&&I.forEach(function(e){v(e)}),t&&t.lazy){\"starting\"!==P&&(P=\"starting\",o.dispatchEvent(new l(\"lazy activation\",x)));var s=(new Date).getTime();return!this.getLastModified()||s>this.getLastModified()+864e5?this.update():(new e).resolve()}var a=new e;return S=a,P=\"starting\",x._problemLoading=null,o.dispatchEvent(new l(\"starting\",x)),b=new e,T=o.connect(i,f,E),b.then(function(){b=null,P=\"active\",o.dispatchEvent(new l(\"started\",x)),S=null,a.resolve()},function(e){b=null,P=\"stopping\",o.dispatchEvent(new l(\"stopping\",x)),Object.keys(F).forEach(function(e){F[e].registration.unregister(),delete F[e]}),o.disconnect(T),T=null,P=\"resolved\",S=null,o.dispatchEvent(new l(\"stopped\",x)),x._problemLoading=!0,a.reject(new Error(\"Failed to load plugin: \"+i+(e&&e.message?\"\\n    Reason: \"+e.message:\"\"))),x._default&&(B=0,w())}),a.promise},this.stop=function(t){if(\"uninstalled\"===P)return(new e).reject(new Error(\"Plugin is uninstalled\"));if(S)return S.promise.then(this.stop.bind(this,t));if(t&&t.transient||\"stopped\"!==R&&(R=\"stopped\",w()),\"active\"!==P&&\"starting\"!==P)return(new e).resolve();var n=new e;return S=n,P=\"stopping\",o.dispatchEvent(new l(\"stopping\",x)),Object.keys(F).forEach(function(e){F[e].registration.unregister(),delete F[e]}),T&&(o.disconnect(T),T=null,C()),P=\"resolved\",S=null,o.dispatchEvent(new l(\"stopped\",x)),n.resolve(),n.promise},k=function(t){if(x.problemLoading=null,\"uninstalled\"===P)return(new e).reject(new Error(\"Plugin is uninstalled\"));if(!t)return 0===B&&(B=(new Date).getTime(),w()),o.loadManifest(i).then(k,function(){x._problemLoading=!0,x._default&&(B=0,w()),console.log(\"Failed to load plugin: \"+i)});var r=N,s=I,a=R;if(N=t.headers||{},I=t.services||[],R=t.autostart||R,t.lastModified?B=t.lastModified:(B=(new Date).getTime(),w()),n(N,r)&&n(I,s)&&R===a)return(new e).resolve();if(\"active\"===P||\"starting\"===P){var d=[];Object.keys(I).forEach(function(e){var t=I[e];d.push(e);var i=F[e];if(i){if(n(t.methods,Object.keys(i.proxy))){var r=g(t),o=i.registration.getReference(),s={};return o.getPropertyKeys().forEach(function(e){s[e]=o.getProperty(e)}),void(n(r,s)||i.registration.setProperties(r))}i.registration.unregister(),delete F[e]}v(t)}),Object.keys(F).forEach(function(e){-1===d.indexOf(e)&&(F[e].registration.unregister(),delete F[e])})}return\"active\"===P&&(o.disconnect(T),b=new e,T=o.connect(i,f,E),b.then(function(){b=null},function(){b=null,P=\"stopping\",o.dispatchEvent(new l(\"stopping\"),x),Object.keys(F).forEach(function(e){F[e].registration.unregister(),delete F[e]}),o.disconnect(T),T=null,P=\"resolved\",o.dispatchEvent(new l(\"stopped\",x))})),(new e).resolve()},this.update=function(e){return k(e).then(function(){o.dispatchEvent(new l(\"updated\",x))})},this.uninstall=function(){return\"uninstalled\"===P?(new e).reject(new Error(\"Plugin is uninstalled\")):\"active\"===P||\"starting\"===P||\"stopping\"===P?this.stop().then(this.uninstall.bind(this),this.uninstall.bind(this)):(o.removePlugin(this),P=\"uninstalled\",o.dispatchEvent(new l(\"uninstalled\",x)),(new e).resolve())}}function h(n,s){function a(e,t){try{var n;if(void 0===e.useStructuredClone){var i=\"string\"!=typeof t.data;n=i?t.data:JSON.parse(t.data),e.useStructuredClone=i}else n=e.useStructuredClone?t.data:JSON.parse(t.data);e.handler(n)}catch(e){}}function d(e){var t=e.source;w.some(function(n){if(t===n.target)return a(n,e),!0})}s=s||{};var h=s.storage||localStorage;h.getItem||(h=o(h));var m,_=parseInt(h.getItem(\"pluginregistry.default.timeout\"),10)||void 0,y=\"installed\",C=[],w=[],x=new t,S={},b={serviceRegistry:n,registerService:n.registerService.bind(n),connect:function(e,t,n,i){function r(t){localStorage&&localStorage.pluginLogging&&console.log(t+\"(\"+((new Date).getTime()-s._startTime)+\"ms)=\"+e)}function o(e){r(\"timeout\");var n=new Error(e);n.name=\"timeout\",t({method:\"timeout\",error:n})}var s={handler:t,url:e};i=i||_,s._updateTimeout=function(){var t,n;if(!this._connected&&!this._closed)if(this._handshake){var r=0;w.forEach(function(e){e._connected||e._closed||(r+=1e3)}),t=\"Plugin handshake timeout for: \"+e,n=this._loading?5e3:(i||6e4)+r}else t=\"Plugin load timeout for: \"+e,n=i||15e3;this._loadTimeout&&clearTimeout(this._loadTimeout),this._loadTimeout=0,n&&(this._loadTimeout=setTimeout(o.bind(null,t),n))};var l=!(!e.match(f)||\"undefined\"==typeof Worker),d=!(!e.match(p)||\"undefined\"==typeof SharedWorker);if(localStorage&&localStorage.useSharedWorkers&&d||!e.match(p)||(e=e.replace(p,v),d=!1),localStorage&&localStorage.useWorkers&&l||!e.match(f)||(e=e.replace(f,g),l=d=!1),s.url=e,s._updateTimeout(),s._startTime=(new Date).getTime(),l){var c;d?(c=new SharedWorker(e),s.target=c.port,c.port.start(),s._close=function(){c.port.close()}):(c=new Worker(e),s.target=c,s._close=function(){c.terminate()}),s.postMessage=function(e){this.target.postMessage(this.useStructuredClone?e:JSON.stringify(e),[])},s.target.addEventListener(\"message\",function(e){a(s,e)})}else{var h=document.createElement(\"iframe\");h.name=e+\"_\"+s._startTime,h.src=e,h.onload=function(){r(\"handshake\"),s._handshake=!0,s._updateTimeout()},h.sandbox=\"allow-scripts allow-same-origin allow-forms allow-popups\",h.style.width=h.style.height=\"100%\",h.frameBorder=0,(n||m).appendChild(h),s.target=h.contentWindow,s.postMessage=function(e){this.target.postMessage(this.useStructuredClone?e:JSON.stringify(e),this.url)},s._close=function(){if(h){var e=h.parentNode;e&&e.removeChild(h),h=null}}}return s.connected=function(){r(\"connected\"),this._connected=!0,this._updateTimeout()},s.loading=function(){r(\"loading\"),this._loading=!0,this._updateTimeout()},s.close=function(){r(\"closed\"),this._closed=!0,this._updateTimeout(),this._close()},w.push(s),s},disconnect:function(e){for(var t=0;t<w.length;t++)if(e===w[t]){w.splice(t,1);try{e.close()}catch(e){}break}},removePlugin:function(e){for(var t=0;t<C.length;t++)if(e===C[t]){C.splice(t,1);break}h.removeItem(\"plugin.\"+e.getLocation())},getPersisted:function(e){var t=\"plugin.\"+e,n=h.getItem(t);return n&&(n=JSON.parse(n),n.created)?n:null},persist:function(e,t){h.setItem(\"plugin.\"+e,JSON.stringify(t))},postMessage:function(e,t){t.postMessage(e)},dispatchEvent:function(e){try{x.dispatchEvent(e)}catch(e){console&&console.log(\"PluginRegistry.dispatchEvent \"+e)}},loadManifest:function(t){var n=new e,i=b.connect(t,function(e){if(i&&e.method)if(\"manifest\"===e.method||\"plugin\"===e.method){var t=e.params[0];b.disconnect(i),i=null,n.resolve(t)}else\"timeout\"===e.method||\"error\"===e.method?(b.disconnect(i),i=null,n.reject(e.error)):\"loading\"===e.method&&i.loading()});return n.promise},getState:function(){return y},handleServiceError:function(e,t){if(t&&401===t.status){var n=e.getHeaders(),i=e.getName()||e.getLocation(),r=document.createElement(\"span\");if(r.appendChild(document.createTextNode(\"Authentication required for: \"+i+\".\")),n.login){r.appendChild(document.createTextNode(\" \"));var o=document.createElement(\"a\");o.target=\"_blank\",o.textContent=\"Login\",o.href=n.login,u.test(o.href)?(r.appendChild(o),r.appendChild(document.createTextNode(\" and re-try the request.\"))):console.log(\"Illegal Login URL: \"+n.login)}return{Severity:\"Error\",HTML:!0,Message:(new XMLSerializer).serializeToString(r)}}if(t.__isError){var s=t;t=new Error(s.message),Object.keys(s).forEach(function(e){t[e]=s[e]}),delete t.__isError}return t}};this.getLocation=function(){return\"System\"},this.getHeaders=function(){return{}},this.getName=function(){return\"System\"},this.getVersion=function(){return\"0.0.0\"},this.getLastModified=function(){return 0},this.getState=b.getState,this.init=function(){\"starting\"!==y&&\"active\"!==y&&\"stopping\"!==y&&(s.parent?m=s.parent:(m=document.createElement(\"div\"),s.visible||(m.style.display=\"none\",m.style.visibility=\"hidden\"),document.body.appendChild(m)),s.plugins&&Object.keys(s.plugins).forEach(function(e){e=r(e);var t=this.getPlugin(e);if(t)t._default=!0;else{var n=s.plugins[e];\"object\"!=typeof n&&(n=b.getPersisted(e)||{}),n.autostart=n.autostart||s.defaultAutostart||\"lazy\",t=new c(e,n,b),t._default=!0,C.push(t)}}.bind(this)),C.sort(function(e,t){return e._getCreated()<t._getCreated()?-1:1}),y=\"starting\")},this.start=function(){if(\"starting\"!==y&&this.init(),\"starting\"!==y)return(new e).reject(\"Cannot start framework. Framework is already \"+y+\".\");var t=[];return C.forEach(function(e){var n=e._getAutostart();\"started\"===n?t.push(e.start({transient:!0})):\"lazy\"===n?t.push(e.start({lazy:!0,transient:!0})):e._resolve()}),e.all(t,function(e){console.log(\"PluginRegistry.stop \"+e)}).then(function(){y=\"active\"})},this.stop=function(){if(\"starting\"!==y&&\"active\"!==y)return(new e).reject(\"Cannot stop registry. Registry is already \"+y+\".\");y=\"stopping\";var t=[];return C.forEach(function(e){t.push(e.stop({transient:!0}))}),e.all(t,function(e){console.log(\"PluginRegistry.stop \"+e)}).then(function(){if(!s.parent){var e=m.parentNode;e&&e.removeChild(m)}m=null,removeEventListener(\"message\",d),y=\"resolved\"})},this.update=function(){this.stop().then(this.start.bind(this))},this.uninstall=function(){return(new e).reject(\"Cannot uninstall registry\")},this.installPlugin=function(t,n){t=r(t);var o=this.getPlugin(t);if(o)return(new e).resolve(o);if(S[t])return S[t];if(n)return\"lazy\"===n.autostart&&(n=i({},b.getPersisted(t),n)),o=new c(t,n,b),C.push(o),o._persist(),b.dispatchEvent(new l(\"installed\",o)),(new e).resolve(o);var s=b.loadManifest(t).then(function(e){return o=new c(t,e,b),C.push(o),o._persist(),delete S[t],b.dispatchEvent(new l(\"installed\",o)),o},function(e){throw delete S[t],e});return S[t]=s,s},this.getPlugins=function(){return C.slice()},this.getPlugin=function(e){var t=null;return e=r(e),C.some(function(n){if(e===n.getLocation())return t=n,!0}),t},this.addEventListener=x.addEventListener.bind(x),this.removeEventListener=x.removeEventListener.bind(x),this.resolvePlugins=function(){var e=!0;return C.forEach(function(t){e=e&&t._resolve()}),e}}var u=new RegExp(\"^http[s]?\",\"i\"),f=/Worker\\.js$/,p=/SharedWorker\\.js$/,g=\"Plugin.html\",v=\"Worker.js\";return{Plugin:c,PluginRegistry:h}});/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\nvar i=null,r=document.getElementsByTagName(\"script\");if(r&&r.length&&r.length>0){for(var o=0;o<2;o++){for(var s=0;s<r.length;s++)if(0===o){if(\"orion.codeEdit\"===r[s].id){i=r[s].src;break}}else{var a=/.*built-codeEdit.*.js/;if(r[s].src&&a.exec(r[s].src)){i=r[s].src;break}}if(i)break}i||(i=r[r.length-1].src)}/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2014 IBM Corporation and others. All rights reserved. This\n * program and the accompanying materials are made available under the terms of\n * the Eclipse Public License v1.0 (http://www.eclipse.org/legal/epl-v10.html),\n * and the Eclipse Distribution License v1.0\n * (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *        Felipe Heidrich (IBM Corporation) - initial API and implementation\n *        Silenio Quarti (IBM Corporation) - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013,2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *        Felipe Heidrich (IBM Corporation) - initial API and implementation\n *        Silenio Quarti (IBM Corporation) - initial API and implementation\n *        Mihai Sucan (Mozilla Foundation) - fix for Bug#334583 Bug#348471 Bug#349485 Bug#350595 Bug#360726 Bug#361180 Bug#362835 Bug#362428 Bug#362286 Bug#354270 Bug#361474 Bug#363945 Bug#366312 Bug#370584\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2015 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2009, 2015 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2014 IBM Corporation and others. All rights reserved.\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *    IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2015 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *        Felipe Heidrich (IBM Corporation) - initial API and implementation\n *        Silenio Quarti (IBM Corporation) - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013, 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2014 IBM Corporation and others. All rights reserved.\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *    IBM Corporation - initial API and implementation\n *    Adrian Aichner - regular expression capture group support in replace\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2014 IBM Corporation and others. All rights reserved. This\n * program and the accompanying materials are made available under the terms of\n * the Eclipse Public License v1.0 (http://www.eclipse.org/legal/epl-v10.html),\n * and the Eclipse Distribution License v1.0\n * (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013, 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2014 IBM Corporation and others. All rights reserved. This\n * program and the accompanying materials are made available under the terms of\n * the Eclipse Public License v1.0 (http://www.eclipse.org/legal/epl-v10.html),\n * and the Eclipse Distribution License v1.0\n * (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n *               Alex Lakatos - fix for bug#369781\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013, 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2014 Pivotal Software Inc. and others\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: Pivotal Software Inc. - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2012 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2014 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:  IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2010, 2016 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2013 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License v1.0\n * (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution\n * License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors:  IBM Corporation - initial API and implementation\n ******************************************************************************/\n/*******************************************************************************\n * @license\n * Copyright (c) 2011, 2012 IBM Corporation and others. All rights reserved. This\n * program and the accompanying materials are made available under the terms of\n * the Eclipse Public License v1.0 (http://www.eclipse.org/legal/epl-v10.html),\n * and the Eclipse Distribution License v1.0\n * (http://www.eclipse.org/org/documents/edl-v10.html).\n *\n * Contributors: IBM Corporation - initial API and implementation\n ******************************************************************************/\nreturn n(\"embeddedEditor/helper/bootstrap\",[\"embeddedEditor/helper/embeddedFileImpl\",\"embeddedEditor/helper/memoryFileSysConst\",\"orion/pluginregistry\",\"orion/Deferred\",\"orion/URL-shim\"],function(e,t,n,r){function o(t,o,d){if(s)return s;var c;if(c=d&&d._defaultPlugins?d._defaultPlugins:l,d&&d.defaultPlugins){var h=[];d.defaultPlugins.forEach(function(e){var t=e.split(\"/\").pop();c.some(function(e){return-1!==e.indexOf(t)&&(h.push(e),!0)})}),c=h}s=new r;var u=new e(a);t.registerService(\"orion.core.file\",u,{Name:\"Embedded File System\",top:a,pattern:a});var f={};c.forEach(function(e){var t=new URL(e,i);f[t.href]={autostart:\"lazy\"}}),c=d&&d.userPlugins?d.userPlugins:[],c.forEach(function(e){f[e]={autostart:\"lazy\"}});var p=new n.PluginRegistry(t,{storage:{},plugins:f});return p.start().then(function(){var e={serviceRegistry:t,pluginRegistry:p};return o.getContentType(\"text/plain\")||t.registerService(\"orion.core.contenttype\",{},{contentTypes:[{id:\"text/plain\",name:\"Text\",extension:[\"txt\"]}]}),s.resolve(e),e})}var s,a=t.MEMORY_FILE_PATTERN,l=[];return{startup:o}}),n(\"orion/editor/undoStack\",[],function(){function e(e,t,n,i,r){this.model=e,this.offset=t,this.text=n,this.previousText=i,this.type=r}function t(e){this.owner=e,this.changes=[]}function n(e,t){this.size=void 0!==t?t:100,this.reset();var n=this;if(this._listener={onChanging:function(e){n._onChanging(e)},onDestroy:function(e){n._onDestroy(e)}},e.getModel){var i=e.getModel();i.getBaseModel&&(i=i.getBaseModel()),this.model=i,this.setView(e)}else this.shared=!0,this.model=e;this.model.addEventListener(\"Changing\",this._listener.onChanging)}return e.prototype={getRedoChanges:function(){return[{start:this.offset,end:this.offset+this.previousText.length,text:this.text}]},getUndoChanges:function(){return[{start:this.offset,end:this.offset+this.text.length,text:this.previousText}]},undo:function(e,t){return this._doUndoRedo(this.offset,this.previousText,this.text,e,t),!0},redo:function(e,t){return this._doUndoRedo(this.offset,this.text,this.previousText,e,t),!0},merge:function(e,t,n,i,r){if(i===this.type){if(1===i&&e===this.offset+this.text.length)return this.text+=t,!0;if(-1===i&&r===this.offset)return this.offset=e,this.previousText=n+this.previousText,!0;if(-1===i&&e===this.offset)return this.previousText=this.previousText+n,!0}return!1},_doUndoRedo:function(e,t,n,i,r){if(this.model.actionType=\"redo\",this.model.setText(t,e,e+n.length),r&&i){var o=i.getModel();o!==this.model&&(e=o.mapOffset(e,!0)),i.setSelection(e,e+t.length)}this.model.actionType=\"\"}},t.prototype={getRedoChanges:function(){for(var e=[],t=0;t<this.changes.length;t++)e=e.concat(this.changes[t].getRedoChanges());return e},getUndoChanges:function(){for(var e=[],t=this.changes.length-1;t>=0;t--)e=e.concat(this.changes[t].getUndoChanges());return e},add:function(e){this.changes.push(e)},end:function(e){e&&(this.endSelection=e.getSelections(),this._mapSelections(e,this.endSelection,!1));var t=this.owner;t&&t.end&&t.end()},undo:function(e,t){this.changes.length>1&&e&&e.setRedraw(!1);for(var n=this.changes.length-1;n>=0;n--)this.changes[n].undo(e,!1);if(t&&e){var i=this._mapSelections(e,this.startSelection,!0);e.setSelections(i)}this.changes.length>1&&e&&e.setRedraw(!0);var r=this.owner;return r&&r.undo&&r.undo(),this.changes.length>0},redo:function(e,t){this.changes.length>1&&e&&e.setRedraw(!1);for(var n=0;n<this.changes.length;n++)this.changes[n].redo(e,!1);if(t&&e){var i=this._mapSelections(e,this.endSelection,!0);e.setSelections(i)}this.changes.length,e&&e.setRedraw(!0);var r=this.owner;return r&&r.redo&&r.redo(),this.changes.length>0},merge:function(e,t,n,i,r,o){var s=this.changes.length;return s>0&&this===o&&this.changes[s-1].merge(e,t,n,i,r)},start:function(e){e&&(this.startSelection=e.getSelections(),this._mapSelections(e,this.startSelection,!1));var t=this.owner;t&&t.start&&t.start()},_mapSelections:function(e,t,n){var i=e.getModel(),r=[];if(n)for(var o=0;o<t.length;o++)r[o]=t[o].clone();else r=t;for(var o=0;o<r.length;o++){var s=r[o];s.start=i.mapOffset(s.start,n),s.end=i.mapOffset(s.end,n)}return r}},n.prototype={destroy:function(){this._onDestroy()},add:function(e){if(this.compoundChange)this.compoundChange.add(e);else{var t=this.stack.length;this.stack.splice(this.index,t-this.index,e),this.index++,this.stack.length>this.size&&(this.stack.shift(),this.index--)}},markClean:function(){this._commitUndo(),this.cleanChange=this.stack[this.index-1],this.cleanChange&&(this.cleanChange.type=2)},isClean:function(){return this.cleanChange===this.stack[this.index-1]},canUndo:function(){return this.index>0},canRedo:function(){return this.stack.length-this.index>0},endCompoundChange:function(){this.compoundChange&&this.compoundChange.end(this.view),this.compoundChange=void 0},getSize:function(){return{undo:this.index,redo:this.stack.length-this.index}},getRedoChanges:function(){this._commitUndo();for(var e=[],t=this.index;t<this.stack.length;t++)e=e.concat(this.stack[t].getRedoChanges());return e},getUndoChanges:function(){this._commitUndo();for(var e=[],t=this.index;t>=0;t--)e=e.concat(this.stack[t].getUndoChanges());return e},undo:function(){this._commitUndo();var e,t=!1;this._ignoreUndo=!0;do{if(this.index<=0)break;e=this.stack[--this.index]}while(!(t=e.undo(this.view,!0)));return this._ignoreUndo=!1,t},redo:function(){this._commitUndo();var e,t=!1;this._ignoreUndo=!0;do{if(this.index>=this.stack.length)break;e=this.stack[this.index++]}while(!(t=e.redo(this.view,!0)));return this._ignoreUndo=!1,t},reset:function(){this.index=0,this.cleanChange=void 0,this.stack=[],this._ignoreUndo=!1,this._compoundChange=void 0},setView:function(e){this.view!==e&&(this.view&&e.removeEventListener(\"Destroy\",this._listener.onDestroy),this.view=e,this.view&&e.addEventListener(\"Destroy\",this._listener.onDestroy))},startCompoundChange:function(e){this._commitUndo();var n=new t(e);return this.add(n),this.compoundChange=n,this.compoundChange.start(this.view),this.compoundChange},_commitUndo:function(){this.endCompoundChange()},_onDestroy:function(e){e&&this.shared||this.model.removeEventListener(\"Changing\",this._listener.onChanging),this.view&&(this.view.removeEventListener(\"Destroy\",this._listener.onDestroy),this.view=null)},_trackUnsavedChanges:function(e){if(this._unsavedChanges){var t=this._unsavedChanges.length,n=e.addedCharCount,i=e.removedCharCount,r=e.start,o=e.start+i,s=0;if(0===n?s=-1:0===i&&(s=1),t>0&&s===this._previousChangeType){var a=this._unsavedChanges[t-1];if(0===i&&r===a.end+a.text.length)return void(a.text+=e.text);if(0===e.addedCharCount&&o===a.start)return void(a.start=r)}this._previousChangeType=s,this._unsavedChanges.push({start:r,end:o,text:e.text})}},_onChanging:function(t){if(this._trackUnsavedChanges(t),!this._ignoreUndo){var n=t.text,i=t.start,r=t.addedCharCount,o=t.removedCharCount,s=i+o,a=0;0===r&&1===o?a=-1:1===r&&0===o&&(a=1);var l=this.stack.length,d=this.model.getText(i,s);if(l>0&&this.index===l){if(this.stack[l-1].merge(i,n,d,a,s,this.compoundChange))return}this.add(new e(this.model,i,n,d,a))}}},{UndoStack:n}}),n(\"orion/explorers/navigatorRenderer\",[],function(){return{getClickedItem:function(){return null}}}),n(\"orion/editor/projectionTextModel\",[\"orion/editor/textModel\",\"orion/editor/eventTarget\"],function(e,t){function n(e){this._model=e,this._projections=[];var t=this;this._listener={onChanged:function(e){t._onChanged(e)},onChanging:function(e){t._onChanging(e)}},e.addEventListener(\"postChanged\",this._listener.onChanged),e.addEventListener(\"preChanging\",this._listener.onChanging)}return n.prototype={destroy:function(){this._model&&(this._model.removeEventListener(\"postChanged\",this._listener.onChanged),this._model.removeEventListener(\"preChanging\",this._listener.onChanging),this._model=null)},addProjection:function(t){if(t){var n=this._model,i=this._projections;this._removeSubProjections(t,i),t._lineIndex=n.getLineAtOffset(t.start),t._lineCount=n.getLineAtOffset(t.end)-t._lineIndex,t.annotation&&t.end===t.annotation.end&&t._lineCount++;var r=t.text;r||(r=\"\"),t._model=\"string\"==typeof r?new e.TextModel(r,n.getLineDelimiter()):r;var o=this.mapOffset(t.start,!0),s=t.end-t.start,a=t._lineCount,l=t._model.getCharCount(),d=t._model.getLineCount()-1,c={type:\"Changing\",text:t._model.getText(),start:o,removedCharCount:s,addedCharCount:l,removedLineCount:a,addedLineCount:d};this.onChanging(c);var h=this._binarySearch(i,t.start);i.splice(h,0,t);var u={type:\"Changed\",start:o,removedCharCount:s,addedCharCount:l,removedLineCount:a,addedLineCount:d};this.onChanged(u)}},_removeSubProjections:function(e,t){for(var n=t.length-1;n>-1;n--)e.start<t[n].start&&e.end>t[n].end&&t.splice(n,1)},getProjections:function(){return this._projections.slice(0)},getBaseModel:function(){return this._model},mapOffset:function(e,t){var n,i,r=this._projections,o=0;if(t){for(n=0;n<r.length&&(i=r[n],!(i.start>e));n++){if(i.end>e)return-1;o+=i._model.getCharCount()-(i.end-i.start)}return e+o}for(n=0;n<r.length&&(i=r[n],!(i.start>e-o));n++){var s=i._model.getCharCount();if(i.start+s>e-o)return-1;o+=s-(i.end-i.start)}return e-o},removeProjection:function(e){this._removeProjection(e)},_removeProjection:function(e,t){var n,i=0;for(n=0;n<this._projections.length;n++){var r=this._projections[n];if(r===e){e=r;break}i+=r._model.getCharCount()-(r.end-r.start)}if(n<this._projections.length){var o=this._model,s=e.start+i,a=e.end-e.start,l=e._lineCount,d=e._model.getCharCount(),c=e._model.getLineCount()-1;if(!t){var h={type:\"Changing\",text:o.getText(e.start,e.end),start:s,removedCharCount:d,addedCharCount:a,removedLineCount:c,addedLineCount:l};this.onChanging(h)}if(this._projections.splice(n,1),!t){var u={type:\"Changed\",start:s,removedCharCount:d,addedCharCount:a,removedLineCount:c,addedLineCount:l};this.onChanged(u)}}},_binarySearch:function(e,t){for(var n,i=e.length,r=-1;i-r>1;)n=Math.floor((i+r)/2),t<=e[n].start?i=n:r=n;return i},getCharCount:function(){for(var e=this._model.getCharCount(),t=this._projections,n=0;n<t.length;n++){var i=t[n];e+=i._model.getCharCount()-(i.end-i.start)}return e},getLine:function(e,t){if(e<0)return null;var n,i,r,o=this._model,s=this._projections,a=0,l=[],d=0;for(n=0;n<s.length&&(r=s[n],!(r._lineIndex>=e-a));n++){if(i=r._model.getLineCount()-1,r._lineIndex+i>=e-a){var c=e-(r._lineIndex+a);if(c<i)return r._model.getLine(c,t);l.push(r._model.getLine(i))}d=r.end,a+=i-r._lineCount}for(d=Math.max(d,o.getLineStart(e-a));n<s.length&&(r=s[n],!(r._lineIndex>e-a));n++){if(l.push(o.getText(d,r.start)),i=r._model.getLineCount()-1,r._lineIndex+i>e-a)return l.push(r._model.getLine(0,t)),l.join(\"\");l.push(r._model.getText()),d=r.end,a+=i-r._lineCount}var h=o.getLineEnd(e-a,t);return d<h&&l.push(o.getText(d,h)),l.join(\"\")},getLineAtOffset:function(e){for(var t=this._model,n=this._projections,i=0,r=0,o=0;o<n.length;o++){var s=n[o];if(s.start>e-i)break;var a=s._model.getCharCount();if(s.start+a>e-i){var l=e-(s.start+i);r+=s._model.getLineAtOffset(l),i+=l;break}r+=s._model.getLineCount()-1-s._lineCount,i+=a-(s.end-s.start)}return t.getLineAtOffset(e-i)+r},getLineCount:function(){for(var e=this._model,t=this._projections,n=e.getLineCount(),i=0;i<t.length;i++){var r=t[i];n+=r._model.getLineCount()-1-r._lineCount}return n},getLineDelimiter:function(){return this._model.getLineDelimiter()},getLineEnd:function(e,t){if(e<0)return-1;for(var n=this._model,i=this._projections,r=0,o=0,s=0;s<i.length;s++){var a=i[s];if(a._lineIndex>e-r)break;var l=a._model.getLineCount()-1;if(a._lineIndex+l>e-r){var d=e-(a._lineIndex+r);return a._model.getLineEnd(d,t)+a.start+o}o+=a._model.getCharCount()-(a.end-a.start),r+=l-a._lineCount}return n.getLineEnd(e-r,t)+o},getLineStart:function(e){if(e<0)return-1;for(var t=this._model,n=this._projections,i=0,r=0,o=0;o<n.length;o++){var s=n[o];if(s._lineIndex>=e-i)break;var a=s._model.getLineCount()-1;if(s._lineIndex+a>=e-i){var l=e-(s._lineIndex+i);return s._model.getLineStart(l)+s.start+r}r+=s._model.getCharCount()-(s.end-s.start),i+=a-s._lineCount}return t.getLineStart(e-i)+r},getText:function(e,t){void 0===e&&(e=0);var n,i,r,o=this._model,s=this._projections,a=0,l=[];for(n=0;n<s.length&&(i=s[n],!(i.start>e-a));n++){if(r=i._model.getCharCount(),i.start+r>e-a){if(void 0!==t&&i.start+r>t-a)return i._model.getText(e-(i.start+a),t-(i.start+a));l.push(i._model.getText(e-(i.start+a))),e=i.end+a+r-(i.end-i.start)}a+=r-(i.end-i.start)}var d=e-a;if(void 0!==t){for(;n<s.length&&(i=s[n],!(i.start>t-a));n++){if(l.push(o.getText(d,i.start)),r=i._model.getCharCount(),i.start+r>t-a)return l.push(i._model.getText(0,t-(i.start+a))),l.join(\"\");l.push(i._model.getText()),d=i.end,a+=r-(i.end-i.start)}l.push(o.getText(d,t-a))}else{for(;n<s.length;n++)i=s[n],l.push(o.getText(d,i.start)),l.push(i._model.getText()),d=i.end;l.push(o.getText(d))}return l.join(\"\")},_onChanged:function(e){var t,n,i=this._change,r=i.baseStart,o=i.baseEnd,s=this._projections;for(t=0;t<s.length&&(n=s[t],!(n.end>r))&&(n.end!==r||1!==e.addedCharCount||1!==e.addedLineCount);t++);var a=t;for(t=0;t<s.length&&(n=s[t],!(n.start>=o));t++);var l=t,d=this._model,c=i.baseText.length-(o-r);for(t=l;t<s.length;t++)n=s[t],n.start+=c,n.end+=c,n._lineIndex=d.getLineAtOffset(n.start);var h=s.splice(a,l-a);for(t=0;t<h.length;t++)h[t].annotation&&h[t].annotation._expand();var u={type:\"Changed\",start:i.start,removedCharCount:i.removedCharCount,addedCharCount:i.addedCharCount,removedLineCount:i.removedLineCount,addedLineCount:i.addedLineCount};this.onChanged(u),this._change=void 0},_onChanging:function(e){function t(e){for(a=0,s=0;a<d.length&&(l=d[a],!(l.start>e));a++){if(l.end>e)return-1;s+=l._model.getCharCount()-(l.end-l.start)}return e+s}var n=!!this._change,i=this._change||{},r=e.start,o=r+e.removedCharCount;if(i.baseStart=r,i.baseEnd=o,i.baseText=e.text,i.addedLineCount=e.addedLineCount,!n){this._change=i,i.text=e.text;var s,a,l,d=this._projections;i.start=t(r),-1===i.start&&(i.text=this._model.getText(l.start,r)+i.text,i.addedLineCount+=this._model.getLineAtOffset(r)-this._model.getLineAtOffset(l.start),i.start=l.start+s),i.end=t(o),-1===i.end&&(i.text+=this._model.getText(o,l.end),i.addedLineCount+=this._model.getLineAtOffset(l.end)-this._model.getLineAtOffset(o),i.end=l.start+s)}i.addedCharCount=i.text.length,i.removedCharCount=i.end-i.start,i.removedLineCount=this.getLineAtOffset(i.end)-this.getLineAtOffset(i.start);var c={type:\"Changing\",text:i.text,start:i.start,removedCharCount:i.removedCharCount,addedCharCount:i.addedCharCount,removedLineCount:i.removedLineCount,addedLineCount:i.addedLineCount};this.onChanging(c)},onChanging:function(e){return this.dispatchEvent(e)},onChanged:function(e){return this.dispatchEvent(e)},setLineDelimiter:function(e){this._model.setLineDelimiter(e)},setText:function(e,t,n){function i(e){for(o=0,r=0;o<d.length&&(s=d[o],!(s.start>e-r));o++){var t=s._model.getCharCount();if(s.start+t>e-r)return-1;r+=t-(s.end-s.start)}return e-r}this._change={text:e||\"\",start:t||0,end:void 0===n?this.getCharCount():n};var r,o,s,a,l,d=this._projections,c=i(this._change.start);-1===c&&(a={projection:s,start:this._change.start-(s.start+r)},c=s.end);var h=i(this._change.end);-1===h&&(l={projection:s,end:this._change.end-(s.start+r)},h=s.start),a&&l&&a.projection===l.projection?s._model.setText(this._change.text,a.start,l.end):(this._model.setText(this._change.text,c,h),a&&(s=a.projection,s._model.setText(\"\",a.start)),l&&(s=l.projection,s._model.setText(\"\",0,l.end),s.start=s.end,s._lineCount=0)),this._change=void 0}},t.EventTarget.addMixin(n.prototype),{ProjectionTextModel:n}}),n(\"orion/editor/textModelFactory\",[\"orion/editor/textModel\",\"orion/editor/projectionTextModel\"],function(e,t){function n(){}return n.prototype={createTextModel:function(){return new e.TextModel},createProjectionTextModel:function(e,n){return new t.ProjectionTextModel(e||this.createTextModel(n))}},{TextModelFactory:n}}),n(\"orion/inputManager\",[\"i18n!orion/edit/nls/messages\",\"orion/explorers/navigatorRenderer\",\"orion/i18nUtil\",\"orion/Deferred\",\"orion/EventTarget\",\"orion/objects\",\"orion/PageUtil\",\"orion/editor/textModelFactory\",\"orion/metrics\"],function(e,t,n,i,r,o,s,a,l){function d(e){this._document=e.document||document,this._timeout=e.timeout;for(var t=[\"mousedown\",\"keypress\",\"keydown\",\"keyup\"],n=function(){this._resetTimer()}.bind(this),i=0;i<t.length;i++){var o=t[i];this._document.addEventListener(o,n,!0)}r.attach(this)}function c(t){var n={Severity:\"Error\",Message:e.noResponse};if(\"Cancel\"===t.name)return{Severity:\"Warning\",Message:t.name,Cancel:!0};if(0===t.status)return n.Cancel=!0,n;if(t.responseText){var i=t.responseText;try{var r=JSON.parse(i);n.Severity=r.Severity||n.Severity,n.Message=r.Message||n.Message}catch(e){n.Message=i}}else try{n.Message=JSON.stringify(t)}catch(e){}return n}function h(e,t){return e?(t.Severity||(t=c(t)),e.setProgressResult(t),t):void window.console.log(t)}function u(e,t,n,i){if(window.TextDecoder)n(new TextDecoder(t).decode(e));else{var r=\"text/plain; charset=\"+t,o=new Blob([e],{type:r}),s=new FileReader;s.onload=function(){n(s.result)}.bind(this),s.onerror=i,s.readAsText(o,t)}}function f(e){return!e||e===g}function p(e){r.attach(this),this.serviceRegistry=e.serviceRegistry,this.statusService=e.statusService,this.fileClient=e.fileClient,this.progressService=e.progressService,this.contentTypeRegistry=e.contentTypeRegistry,this.selection=e.selection,this._input=this._title=\"\",this.fileClient&&this.fileClient.addEventListener(\"Changed\",function(e){if((!this._fileMetadata||!this._fileMetadata._saving)&&e&&e.modified){var t=this.getFileMetadata();t&&t.Location&&e.modified.some(function(e){return t.Location===e})&&this.load(null,!0)}}.bind(this))}d.prototype={_resetTimer:function(){var e=this._document.defaultView||this._document.parentWindow;this._timer&&(e.clearTimeout(this._timer),this._timer=null),-1!==this._timeout&&(this._timer=e.setTimeout(function(){this.onIdle({type:\"Idle\"}),this._timer=null,this._resetTimer()}.bind(this),this._timeout))},onIdle:function(e){return this.dispatchEvent(e)},setTimeout:function(e){this._timeout=e,this._resetTimer()}};var g=\"UTF-8\";return o.mixin(p.prototype,{_maybeLoadWorkspace:function(e){var t=this.fileClient,n=e;return n.indexOf(\"?\")&&(n=n.split(\"?\")[0]),n===t.fileServiceRootURL(n)?t.loadWorkspace(n).then(function(e){return e.Location}):(new i).resolve(e)},_read:function(e){var n=this.cachedMetadata||t.getClickedItem();if(n&&n.Location===e&&n.Parents&&n.Attributes&&n.ETag)return(new i).resolve(n);var r=this.fileClient,o=Array.prototype.slice.call(arguments,1);return this._maybeLoadWorkspace(e).then(function(e){return r.read.apply(r,[e].concat(o))})},_isSameParent:function(e){if(this._lastMetadata&&this._lastMetadata.Parents&&this._lastMetadata.Parents.length>0){var t=e.substring(0,e.lastIndexOf(\"/\",e.length-(\"/\"===e[e.length-1]?2:1))+1);return this._lastMetadata.Parents[0].Location===t}return!1},load:function(t,r){var s=this.getInput();if(s){var l=this.fileClient,d=this._parsedLocation.resource,c=this.progressService,p=function(e,t,i){return c?c.progress(e,n.formatMessage(t,i)):e},g=this.getEditor();if(this._fileMetadata)this._fileMetadata._saving||this._fileMetadata.Directory||this.getReadOnly()||p(l.read(d,!0),e.ReadingMetadata,s).then(function(t){this._fileMetadata&&!this._fileMetadata._saving&&this._fileMetadata.Location===t.Location&&this._fileMetadata.ETag!==t.ETag&&(this._fileMetadata=o.mixin(this._fileMetadata,t),g.isDirty()&&!window.confirm(e.loadOutOfSync)||p(l.read(d),e.Reading,s).then(function(e){g.setInput(s,null,e,null,r),this._clearUnsavedChanges()}.bind(this)))}.bind(this));else{var v=window.setTimeout(function(){v=null,this.reportStatus(n.formatMessage(e.Fetching,s))}.bind(this),800),m=function(){this.reportStatus(\"\"),v&&window.clearTimeout(v)}.bind(this),_=function(e){m();var t=null;this.serviceRegistry?t=this.serviceRegistry.getService(\"orion.page.message\"):this.statusService&&(t=this.statusService),h(t,e),this._setNoInput(!0)}.bind(this);this._acceptPatch=null;var y=d;if(!this._isSameParent(y)){var C=new URL(y);C.query.set(\"tree\",localStorage&&localStorage.useCompressedTree?\"compressed\":\"decorated\"),y=C.href}p(this._read(y,!0),e.ReadingMetadata,d).then(function(r){if(r)if(r.Directory)i.when(r.Children||p(l.fetchChildren(r.ChildrenLocation),e.Reading,s),function(e){m(),r.Children=e,this._setInputContents(this._parsedLocation,s,e,r)}.bind(this),_);else{t=t||this._charset;var o=this._isText(r);if(f(t)&&o){var c,h=new a.TextModelFactory;\"function\"==typeof h.getDefaultReadOptions&&(c=h.getDefaultReadOptions()),p(l.read(d,!1,!0,c),e.Reading,s).then(function(e){m(),\"string\"!=typeof e&&(this._acceptPatch=e.acceptPatch,e=e.result),this._setInputContents(this._parsedLocation,s,e,r)}.bind(this),_)}else p(l._getService(d).readBlob(d),e.Reading,s).then(function(e){if(m(),o)return void u(e,t,function(e){this._setInputContents(this._parsedLocation,s,e,r)}.bind(this),_);this._setInputContents(this._parsedLocation,s,e,r)}.bind(this),_)}else _({responseText:n.formatMessage(e.ReadingMetadataError,d)})}.bind(this),_)}}},processParameters:function(e){var t=this.getEditor();return!(!t||!t.processParameters)&&t.processParameters(e)},getAutoLoadEnabled:function(){return this._autoLoadEnabled},getAutoSaveEnabled:function(){return this._autoSaveEnabled},getEditor:function(){return this.editor},getEncodingCharset:function(){return this._charset||g},getInput:function(){return this._input},getLocation:function(){return this._location},getTitle:function(){return this._title},getFileMetadata:function(){return this._fileMetadata},isSaveEnabled:function(){return!this.getReadOnly()},getReadOnly:function(){var e=this._fileMetadata;return this._readonly||!e||e.Attributes&&e.Attributes.ReadOnly},getContentType:function(){return this._contentType},onFocus:function(){if(this._autoSaveEnabled&&this._errorSaving)return void this.save();this._autoLoadEnabled&&this._fileMetadata&&this.load()},reportStatus:function(e){this.statusReporter?this.statusReporter(e):this.editor&&this.editor.reportStatus(e)},save:function(t){function r(e){var t=a._savingDeferred;return t.resolve(e),a._savingDeferred=null,a._saving=!1,t}function o(n){return f===d.getInput()&&(a.ETag=n.ETag,c.setInput(f,null,p,!0)),d.reportStatus(\"\"),u&&b&&b.setProgressResult({Message:e.Saved,Severity:\"Normal\"}),d.postSave&&d.postSave(t),r(n)}function s(e){d.reportStatus(\"\");var t=h(b,e);return l.logEvent(\"status\",\"exception\",(d._autoSaveActive?\"Auto-save: \":\"Save: \")+t.Message),d._errorSaving=!0,r()}var a=this.getFileMetadata();if(!a)return(new i).reject();if(a._saving)return a._savingDeferred;var d=this;a._savingDeferred=new i,a._saving=!0;var c=this.getEditor();if(!c||!c.isDirty()||this.getReadOnly())return r();var u=this._errorSaving,f=this.getInput();this.reportStatus(e[\"Saving...\"]),this._saveEventLogged||(this._logMetrics(\"save\"),this._saveEventLogged=!0),this.dispatchEvent({type:\"Saving\",inputManager:this}),c.markClean();var p=c.getText(),g=p;if(this._getSaveDiffsEnabled()&&!this._errorSaving){var v=this._getUnsavedChanges();if(v){for(var m=0,_=0;_<v.length;_++)m+=v[_].text.length;p.length>m&&(g={diff:v})}}this._clearUnsavedChanges(),this._errorSaving=!1;var y=a.ETag,C={ETag:y},w=this._parsedLocation.resource,x=this.fileClient.write(w,g,C),S=this.progressService,b=null;return this.serviceRegistry&&(b=this.serviceRegistry.getService(\"orion.page.message\")),S&&(x=S.progress(x,n.formatMessage(e.savingFile,f))),x.then(o,function(t){if(412===t.status){if(!window.confirm(e.saveOutOfSync))return r();var i=d.fileClient.write(w,p);S&&(i=S.progress(i,n.formatMessage(e.savingFile,f))),i.then(o,s)}else s(t)}),a._savingDeferred},setAutoLoadEnabled:function(e){this._autoLoadEnabled=e},setAutoSaveTimeout:function(e){},setContentType:function(e){this._contentType=e},setEncodingCharset:function(e){this._charset=e},setInput:function(t){function n(){c.session&&c.session.save()}if(!this._ignoreInput&&(t||(t=s.hash()),\"string\"==typeof t)){var i=this.getEditor();t&&\"#\"!==t[0]&&(t=\"#\"+t);var r=s.matchResourceParameters(t),o=this._parsedLocation||{},a=o.encoding!==r.encoding;if(i&&i.isDirty()){var l=this._location;if(o.resource!==r.resource||a)if(this._autoSaveEnabled)this.save();else if(!window.confirm(e.confirmUnsavedChanges))return void(window.location.hash=l)}var d=i&&o.editor!==r.editor;this._location=t,this._parsedLocation=r,this._ignoreInput=!0,this.selection&&this.selection.setSelections(t),this._ignoreInput=!1;var c={type:\"InputChanging\",input:r};this.dispatchEvent(c);var h=r.resource;if(c.metadata){n(),this.reportStatus(\"\"),this._input=h;var u=c.metadata;return void this._setInputContents(r,h,null,u)}h?h!==this._input||a?(n(),this._input=h,this._readonly=!1,this._lastMetadata=this._fileMetadata,this._fileMetadata=null,this.load(r.encoding)):d?(this.reportStatus(\"\"),this._setInputContents(r,h,null,this._fileMetadata,this._isText(this._fileMetadata))):this.processParameters(r)||c.session&&c.session.apply(!0):(n(),this._setNoInput(!0))}},setTitle:function(e){var t=e.lastIndexOf(\"/\"),n=e;-1!==t&&(n=n.substring(t+1)),this._title=n},setSaveDiffsEnabled:function(e){this._saveDiffsEnabled=e;var t=this.editor;t&&!t.isDirty()&&this._clearUnsavedChanges()},_getSaveDiffsEnabled:function(){return this._saveDiffsEnabled&&this._acceptPatch&&-1!==this._acceptPatch.indexOf(\"application/json-patch\")},_logMetrics:function(e){var t=\"(none)\",n=this.getContentType(),i=this.getFileMetadata();if(n)t=n.id;else if(i){var r=i.Name,o=r.lastIndexOf(\".\");if(o>=0)t=\"unregistered: \"+r.substring(o);else switch(r){case\"AUTHORS\":case\"config\":case\"LICENSE\":case\"make\":case\"Makefile\":t=\"unregistered: \"+r}}l.logEvent(\"editor\",e,t,null,{path:i.Location})},_unknownContentTypeAsText:function(){return!0},_isText:function(e){var t=this.contentTypeRegistry.getFileContentType(e);if(!t)return this._unknownContentTypeAsText();var n=this.contentTypeRegistry.getContentType(\"text/plain\");return this.contentTypeRegistry.isExtensionOf(t,n)},_setNoInput:function(e){if(e)return void this.fileClient.loadWorkspace(\"\").then(function(e){this._input=e.ChildrenLocation,this._setInputContents(e.ChildrenLocation,null,e,e)}.bind(this));this._input=this._title=this._fileMetadata=null,this.setContentType(null),this.dispatchEvent({type:\"InputChanged\",input:null})},_setInputContents:function(e,t,n,i,r){var o,s=!1;i?(this._fileMetadata=i,this.setTitle(i.Location||String(i)),this.setContentType(this.contentTypeRegistry.getFileContentType(i)),o=i.Name,s=i.Directory):(this._fileMetadata=null,this.setTitle(t),this.setContentType(this.contentTypeRegistry.getFilenameContentType(this.getTitle())),o=this.getTitle());var a=this.getEditor();this._focusListener&&(a&&a.getTextView&&a.getTextView()&&a.getTextView().removeEventListener(\"Focus\",this._focusListener),this._focusListener=null);var d={type:\"InputChanged\",input:e,name:o,title:t,contentType:this.getContentType(),metadata:i,location:window.location,contents:n};if(this._logMetrics(\"open\"),this.dispatchEvent(d),this.editor=a=d.editor,!s){if(r||a.setInput(t,null,n),a&&a.getTextView&&a.getTextView()){a.getTextView().addEventListener(\"Focus\",this._focusListener=this.onFocus.bind(this)),a.getModel()&&\"function\"==typeof a.getModel().setModelData&&a.getModel().setModelData({metadata:i})}this._clearUnsavedChanges(),this.processParameters(e)||d.session&&d.session.apply()}this._saveEventLogged=!1,l.logPageLoadTiming(\"interactive\",window.location.pathname)},_getUnsavedChanges:function(){var e=this.editor;return e&&e.getUndoStack&&e.getUndoStack()?e.getUndoStack()._unsavedChanges:null},_clearUnsavedChanges:function(){var e=this.editor;e&&e.getUndoStack&&e.getUndoStack()&&(e.getUndoStack()._unsavedChanges=this._getSaveDiffsEnabled()?[]:null)}}),{handleError:h,InputManager:p}}),n(\"orion/editor/keyModes\",[\"orion/keyBinding\",\"orion/util\"],function(e,t){function n(e){e&&(this._view=e,this._keyBindings=this.createKeyBindings(),this._keyBindingIndex=0)}function i(e){n.call(this,e)}return n.prototype={createKeyBindings:function(){return[]},getKeyBindings:function(e){for(var t=[],n=this._keyBindings,i=0;i<n.length;i++)n[i].actionID===e&&t.push(n[i].keyBinding);return t},getView:function(){return this._view},isActive:function(){return-1!==this._view.getKeyModes().indexOf(this)},match:function(e){if(\"keydown\"===e.type)switch(e.keyCode){case 16:case 17:case 18:case 91:return}for(var t=this._keyBindingIndex,n=this._matchingKeyBindings||this._keyBindings,i=[],r=0;r<n.length;r++){var o=n[r],s=o.keyBinding,a=s.match(e,t);if(!0===a)return this._keyBindingIndex=0,this._matchingKeyBindings=null,o.actionID;\"number\"==typeof a&&i.push(o)}if(0!==i.length)return this._keyBindingIndex++,this._matchingKeyBindings=i,\"noop\";this._keyBindingIndex=0,this._matchingKeyBindings=null},setKeyBinding:function(e,t){for(var n=this._keyBindings,i=0;i<n.length;i++){var r=n[i];if(r.keyBinding.equals(e))return void(t?r.actionID=t:r.predefined?r.actionID=\"noop\":n.splice(i,1))}t&&n.push({keyBinding:e,actionID:t})},setView:function(e){this._view=e}},i.prototype=new n,i.prototype.createKeyBindings=function(){var n=e.KeyBinding,i=[];if(i.push({actionID:\"lineUp\",keyBinding:new n(38),predefined:!0}),i.push({actionID:\"lineDown\",keyBinding:new n(40),predefined:!0}),i.push({actionID:\"charPrevious\",keyBinding:new n(37),predefined:!0}),i.push({actionID:\"charNext\",keyBinding:new n(39),predefined:!0}),t.isMac?(i.push({actionID:\"pageUp\",keyBinding:new n(33),predefined:!0}),i.push({actionID:\"pageDown\",keyBinding:new n(34),predefined:!0}),i.push({actionID:\"lineStart\",keyBinding:new n(37,!0),predefined:!0}),i.push({actionID:\"lineEnd\",keyBinding:new n(39,!0),predefined:!0}),i.push({actionID:\"wordPrevious\",keyBinding:new n(37,null,null,!0),predefined:!0}),i.push({actionID:\"wordNext\",keyBinding:new n(39,null,null,!0),predefined:!0}),i.push({actionID:\"scrollTextStart\",keyBinding:new n(36),predefined:!0}),i.push({actionID:\"scrollTextEnd\",keyBinding:new n(35),predefined:!0}),i.push({actionID:\"textStart\",keyBinding:new n(38,!0),predefined:!0}),i.push({actionID:\"textEnd\",keyBinding:new n(40,!0),predefined:!0}),i.push({actionID:\"scrollPageUp\",keyBinding:new n(38,null,null,null,!0),predefined:!0}),i.push({actionID:\"scrollPageDown\",keyBinding:new n(40,null,null,null,!0),predefined:!0}),i.push({actionID:\"lineStart\",keyBinding:new n(37,null,null,null,!0),predefined:!0}),i.push({actionID:\"lineEnd\",keyBinding:new n(39,null,null,null,!0),predefined:!0}),i.push({actionID:\"lineStart\",keyBinding:new n(38,null,null,!0),predefined:!0}),i.push({actionID:\"lineEnd\",keyBinding:new n(40,null,null,!0),predefined:!0})):(i.push({actionID:\"pageUp\",keyBinding:new n(33),predefined:!0}),i.push({actionID:\"pageDown\",keyBinding:new n(34),predefined:!0}),i.push({actionID:\"lineStart\",keyBinding:new n(36),predefined:!0}),i.push({actionID:\"lineEnd\",keyBinding:new n(35),predefined:!0}),i.push({actionID:\"wordPrevious\",keyBinding:new n(37,!0),predefined:!0}),i.push({actionID:\"wordNext\",keyBinding:new n(39,!0),predefined:!0}),i.push({actionID:\"textStart\",keyBinding:new n(36,!0),predefined:!0}),i.push({actionID:\"textEnd\",keyBinding:new n(35,!0),predefined:!0})),t.isFirefox&&t.isLinux&&(i.push({actionID:\"lineUp\",keyBinding:new n(38,!0),predefined:!0}),i.push({actionID:\"lineDown\",keyBinding:new n(40,!0),predefined:!0})),t.isWindows&&(i.push({actionID:\"scrollLineUp\",keyBinding:new n(38,!0),predefined:!0}),i.push({actionID:\"scrollLineDown\",keyBinding:new n(40,!0),predefined:!0})),i.push({actionID:\"selectLineUp\",keyBinding:new n(38,null,!0),predefined:!0}),i.push({actionID:\"selectLineDown\",keyBinding:new n(40,null,!0),predefined:!0}),i.push({actionID:\"selectCharPrevious\",keyBinding:new n(37,null,!0),predefined:!0}),i.push({actionID:\"selectCharNext\",keyBinding:new n(39,null,!0),predefined:!0}),i.push({actionID:\"selectPageUp\",keyBinding:new n(33,null,!0),predefined:!0}),i.push({actionID:\"selectPageDown\",keyBinding:new n(34,null,!0),predefined:!0}),t.isMac?(i.push({actionID:\"selectLineStart\",keyBinding:new n(37,!0,!0),predefined:!0}),i.push({actionID:\"selectLineEnd\",keyBinding:new n(39,!0,!0),predefined:!0}),\ni.push({actionID:\"selectWordPrevious\",keyBinding:new n(37,null,!0,!0),predefined:!0}),i.push({actionID:\"selectWordNext\",keyBinding:new n(39,null,!0,!0),predefined:!0}),i.push({actionID:\"selectTextStart\",keyBinding:new n(36,null,!0),predefined:!0}),i.push({actionID:\"selectTextEnd\",keyBinding:new n(35,null,!0),predefined:!0}),i.push({actionID:\"selectTextStart\",keyBinding:new n(38,!0,!0),predefined:!0}),i.push({actionID:\"selectTextEnd\",keyBinding:new n(40,!0,!0),predefined:!0}),i.push({actionID:\"selectLineStart\",keyBinding:new n(37,null,!0,null,!0),predefined:!0}),i.push({actionID:\"selectLineEnd\",keyBinding:new n(39,null,!0,null,!0),predefined:!0}),i.push({actionID:\"selectLineStart\",keyBinding:new n(38,null,!0,!0),predefined:!0}),i.push({actionID:\"selectLineEnd\",keyBinding:new n(40,null,!0,!0),predefined:!0})):(t.isLinux&&(i.push({actionID:\"selectWholeLineUp\",keyBinding:new n(38,!0,!0),predefined:!0}),i.push({actionID:\"selectWholeLineDown\",keyBinding:new n(40,!0,!0),predefined:!0})),i.push({actionID:\"selectLineStart\",keyBinding:new n(36,null,!0),predefined:!0}),i.push({actionID:\"selectLineEnd\",keyBinding:new n(35,null,!0),predefined:!0}),i.push({actionID:\"selectWordPrevious\",keyBinding:new n(37,!0,!0),predefined:!0}),i.push({actionID:\"selectWordNext\",keyBinding:new n(39,!0,!0),predefined:!0}),i.push({actionID:\"selectTextStart\",keyBinding:new n(36,!0,!0),predefined:!0}),i.push({actionID:\"selectTextEnd\",keyBinding:new n(35,!0,!0),predefined:!0})),i.push({actionID:\"undo\",keyBinding:new e.KeyBinding(\"z\",!0),predefined:!0}),t.isMac?i.push({actionID:\"redo\",keyBinding:new e.KeyBinding(\"z\",!0,!0),predefined:!0}):i.push({actionID:\"redo\",keyBinding:new e.KeyBinding(\"y\",!0),predefined:!0}),i.push({actionID:\"deletePrevious\",keyBinding:new n(8),predefined:!0}),i.push({actionID:\"deletePrevious\",keyBinding:new n(8,null,!0),predefined:!0}),i.push({actionID:\"deleteNext\",keyBinding:new n(46),predefined:!0}),i.push({actionID:\"deleteWordPrevious\",keyBinding:new n(8,!0),predefined:!0}),i.push({actionID:\"deleteWordPrevious\",keyBinding:new n(8,!0,!0),predefined:!0}),i.push({actionID:\"deleteWordNext\",keyBinding:new n(46,!0),predefined:!0}),i.push({actionID:\"tab\",keyBinding:new n(9),predefined:!0}),i.push({actionID:\"shiftTab\",keyBinding:new n(9,null,!0),predefined:!0}),i.push({actionID:\"enter\",keyBinding:new n(13),predefined:!0}),i.push({actionID:\"enter\",keyBinding:new n(13,null,!0),predefined:!0}),i.push({actionID:\"escape\",keyBinding:new n(27),predefined:!0}),i.push({actionID:\"selectAll\",keyBinding:new n(\"a\",!0),predefined:!0}),i.push({actionID:\"toggleTabMode\",keyBinding:new n(\"m\",!0),predefined:!0}),t.isMac&&(i.push({actionID:\"deleteNext\",keyBinding:new n(46,null,!0),predefined:!0}),i.push({actionID:\"deleteWordPrevious\",keyBinding:new n(8,null,null,!0),predefined:!0}),i.push({actionID:\"deleteWordNext\",keyBinding:new n(46,null,null,!0),predefined:!0})),i.push({actionID:\"toggleWrapMode\",keyBinding:new e.KeyBinding(\"w\",!0,!1,!0)}),i.push({actionID:\"toggleOverwriteMode\",keyBinding:new e.KeyBinding(45)}),!t.isFirefox){var r=t.isMac&&t.isChrome;i.push({actionID:\"noop\",keyBinding:new n(\"u\",!r,!1,!1,r),predefined:!0}),i.push({actionID:\"noop\",keyBinding:new n(\"i\",!r,!1,!1,r),predefined:!0}),i.push({actionID:\"noop\",keyBinding:new n(\"b\",!r,!1,!1,r),predefined:!0})}return t.isFirefox&&(i.push({actionID:\"copy\",keyBinding:new n(45,!0),predefined:!0}),i.push({actionID:\"paste\",keyBinding:new n(45,null,!0),predefined:!0}),i.push({actionID:\"cut\",keyBinding:new n(46,null,!0),predefined:!0})),t.isMac&&(i.push({actionID:\"lineStart\",keyBinding:new n(\"a\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"lineEnd\",keyBinding:new n(\"e\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"lineUp\",keyBinding:new n(\"p\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"lineDown\",keyBinding:new n(\"n\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"charPrevious\",keyBinding:new n(\"b\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"charNext\",keyBinding:new n(\"f\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"deletePrevious\",keyBinding:new n(\"h\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"deleteNext\",keyBinding:new n(\"d\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"deleteLineEnd\",keyBinding:new n(\"k\",!1,!1,!1,!0),predefined:!0}),t.isFirefox?(i.push({actionID:\"scrollPageDown\",keyBinding:new n(\"v\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"deleteLineStart\",keyBinding:new n(\"u\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"deleteWordPrevious\",keyBinding:new n(\"w\",!1,!1,!1,!0),predefined:!0})):(i.push({actionID:\"pageDown\",keyBinding:new n(\"v\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"centerLine\",keyBinding:new n(\"l\",!1,!1,!1,!0),predefined:!0}),i.push({actionID:\"enterNoCursor\",keyBinding:new n(\"o\",!1,!1,!1,!0),predefined:!0}))),i},{KeyMode:n,DefaultKeyMode:i}}),n(\"orion/editor/textTheme\",[\"require\",\"orion/editor/eventTarget\",\"orion/util\"],function(e,t,n){function i(e){e=e||{},this._document=e.document||document}var r={};return i.getTheme=function(e){e=e||\"default\";var t=r[e];return t||(t=r[e]=new i),t},i.prototype={getThemeClass:function(){return this._themeClass},setThemeClass:function(e,t){var n=this,i=n._themeClass;n._themeClass=e,this._load(e,t,function(){n.onThemeChanged({type:\"ThemeChanged\",oldValue:i,newValue:n.getThemeClass()})})},onThemeChanged:function(e){return this.dispatchEvent(e)},buildStyleSheet:function(e,t){var n=function(e){return e.replace(this._capitalRegEx,function(e){return\"-\"+e}.bind(this)).toLowerCase()}.bind(this),i=function(e,t,r,o,s){var a=[];Object.keys(e).forEach(function(l){var d=e[l];\"string\"==typeof d?a.push(\"\\t\"+n(l)+\": \"+d+\";\"):i(d,r===l?t:t+(o?\" .\":\".\")+l,r,!1,s)}),a.length&&(s.push(t+(o?\".textview\":\"\")+\" {\"),s.push.apply(s,a),s.push(\"}\"))},r=[\"\"];return i(t.styles,\".\"+e,t.className,!0,r),r.join(\"\\n\")},_createStyle:function(e,t,i,r){var o=this._document,s=\"orion-theme-\"+e,a=o.getElementById(s);if(a){if(r||a.firstChild.data===t)return;a.removeChild(a.firstChild),a.appendChild(o.createTextNode(t))}else{r?(a=n.createElement(o,\"link\"),a.rel=\"stylesheet\",a.type=\"text/css\",a.href=t,a.addEventListener(\"load\",function(){i()})):(a=n.createElement(o,\"style\"),a.appendChild(o.createTextNode(t))),a.id=s;(o.getElementsByTagName(\"head\")[0]||o.documentElement).appendChild(a)}r||i()},_load:function(t,n,i){if(!t)return void i();if(\"string\"==typeof n)return void this._createStyle(t,n,i);var r=n.href;if(\".css\"!==r.substring(r.length-\".css\".length)&&(r+=\".css\"),/^\\//.test(r)||/[a-zA-Z0-9]+:\\/\\//i.test(r)||!e.toUrl)this._createStyle(t,r,i,!0);else{var o=this;e([\"text!\"+r],function(e){o._createStyle(t,e,i,!1)})}},_capitalRegEx:/[A-Z]/g},t.EventTarget.addMixin(i.prototype),{TextTheme:i}}),n(\"orion/editor/util\",[],function(){function e(e,t,n,i){\"function\"==typeof e.addEventListener?e.addEventListener(t,n,!0===i):e.attachEvent(\"on\"+t,n)}function t(e,t,n,i){\"function\"==typeof e.removeEventListener?e.removeEventListener(t,n,!0===i):e.detachEvent(\"on\"+t,n)}function n(e,t){if(!t)return!1;if(!e.compareDocumentPosition){for(var n=t;n;){if(e===n)return!0;n=n.parentNode}return!1}return e===t||0!=(16&e.compareDocumentPosition(t))}function i(e,t,n){var i;if(e&&!(i=e.style[t]))if(e.currentStyle){for(var r=0,o=t;-1!==(r=o.indexOf(\"-\",r));)o=o.substring(0,r)+o.substring(r+1,r+2).toUpperCase()+o.substring(r+2);i=e.currentStyle[o]}else{var s=e.ownerDocument.defaultView.getComputedStyle(e,null);i=s?s.getPropertyValue(t):null}return i||n}return{contains:n,getNodeStyle:i,addEventListener:e,removeEventListener:t,Animation:function(){function e(e){this.options=e}return e.prototype.play=function(){function e(){d=-1===d?(new Date).getTime():d;var e=(new Date).getTime(),i=(e-d)/n;if(i<1){var h=r(i);t=s+h*l,o(t)}else o(a),c.stop()}var t,n=\"number\"==typeof this.options.duration?this.options.duration:350,i=\"number\"==typeof this.options.rate?this.options.rate:20,r=this.options.easing||this.defaultEasing,o=this.options.onAnimate||function(){},s=this.options.curve[0],a=this.options.curve[1],l=a-s,d=-1,c=this;this.interval=this.options.window.setInterval(e,i)},e.prototype.stop=function(){this.options.window.clearInterval(this.interval),(this.options.onEnd||function(){})()},e.prototype.defaultEasing=function(e){return Math.sin(e*(Math.PI/2))},e}()}}),n(\"orion/bidiUtils\",[\"orion/util\"],function(e){function t(){var e=localStorage&&localStorage.getItem(d);return!(!e||\"true\"!=e)}function n(){var e=localStorage&&localStorage.getItem(c);return!e||\"rtl\"!=e&&\"ltr\"!=e&&\"auto\"!=e?\"ltr\":e}function i(i){return p=n(),t()?\"auto\"==p&&e.isIE?o(i):p:\"\"}function r(e){if(t()&&e.trim()){p=n();return(\"ltr\"==(\"auto\"==p?o(e):p)?h:f)+e+u}return e}function o(e){var t=/[A-Za-z\\u05d0-\\u065f\\u066a-\\u06ef\\u06fa-\\u07ff\\ufb1d-\\ufdff\\ufe70-\\ufefc]/.exec(e);return t?t[0]<=\"z\"?\"ltr\":\"rtl\":\"ltr\"}function s(e){if(!e._hasBidiEventListeners){e._hasBidiEventListeners=!0;for(var t=[\"keyup\",\"cut\",\"paste\"],n=0;n<t.length;++n)e.addEventListener(t[n],a.bind(this),!1)}}function a(e){var t=e.target;t&&(t.dir=i(t.value||t.textContent))}function l(n){t()&&n&&(n.dir=i(n.value||n.textContent),e.isIE&&s(n))}var d=\"/orion/preferences/bidi/bidiEnabled\",c=\"/orion/preferences/bidi/bidiLayout\",h=\"\",u=\"\",f=\"\",p=(t(),n());return{bidiEnabled:t,getTextDirection:i,enforceTextDirWithUcc:r,initInputField:l}}),n(\"orion/editor/textView\",[\"i18n!orion/editor/nls/messages\",\"orion/editor/textModel\",\"orion/editor/keyModes\",\"orion/editor/eventTarget\",\"orion/editor/textTheme\",\"orion/editor/util\",\"orion/util\",\"orion/bidiUtils\",\"orion/metrics\"],function(e,t,n,i,r,o,s,a,l){function d(e){return e.defaultView||e.parentWindow}function c(e){return new Array(e)}function h(e,t,n){if(n){t.className=\"\";for(var i=t.attributes,r=i.length;r-- >0;)(!s.isIE||s.isIE>=9||s.isIE<9&&i[r].specified)&&t.removeAttribute(i[r].name)}if(e){e.styleClass&&(t.className=e.styleClass);var o=e.style;if(o)for(var a in o)o.hasOwnProperty(a)&&(t.style[a]=o[a]);var l=e.attributes;if(l)for(var d in l)l.hasOwnProperty(d)&&t.setAttribute(d,l[d])}}function u(e){return e instanceof Array?e.slice(0):e}function f(e,t){if(!e)return t;if(!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e.hasOwnProperty(n)||(e[n]=t[n]));return e}function p(e,t){if(e===t)return!0;if(e&&!t||!e&&t)return!1;if(!isNaN(parseFloat(e))&&isFinite(e)&&!isNaN(parseFloat(t))&&isFinite(t))return!(Math.abs(e-t)>.01);if(e&&e.constructor===String||t&&t.constructor===String)return!1;if(e instanceof Array||t instanceof Array){if(!(e instanceof Array&&t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!p(e[n],t[n]))return!1;return!0}if(!(e instanceof Object&&t instanceof Object))return!1;var i;for(i in e)if(e.hasOwnProperty(i)){if(!t.hasOwnProperty(i))return!1;if(!p(e[i],t[i]))return!1}for(i in t)if(!e.hasOwnProperty(i))return!1;return!0}function g(e,t,n){for(var i=0,r=0,o=0,s=e.length;o<s;){-1!==i&&i<=o&&(i=e.indexOf(\"\\r\",o)),-1!==r&&r<=o&&(r=e.indexOf(\"\\n\",o));var a,l=o;if(-1===r&&-1===i){t(e.substring(o));break}-1!==i&&-1!==r?i+1===r?(a=i,o=r+1):(a=i<r?i:r,o=(i<r?i:r)+1):-1!==i?(a=i,o=i+1):(a=r,o=r+1),t(e.substring(l,a)),n?n():o===s&&t(\"\")}}function v(e){var t,n,i,r,o=d(e.ownerDocument);if(o.getComputedStyle){var s=o.getComputedStyle(e,null);t=s.getPropertyValue(\"border-left-width\"),n=s.getPropertyValue(\"border-top-width\"),i=s.getPropertyValue(\"border-right-width\"),r=s.getPropertyValue(\"border-bottom-width\")}else e.currentStyle&&(t=e.currentStyle.borderLeftWidth,n=e.currentStyle.borderTopWidth,i=e.currentStyle.borderRightWidth,r=e.currentStyle.borderBottomWidth);return{left:parseInt(t,10)||0,top:parseInt(n,10)||0,right:parseInt(i,10)||0,bottom:parseInt(r,10)||0}}function m(e){var t,n,i,r,o=d(e.ownerDocument);if(o.getComputedStyle){var s=o.getComputedStyle(e,null);t=s.getPropertyValue(\"padding-left\"),n=s.getPropertyValue(\"padding-top\"),i=s.getPropertyValue(\"padding-right\"),r=s.getPropertyValue(\"padding-bottom\")}else e.currentStyle&&(t=e.currentStyle.paddingLeft,n=e.currentStyle.paddingTop,i=e.currentStyle.paddingRight,r=e.currentStyle.paddingBottom);return{left:parseInt(t,10)||0,top:parseInt(n,10)||0,right:parseInt(i,10)||0,bottom:parseInt(r,10)||0}}function _(e){var t=e._trim;if(!t){t=m(e);var n=v(e);t.left+=n.left,t.top+=n.top,t.right+=n.right,t.bottom+=n.bottom,e._trim=t}return t}function y(e,t,n,i){function r(t){if(t.animationName===s){var n=t.target;\"function\"==typeof n.__DOMReady&&d(e).setTimeout(function(){n.__DOMReady()},0)}}n=\"_\"+n+\"DOMReady\",t.className=t.className?t.className+\" \"+n:n,t.__DOMReady=i;var o=n+\"Style\";if(!e.getElementById(o)){var s=n+\"Animation\";T(e,\"animationstart\",r,!1),T(e,\"MSAnimationStart\",r,!1),T(e,\"webkitAnimationStart\",r,!1);var a=e.createElement(\"style\");a.id=o;var l=e.getElementsByTagName(\"head\")[0]||e.documentElement;a.appendChild(e.createTextNode(function(e,t){for(var n=[\"\",\"-webkit-\",\"-moz-\",\"-ms-\",\"-o-\"],i=\"\",r=\"body .\"+e+\" {\\n\",o=0;o<n.length;o++)i+=\"@\"+n[o]+\"keyframes \"+t+\" {\\nfrom { opacity: 0.99; }\\nto { opacity: 1; }\\n}\\n\",r+=n[o]+\"animation-duration: 0.001s;\\n\"+n[o]+\"animation-name: \"+t+\";\\n\";return r+=\"}\",i+r}(n,s))),l.insertBefore(a,l.firstChild)}}function C(e,t,n){this.start=e,this.end=t,this.caret=n,this._columnX=-1}function w(e){this._view=e,this._divs=[];for(var t=e._clipDiv||e._rootDiv,n=0;n<3;n++){var i=e._createSelectionDiv();t.appendChild(i),this._divs.push(i)}}function x(e){this.left=e.left,this.top=e.top,this.right=e.right,this.bottom=e.bottom}function S(e,t,n){this.view=e,this.lineIndex=t,this._lineDiv=n}function b(e){this._init(e||{})}var T=o.addEventListener,E=o.removeEventListener,L=o.Animation;return C.compare=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0},C.editing=function(e,t){var n;if(t){for(n=e.length-1;n>=0;n--)if(e[n]._editing)return e[n];return e[e.length-1]}for(n=0;n<e.length;n++)if(e[n]._editing)return e[n];return e[0]},C.convert=function(e){return 1===e.length?e[0]:e},C.contains=function(e,t){return e.some(function(e){return e.contains(t)})},C.merge=function(e){if(e.length<=1)return e;e.sort(function(e,t){return e.start-t.start});for(var t=[],n=e[0],i=1;i<e.length;i++)e[i].start>=n.end||n._editing||e[i]._editing?(t.push(n),n=e[i]):n.end=Math.max(n.end,e[i].end);return t.push(n),t},C.prototype={clone:function(){var e=new C(this.start,this.end,this.caret);return e._columnX=this._columnX,e._editing=this._editing,e._docX=this._docX,e},contains:function(e){return this.start<=e&&e<this.end},collapse:function(){this.caret?this.end=this.start:this.start=this.end},extend:function(e){if(this.caret?this.start=e:this.end=e,this.start>this.end){var t=this.start;this.start=this.end,this.end=t,this.caret=!this.caret}},setCaret:function(e){this.start=e,this.end=e,this.caret=!1},getCaret:function(){return this.caret?this.start:this.end},getAnchor:function(){return this.caret?this.end:this.start},getOrientedSelection:function(){return{start:this.getAnchor(),end:this.getCaret()}},toString:function(){return\"start=\"+this.start+\" end=\"+this.end+(this.caret?\" caret is at start\":\" caret is at end\")},isEmpty:function(){return this.start===this.end},equals:function(e){return this.caret===e.caret&&this.start===e.start&&this.end===e.end&&this._editing===e._editing}},w.prototype={destroy:function(){this._divs&&(this._divs.forEach(function(e){e.parentNode.removeChild(e)}),this._divs=null)},setPrimary:function(e){this.primary=e},update:function(){var e,t=this._view,n=this.primary,i=t._hasFocus,r=t._cursorVisible,o=!this.primary&&this._selection&&this._selection.isEmpty();e=o?\"textviewSelectionCaret\":i?\"textviewSelection\":\"textviewSelectionUnfocused\",this._divs[0].style.visibility=o&&r&&i||!o?\"visible\":\"hidden\",this._divs[0].style.zIndex=r&&o?\"2\":\"0\",this._divs.forEach(function(t){t.className=e,s.isWebkit<537.36&&n&&(t.style.background=i?\"transparent\":\"\")})},setSelection:function(e){this._selection=e,this.update();var t=this._view,n=t._model,i=n.getLineAtOffset(e.start),r=n.getLineAtOffset(e.end),o=t._getLineNext();if(o){var s,a,l,d,c=t._getLinePrevious();i<o.lineIndex?(s=o,l=n.getLineStart(o.lineIndex)):i>c.lineIndex?(s=c,l=n.getLineStart(c.lineIndex)):(s=t._getLineNode(i),l=e.start),r<o.lineIndex?(a=o,d=n.getLineStart(o.lineIndex)):r>c.lineIndex?(a=c,d=n.getLineStart(c.lineIndex)):(a=t._getLineNode(r),d=e.end),this._setDOMSelection(s,l,a,d,e.caret)}},_setDOMSelection:function(e,t,n,i,r){if(this._setDOMFullSelection(e,t,n,i),this.primary){var o=this._view,a=e._line.getNodeOffset(t),l=n._line.getNodeOffset(i);if(a.node&&l.node){var d,c=o._getWindow(),h=o._parent.ownerDocument;if(c.getSelection){var u=c.getSelection();if(d=h.createRange(),d.setStart(a.node,a.offset),d.setEnd(l.node,l.offset),!o._hasFocus||u.anchorNode===a.node&&u.anchorOffset===a.offset&&u.focusNode===l.node&&u.focusOffset===l.offset&&u.anchorNode===l.node&&u.anchorOffset===l.offset&&u.focusNode===a.node&&u.focusOffset===a.offset||(o._anchorNode=a.node,o._anchorOffset=a.offset,o._focusNode=l.node,o._focusOffset=l.offset,o._ignoreSelect=!1,u.rangeCount>0&&u.removeAllRanges(),u.addRange(d),o._ignoreSelect=!0),o._cursorDiv){d=h.createRange(),r?(d.setStart(a.node,a.offset),d.setEnd(a.node,a.offset)):(d.setStart(l.node,l.offset),d.setEnd(l.node,l.offset));var f=d.getClientRects()[0],p=o._cursorDiv.parentNode,g=p.getBoundingClientRect();f&&g&&(o._cursorDiv.style.top=f.top-g.top+p.scrollTop+\"px\",o._cursorDiv.style.left=f.left-g.left+p.scrollLeft+\"px\")}}else if(h.selection){if(!o._hasFocus)return;var v=h.body,m=s.createElement(h,\"div\");v.appendChild(m),v.removeChild(m),d=v.createTextRange(),d.moveToElementText(a.node.parentNode),d.moveStart(\"character\",a.offset);var _=v.createTextRange();_.moveToElementText(l.node.parentNode),_.moveStart(\"character\",l.offset),d.setEndPoint(\"EndToStart\",_),o._ignoreSelect=!1,d.select(),o._ignoreSelect=!0}}}},_setDOMFullSelection:function(e,t,n,i){this._divs.forEach(function(e){e.style.width=e.style.height=\"0px\"});var r=this._view;if(r._fullSelection&&!(s.isIOS||e===n&&t===i&&this.primary)){var o=r._getViewPadding(),a=r._clientDiv.getBoundingClientRect(),l=r._viewDiv.getBoundingClientRect(),d=l.left+o.left,c=a.right,h=l.top+o.top,u=a.bottom,f=0,p=0;if(r._clipDiv){var g=r._clipDiv.getBoundingClientRect();f=g.left-r._clipDiv.scrollLeft,p=g.top}else{var v=r._rootDiv.getBoundingClientRect();f=v.left,p=v.top}r._ignoreDOMSelection=!0;var m,_,y=new S(r,e.lineIndex,e),C=y.getBoundingClientRect(t,!1),w=C.left;e===n&&t===i?(m=y,_=C):(m=new S(r,n.lineIndex,n),_=m.getBoundingClientRect(i,!1));var x=_.left;r._ignoreDOMSelection=!1;var b=this._divs[0],T=Math.min(c,Math.max(d,w)),E=Math.min(u,Math.max(h,C.top)),L=c,k=Math.min(u,Math.max(h,C.bottom));if(b.style.left=T-f+\"px\",b.style.top=E-p+\"px\",b.style.width=Math.max(0,L-T)+\"px\",b.style.height=Math.max(0,k-E)+\"px\",e.lineIndex===n.lineIndex)L=Math.min(x,c),b.style.width=Math.max(this.primary?0:1,L-T)+\"px\";else{var M=d,A=Math.min(u,Math.max(h,_.top)),D=Math.min(c,Math.max(d,x)),O=Math.min(u,Math.max(h,_.bottom)),N=this._divs[2];if(N.style.left=M-f+\"px\",N.style.top=A-p+\"px\",N.style.width=Math.max(0,D-M)+\"px\",N.style.height=Math.max(0,O-A)+\"px\",Math.abs(e.lineIndex-n.lineIndex)>1){var I=this._divs[1];I.style.left=d-f+\"px\",I.style.top=k-p+\"px\",I.style.width=Math.max(0,c-d)+\"px\",I.style.height=Math.max(0,A-k)+\"px\"}}}}},x.prototype={toString:function(){return\"{l=\"+this.left+\", t=\"+this.top+\", r=\"+this.right+\", b=\"+this.bottom+\"}\"}},S.prototype={create:function(e,t){if(!this._lineDiv){var n=this._lineDiv=this._createLine(e,t,this.lineIndex);return n._line=this,n}},_createLine:function(e,t,n){var i=this.view,r=i._model,o=r.getLine(n),a=r.getLineStart(n),l={type:\"LineStyle\",textView:i,lineIndex:n,lineText:o,lineStart:a};i.onLineStyle(l);var d=e.ownerDocument,c=t||s.createElement(d,\"div\");if(t&&p(t.viewStyle,l.style)||(h(l.style,c,t),t&&(t._trim=null),c.viewStyle=l.style),c.lineIndex=n,t&&c.viewLineText===o&&p(l.ranges,c.viewRanges))return c;c.viewRanges=l.ranges,c.viewLineText=o;var u=[],f={tabOffset:0,ranges:u};this._createRanges(l.ranges,o,0,o.length,a,f);var g=\" \";!i._fullSelection&&s.isIE<9&&(g=\"\\ufeff\");var v={text:g,style:i._metrics.largestFontStyle,ignoreChars:1};0!==u.length&&u[u.length-1].style&&\"div\"===u[u.length-1].style.tagName?u.splice(u.length-1,0,v):u.push(v);var m,_,y,C,w,x,S,b,T=0,E=0;if(s.isFirefox&&o.length>2e3){t&&(c.innerHTML=\"\",t.lineWidth=void 0);var L=d.createDocumentFragment();for(b=0;b<u.length;b++)v=u[b],w=v.text,_=v.style,m=this._createSpan(c,w,_,v.ignoreChars),L.appendChild(m);c.appendChild(L)}else{var k,M;if(t){var A=t.modelChangedEvent;A&&(0===A.removedLineCount&&0===A.addedLineCount?(M=A.start-a,k=A.addedCharCount-A.removedCharCount):M=-1,t.modelChangedEvent=void 0),y=t.firstChild}for(b=0;b<u.length;b++){if(v=u[b],w=v.text,T+=w.length,_=v.style,y){if(x=y.firstChild?y.firstChild.data:y.data,C=y.viewStyle,x===w&&p(_,C)){E+=x.length,y._rectsCache=void 0,m=y=y.nextSibling;continue}for(;y;){if(-1!==M){var D=T;D>=M&&(D-=k);var O=y.firstChild?y.firstChild.data:y.data,N=O?O.length:0;if(E+N>D)break;E+=N}S=y.nextSibling,c.removeChild(y),y=S}}m=this._createSpan(c,w,_,v.ignoreChars),y?c.insertBefore(m,y):c.appendChild(m),t&&(t.lineWidth=void 0)}if(t)for(var I=m?m.nextSibling:null;I;)S=I.nextSibling,t.removeChild(I),I=S}return c.parentNode||e.appendChild(c),c},_createRanges:function(e,t,n,i,r,o){if(!(n>i)){if(e)for(var s=0;s<e.length;s++){var a=e[s];if(!(a.end<r+n)){var l=Math.max(r+n,a.start)-r;if(l>i)break;var d=Math.min(r+i,a.end)-r;if(l<=d){if(l=Math.max(n,l),d=Math.min(i,d),n<l&&this._createRange(t,n,l,null,o),!a.style||!a.style.unmergeable)for(;s+1<e.length&&e[s+1].start-r===d&&p(a.style,e[s+1].style);)a=e[s+1],d=Math.min(r+i,a.end)-r,s++;this._createRange(t,l,d,a.style,o),n=d}}}n<i&&this._createRange(t,n,i,null,o)}},_createRange:function(e,t,n,i,r){if(!(t>n)){var o,s=this.view._customTabSize,l={tagName:\"span\",bidi:!0,style:{unicodeBidi:\"embed\",direction:\"ltr\"}},d={text:\"\",style:l};if(s&&8!==s)for(var c=e.indexOf(\"\\t\",t);-1!==c&&c<n;){t<c&&(o={text:e.substring(t,c),style:i},r.ranges.push(o),a.isBidiEnabled&&r.ranges.push(d),r.tabOffset+=o.text.length);var h=s-r.tabOffset%s;if(h>0){for(var u=\"\",f=1;f<h;f++)u+=\" \";o={text:u,style:i,ignoreChars:h-1},r.ranges.push(o),a.isBidiEnabled&&r.ranges.push(d),r.tabOffset+=o.text.length}if((t=c+1)===n)return;c=e.indexOf(\"\\t\",t)}t<=n&&(o={text:e.substring(t,n),style:i},r.ranges.push(o),a.isBidiEnabled&&r.ranges.push(d),r.tabOffset+=o.text.length)}},_createSpan:function(e,t,n,i){var r=this.view,o=\"span\";n&&n.tagName&&(o=n.tagName.toLowerCase());var a=\"a\"===o;a&&(this.hasLink=!0),a&&!r._linksVisible&&(o=\"span\");var l=e.ownerDocument,d=s.createElement(e.ownerDocument,o);if(d.appendChild(l.createTextNode(n&&n.text?n.text:t)),n&&n.html?(d.innerHTML=n.html,d.ignore=!0):n&&n.node?(d.appendChild(n.node),d.ignore=!0):n&&n.bidi&&(d.ignore=!0),h(n,d),\"a\"===o){var c=r._getWindow();T(d,\"click\",function(e){return r._handleLinkClick(e||c.event)},!1)}return d.viewStyle=n,i&&(d.ignoreChars=i),d},_ensureCreated:function(){return this._lineDiv?this._lineDiv:this._createdDiv=this.create(this.view._clientDiv,null)},getBoundingClientRect:function(e,t){var n=this._ensureCreated(),i=this.view;if(void 0===e)return this._getLineBoundingClientRect(n,!0);var r=i._model,o=n.ownerDocument,a=this.lineIndex,l=null;if(e<r.getLineEnd(a)){var c=r.getLineStart(a);this.forEach(function(t){var r=t.firstChild,a=this._nodeLength(t);if(c+a>e){var h,u=e-c;if(1===r.length)l=new x(t.getBoundingClientRect());else if(i._isRangeRects)h=o.createRange(),h.setStart(r,u),h.setEnd(r,u+1),l=new x(h.getBoundingClientRect());else if(s.isIE){h=o.body.createTextRange(),h.moveToElementText(t),h.collapse();var f=0===u&&8===s.isIE;f&&(u=1),h.moveEnd(\"character\",u+1),h.moveStart(\"character\",u),l=new x(h.getBoundingClientRect()),f&&(l.left=t.getClientRects()[0].left)}else{var p=r.data;t.removeChild(r),t.appendChild(o.createTextNode(p.substring(0,u)));var g=s.createElement(o,\"span\");if(g.appendChild(o.createTextNode(p.substring(u,u+1))),t.appendChild(g),t.appendChild(o.createTextNode(p.substring(u+1))),l=new x(g.getBoundingClientRect()),t.innerHTML=\"\",t.appendChild(r),!this._createdDiv){var v=i._getSelections()[0];(c<=v.start&&v.start<c+a||c<=v.end&&v.end<c+a)&&i._updateDOMSelection()}}if(s.isIE<11){var m=d(n.ownerDocument),_=m.screen.logicalXDPI/m.screen.deviceXDPI,y=m.screen.logicalYDPI/m.screen.deviceYDPI;l.left=l.left*_,l.right=l.right*_,l.top=l.top*y,l.bottom=l.bottom*y}return!1}return c+=a,!0})}var h=this.getBoundingClientRect();if(!l)if(i._wrapMode){var u=this.getClientRects();u.length?(l=u[u.length-1],l.left=l.right,l.left+=h.left,l.top+=h.top,l.right+=h.left,l.bottom+=h.top):l=new x(h)}else l=new x(h),l.left=l.right;return(t||void 0===t)&&(l.left-=h.left,l.top-=h.top,l.right-=h.left,l.bottom-=h.top),l},forEach:function(e){for(var t=this._ensureCreated(),n=t.firstChild;n;){var i=n.nextSibling;if(!n.ignore&&!e.call(this,n))break;n=i}},_getClientRects:function(e,t){var n,i,r,o;if(!e._rectsCache){for(n=e.getClientRects(),i=c(n.length),o=0;o<n.length;o++)r=i[o]=new x(n[o]),r.left-=t.left,r.top-=t.top,r.right-=t.left,r.bottom-=t.top;e._rectsCache=i}for(n=e._rectsCache,i=[n.length],o=0;o<n.length;o++)i[o]=new x(n[o]);return i},getClientRects:function(e){if(!this.view._wrapMode)return[this.getBoundingClientRect()];var t=this._ensureCreated(),n=[],i=t.getBoundingClientRect();return this.forEach(function(e){for(var t=this._getClientRects(e,i),r=0;r<t.length;r++){var o,s,a=t[r];if(a.top!==a.bottom){var l=a.top+(a.bottom-a.top)/2;for(o=0;o<n.length&&(s=n[o],!(s.top<=l&&l<s.bottom));o++);o===n.length?n.push(a):(a.left<s.left&&(s.left=a.left),a.top<s.top&&(s.top=a.top),a.right>s.right&&(s.right=a.right),a.bottom>s.bottom&&(s.bottom=a.bottom))}}return!0}),void 0!==e?n[e]:n},_getLineBoundingClientRect:function(e,t){var n=new x(e.getBoundingClientRect());if(this.view._wrapMode);else{n.right=n.left;for(var i=e.lastChild;i&&i.firstChild&&i.ignoreChars===i.firstChild.length;)i=i.previousSibling;if(i&&i.getBoundingClientRect){var r=i.getBoundingClientRect();n.right=r.right+_(e).right}}if(t){var o=_(e);n.left=n.left+o.left,n.right=n.right-o.right}return n},getLineCount:function(){return this.view._wrapMode?this.getClientRects().length:1},getLineIndex:function(e){if(!this.view._wrapMode)return 0;for(var t=this.getClientRects(),n=this.getBoundingClientRect(e),i=n.top+(n.bottom-n.top)/2,r=0;r<t.length;r++)if(t[r].top<=i&&i<t[r].bottom)return r;return t.length-1},getLineStart:function(e){if(!this.view._wrapMode||0===e)return this.view._model.getLineStart(this.lineIndex);var t=this.getClientRects();return this.getOffset(t[e].left+1,t[e].top+1)},_nodeLength:function(e){if(!e||e.ignore||!e.firstChild)return 0;var t=e.firstChild.length;return e.ignoreChars&&(t-=e.ignoreChars),t},getModelOffset:function(e,t){if(!e)return 0;var n=0;return this.forEach(function(i){var r=i.firstChild;return r===e?(i.ignoreChars&&(n-=i.ignoreChars),n+=t,!1):(i.ignoreChars&&(n-=i.ignoreChars),n+=r.data.length,!0)}),Math.max(0,n)+this.view._model.getLineStart(this.lineIndex)},getNodeOffset:function(e){var t,n,i=0,r=this.view._model,o=r.getLineStart(this.lineIndex),s=e-o,a=r.getLineEnd(this.lineIndex)-o;return this.forEach(function(e){var r=e.firstChild,o=this._nodeLength(e);return o+i>s||i+o>=a?(t=r,n=s-i,e.ignoreChars&&o>0&&n===o&&(n+=e.ignoreChars),!1):(i+=o,!0)}),t&&n>t.length&&(n=t.length),{node:t,offset:n}},getText:function(e){var t=\"\",n=0;return this.forEach(function(i){var r;if(i.ignoreChars){r=i.lastChild;for(var o=0,s=[],a=-1;r;){var l=r.data;if(l)for(var d=l.length-1;d>=0;d--){var c=l.substring(d,d+1);o<i.ignoreChars&&(\" \"===c||\"\\ufeff\"===c)?o++:s.push(\"\"===c?\"\\t\":c)}e===r&&(a=s.length),r=r.previousSibling}s=s.reverse().join(\"\"),-1!==a&&(n=t.length+s.length-a),t+=s}else for(r=i.firstChild;r;)e===r&&(n=t.length),t+=r.data,r=r.nextSibling;return!0}),{text:t,offset:n}},getOffset:function(e,t){function n(n){if(n.ignore)return null;for(var r=p._getClientRects(n,f),o=0;o<r.length;o++){var s=r[o];if(s.left<=e&&e<s.right&&(!i._wrapMode||s.top<=t&&t<=s.bottom))return s}return null}var i=this.view,r=i._model,o=this.lineIndex,a=r.getLineStart(o),l=r.getLineEnd(o);if(a===l)return a;var c,h,u=this._ensureCreated(),f=this.getBoundingClientRect(),p=this;if(i._wrapMode){c=this.getClientRects(),t<c[0].top&&(t=c[0].top);for(var g=0;g<c.length&&(h=c[g],!(h.top<=t&&t<h.bottom));g++);e<h.left&&(e=h.left),e>h.right&&(e=h.right-1)}else e<0&&(e=0),e>f.right-f.left&&(e=f.right-f.left);var v,m;if(this._lastHitChild&&this._lastHitChild.parentNode){if(v=this._lastHitOffset,m=this._lastHitChild,!(h=n(m)))for(var _=v,y=v+this._nodeLength(m),C=m.previousSibling,w=m.nextSibling;C||w;){if(C){if(_-=this._nodeLength(C),h=n(C)){m=C,v=_;break}C=C.previousSibling}if(w){if(h=n(w)){m=w,v=y;break}y+=this._nodeLength(w),w=w.nextSibling}}}else v=a,this.forEach(function(e){return m=e,!(h=n(m))&&(v+=this._nodeLength(m),!0)});return m&&h&&(this._lastHitChild=m,this._lastHitOffset=v,v=function(n,l,c){var h,g,v,m,_,y,C,w,x,S=n.firstChild,b=p._nodeLength(n),T=u.ownerDocument,E=d(T),L=s.isIE<11?E.screen.logicalXDPI/E.screen.deviceXDPI:1,k=s.isIE<11?E.screen.logicalYDPI/E.screen.deviceYDPI:1,M=c.left+f.left;if(s.isIE||i._isRangeRects){_=i._isRangeRects?T.createRange():T.body.createTextRange();for(var A=b,D=-1;A-D>1;){var O=Math.floor((A+D)/2);y=D+1,C=O===b-1&&n.ignoreChars?S.length:O+1,w=0===y&&8===s.isIE,i._isRangeRects?(_.setStart(S,y),_.setEnd(S,C)):(w&&(y=1),_.moveToElementText(n),_.move(\"character\",y),_.moveEnd(\"character\",C-y)),x=_.getClientRects();for(var N=!1,I=0;I<x.length;I++)if(c=x[I],h=(w?M:c.left)*L-f.left,v=c.right*L-f.left,g=c.top*k-f.top,m=c.bottom*k-f.top,h<=e&&e<v&&(!i._wrapMode||g<=t&&t<=m)){N=!0;break}N?A=O:D=O}l+=A,y=A,C=A===b-1&&n.ignoreChars?S.length:Math.min(A+1,S.length),i._isRangeRects?(_.setStart(S,y),_.setEnd(S,C)):(_.moveToElementText(n),_.move(\"character\",y),_.moveEnd(\"character\",C-y)),x=_.getClientRects();var R=!1;x.length>0&&(c=x[0],h=(w?M:c.left)*L-f.left,v=c.right*L-f.left,R=e>h+(v-h)/2);var B=l-a,P=r.getLine(o),F=P.charCodeAt(B);55296<=F&&F<=56319&&R?B<P.length&&56320<=(F=P.charCodeAt(B+1))&&F<=57343&&(l+=1):56320<=F&&F<=57343&&!R&&B>0&&55296<=(F=P.charCodeAt(B-1))&&F<=56319&&(l-=1),R&&l++}else{for(var V=[],U=0;U<b;U++)V.push(\"<span>\"),U===b-1?V.push(S.data.substring(U)):V.push(S.data.substring(U,U+1)),V.push(\"</span>\");n.innerHTML=V.join(\"\");for(var W=n.firstChild;W;){if(c=W.getBoundingClientRect(),h=c.left-f.left,v=c.right-f.left,h<=e&&e<v){e>h+(v-h)/2&&l++;break}l++,W=W.nextSibling}if(!p._createdDiv){n.innerHTML=\"\",n.appendChild(S);var H=i._getSelections()[0];(l<=H.start&&H.start<l+b||l<=H.end&&H.end<l+b)&&i._updateDOMSelection()}}return l}(m,v,h)),Math.min(l,Math.max(a,v))},getNextOffset:function(e,t){if(\"line\"===t.unit){var n=this.view,i=n._model,r=i.getLineAtOffset(e);return t.count>0?(t.count--,i.getLineEnd(r)):(t.count++,i.getLineStart(r))}return this._getNextOffset_Chrome(e,t)},_getNextOffset_Chrome:function(e,t){function n(e){return 33<=e&&e<=47||58<=e&&e<=64||91<=e&&e<=94||96===e||123<=e&&e<=126}function i(e){return 32===e||9===e||10===e}if(sap.ui.Device.browser.chrome&&\"word\"===t.unit){var r,o,s,a=this.view,l=a._model,d=l.getText(),c=t.count<0?-1:1,h=e;if(r=d.charCodeAt(t.count>0?h:h-1),(0===h||10===r)&&-1===c)return h;for(o=!n(r)&&!i(r);0!==t.count;){for(t.count>0?h++:h--;(t.count>0?h<d.length:h>0)&&(r=d.charCodeAt(t.count>0?h:h-1),s=!n(r)&&!i(r),t.count>0?o||!s:!o||s);t.count>0?h++:h--)o=s;t.count-=c}return h}return this._getNextOffset_W3C(e,t)},_getNextOffset_W3C:function(e,t){function n(e){return 33<=e&&e<=47||58<=e&&e<=64||91<=e&&e<=94||96===e||123<=e&&e<=126}function i(e){return 32===e||9===e}var r,o=this.view,s=o._model,a=s.getLineAtOffset(e),l=s.getLine(a),d=s.getLineStart(a),c=s.getLineEnd(a),h=l.length,u=e-d,f=t.count<0?-1:1;if(\"word\"===t.unit||\"wordend\"===t.unit||\"wordWS\"===t.unit||\"wordendWS\"===t.unit)for(var p,g,v,m;0!==t.count;){if(t.count>0){if(u===h)return c;for(r=l.charCodeAt(u),p=n(r),g=!p&&!i(r),u++;u<h;){if(r=l.charCodeAt(u),\"wordWS\"!==t.unit&&\"wordendWS\"!==t.unit){\nif(v=n(r),\"wordend\"===t.unit){if(!v&&p)break}else if(v&&!p)break;m=!v&&!i(r)}else m=!i(r);if(\"wordend\"===t.unit||\"wordendWS\"===t.unit){if(!m&&g)break}else if(m&&!g)break;g=m,p=v,u++}}else{if(0===u)return d;for(u--,r=l.charCodeAt(u),p=n(r),g=!p&&!i(r);0<u;){if(r=l.charCodeAt(u-1),\"wordWS\"!==t.unit&&\"wordendWS\"!==t.unit){if(v=n(r),\"wordend\"===t.unit){if(v&&!p)break}else if(!v&&p)break;m=!v&&!i(r)}else m=!i(r);if(\"wordend\"===t.unit||\"wordendWS\"===t.unit){if(m&&!g)break}else if(!m&&g)break;g=m,p=v,u--}}t.count-=f}else for(;0!==t.count&&0<=u+f&&u+f<=h;)u+=f,r=l.charCodeAt(u),56320<=r&&r<=57343&&u>0&&55296<=(r=l.charCodeAt(u-1))&&r<=56319&&(u+=f),t.count-=f;return d+u},_getNextOffset_IE:function(e,t){var n,i,r,o=this._ensureCreated(),s=this.view,a=s._model,l=this.lineIndex,d=0,c=a.getLineStart(l),h=a.getLine(l),u=a.getLineStart(l),f=o.ownerDocument,p=t.count<0?-1:1;if(e===a.getLineEnd(l)){for(r=o.lastChild;r&&r.ignoreChars===r.firstChild.length;)r=r.previousSibling;if(!r)return c;n=f.body.createTextRange(),n.moveToElementText(r),i=n.text.length,n.moveEnd(t.unit,p),d=e+n.text.length-i}else if(e===c&&t.count<0)d=c;else for(r=o.firstChild;r;){var g=this._nodeLength(r);if(c+g>e){if(n=f.body.createTextRange(),e===c&&t.count<0){for(var v=r.previousSibling;v&&(!v.firstChild||!v.firstChild.length);)v=v.previousSibling;n.moveToElementText(v||r.previousSibling)}else n.moveToElementText(r),n.collapse(),n.moveEnd(\"character\",e-c);i=n.text.length,n.moveEnd(t.unit,p),d=e+n.text.length-i;break}c=g+c,r=r.nextSibling}var m=d-u,_=h.charCodeAt(m);return 56320<=_&&_<=57343&&m>0&&55296<=(_=h.charCodeAt(m-1))&&_<=56319&&(m+=p),d=m+u,t.count-=p,d},updateLinks:function(){var e=this._ensureCreated();if(this.hasLink){var t=this;this.forEach(function(n){var i=n.viewStyle;return i&&i.tagName&&\"a\"===i.tagName.toLowerCase()&&e.replaceChild(t._createSpan(e,n.firstChild.data,i),n),!0})}},destroy:function(){var e=this._createdDiv;e&&(e.parentNode.removeChild(e),this._createdDiv=null)}},b.prototype={addKeyMode:function(e,t){var n=this._keyModes;void 0!==t?n.splice(t,0,e):n.push(e),e._modeAdded&&e._modeAdded()},addRuler:function(e,t){var n=this._rulers;if(void 0!==t){var i,r;for(i=0,r=0;i<n.length&&r<t;i++)e.getLocation()===n[i].getLocation()&&r++;n.splice(r,0,e),t=r}else n.push(e);this._createRuler(e,t),e.setView(this),this._update()},computeSize:function(){var e=0,t=0,n=this._model,i=this._clientDiv;if(!i)return{width:e,height:t};var r=i.style.width;s.isWebkit&&(i.style.width=\"0x7fffffffpx\");for(var o=n.getLineCount(),a=0;a<o;a++){var l=this._getLine(a),d=l.getBoundingClientRect();e=Math.max(e,d.right-d.left),t+=d.bottom-d.top,l.destroy()}s.isWebkit&&(i.style.width=r);var c=this._getViewPadding();return e+=c.right+c.left+this._metrics.scrollWidth,t+=c.bottom+c.top+this._metrics.scrollWidth,{width:e,height:t}},convert:function(e,t,n){if(!this._clientDiv)return e;var i=this._getScroll(),r=this._getViewPadding(),o=this._viewDiv.getBoundingClientRect();return\"document\"===t&&(void 0!==e.x&&(e.x+=-i.x+o.left+r.left),void 0!==e.y&&(e.y+=-i.y+o.top+r.top)),\"document\"===n&&(void 0!==e.x&&(e.x+=i.x-o.left-r.left),void 0!==e.y&&(e.y+=i.y-o.top-r.top)),e},copy:function(){return!!this._clientDiv&&this._doCopy()},cut:function(){return!!this._clientDiv&&this._doCut()},destroy:function(){for(var e=0;e<this._rulers.length;e++)this._rulers[e].setView(null);this.rulers=null,this._destroyView();var t={type:\"Destroy\"};this.onDestroy(t),this._parent=null,this._model&&this._model.destroy&&this._model.destroy(),this._model=null,this._theme=null,this._selection=null,this._doubleClickSelection=null,this._keyModes=null,this._actions=null},focus:function(){this._clientDiv&&(this._updateDOMSelection(),this._clientDiv.focus(),this._updateDOMSelection())},hasFocus:function(){return this._hasFocus},getActionDescription:function(e){var t=this._actions[e];if(t)return t.actionDescription},getActions:function(e){var t=[],n=this._actions;for(var i in n)if(n.hasOwnProperty(i)){if(!e&&n[i].defaultHandler)continue;t.push(i)}return t},getBottomIndex:function(e){return this._clientDiv?this._getBottomIndex(e):0},getBottomPixel:function(){return this._clientDiv?this._getScroll().y+this._getClientHeight():0},getCaretOffset:function(){return this._getSelection().getCaret()},getClientArea:function(){if(!this._clientDiv)return{x:0,y:0,width:0,height:0};var e=this._getScroll();return{x:e.x,y:e.y,width:this._getClientWidth(),height:this._getClientHeight()}},getHorizontalPixel:function(){return this._clientDiv?this._getScroll().x:0},getKeyBindings:function(e){for(var t=[],n=this._keyModes,i=0;i<n.length;i++)t=t.concat(n[i].getKeyBindings(e));return t},getKeyModes:function(){return this._keyModes.slice(0)},getLineHeight:function(e){return this._clientDiv?this._getLineHeight(e):0},getLineIndex:function(e){return this._clientDiv?this._getLineIndex(e):0},isValidTextPosition:function(e,t){if(!this._clientDiv)return!1;var n=this._getLineIndex(t,!0);if(n<0)return!1;var i=this._getLine(n),r=this.getOffsetAtLocation(e,t),o=i.getBoundingClientRect(r);return i.destroy(),!(e>o.right)},getLinePixel:function(e){return this._clientDiv?this._getLinePixel(e):0},getLocationAtOffset:function(e){if(!this._clientDiv)return{x:0,y:0};var t=this._model;e=Math.min(Math.max(0,e),t.getCharCount());var n=t.getLineAtOffset(e),i=this._getLine(n),r=i.getBoundingClientRect(e);return i.destroy(),{x:r.left,y:this._getLinePixel(n)+r.top}},getNextOffset:function(e,t){var n=new C(e,e,!1);return this._doMove(t,n),n.getCaret()},getOptions:function(){var e;if(0===arguments.length)e=this._defaultOptions();else if(1===arguments.length){var t=arguments[0];if(\"string\"==typeof t)return u(this[\"_\"+t]);e=t}else{e={};for(var n in arguments)arguments.hasOwnProperty(n)&&(e[arguments[n]]=void 0)}for(var i in e)e.hasOwnProperty(i)&&(e[i]=u(this[\"_\"+i]));return e},getModel:function(){return this._model},getOffsetAtLocation:function(e,t){if(!this._clientDiv)return 0;var n=this._getLineIndex(t),i=this._getLine(n),r=i.getOffset(e,t-this._getLinePixel(n));return i.destroy(),r},getLineAtOffset:function(e){return this.getModel().getLineAtOffset(e)},getLineStart:function(e){return this.getModel().getLineStart(e)},getRulers:function(){return this._rulers.slice(0)},getSelection:function(){return this._getSelection()},getSelections:function(){return this._getSelections()},getSelectionText:function(e){var t=[],n=this;return this._getSelections().forEach(function(e){e.isEmpty()||t.push(n._getBaseText(e.start,e.end))}),t.join(void 0!==e?e:this._model.getLineDelimiter())},getText:function(e,t){return this._model.getText(e,t)},getTopIndex:function(e){return this._clientDiv?this._getTopIndex(e):0},getTopPixel:function(){return this._clientDiv?this._getScroll().y:0},invokeAction:function(e,t,n){if(this._clientDiv){var i=this._actions[e];if(i){if(i.actionDescription&&i.actionDescription.id&&l.logEvent(\"editor\",\"action\",i.actionDescription.id),!t&&i.handler&&i.handler(n))return!0;if(i.defaultHandler)return\"boolean\"==typeof i.defaultHandler(n)}return!1}},isDestroyed:function(){return!this._clientDiv},onContextMenu:function(e){return this.dispatchEvent(e)},onDragStart:function(e){return this.dispatchEvent(e)},onDrag:function(e){return this.dispatchEvent(e)},onDragEnd:function(e){return this.dispatchEvent(e)},onDragEnter:function(e){return this.dispatchEvent(e)},onDragOver:function(e){return this.dispatchEvent(e)},onDragLeave:function(e){return this.dispatchEvent(e)},onDrop:function(e){return this.dispatchEvent(e)},onDestroy:function(e){return this.dispatchEvent(e)},onSaving:function(e){return this.dispatchEvent(e)},onInputChanged:function(e){return this.dispatchEvent(e)},onLineStyle:function(e){return this.dispatchEvent(e)},onKeyDown:function(e){return this.dispatchEvent(e)},onKeyPress:function(e){return this.dispatchEvent(e)},onKeyUp:function(e){return this.dispatchEvent(e)},onModelChanged:function(e){return this.dispatchEvent(e)},onModelChanging:function(e){return this.dispatchEvent(e)},onModify:function(e){return this.dispatchEvent(e)},onMouseDown:function(e){return this.dispatchEvent(e)},onMouseUp:function(e){return this.dispatchEvent(e)},onMouseMove:function(e){return this.dispatchEvent(e)},onMouseOver:function(e){return this.dispatchEvent(e)},onMouseOut:function(e){return this.dispatchEvent(e)},onTouchStart:function(e){return this.dispatchEvent(e)},onTouchMove:function(e){return this.dispatchEvent(e)},onTouchEnd:function(e){return this.dispatchEvent(e)},onOptions:function(e){return this.dispatchEvent(e)},onSelection:function(e){return this.dispatchEvent(e)},onScroll:function(e){return this.dispatchEvent(e)},onVerify:function(e){return this.dispatchEvent(e)},onFocus:function(e){return this.dispatchEvent(e)},onBlur:function(e){return this.dispatchEvent(e)},paste:function(){return!!this._clientDiv&&this._doPaste()},redraw:function(){if(!(this._redrawCount>0)){var e=this._model.getLineCount();this.redrawRulers(0,e),this.redrawLines(0,e)}},redrawRulers:function(e,t){if(!(this._redrawCount>0))for(var n=this.getRulers(),i=0;i<n.length;i++)this.redrawLines(e,t,n[i])},redrawLines:function(e,t,n){if(!(this._redrawCount>0)&&(void 0===e&&(e=0),void 0===t&&(t=this._model.getLineCount()),e!==t)){var i=this._clientDiv;if(i){if(n){var r=this._getRulerParent(n);for(i=r.firstChild;i&&i._ruler!==n;)i=i.nextSibling}n?i.rulerChanged=!0:this._lineHeight&&this._resetLineHeight(e,t);var o=-1;if(n||-1===this._imeOffset||(o=this._model.getLineAtOffset(this._imeOffset)),!n||\"page\"===n.getOverview())for(var s=i.firstChild;s;){var a=s.lineIndex;e<=a&&a<t&&a!==o&&(s.lineChanged=!0),s=s.nextSibling}n||this._wrapMode||e<=this._maxLineIndex&&this._maxLineIndex<t&&(this._checkMaxLineIndex=this._maxLineIndex,this._maxLineIndex=-1,this._maxLineWidth=0),this.dispatchEvent({type:\"Redraw\",startLine:e,endLine:t,ruler:n}),this._queueUpdate()}}},redrawRange:function(e,t){if(!(this._redrawCount>0)){var n=this._model;void 0===e&&(e=0),void 0===t&&(t=n.getCharCount());var i=n.getLineAtOffset(e),r=n.getLineAtOffset(Math.max(e,t-1))+1;this.redrawLines(i,r)}},removeKeyMode:function(e){for(var t=this._keyModes,n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}e._modeRemoved&&e._modeRemoved()},removeRuler:function(e){for(var t=this._rulers,n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1),e.setView(null),this._destroyRuler(e),this._update();break}},resize:function(){this._clientDiv&&this._handleResize(null)},setAction:function(e,t,n){if(e){var i=this._actions,r=i[e];r||(r=i[e]={}),r.handler=t,void 0!==n&&(r.actionDescription=n)}},setKeyBinding:function(e,t){this._keyModes[0].setKeyBinding(e,t)},setCaretOffset:function(e,t,n){var i=this._model.getCharCount();e=Math.max(0,Math.min(e,i));var r=new C(e,e,!1);this._setSelection(r,void 0===t||t,!0,n)},setHorizontalPixel:function(e){this._clientDiv&&(e=Math.max(0,e),this._scrollView(e-this._getScroll().x,0))},setRedraw:function(e){e?0==--this._redrawCount&&this.redraw():this._redrawCount++},setModel:function(e){if(e!==this._model){e=e||new t.TextModel,this._model.removeEventListener(\"preChanging\",this._modelListener.onChanging),this._model.removeEventListener(\"postChanged\",this._modelListener.onChanged);var n=this._model.getLineCount(),i=this._model.getCharCount(),r=e.getLineCount(),o=e.getCharCount(),s=e.getText(),a={type:\"ModelChanging\",text:s,start:0,removedCharCount:i,addedCharCount:o,removedLineCount:n,addedLineCount:r};this.onModelChanging(a),this._model=e,a={type:\"ModelChanged\",start:0,removedCharCount:i,addedCharCount:o,removedLineCount:n,addedLineCount:r},this.onModelChanged(a),this._model.addEventListener(\"preChanging\",this._modelListener.onChanging),this._model.addEventListener(\"postChanged\",this._modelListener.onChanged),this._reset(),this._update()}},setOptions:function(e){var t=this._defaultOptions();for(var n in e)if(e.hasOwnProperty(n)){var i=e[n],r=this[\"_\"+n];if(p(r,i))continue;var o=t[n]?t[n].update:null;if(o){o.call(this,i);continue}this[\"_\"+n]=u(i)}this.onOptions({type:\"Options\",options:e})},setSelection:function(e,t,n,i){var r=e>t;if(r){var o=e;e=t,t=o}var s=this._model.getCharCount();e=Math.max(0,Math.min(e,s)),t=Math.max(0,Math.min(t,s));var a=new C(e,t,r);this._setSelection(a,void 0===n||n,!0,i)},setSelections:function(e,t,n){var i=this._rangesToSelections(e);this._setSelection(i,void 0===t||t,!0,n)},setText:function(e,t,n,i,r){var o,a=\"string\"==typeof e,l=void 0===t&&void 0===n&&a;a?(void 0===t&&(t=0),void 0===n&&(n=this._model.getCharCount()),o={text:e,selection:[new C(t,n,!1)]}):(o=e,o.selection=this._rangesToSelections(o.selection)),o._code=!0,l&&(this._variableLineHeight=!1),this._modifyContent(o,!l,void 0===i||i,r),l&&s.isFirefox<13&&this._fixCaret()},setTopIndex:function(e,t){this._clientDiv&&this._scrollViewAnimated(0,this._getLinePixel(Math.max(0,e))-this._getScroll().y,t)},setTopPixel:function(e,t){this._clientDiv&&this._scrollViewAnimated(0,Math.max(0,e)-this._getScroll().y,t)},showSelection:function(e,t){return this._showCaret(!e,t,e)},update:function(e,t){this._clientDiv&&((e||this._metrics.invalid)&&this._updateStyle(),void 0===t||t?this._update():this._queueUpdate())},_handleRootMouseDown:function(e){if(this._cancelCheckSelection(),!this._ignoreEvent(e)){s.isFirefox<13&&1===e.which&&(this._clientDiv.contentEditable=!1,(this._overlayDiv||this._clientDiv).draggable=!0,this._ignoreBlur=!0);var t=this._overlayDiv||this._clientDiv;s.isIE<9&&(t=this._viewDiv);for(var n=e.target?e.target:e.srcElement;n;){if(t===n)return;if(n.getAttribute&&n.getAttribute(\"class\")&&-1!==n.getAttribute(\"class\").indexOf(\"textViewFind\"))return;n=n.parentNode}if(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!this._isW3CEvents){var i=this;this._getWindow().setTimeout(function(){i._clientDiv.focus()},0)}}},_handleRootMouseUp:function(e){this._ignoreEvent(e)||(s.isFirefox<13&&1===e.which&&(this._clientDiv.contentEditable=!0,(this._overlayDiv||this._clientDiv).draggable=!1),s.isFirefox&&1===e.which&&(this._fixCaret(),this._ignoreBlur=!1))},_handleBlur:function(){if(this._cancelCheckSelection(),!this._ignoreBlur){if(this._commitIME(),this._hasFocus=!1,s.isIE<9&&!this._getSelections()[0].isEmpty()){var e=this._rootDiv,t=s.createElement(e.ownerDocument,\"div\");e.appendChild(t),e.removeChild(t)}if(this._cursorDiv&&(this._cursorDiv.style.display=\"none\"),this._domSelection){this._domSelection.forEach(function(e){e.update()});var n,i=this._getWindow(),r=this._parent.ownerDocument;if(i.getSelection){var o=i.getSelection();for(n=o.anchorNode;n;){if(n===this._clientDiv){o.rangeCount>0&&o.removeAllRanges();break}n=n.parentNode}}else if(r.selection){for(this._ignoreSelect=!1,n=r.selection.createRange().parentElement();n;){if(n===this._clientDiv){r.selection.empty();break}n=n.parentNode}this._ignoreSelect=!0}}this._ignoreFocus||this.onBlur({type:\"Blur\"})}},_handleCompositionStart:function(e){if(!this._ignoreEvent(e)){if(this._imeTimeout){this._getWindow().clearTimeout(this._imeTimeout),this._imeTimeout=null}this._imeText&&(s.isIE&&/ko/.test(e.locale)||this._commitIME(this._imeText),this._imeText=null),this._startIME(),this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)}},_handleCompositionUpdate:function(e){this._ignoreEvent(e)||(this._imeText=e.data)},_handleCompositionEnd:function(e){if(!this._ignoreEvent(e)){this._imeText=e.data;var t=this._getWindow();this._imeTimeout=t.setTimeout(function(){this._commitIME(this._imeText),this._imeText=this._imeTimeout=null}.bind(this),0)}},_handleContextMenu:function(e){if(!this._ignoreEvent(e)){s.isIE&&3===this._lastMouseButton&&this._updateDOMSelection();var t=!1;if(this.isListening(\"ContextMenu\")){var n=this._createMouseEvent(\"ContextMenu\",e);n.screenX=e.screenX,n.screenY=e.screenY,this.onContextMenu(n),t=n.defaultPrevented}else s.isMac&&s.isFirefox&&0===e.button&&(t=!0);if(t)return e.preventDefault&&e.preventDefault(),!1;this._contextMenuOpen=!0,s.isFirefox&&(this._checkSelectionChange=!0,this._pollSelectionChange(!0))}},_handleCopy:function(e){if(this._cancelCheckSelection(),!this._ignoreEvent(e)&&!this._ignoreCopy)return this._doCopy(e)?(e.preventDefault&&e.preventDefault(),!1):void 0},_handleCut:function(e){if(this._cancelCheckSelection(),!this._ignoreEvent(e))return this._doCut(e)?(e.preventDefault&&e.preventDefault(),!1):void 0},_handleDataModified:function(e){this._ignoreEvent(e)||this._startIME()},_handleDblclick:function(e){if(!this._ignoreEvent(e)){var t=e.timeStamp?e.timeStamp:(new Date).getTime();this._lastMouseTime=t,2!==this._clickCount&&(this._clickCount=2,this._handleMouse(e))}},_handleDragStart:function(e){if(!this._ignoreEvent(e)){if(s.isFirefox<13){var t=this;this._getWindow().setTimeout(function(){t._clientDiv.contentEditable=!0,t._clientDiv.draggable=!1,t._ignoreBlur=!1},0)}if(!this.isListening(\"DragStart\")||-1===this._dragOffset)return e.preventDefault&&e.preventDefault(),!1;this._isMouseDown=!1,this.onDragStart(this._createMouseEvent(\"DragStart\",e)),this._dragOffset=-1}},_handleDrag:function(e){this._ignoreEvent(e)||this.isListening(\"Drag\")&&this.onDrag(this._createMouseEvent(\"Drag\",e))},_handleDragEnd:function(e){this._ignoreEvent(e)||(this._dropTarget=!1,this._dragOffset=-1,this.isListening(\"DragEnd\")&&this.onDragEnd(this._createMouseEvent(\"DragEnd\",e)),s.isFirefox<13&&(this._fixCaret(),\"none\"!==e.dataTransfer.dropEffect||e.dataTransfer.mozUserCancelled||this._fixCaret()))},_handleDragEnter:function(e){if(!this._ignoreEvent(e)){var t=!0;return this._dropTarget=!0,this.isListening(\"DragEnter\")&&(t=!1,this.onDragEnter(this._createMouseEvent(\"DragEnter\",e))),s.isWebkit||t?(e.preventDefault&&e.preventDefault(),!1):void 0}},_handleDragOver:function(e){if(!this._ignoreEvent(e)){var t=!0;return this.isListening(\"DragOver\")&&(t=!1,this.onDragOver(this._createMouseEvent(\"DragOver\",e))),s.isWebkit||t?(t&&(e.dataTransfer.dropEffect=\"none\"),e.preventDefault&&e.preventDefault(),!1):void 0}},_handleDragLeave:function(e){this._ignoreEvent(e)||(this._dropTarget=!1,this.isListening(\"DragLeave\")&&this.onDragLeave(this._createMouseEvent(\"DragLeave\",e)))},_handleDrop:function(e){if(!this._ignoreEvent(e))return this._dropTarget=!1,this.isListening(\"Drop\")&&this.onDrop(this._createMouseEvent(\"Drop\",e)),e.preventDefault&&e.preventDefault(),!1},_handleFocus:function(){this._hasFocus=!0,s.isIOS&&void 0!==this._lastTouchOffset?(this.setCaretOffset(this._lastTouchOffset,!0),this._lastTouchOffset=void 0):this._updateDOMSelection(),this._cursorDiv&&(this._cursorDiv.style.display=\"block\"),this._domSelection&&this._domSelection.forEach(function(e){e.update()}),this._ignoreFocus||this.onFocus({type:\"Focus\"})},_handleKeyDown:function(e){if(this._cancelCheckSelection(),!this._ignoreEvent(e)){if(this.isListening(\"KeyDown\")){var t=this._createKeyEvent(\"KeyDown\",e);if(this.onKeyDown(t),t.defaultPrevented)return s.isFirefox,void e.preventDefault()}var n=!1;switch(e.keyCode){case 16:case 17:case 18:case 91:n=!0;break;default:this._setLinksVisible(!1)}if(229===e.keyCode){if(this._readonly)return e.preventDefault&&e.preventDefault(),!1;var i=!0;s.isSafari&&s.isMac&&e.ctrlKey&&(i=!1,e.keyCode=129),sap.ui.Device.browser.chrome&&(i=!1),i&&this._startIME()}else n||this._commitIME();return(s.isMac||s.isLinux)&&s.isFirefox<4||s.isOpera<12.16?(this._keyDownEvent=e,!0):this._doAction(e)?(e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1,e.keyCode=0),!1):void 0}},_handleKeyPress:function(e){if(!this._ignoreEvent(e)){if(this._keyDownPrevented)return e.preventDefault&&(e.preventDefault(),e.stopPropagation()),void(this._keyDownPrevented=void 0);if(s.isMac&&s.isWebkit&&(63232<=e.keyCode&&e.keyCode<=63487||13===e.keyCode||8===e.keyCode))return e.preventDefault&&e.preventDefault(),!1;if(((s.isMac||s.isLinux)&&s.isFirefox<4||s.isOpera<12.16)&&this._doAction(this._keyDownEvent))return e.preventDefault&&e.preventDefault(),!1;var t=s.isMac?e.metaKey:e.ctrlKey;if(void 0!==e.charCode&&t)switch(e.charCode){case 99:case 118:case 120:return!0}if(this.isListening(\"KeyPress\")){var n=this._createKeyEvent(\"KeyPress\",e);if(this.onKeyPress(n),n.defaultPrevented)return void e.preventDefault()}if(this._doAction(e))return e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1,e.keyCode=0),!1;var i=!1;if(s.isMac?(e.ctrlKey||e.metaKey)&&(i=!0):s.isFirefox?(e.ctrlKey||e.altKey)&&(i=!0):e.ctrlKey^e.altKey&&(i=!0),!i){var r=s.isOpera?e.which:void 0!==e.charCode?e.charCode:e.keyCode;if(r>31)return this._doContent(String.fromCharCode(r)),e.preventDefault&&e.preventDefault(),!1}}},_handleDocKeyUp:function(e){(s.isMac?e.metaKey:e.ctrlKey)||this._setLinksVisible(!1)},_handleKeyUp:function(e){if(!this._ignoreEvent(e)){if(this.isListening(\"KeyUp\")){var t=this._createKeyEvent(\"KeyUp\",e);if(this.onKeyUp(t),t.defaultPrevented)return void e.preventDefault()}this._handleDocKeyUp(e),13===e.keyCode&&this._commitIME()}},_handleLinkClick:function(e){if(!(s.isMac?e.metaKey:e.ctrlKey))return e.preventDefault&&e.preventDefault(),!1},_handleMouse:function(e){var t=this._getWindow(),n=!0,i=t;if((s.isIE||s.isFirefox&&!this._overlayDiv)&&(i=this._clientDiv),this._overlayDiv){this._hasFocus&&(this._ignoreFocus=!0);var r=this;t.setTimeout(function(){r.focus(),r._ignoreFocus=!1},0)}var o=e.shiftKey,a=e.altKey,l=s.isMac?e.metaKey:e.ctrlKey;if(this._blockSelection=this._doubleClickSelection=null,1===this._clickCount){var d=(!s.isOpera||s.isOpera>=12.16)&&this._hasFocus&&this.isListening(\"DragStart\");n=this._setSelectionTo(e.clientX,e.clientY,!0,o,l,d),n&&this._setGrab(i)}else this._isW3CEvents&&this._setGrab(i),this._setSelectionTo(e.clientX,e.clientY,!0,o,l,!1),this._doubleClickSelection=C.editing(this._getSelections());return a&&(this._blockSelection=C.editing(this._getSelections())),n},_handleMouseDown:function(e){if(!this._ignoreEvent(e)){if(this._linksVisible){if(\"A\"===(e.target||e.srcElement).tagName)return;this._setLinksVisible(!1)}this._commitIME();var t=e.which;t||(4===e.button&&(t=2),2===e.button&&(t=3),1===e.button&&(t=1));var n=2!==t&&e.timeStamp?e.timeStamp:(new Date).getTime(),i=n-this._lastMouseTime,r=Math.abs(this._lastMouseX-e.clientX),o=Math.abs(this._lastMouseY-e.clientY),a=this._lastMouseButton===t;if(this._lastMouseX=e.clientX,this._lastMouseY=e.clientY,this._lastMouseTime=n,this._lastMouseButton=t,1===t&&(this._isMouseDown=!0,a&&i<=this._clickTime&&r<=this._clickDist&&o<=this._clickDist?this._clickCount++:this._clickCount=1),this.isListening(\"MouseDown\")){var l=this._createMouseEvent(\"MouseDown\",e);if(this.onMouseDown(l),l.defaultPrevented)return void e.preventDefault()}1===t&&this._handleMouse(e)&&(s.isIE>=9||s.isOpera||s.isChrome||s.isSafari||s.isFirefox&&!this._overlayDiv)&&(this._hasFocus||this.focus(),e.preventDefault()),s.isFirefox&&3===this._lastMouseButton&&this._updateDOMSelection()}},_handleMouseOver:function(e){this._ignoreEvent(e)||this._animation||this.isListening(\"MouseOver\")&&this.onMouseOver(this._createMouseEvent(\"MouseOver\",e))},_handleMouseOut:function(e){this._ignoreEvent(e)||this._animation||this.isListening(\"MouseOut\")&&this.onMouseOut(this._createMouseEvent(\"MouseOut\",e))},_handleMouseMove:function(e){if(!this._animation){var t=this._isClientDiv(e);if(this.isListening(\"MouseMove\")&&(t||this._isMouseDown)){var n=this._createMouseEvent(\"MouseMove\",e);if(this.onMouseMove(n),n.defaultPrevented)return void e.preventDefault()}if(!this._dropTarget){var i=this._linksVisible||this._lastMouseMoveX!==e.clientX||this._lastMouseMoveY!==e.clientY;if(this._lastMouseMoveX=e.clientX,this._lastMouseMoveY=e.clientY,this._setLinksVisible(i&&!this._isMouseDown&&e.altKey&&(s.isMac?e.metaKey:e.ctrlKey)),this._checkOverlayScroll(),!this._isW3CEvents){if(0===e.button)return this._setGrab(null),!0;if(!this._isMouseDown&&1===e.button&&0!=(1&this._clickCount)&&t)return this._clickCount=2,this._handleMouse(e,this._clickCount)}if(this._isMouseDown&&-1===this._dragOffset){var r=e.clientX,o=e.clientY,a=this._getViewPadding(),l=this._viewDiv.getBoundingClientRect(),d=this._getClientWidth(),c=this._getClientHeight(),h=l.left+a.left,u=l.top+a.top,f=l.left+a.left+d,p=l.top+a.top+c;o<u?this._doAutoScroll(\"up\",r,o-u):o>p?this._doAutoScroll(\"down\",r,o-p):r<h&&!this._wrapMode?this._doAutoScroll(\"left\",r-h,o):r>f&&!this._wrapMode?this._doAutoScroll(\"right\",r-f,o):(this._endAutoScroll(),this._setSelectionTo(r,o,!1,!0))}}}},_isClientDiv:function(e){for(var t=this._overlayDiv||this._clientDiv,n=e.target?e.target:e.srcElement;n;){if(t===n)return!0;n=n.parentNode}return!1},_createKeyEvent:function(e,t){return{type:e,event:t,preventDefault:function(){this.defaultPrevented=!0}}},_createMouseEvent:function(e,t){var n=this.convert({x:t.clientX,y:t.clientY},\"page\",\"document\");return{type:e,event:t,clickCount:this._clickCount,x:n.x,y:n.y,preventDefault:function(){this.defaultPrevented=!0}}},_createTouchEvent:function(e,t){var n=t.touches.length?this.convert({x:t.touches[0].clientX,y:t.touches[0].clientY},\"page\",\"document\"):{};return{type:e,event:t,touchCount:t.touches.length,x:n.x,y:n.y,preventDefault:function(){this.defaultPrevented=!0}}},_handleMouseUp:function(e){var t=e.which?0===e.button:1===e.button;if(this.isListening(\"MouseUp\")&&(this._isClientDiv(e)||t&&this._isMouseDown)){var n=this._createMouseEvent(\"MouseUp\",e);if(this.onMouseUp(n),n.defaultPrevented)return e.preventDefault(),void(this._isMouseDown=!1)}if(!this._linksVisible){if(t&&this._isMouseDown){var i=this._getSelections(),r=C.editing(i);i.forEach(function(e){e._editing=!1}),-1!==this._dragOffset&&(r.extend(this._dragOffset),r.collapse(),i=r,this._dragOffset=-1),this._setSelection(i,!1),this._isMouseDown=!1,this._endAutoScroll(),this._isW3CEvents&&this._setGrab(null)}t&&this._isMouseDown&&s.isFirefox&&(this._updateDOMSelection(),e.preventDefault())}},_handleMouseWheel:function(e){if(!e.metaKey&&!e.ctrlKey&&!this._noScroll){var t=this._getLineHeight(),n=0,i=0;if(s.isIE||s.isOpera)i=-e.wheelDelta/40*t;else if(s.isFirefox){if(\"wheel\"===e.type)e.deltaMode?(n=Math.max(-256,Math.min(256,e.deltaX))*t,i=Math.max(-256,Math.min(256,e.deltaY))*t):(n=e.deltaX,i=e.deltaY);else{var r;r=s.isMac?3*e.detail:Math.max(-256,Math.min(256,e.detail))*t,e.axis===e.HORIZONTAL_AXIS?n=r:i=r}}else if(s.isMac){var o,a,l=e.timeStamp-this._wheelTimeStamp;this._wheelTimeStamp=e.timeStamp,o=e.wheelDeltaX%120!=0?1:l<40?40/(40-l):40,a=e.wheelDeltaY%120!=0?1:l<40?40/(40-l):40,n=Math.ceil(-e.wheelDeltaX/o),-1<n&&n<0&&(n=-1),0<n&&n<1&&(n=1),i=Math.ceil(-e.wheelDeltaY/a),-1<i&&i<0&&(i=-1),0<i&&i<1&&(i=1)}else{n=-e.wheelDeltaX;i=-e.wheelDeltaY/120*3*t}if(s.isSafari||s.isChrome&&s.isMac){for(var d=e.target;d&&void 0===d.lineIndex;)d=d.parentNode;this._mouseWheelLine=d}var c=this._getScroll();this._scrollView(n,i);var h=this._getScroll();return c.x!==h.x||c.y!==h.y?(e.preventDefault&&e.preventDefault(),!1):void 0}},_handlePaste:function(e){if(this._cancelCheckSelection(),!this._ignoreEvent(e)&&!this._ignorePaste&&this._doPaste(e)){if(s.isIE){var t=this;this._ignoreFocus=!0;this._getWindow().setTimeout(function(){t._updateDOMSelection(),t._ignoreFocus=!1},0)}return e.preventDefault&&e.preventDefault(),!1}},_handleResize:function(){var e=this._rootDiv.clientWidth,t=this._rootDiv.clientHeight;if(this._rootWidth!==e||this._rootHeight!==t){this._rootWidth!==e&&this._wrapMode&&this._resetLineHeight(),this._rootWidth=e,this._rootHeight=t;var n=s.isIE<9,i=this._calculateMetrics();p(i,this._metrics)||(this._metrics.invalid&&!i.invalid?this._updateStyle(!1,i):(this._variableLineHeight&&(this._variableLineHeight=!1,this._resetLineHeight()),this._metrics=i),n=!0),n?this._queueUpdate():this._update(),this.dispatchEvent({type:\"Resize\"})}},_handleRulerEvent:function(e){for(var t=e.target?e.target:e.srcElement,n=t.lineIndex,i=t;i&&!i._ruler;)void 0===n&&void 0!==i.lineIndex&&(n=i.lineIndex),i=i.parentNode;var r=i?i._ruler:null;if(void 0===n&&r&&\"document\"===r.getOverview()){var o,s,a=this._getClientHeight(),l=this._model.getLineCount(),d=this._getViewPadding(),c=this._viewDiv.getBoundingClientRect(),h=this._getLineHeight(),u=h*l,f=a+d.top+d.bottom-2*this._metrics.scrollWidth;u<f?(o=h,s=d.top):(o=f/l,s=this._metrics.scrollWidth),n=Math.floor((e.clientY-c.top-s)/o),0<=n&&n<l||(n=void 0)}if(r)switch(e.type){case\"click\":r.onClick&&r.onClick(n,e);break;case\"dblclick\":r.onDblClick&&r.onDblClick(n,e);break;case\"mousemove\":r.onMouseMove&&r.onMouseMove(n,e);break;case\"mouseover\":r.onMouseOver&&r.onMouseOver(n,e);break;case\"mouseout\":if(r.onMouseOut){for(var p=e.relatedTarget;p&&p!==this._rootDiv;){if(p===i)return;p=p.parentNode}r.onMouseOut(n,e)}}},_handleScroll:function(){this._lastScrollTime=(new Date).getTime();var e=this._getScroll(!1),t=this._hScroll,n=this._vScroll;if(t!==e.x||n!==e.y){this._hScroll=e.x,this._vScroll=e.y,this._commitIME(),this._update(n===e.y);var i={type:\"Scroll\",oldValue:{x:t,y:n},newValue:e};this.onScroll(i)}},_handleSelectStart:function(e){var t=this._contextMenuOpen;if(this._contextMenuOpen=!1,t)return void(this._checkSelectionChange=!0);if(this._ignoreSelect){if(sap.ui.Device.browser.edge&&-1!==this._imeOffset)return;return e&&e.preventDefault&&e.preventDefault(),!1}},_getModelOffset:function(e,t){if(e){var n;return n=\"DIV\"===e.tagName?e:e.parentNode.parentNode,n._line?n._line.getModelOffset(e,t):0}},_updateSelectionFromDOM:function(){if(!(s.isIOS||s.isAndroid||this._checkSelectionChange))return!1;var e=this._getWindow(),t=e.getSelection(),n=this._getModelOffset(t.anchorNode,t.anchorOffset),i=this._getModelOffset(t.focusNode,t.focusOffset),r=this._getSelections()[0];if(void 0===n||void 0===i||r.start===n&&r.end===i)return!1;if(this._checkSelectionChange){var o=this._getLineNext(),a=this._getLinePrevious();if(t.anchorNode===o.firstChild.firstChild&&0===t.anchorOffset&&t.focusNode===a.firstChild.firstChild&&0===t.focusOffset)return!1;(t.anchorNode===o.firstChild.firstChild&&0===t.anchorOffset&&t.focusNode===a.lastChild.firstChild||t.anchorNode===this._clientDiv&&t.focusNode===this._clientDiv)&&(n=0,i=this.getModel().getCharCount())}return this._setSelection(new C(n,i),!1,!1),this._checkSelectionChange=!1,!0},_cancelCheckSelection:function(){this._checkSelectionChange&&(this._checkSelectionChange=!1,this._cancelPollSelectionChange())},_cancelPollSelectionChange:function(){if(this._selPollTimer){this._getWindow().clearTimeout(this._selPollTimer),this._selPollTimer=null}},_pollSelectionChange:function(e){var t=this,n=this._getWindow();this._cancelPollSelectionChange(),this._selPollTimer=n.setTimeout(function(){if(t._selPollTimer=null,t._clientDiv){!t._updateSelectionFromDOM()&&e&&t._pollSelectionChange(e)}},100)},_handleSelectionChange:function(){-1===this._imeOffset&&(s.isAndroid?this._pollSelectionChange():this._updateSelectionFromDOM())},_handleTextInput:function(e){if(!this._ignoreEvent(e)&&!(-1!==this._imeOffset||sap.ui.Device.browser.edge&&this._imeTimeout)){var t=this._getWindow().getSelection();if(t.anchorNode!==this._anchorNode||t.focusNode!==this._focusNode||t.anchorOffset!==this._anchorOffset||t.focusOffset!==this._focusOffset){for(var n=t.anchorNode;n&&void 0===n.lineIndex;)n=n.parentNode;if(n){var i=this._model,r=n.lineIndex,o=i.getLine(r),s=o,a=0,l=i.getLineStart(r);if(t.rangeCount>0){t.getRangeAt(0).deleteContents();var d=n.ownerDocument.createTextNode(e.data);t.getRangeAt(0).insertNode(d);var c=this._getDOMText(n,d);s=c.text,a=c.offset,d.parentNode.removeChild(d)}n.lineRemoved=!0;for(var h=0;o.charCodeAt(h)===s.charCodeAt(h)&&h<a;)h++;for(var u=o.length-1,f=s.length-o.length;o.charCodeAt(u)===s.charCodeAt(u+f)&&u+f>=a+e.data.length;)u--;u++;var p=s.substring(h,u+f);h+=l,u+=l;var g=this._getSelections(),v=g[0].start-h,m=g[0].end-u;g[0].start=h,g[0].end=u;for(var _=1;_<g.length;_++)g[_].start-=v,g[_].end-=m;this._modifyContent({text:p,selection:g,_ignoreDOMSelection:!0},!0)}}else this._doContent(e.data);e.preventDefault()}},_handleTouchStart:function(e){if(this.isListening(\"TouchStart\")){var t=this._createTouchEvent(\"TouchStart\",e);if(this.onTouchStart(t),t.defaultPrevented)return void e.preventDefault()\n;if(this._noScroll)return}this._commitIME();var n=this._getWindow();this._touchScrollTimer&&(this._vScrollDiv.style.display=\"none\",this._hScrollDiv.style.display=\"none\",n.clearInterval(this._touchScrollTimer),this._touchScrollTimer=null);var i=e.touches;if(1===i.length){var r=i[0],o=r.clientX,a=r.clientY;this._touchStartX=o,this._touchStartY=a,s.isAndroid&&(a<r.pageY-n.pageYOffset||o<r.pageX-n.pageXOffset)&&(o=r.pageX-n.pageXOffset,a=r.pageY-n.pageYOffset);var l=this.convert({x:o,y:a},\"page\",\"document\");this._lastTouchOffset=this.getOffsetAtLocation(l.x,l.y),this._touchStartTime=e.timeStamp,this._touching=!0}},_handleTouchMove:function(e){if(this.isListening(\"TouchMove\")){var t=this._createTouchEvent(\"TouchMove\",e);if(this.onTouchMove(t),t.defaultPrevented)return void e.preventDefault();if(this._noScroll)return}var n=e.touches;if(1===n.length){var i=n[0];this._touchCurrentX=i.clientX,this._touchCurrentY=i.clientY;if(!this._touchScrollTimer&&e.timeStamp-this._touchStartTime<200){this._vScrollDiv.style.display=\"block\",this._wrapMode||(this._hScrollDiv.style.display=\"block\");var r=this,o=this._getWindow();this._touchScrollTimer=o.setInterval(function(){var e=0,t=0;if(r._touching)e=r._touchStartX-r._touchCurrentX,t=r._touchStartY-r._touchCurrentY,r._touchSpeedX=e/10,r._touchSpeedY=t/10,r._touchStartX=r._touchCurrentX,r._touchStartY=r._touchCurrentY;else{if(Math.abs(r._touchSpeedX)<.1&&Math.abs(r._touchSpeedY)<.1)return r._vScrollDiv.style.display=\"none\",r._hScrollDiv.style.display=\"none\",o.clearInterval(r._touchScrollTimer),void(r._touchScrollTimer=null);e=10*r._touchSpeedX,t=10*r._touchSpeedY,r._touchSpeedX*=.95,r._touchSpeedY*=.95}r._scrollView(e,t)},10)}this._touchScrollTimer&&e.preventDefault()}},_handleTouchEnd:function(e){if(this.isListening(\"TouchEnd\")){var t=this._createTouchEvent(\"TouchEnd\",e);if(this.onTouchEnd(t),t.defaultPrevented)return void e.preventDefault();if(this._noScroll)return}0===e.touches.length&&(this._touching=!1)},_doAction:function(e){var t,n,i=this._keyModes;for(n=i.length-1;n>=0;n--)if(t=i[n],\"function\"==typeof t.match){var r=t.match(e);if(void 0!==r)return this.invokeAction(r)}return!1},_doMove:function(e,t){var n=this._model,i=t.getCaret(),r=n.getLineAtOffset(i);for(e.count||(e.count=1);0!==e.count;){var o=n.getLineStart(r);if(e.count<0&&i===o){if(!(r>0))break;\"character\"===e.unit&&e.count++,r--,t.extend(n.getLineEnd(r))}else if(e.count>0&&i===n.getLineEnd(r)){if(!(r+1<n.getLineCount()))break;\"character\"===e.unit&&e.count--,r++,t.extend(n.getLineStart(r))}else{var s=this._getLine(r);t.extend(s.getNextOffset(i,e)),s.destroy()}i=t.getCaret()}return t},_doBackspace:function(e){var t=this,n=this._getSelections();return n.forEach(function(n){n.isEmpty()&&(e.count||(e.count=1),e.count*=-1,e.expandTab=t._expandTab,t._doMove(e,n))}),this._modifyContent({text:\"\",selection:n},!0),!0},_doCase:function(e){var t=this,n=this._getSelections(),i=[];return n.forEach(function(n){t._doMove(e,n);var r=t.getText(n.start,n.end);switch(e.type){case\"lower\":r=r.toLowerCase();break;case\"capitalize\":r=r.replace(/(?:^|\\s)\\S/g,function(e){return e.toUpperCase()});break;case\"reverse\":for(var o=\"\",s=0;s<r.length;s++){var a=r[s],l=a.toLowerCase();a=l!==a?l:a.toUpperCase(),o+=a}r=o;break;default:r=r.toUpperCase()}i.push(r)}),this._modifyContent({text:i,selection:n,_ignoreDOMSelection:!0},!0)},_doContent:function(e){var t=this,n=this._getSelections();return n.forEach(function(e){if(t._overwriteMode&&e.isEmpty()){var n=t._model,i=n.getLineAtOffset(e.end);if(e.end<n.getLineEnd(i)){var r=t._getLine(i);e.extend(r.getNextOffset(e.getCaret(),{unit:\"character\",count:1})),r.destroy()}}}),this._modifyContent({text:e,selection:n,_ignoreDOMSelection:!0},!0)},_doCopy:function(e){var t=this.getSelectionText();return!t||this._setClipboardText(t,e)},_doCursorNext:function(e){var t=this,n=this._getSelections();return n.forEach(function(n){n.isEmpty()||e.select?t._doMove(e,n):n.start=n.end,e.select||n.collapse()}),this._setSelection(n,!0),!0},_doCursorPrevious:function(e){var t=this,n=this._getSelections();return n.forEach(function(n){n.isEmpty()||e.select?(e.count||(e.count=1),e.count*=-1,t._doMove(e,n)):n.end=n.start,e.select||n.collapse()}),this._setSelection(n,!0),!0},_doCut:function(e){var t=this.getSelectionText();if(t){if(!this._setClipboardText(t,e))return!1;this._doContent(\"\")}return!0},_doDelete:function(e){var t=this,n=this._getSelections();return n.forEach(function(n){n.isEmpty()&&t._doMove(e,n)}),this._modifyContent({text:\"\",selection:n},!0),!0},_doEnd:function(e){var t=this._model,n=this,i=this._getSelections();return i.forEach(function(i){if(e.ctrl)i.extend(t.getCharCount());else{var r=i.getCaret(),o=t.getLineAtOffset(r);if(n._wrapMode){var s=n._getLine(o),a=s.getLineIndex(r);r=a===s.getLineCount()-1?t.getLineEnd(o):s.getLineStart(a+1)-1,s.destroy()}else e.count&&e.count>0&&(o=Math.min(o+e.count-1,t.getLineCount()-1)),r=t.getLineEnd(o);i.extend(r)}e.select||i.collapse()}),this._setSelection(i,!0,!0,e.ctrl?function(){}:null),!0},_doEnter:function(e){if(this._singleMode)return!0;var t=this._model,n=this._getSelections();return this._doContent(t.getLineDelimiter()),e&&e.noCursor&&(n.forEach(function(e){e.end=e.start}),this._setSelection(n,!0)),!0},_doEscape:function(){var e=this._getSelections();return e.length>1&&this._setSelection(e[0],!0),!0},_doHome:function(e){var t=this._model,n=this,i=this._getSelections();return i.forEach(function(i){if(e.ctrl)i.extend(0);else{var r=i.getCaret(),o=t.getLineAtOffset(r);if(n._wrapMode){var s=n._getLine(o),a=s.getLineIndex(r);r=s.getLineStart(a),s.destroy()}else r=t.getLineStart(o);i.extend(r)}e.select||i.collapse()}),this._setSelection(i,!0,!0,e.ctrl?function(){}:null),!0},_doLineDown:function(e){var t=this._model,n=this,i=this._getSelections();return i.forEach(function(i){var r,o=i.getCaret(),a=t.getLineAtOffset(o),l=n._getLine(a),d=i._columnX,c=1,h=!1;if(-1===d||e.wholeLine||e.select&&s.isIE){var u=e.wholeLine?t.getLineEnd(a+1):o;d=i._columnX=l.getBoundingClientRect(u).left}if((r=l.getLineIndex(o))<l.getLineCount()-1)c=l.getClientRects(r+1).top+1;else{var f=t.getLineCount()-1;h=a===f,e.count&&e.count>0?a=Math.min(a+e.count,f):a++}var p=!1;h?((e.select||s.isMac||s.isLinux)&&i.extend(t.getCharCount()),p=!0):(l.lineIndex!==a&&(l.destroy(),l=n._getLine(a)),i.extend(l.getOffset(d,c)),p=!0),p&&(e.select||i.collapse()),l.destroy()}),n._setSelection(i,!0,!0,null,0,!1,!0),!0},_doLineUp:function(e){var t=this._model,n=this,i=this._getSelections();return i.forEach(function(i){var r,o,a=i.getCaret(),l=t.getLineAtOffset(a),d=n._getLine(l),c=i._columnX,h=!1;if(-1===c||e.wholeLine||e.select&&s.isIE){var u=e.wholeLine?t.getLineStart(l-1):a;c=i._columnX=d.getBoundingClientRect(u).left}(r=d.getLineIndex(a))>0?o=d.getClientRects(r-1).top+1:(h=0===l)||(e.count&&e.count>0?l=Math.max(l-e.count,0):l--,o=n._getLineHeight(l)-1);var f=!1;h?(e.select||s.isMac||s.isLinux)&&(i.extend(0),f=!0):(d.lineIndex!==l&&(d.destroy(),d=n._getLine(l)),i.extend(d.getOffset(c,o)),f=!0),f&&(e.select||i.collapse()),d.destroy()}),n._setSelection(i,!0,!0,null,0,!1,!0),!0},_doNoop:function(){return!0},_doPageDown:function(e){var t,n,i,r=this,o=this._model,a=this._getSelections(),l=o.getLineCount(),d=this._getScroll(),c=this._getClientHeight(),h=this._getLineHeight(),u=Math.floor(c/h);return a.forEach(function(a){var f=a.getCaret(),p=o.getLineAtOffset(f);if(r._lineHeight){t=a._columnX;var g=r._getBoundsAtOffset(f);(-1===t||e.select&&s.isIE)&&(t=a._columnX=g.left);var v=r._getLineIndex(g.top+c);n=r._getLine(v);var m=r._getLinePixel(v),_=g.top+c-m;f=n.getOffset(t,_);var y=n.getBoundingClientRect(f);n.destroy(),a.extend(f),e.select||a.collapse(),i=void 0!==i?Math.min(i,y.top+m-g.top):y.top+m-g.top}else if(p<l-1){var C=Math.min(l-p-1,u);C=Math.max(1,C),t=a._columnX,(-1===t||e.select&&s.isIE)&&(n=r._getLine(p),t=a._columnX=n.getBoundingClientRect(f).left,n.destroy()),n=r._getLine(p+C),a.extend(n.getOffset(t,0)),n.destroy(),e.select||a.collapse();var w=l*h,x=d.y+C*h;x+c>w&&(x=w-c),i=void 0!==i?Math.min(i,x-d.y):x-d.y}else e.select||a.collapse()}),this._setSelection(a,!0,!0,function(){},i,!1,!0),!0},_doPageUp:function(e){var t,n,i,r=this,o=this._model,a=this._getSelections(),l=this._getScroll(),d=this._getClientHeight(),c=this._getLineHeight(),h=Math.floor(d/c);return a.forEach(function(a){var u=a.getCaret(),f=o.getLineAtOffset(u);if(r._lineHeight){t=a._columnX;var p=r._getBoundsAtOffset(u);(-1===t||e.select&&s.isIE)&&(t=a._columnX=p.left);var g=r._getLineIndex(p.bottom-d);n=r._getLine(g);var v=r._getLinePixel(g),m=p.bottom-d-v;u=n.getOffset(t,m);var _=n.getBoundingClientRect(u);n.destroy(),a.extend(u),e.select||a.collapse(),i=void 0!==i?Math.max(i,_.top+v-p.top):_.top+v-p.top}else if(f>0){var y=Math.max(1,Math.min(f,h));t=a._columnX,(-1===t||e.select&&s.isIE)&&(n=r._getLine(f),t=a._columnX=n.getBoundingClientRect(u).left,n.destroy()),n=r._getLine(f-y),a.extend(n.getOffset(t,r._getLineHeight(f-y)-1)),n.destroy(),e.select||a.collapse();var C=Math.max(0,l.y-y*c);i=void 0!==i?Math.max(i,C-l.y):C-l.y}}),this._setSelection(a,!0,!0,function(){},i,!1,!0),!0},_doPaste:function(e){var t=this;return null!==this._getClipboardText(e,function(e){if(e.length){if(s.isLinux&&2===t._lastMouseButton){(new Date).getTime()-t._lastMouseTime<=t._clickTime&&t._setSelectionTo(t._lastMouseX,t._lastMouseY,!0)}var n=t._getSelections(),i=t._singleMode?\"\":t._model.getLineDelimiter();t._doContent(n.length>1&&n.length===e.length?e:e.join(i))}})},_doScroll:function(e){var t,n=e.type,i=this._model,r=i.getLineCount(),o=this._getClientHeight(),s=this._getLineHeight(),a=this._lineHeight?this._scrollHeight:r*s,l=this._getScroll().y;switch(n){case\"textStart\":t=0;break;case\"textEnd\":t=a-o;break;case\"pageDown\":t=l+o;break;case\"pageUp\":t=l-o;break;case\"lineDown\":t=l+s;break;case\"lineUp\":t=l-s;break;case\"centerLine\":var d=this._getSelections()[0],c=i.getLineAtOffset(d.start);t=c*s-o/2+(i.getLineAtOffset(d.end)-c+1)*s/2}return void 0!==t&&(t=Math.min(Math.max(0,t),a-o),this._scrollViewAnimated(0,t-l,function(){})),!0},_doSelectAll:function(){var e=this._model;return this._setSelection(new C(0,e.getCharCount()),!1),!0},_doTab:function(){if(this._tabMode&&!this._readonly){var e=\"\\t\",t=this._getSelections();if(this._expandTab){e=[];var n=this._model,i=this._tabSize;t.forEach(function(t){var r=t.getCaret(),o=n.getLineAtOffset(r),s=n.getLineStart(o),a=i-(r-s)%i;e.push(c(a+1).join(\" \"))})}return this._modifyContent({text:e,selection:t,_ignoreDOMSelection:!0},!0)}},_doShiftTab:function(){if(this._tabMode&&!this._readonly)return!0},_doOverwriteMode:function(){return!!this._readonly||(this.setOptions({overwriteMode:!this.getOptions(\"overwriteMode\")}),!0)},_doTabMode:function(){return this.setOptions({tabMode:!this.getOptions(\"tabMode\")}),!0},_doWrapMode:function(){return this.setOptions({wrapMode:!this.getOptions(\"wrapMode\")}),!0},_autoScroll:function(){var e,t,n=this._model,i=this._getSelections(),r=C.editing(i,\"down\"===this._autoScrollDir),o=this.convert({x:this._autoScrollX,y:this._autoScrollY},\"page\",\"document\"),a=r.getCaret(),l=n.getLineCount(),d=n.getLineAtOffset(a);if(\"up\"===this._autoScrollDir||\"down\"===this._autoScrollDir){var c=this._autoScrollY/this._getLineHeight();c=c<0?Math.floor(c):Math.ceil(c),e=d,e=Math.max(0,Math.min(l-1,e+c))}else\"left\"!==this._autoScrollDir&&\"right\"!==this._autoScrollDir||(e=this._getLineIndex(o.y),t=this._getLine(d),o.x+=t.getBoundingClientRect(a,!1).left,t.destroy());this._blockSelection?i=this._getBlockSelections(i,e,o):0===e&&(s.isMac||s.isLinux)?r.extend(0):e===l-1&&(s.isMac||s.isLinux)?r.extend(n.getCharCount()):(t=this._getLine(e),r.extend(t.getOffset(o.x,o.y-this._getLinePixel(e))),t.destroy()),this._setSelection(i,!0)},_autoScrollTimer:function(){this._autoScroll();var e=this,t=this._getWindow();this._autoScrollTimerID=t.setTimeout(function(){e._autoScrollTimer()},this._AUTO_SCROLL_RATE)},_calculateLineHeightTimer:function(e){if(this._lineHeight&&!this._calculateLHTimer){var t=this._model.getLineCount(),n=0;if(e){for(var i=0,r=(new Date).getTime(),o=0;n<t&&(this._lineHeight[n]||(i++,o||(o=n),this._lineHeight[n]=this._calculateLineHeight(n)),n++,!((new Date).getTime()-r>100)););this.redrawRulers(0,t),this._queueUpdate()}var s=this._getWindow();if(n!==t){var a=this;return void(this._calculateLHTimer=s.setTimeout(function(){a._calculateLHTimer=null,a._calculateLineHeightTimer(!0)},0))}this._calculateLHTimer&&(s.clearTimeout(this._calculateLHTimer),this._calculateLHTimer=void 0)}},_calculateLineHeight:function(e){var t=this._getLine(e),n=t.getBoundingClientRect();return t.destroy(),Math.max(1,n.bottom-n.top)},_calculateMetrics:function(){var e=this._clientDiv,t=e.ownerDocument,n=\" \",i=s.createElement(t,\"div\");i.style.lineHeight=\"normal\";var r=this._model,o=r.getLine(0),a={type:\"LineStyle\",textView:this,0:0,lineText:o,lineStart:0};this.onLineStyle(a),h(a.style,i),i.style.position=\"fixed\",i.style.left=\"-1000px\";var l=s.createElement(t,\"span\");l.appendChild(t.createTextNode(n)),i.appendChild(l);var d=s.createElement(t,\"span\");d.style.fontStyle=\"italic\",d.appendChild(t.createTextNode(n)),i.appendChild(d);var u=s.createElement(t,\"span\");u.style.fontWeight=\"bold\",u.appendChild(t.createTextNode(n)),i.appendChild(u);var f=s.createElement(t,\"span\");f.style.fontWeight=\"bold\",f.style.fontStyle=\"italic\",f.appendChild(t.createTextNode(n)),i.appendChild(f),e.appendChild(i);var p=i.getBoundingClientRect(),g=l.getBoundingClientRect(),v=d.getBoundingClientRect(),y=u.getBoundingClientRect(),C=f.getBoundingClientRect(),w=g.bottom-g.top,x=v.bottom-v.top,S=y.bottom-y.top,b=C.bottom-C.top,T=0,E=p.bottom-p.top<=0,L=Math.max(1,p.bottom-p.top);x>w&&(T=1),S>x&&(T=2),b>S&&(T=3);var k;0!==T&&(k={style:{}},0!=(1&T)&&(k.style.fontStyle=\"italic\"),0!=(2&T)&&(k.style.fontWeight=\"bold\"));var M=_(i);e.removeChild(i);var A=m(this._viewDiv),D=s.createElement(t,\"div\");D.style.position=\"fixed\",D.style.left=\"-1000px\",D.style.paddingLeft=A.left+\"px\",D.style.paddingTop=A.top+\"px\",D.style.paddingRight=A.right+\"px\",D.style.paddingBottom=A.bottom+\"px\",D.style.width=\"100px\",D.style.height=\"100px\";var O=s.createElement(t,\"div\");O.style.width=\"100%\",O.style.height=\"100%\",D.appendChild(O),e.appendChild(D);var N=D.getBoundingClientRect(),I=O.getBoundingClientRect(),R=0;if(!this._singleMode&&!this._noScroll){D.style.overflow=\"hidden\",O.style.height=\"200px\";var B=D.clientWidth;D.style.overflow=\"scroll\";R=B-D.clientWidth}e.removeChild(D),A={left:I.left-N.left,top:I.top-N.top,right:N.right-I.right,bottom:N.bottom-I.bottom};var P=0,F=0,V=0;return E||(D=s.createElement(t,\"div\"),D.style.position=\"fixed\",D.style.left=\"-1000px\",e.appendChild(D),D.innerHTML=c(2).join(\"a\"),N=D.getBoundingClientRect(),V=Math.ceil(N.right-N.left),(this._wrapOffset||this._marginOffset)&&(D.innerHTML=c(this._wrapOffset+1+(s.isWebkit?0:1)).join(\" \"),N=D.getBoundingClientRect(),P=Math.ceil(N.right-N.left),D.innerHTML=c(this._marginOffset+1).join(\" \"),I=D.getBoundingClientRect(),F=Math.ceil(I.right-I.left)),e.removeChild(D)),{lineHeight:L,largestFontStyle:k,lineTrim:M,viewPadding:A,scrollWidth:R,wrapWidth:P,marginWidth:F,charWidth:V,invalid:E}},_cancelAnimation:function(){this._animation&&(this._animation.stop(),this._animation=null)},_clearSelection:function(e){var t=this._getSelections();return t.forEach(function(t){\"next\"===e?t.start=t.end:t.end=t.start}),this._setSelection(t,!0),!0},_commitIME:function(e){if(-1!==this._imeOffset){var t=this._model,n=t.getLineAtOffset(this._imeOffset),i=t.getLineStart(n),r=this._getLineNode(n);if(!e){this._scrollDiv.focus(),this._clientDiv.focus();var o=this._getDOMText(r).text,s=t.getLine(n),a=this._imeOffset-i,l=a+o.length-s.length;a!==l&&(e=o.substring(a,l))}this._imeOffset=-1,e&&(this._doContent(e)||(r.lineRemoved=!0,this._queueUpdate()))}},_createActions:function(){this.addKeyMode(new n.DefaultKeyMode(this));var t=this;this._actions={noop:{defaultHandler:function(){return t._doNoop()}},lineUp:{defaultHandler:function(e){return t._doLineUp(f(e,{select:!1}))},actionDescription:{name:e.lineUp}},lineDown:{defaultHandler:function(e){return t._doLineDown(f(e,{select:!1}))},actionDescription:{name:e.lineDown}},lineStart:{defaultHandler:function(e){return t._doHome(f(e,{select:!1,ctrl:!1}))},actionDescription:{name:e.lineStart}},lineEnd:{defaultHandler:function(e){return t._doEnd(f(e,{select:!1,ctrl:!1}))},actionDescription:{name:e.lineEnd}},charPrevious:{defaultHandler:function(e){return t._doCursorPrevious(f(e,{select:!1,unit:\"character\"}))},actionDescription:{name:e.charPrevious}},charNext:{defaultHandler:function(e){return t._doCursorNext(f(e,{select:!1,unit:\"character\"}))},actionDescription:{name:e.charNext}},pageUp:{defaultHandler:function(e){return t._doPageUp(f(e,{select:!1}))},actionDescription:{name:e.pageUp}},pageDown:{defaultHandler:function(e){return t._doPageDown(f(e,{select:!1}))},actionDescription:{name:e.pageDown}},scrollPageUp:{defaultHandler:function(e){return t._doScroll(f(e,{type:\"pageUp\"}))},actionDescription:{name:e.scrollPageUp}},scrollPageDown:{defaultHandler:function(e){return t._doScroll(f(e,{type:\"pageDown\"}))},actionDescription:{name:e.scrollPageDown}},scrollLineUp:{defaultHandler:function(e){return t._doScroll(f(e,{type:\"lineUp\"}))},actionDescription:{name:e.scrollLineUp}},scrollLineDown:{defaultHandler:function(e){return t._doScroll(f(e,{type:\"lineDown\"}))},actionDescription:{name:e.scrollLineDown}},wordPrevious:{defaultHandler:function(e){return t._doCursorPrevious(f(e,{select:!1,unit:\"word\"}))},actionDescription:{name:e.wordPrevious}},wordNext:{defaultHandler:function(e){return t._doCursorNext(f(e,{select:!1,unit:\"word\"}))},actionDescription:{name:e.wordNext}},textStart:{defaultHandler:function(e){return t._doHome(f(e,{select:!1,ctrl:!0}))},actionDescription:{name:e.textStart}},textEnd:{defaultHandler:function(e){return t._doEnd(f(e,{select:!1,ctrl:!0}))},actionDescription:{name:e.textEnd}},scrollTextStart:{defaultHandler:function(e){return t._doScroll(f(e,{type:\"textStart\"}))},actionDescription:{name:e.scrollTextStart}},scrollTextEnd:{defaultHandler:function(e){return t._doScroll(f(e,{type:\"textEnd\"}))},actionDescription:{name:e.scrollTextEnd}},centerLine:{defaultHandler:function(e){return t._doScroll(f(e,{type:\"centerLine\"}))},actionDescription:{name:e.centerLine}},selectLineUp:{defaultHandler:function(e){return t._doLineUp(f(e,{select:!0}))},actionDescription:{name:e.selectLineUp}},selectLineDown:{defaultHandler:function(e){return t._doLineDown(f(e,{select:!0}))},actionDescription:{name:e.selectLineDown}},selectWholeLineUp:{defaultHandler:function(e){return t._doLineUp(f(e,{select:!0,wholeLine:!0}))},actionDescription:{name:e.selectWholeLineUp}},selectWholeLineDown:{defaultHandler:function(e){return t._doLineDown(f(e,{select:!0,wholeLine:!0}))},actionDescription:{name:e.selectWholeLineDown}},selectLineStart:{defaultHandler:function(e){return t._doHome(f(e,{select:!0,ctrl:!1}))},actionDescription:{name:e.selectLineStart}},selectLineEnd:{defaultHandler:function(e){return t._doEnd(f(e,{select:!0,ctrl:!1}))},actionDescription:{name:e.selectLineEnd}},selectCharPrevious:{defaultHandler:function(e){return t._doCursorPrevious(f(e,{select:!0,unit:\"character\"}))},actionDescription:{name:e.selectCharPrevious}},selectCharNext:{defaultHandler:function(e){return t._doCursorNext(f(e,{select:!0,unit:\"character\"}))},actionDescription:{name:e.selectCharNext}},selectPageUp:{defaultHandler:function(e){return t._doPageUp(f(e,{select:!0}))},actionDescription:{name:e.selectPageUp}},selectPageDown:{defaultHandler:function(e){return t._doPageDown(f(e,{select:!0}))},actionDescription:{name:e.selectPageDown}},selectWordPrevious:{defaultHandler:function(e){return t._doCursorPrevious(f(e,{select:!0,unit:\"word\"}))},actionDescription:{name:e.selectWordPrevious}},selectWordNext:{defaultHandler:function(e){return t._doCursorNext(f(e,{select:!0,unit:\"word\"}))},actionDescription:{name:e.selectWordNext}},selectTextStart:{defaultHandler:function(e){return t._doHome(f(e,{select:!0,ctrl:!0}))},actionDescription:{name:e.selectTextStart}},selectTextEnd:{defaultHandler:function(e){return t._doEnd(f(e,{select:!0,ctrl:!0}))},actionDescription:{name:e.selectTextEnd}},deletePrevious:{defaultHandler:function(e){return t._doBackspace(f(e,{unit:\"character\"}))},actionDescription:{name:e.deletePrevious}},deleteNext:{defaultHandler:function(e){return t._doDelete(f(e,{unit:\"character\"}))},actionDescription:{name:e.deleteNext}},deleteWordPrevious:{defaultHandler:function(e){return t._doBackspace(f(e,{unit:\"word\"}))},actionDescription:{name:e.deleteWordPrevious}},deleteWordNext:{defaultHandler:function(e){return t._doDelete(f(e,{unit:\"word\"}))},actionDescription:{name:e.deleteWordNext}},deleteLineStart:{defaultHandler:function(e){return t._doBackspace(f(e,{unit:\"line\"}))},actionDescription:{name:e.deleteLineStart}},deleteLineEnd:{defaultHandler:function(e){return t._doDelete(f(e,{unit:\"line\"}))},actionDescription:{name:e.deleteLineEnd}},tab:{defaultHandler:function(e){return t._doTab(f(e,{}))},actionDescription:{name:e.tab}},shiftTab:{defaultHandler:function(e){return t._doShiftTab(f(e,{}))},actionDescription:{name:e.shiftTab}},enter:{defaultHandler:function(e){return t._doEnter(f(e,{}))},actionDescription:{name:e.enter}},enterNoCursor:{defaultHandler:function(e){return t._doEnter(f(e,{noCursor:!0}))},actionDescription:{name:e.enterNoCursor}},escape:{defaultHandler:function(e){return t._doEscape(f(e,{}))},actionDescription:{name:e.escape}},selectAll:{defaultHandler:function(e){return t._doSelectAll(f(e,{}))},actionDescription:{name:e.selectAll}},copy:{defaultHandler:function(e){return t._doCopy(f(e,{}))},actionDescription:{name:e.copy}},cut:{defaultHandler:function(e){return t._doCut(f(e,{}))},actionDescription:{name:e.cut}},paste:{defaultHandler:function(e){return t._doPaste(f(e,{}))},actionDescription:{name:e.paste}},uppercase:{defaultHandler:function(e){return t._doCase(f(e,{type:\"upper\"}))},actionDescription:{name:e.uppercase}},lowercase:{defaultHandler:function(e){return t._doCase(f(e,{type:\"lower\"}))},actionDescription:{name:e.lowercase}},capitalize:{defaultHandler:function(e){return t._doCase(f(e,{unit:\"word\",type:\"capitalize\"}))},actionDescription:{name:e.capitalize}},reversecase:{defaultHandler:function(e){return t._doCase(f(e,{type:\"reverse\"}))},actionDescription:{name:e.reversecase}},toggleOverwriteMode:{defaultHandler:function(e){return t._doOverwriteMode(f(e,{}))},actionDescription:{name:e.toggleOverwriteMode}},toggleTabMode:{defaultHandler:function(e){return t._doTabMode(f(e,{}))},actionDescription:{name:e.toggleTabMode}},toggleWrapMode:{defaultHandler:function(e){return t._doWrapMode(f(e,{}))},actionDescription:{name:e.toggleWrapMode}}}},_createRulerParent:function(e,t){var n=s.createElement(e,\"div\");return n.className=t,n.tabIndex=-1,n.style.overflow=\"hidden\",n.style.MozUserSelect=\"none\",n.style.WebkitUserSelect=\"none\",n.style.position=\"absolute\",n.style.top=\"0px\",n.style.bottom=\"0px\",n.style.cursor=\"default\",n.style.display=\"none\",n.setAttribute(\"aria-hidden\",\"true\"),this._rootDiv.appendChild(n),n},_createRuler:function(e,t){if(this._clientDiv){var n=this._getRulerParent(e);if(n){(n!==this._marginDiv||this._marginOffset)&&(n.style.display=\"block\"),n.rulerWidth=void 0;var i=s.createElement(n.ownerDocument,\"div\");if(i._ruler=e,e.node=i,i.rulerChanged=!0,i.style.position=\"relative\",i.style.cssFloat=\"left\",i.style.styleFloat=\"left\",i.style.outline=\"none\",void 0===t||t<0||t>=n.children.length)n.appendChild(i);else{for(var r=n.firstChild;r&&t-- >0;)r=r.nextSibling;n.insertBefore(i,r)}}}},_createSelectionDiv:function(){var e=s.createElement(this._parent.ownerDocument,\"div\");return e.className=\"textviewSelection\",e.style.position=\"absolute\",e.style.borderWidth=\"0px\",e.style.margin=\"0px\",e.style.padding=\"0px\",e.style.outline=\"none\",e.style.width=\"0px\",e.style.height=\"0px\",e.style.zIndex=\"0\",e},_createView:function(){function e(){C._rootDiv&&(C.update(!0),C._metrics.invalid&&C._getWindow().setTimeout(function(){e()},100))}if(!this._clientDiv){for(var t=this._parent;t.hasChildNodes();)t.removeChild(t.lastChild);var n=t.ownerDocument,i=s.createElement(n,\"div\");this._rootDiv=i,i.tabIndex=-1,i.style.position=\"relative\",i.style.overflow=\"hidden\",i.style.width=\"100%\",i.style.height=\"100%\",i.style.overflow=\"hidden\",i.style.WebkitTextSizeAdjust=\"100%\",i.setAttribute(\"role\",\"application\"),t.appendChild(i);var r=this._createRulerParent(n,\"textviewLeftRuler\");this._leftDiv=r;var o=s.createElement(n,\"div\");o.className=\"textviewScroll\",this._viewDiv=o,o.tabIndex=-1,o.style.position=\"absolute\",o.style.top=\"0px\",o.style.bottom=\"0px\",o.style.borderWidth=\"0px\",o.style.margin=\"0px\",o.style.outline=\"none\",o.style.background=\"transparent\",i.appendChild(o);var l=this._createRulerParent(n,\"textviewRightRuler\");this._rightDiv=l,\"rtl\"==document.dir?l.style.left=\"0px\":l.style.right=\"0px\";var d=this._createRulerParent(n,\"textviewInnerRightRuler\");this._innerRightDiv=d,d.style.zIndex=\"1\";var c=s.createElement(n,\"div\");this._scrollDiv=c,c.style.margin=\"0px\",c.style.borderWidth=\"0px\",sap.ui.Device.browser.edge?$(c).css(\"padding\",\"0px 0px 4px 0px\"):c.style.padding=\"0px\",o.appendChild(c);if((this._marginDiv=this._createRulerParent(n,\"textviewMarginRuler\")).style.zIndex=\"4\",!s.isIE&&!s.isIOS){var h=s.createElement(n,\"div\");this._clipDiv=h,h.style.position=\"absolute\",h.style.overflow=\"hidden\",h.style.margin=\"0px\",h.style.borderWidth=\"0px\",h.style.padding=\"0px\",h.style.background=\"transparent\",i.appendChild(h);var u=s.createElement(n,\"div\");this._clipScrollDiv=u,u.style.position=\"absolute\",u.style.height=\"1px\",u.style.top=\"-1000px\",u.style.background=\"transparent\",h.appendChild(u)}var f=s.createElement(n,\"div\");if(f.className=\"textviewContent\",this._clientDiv=f,f.tabIndex=0,f.style.position=\"absolute\",f.style.borderWidth=\"0px\",f.style.margin=\"0px\",f.style.padding=\"0px\",f.style.outline=\"none\",f.style.zIndex=\"1\",f.style.WebkitUserSelect=\"text\",f.setAttribute(\"spellcheck\",\"false\"),(s.isIOS||s.isAndroid)&&(f.style.WebkitTapHighlightColor=\"transparent\"),(this._clipDiv||i).appendChild(f),this._setFullSelection(this._fullSelection,!0),s.isIOS||s.isAndroid){var p=s.createElement(n,\"div\");this._vScrollDiv=p,p.style.position=\"absolute\",p.style.borderWidth=\"1px\",p.style.borderColor=\"white\",p.style.borderStyle=\"solid\",p.style.borderRadius=\"4px\",p.style.backgroundColor=\"black\",p.style.opacity=\"0.5\",p.style.margin=\"0px\",p.style.padding=\"0px\",p.style.outline=\"none\",p.style.zIndex=\"3\",p.style.width=\"8px\",p.style.display=\"none\",i.appendChild(p);var g=s.createElement(n,\"div\");this._hScrollDiv=g,g.style.position=\"absolute\",g.style.borderWidth=\"1px\",g.style.borderColor=\"white\",g.style.borderStyle=\"solid\",g.style.borderRadius=\"4px\",g.style.backgroundColor=\"black\",g.style.opacity=\"0.5\",g.style.margin=\"0px\",g.style.padding=\"0px\",g.style.outline=\"none\",g.style.zIndex=\"3\",g.style.height=\"8px\",g.style.display=\"none\",i.appendChild(g)}if(s.isFirefox&&!f.setCapture){var v=s.createElement(n,\"div\");this._overlayDiv=v,v.style.position=f.style.position,v.style.borderWidth=f.style.borderWidth,v.style.margin=f.style.margin,v.style.padding=f.style.padding,v.style.cursor=\"text\",v.style.zIndex=\"2\",(this._clipDiv||i).appendChild(v)}f.contentEditable=\"true\",this._setWrapMode(this._wrapMode,!0),this._setReadOnly(this._readonly),this._setThemeClass(this._themeClass,!0),this._setTabSize(this._tabSize,!0),this._setMarginOffset(this._marginOffset,!0),this._hookEvents(),a.initInputField(f);for(var m=this._rulers,_=0;_<m.length;_++)this._createRuler(m[_]);this._update();var C=this;y(n,i,\"textview\",e)}},_defaultOptions:function(){return{parent:{value:void 0,update:null},model:{value:void 0,update:this.setModel},scrollAnimation:{value:0,update:null},readonly:{value:!1,update:this._setReadOnly},fullSelection:{value:!0,update:this._setFullSelection},tabMode:{value:!0,update:null},tabSize:{value:8,update:this._setTabSize},expandTab:{value:!1,update:null},singleMode:{value:!1,update:this._setSingleMode},noScroll:{value:!1,update:this._setNoScroll},overwriteMode:{value:!1,update:this._setOverwriteMode},blockCursorVisible:{value:!1,update:this._setBlockCursor},marginOffset:{value:0,update:this._setMarginOffset},wrapOffset:{value:0,update:this._setWrapOffset},wrapMode:{value:!1,update:this._setWrapMode},wrappable:{value:!1,update:null},undoStack:{value:null,update:this._setUndoStack},theme:{value:r.TextTheme.getTheme(),update:this._setTheme},themeClass:{value:void 0,update:this._setThemeClass}}},_destroyRuler:function(e){var t=this._getRulerParent(e);if(t)for(var n=t.firstChild;n;){if(n._ruler===e){n._ruler=void 0,t.removeChild(n),0!==t.children.length||t===this._marginDiv&&this._marginOffset||(t.style.display=\"none\"),t.rulerWidth=void 0;break}n=n.nextSibling}},_destroyView:function(){if(this._clientDiv){this._setGrab(null),this._unhookEvents();var e=this._getWindow();this._autoScrollTimerID&&(e.clearTimeout(this._autoScrollTimerID),this._autoScrollTimerID=null),this._updateTimer&&(e.clearTimeout(this._updateTimer),this._updateTimer=null),this._calculateLHTimer&&(e.clearTimeout(this._calculateLHTimer),this._calculateLHTimer=null),this._cursorTimer&&(e.clearInterval(this._cursorTimer),this._cursorTimer=null),this._imeTimeout&&(e.clearInterval(this._imeTimeout),this._imeTimeout=null);var t=this._rootDiv;t.parentNode.removeChild(t),this._domSelection=null,this._clipboardDiv=null,this._rootDiv=null,this._scrollDiv=null,this._viewDiv=null,this._clipDiv=null,this._clipScrollDiv=null,this._clientDiv=null,this._overlayDiv=null,this._leftDiv=null,this._rightDiv=null,this._innerRightDiv=null,this._marginDiv=null,this._cursorDiv=null,this._vScrollDiv=null,this._hScrollDiv=null}},_doAutoScroll:function(e,t,n){this._autoScrollDir=e,this._autoScrollX=t,this._autoScrollY=n,this._autoScrollTimerID||this._autoScrollTimer()},_endAutoScroll:function(){if(this._autoScrollTimerID){this._getWindow().clearTimeout(this._autoScrollTimerID)}this._autoScrollDir=void 0,this._autoScrollTimerID=void 0},_fixCaret:function(){var e=this._clientDiv;if(e){var t=this._hasFocus;this._ignoreFocus=!0,t&&e.blur(),e.contentEditable=!1,e.contentEditable=!0,t&&e.focus(),this._ignoreFocus=!1}},_getBaseText:function(e,t){var n=this._model;return n.getBaseModel&&(e=n.mapOffset(e),t=n.mapOffset(t),n=n.getBaseModel()),n.getText(e,t)},_getBottomIndex:function(e){var t=this._bottomChild;if(e&&this._getClientHeight()>this._getLineHeight()){var n=t.getBoundingClientRect(),i=this._clientDiv.getBoundingClientRect();n.bottom>i.bottom&&(t=this._getLinePrevious(t)||t)}return t.lineIndex},_getBlockSelections:function(e,t,n){var i=this._model;e=e.filter(function(e){return!e._editing});var r,o=i.getLineAtOffset(this._blockSelection.getAnchor());t>o?r=t:(r=o,o=t);for(var s=o;s<=r;s++){var a=this._getLine(s),l=a.getOffset(n.x,1),d=a.getOffset(this._blockSelection._docX,1);if(a.destroy(),l!==d||l!==i.getLineEnd(s)){var c=l<d,h=new C(c?l:d,c?d:l,c);h._editing=!0,e.push(h)}}return e},_getBoundsAtOffset:function(e){var t=this._model,n=this._getLine(t.getLineAtOffset(e)),i=n.getBoundingClientRect(e),r=this._getLinePixel(n.lineIndex);return i.top+=r,i.bottom+=r,n.destroy(),i},_getClientHeight:function(){var e=this._getViewPadding();return Math.max(0,this._viewDiv.clientHeight-e.top-e.bottom)},_getInnerRightWidth:function(){var e=this._innerRightDiv.rulerWidth;if(void 0===e){var t=this._innerRightDiv.getBoundingClientRect();this._innerRightDiv.rulerWidth=e=t.right-t.left}return e},_getClientWidth:function(){var e=this._getViewPadding(),t=this._getInnerRightWidth();return Math.max(0,this._viewDiv.clientWidth-e.left-e.right-t)},_getClipboardText:function(e,t){function n(e){var n=[];return e&&g(e,function(e){n.push(e)},null),t&&t(n),n}var i=this._getWindow(),r=i.clipboardData;if(!r&&e&&(r=e.clipboardData),r)return n(r.getData(s.isIE?\"Text\":\"text/plain\"));if(s.isElectron&&!e)return n(window.__clipboardModule.readText());if(s.isFirefox){this._ignoreFocus=!0;var o=this._clipboardDiv,a=this._rootDiv.ownerDocument\n;o||(o=s.createElement(a,\"div\"),this._clipboardDiv=o,o.style.position=\"fixed\",o.style.whiteSpace=\"pre\",o.style.left=\"-1000px\",this._rootDiv.appendChild(o)),o.innerHTML=\"<pre contenteditable=''></pre>\",o.firstChild.focus();var l=this,d=function(){var e=l._getTextFromElement(o);return o.innerHTML=\"\",n(e)},c=!1;if(this._ignorePaste=!0,!s.isLinux||2!==this._lastMouseButton)try{c=a.execCommand(\"paste\",!1,null)}catch(e){c=o.childNodes.length>1||o.firstChild&&o.firstChild.childNodes.length>0}return this._ignorePaste=!1,c?(this.focus(),this._ignoreFocus=!1,d()):e?(i.setTimeout(function(){l.focus(),d(),l._ignoreFocus=!1},0),null):(this.focus(),this._ignoreFocus=!1,\"\")}return\"\"},_getDOMText:function(e,t){return e._line.getText(t)},_getTextFromElement:function(e){var t=e.ownerDocument,n=t.defaultView;if(!n.getSelection)return e.innerText||e.textContent;var i=t.createRange();i.selectNode(e);var r,o=n.getSelection(),s=[];for(r=0;r<o.rangeCount;r++)s.push(o.getRangeAt(r));this._ignoreSelect=!0,o.removeAllRanges(),o.addRange(i);var a=o.toString();for(o.removeAllRanges(),r=0;r<s.length;r++)o.addRange(s[r]);return this._ignoreSelect=!1,a},_getViewPadding:function(){return this._metrics.viewPadding},_getLine:function(e){var t=this._getLineNode(e);return!t||t.lineChanged||t.lineRemoved?new S(this,e,t&&t.lineChanged?t._line._lineDiv:void 0):t._line},_getLineHeight:function(e,t){if(void 0!==e&&this._lineHeight){var n=this._lineHeight[e];if(n)return n;if(t||void 0===t){return this._lineHeight[e]=this._calculateLineHeight(e)}}return this._metrics.lineHeight},_getLineNode:function(e){for(var t=this._clientDiv,n=t.firstChild;n;){if(e===n.lineIndex)return n;n=n.nextSibling}},_getLineNext:function(e){for(var t=e?e.nextSibling:this._clientDiv.firstChild;t&&(-1===t.lineIndex||!t._line);)t=t.nextSibling;return t},_getLinePrevious:function(e){for(var t=e?e.previousSibling:this._clientDiv.lastChild;t&&(-1===t.lineIndex||!t._line);)t=t.previousSibling;return t},_getLinePixel:function(e){if(e=Math.min(Math.max(0,e),this._model.getLineCount()),this._lineHeight){var t,n=this._getTopIndex(),i=-this._topIndexY+this._getScroll().y;if(e>n)for(t=n;t<e;t++)i+=this._getLineHeight(t);else for(t=n-1;t>=e;t--)i-=this._getLineHeight(t);return i}return this._getLineHeight()*e},_getLineIndex:function(e,t){var n,i=0,r=this._model.getLineCount();if(this._lineHeight){i=this._getTopIndex();var o=-this._topIndexY+this._getScroll().y;if(e!==o)if(e<o)for(;e<o&&i>0;)e+=this._getLineHeight(--i);else for(n=this._getLineHeight(i);e-n>=o&&i<r-1;)e-=n,n=this._getLineHeight(++i)}else n=this._getLineHeight(),i=Math.floor(e/n);return t&&(0===r||i<0||i>r-1)?-1:Math.max(0,Math.min(r-1,i))},_getRulerParent:function(e){switch(e.getLocation()){case\"left\":return this._leftDiv;case\"right\":return this._rightDiv;case\"innerRight\":return this._innerRightDiv;case\"margin\":return this._marginDiv}return null},_getScroll:function(e){(void 0===e||e)&&this._cancelAnimation();var t=this._viewDiv;return{x:t.scrollLeft,y:t.scrollTop}},_getSelection:function(){return(Array.isArray(this._selection)?this._selection[0]:this._selection).clone()},_getSelections:function(){return(Array.isArray(this._selection)?this._selection:[this._selection]).map(function(e){return e.clone()})},_getTopIndex:function(e){var t=this._topChild;if(e&&this._getClientHeight()>this._getLineHeight()){var n=t.getBoundingClientRect(),i=this._getViewPadding(),r=this._viewDiv.getBoundingClientRect();n.top<r.top+i.top&&(t=this._getLineNext(t)||t)}return t.lineIndex},_hookEvents:function(){var e=this;this._modelListener={onChanging:function(t){e._onModelChanging(t)},onChanged:function(t){e._onModelChanged(t)}},this._model.addEventListener(\"preChanging\",this._modelListener.onChanging),this._model.addEventListener(\"postChanged\",this._modelListener.onChanged),this._themeListener={onChanged:function(){e._setThemeClass(e._themeClass)}},this._theme.addEventListener(\"ThemeChanged\",this._themeListener.onChanged);var t=this._handlers=[],n=this._clientDiv,i=this._viewDiv,r=this._rootDiv,o=this._overlayDiv||n,a=n.ownerDocument,l=this._getWindow(),d=s.isIE?a:l;t.push({target:l,type:\"resize\",handler:function(t){return e._handleResize(t||l.event)}}),t.push({target:n,type:\"blur\",handler:function(t){return e._handleBlur(t||l.event)}}),t.push({target:n,type:\"focus\",handler:function(t){return e._handleFocus(t||l.event)}}),t.push({target:i,type:\"focus\",handler:function(){n.focus()}});var c=e.getModel();if(c&&\"function\"==typeof c.deferScroll){var h=c.deferScroll(e,e._handleScroll.bind(e));t.push({target:i,type:\"scroll\",handler:function(e){return h(e||l.event)}})}else t.push({target:i,type:\"scroll\",handler:function(t){return e._handleScroll(t||l.event)}});if(t.push({target:n,type:\"textInput\",handler:function(t){return e._handleTextInput(t||l.event)}}),t.push({target:n,type:\"keydown\",handler:function(t){return e._handleKeyDown(t||l.event)}}),t.push({target:n,type:\"keypress\",handler:function(t){return e._handleKeyPress(t||l.event)}}),t.push({target:n,type:\"keyup\",handler:function(t){return e._handleKeyUp(t||l.event)}}),s.isIE&&t.push({target:a,type:\"keyup\",handler:function(t){return e._handleDocKeyUp(t||l.event)}}),t.push({target:n,type:\"contextmenu\",handler:function(t){return e._handleContextMenu(t||l.event)}}),t.push({target:n,type:\"copy\",handler:function(t){return e._handleCopy(t||l.event)}}),t.push({target:n,type:\"cut\",handler:function(t){return e._handleCut(t||l.event)}}),t.push({target:n,type:\"paste\",handler:function(t){return e._handlePaste(t||l.event)}}),t.push({target:a,type:\"selectionchange\",handler:function(t){return e._handleSelectionChange(t||l.event)}}),s.isIOS||s.isAndroid)t.push({target:n,type:\"touchstart\",handler:function(t){return e._handleTouchStart(t||l.event)}}),t.push({target:n,type:\"touchmove\",handler:function(t){return e._handleTouchMove(t||l.event)}}),t.push({target:n,type:\"touchend\",handler:function(t){return e._handleTouchEnd(t||l.event)}});else{if(t.push({target:n,type:\"selectstart\",handler:function(t){return e._handleSelectStart(t||l.event)}}),t.push({target:n,type:\"mousedown\",handler:function(t){return e._handleMouseDown(t||l.event)}}),t.push({target:n,type:\"mouseover\",handler:function(t){return e._handleMouseOver(t||l.event)}}),t.push({target:n,type:\"mouseout\",handler:function(t){return e._handleMouseOut(t||l.event)}}),t.push({target:d,type:\"mouseup\",handler:function(t){return e._handleMouseUp(t||l.event)}}),t.push({target:d,type:\"mousemove\",handler:function(t){return e._handleMouseMove(t||l.event)}}),t.push({target:r,type:\"mousedown\",handler:function(t){return e._handleRootMouseDown(t||l.event)}}),t.push({target:r,type:\"mouseup\",handler:function(t){return e._handleRootMouseUp(t||l.event)}}),t.push({target:o,type:\"dragstart\",handler:function(t){return e._handleDragStart(t||l.event)}}),t.push({target:o,type:\"drag\",handler:function(t){return e._handleDrag(t||l.event)}}),t.push({target:o,type:\"dragend\",handler:function(t){return e._handleDragEnd(t||l.event)}}),t.push({target:o,type:\"dragenter\",handler:function(t){return e._handleDragEnter(t||l.event)}}),t.push({target:o,type:\"dragover\",handler:function(t){return e._handleDragOver(t||l.event)}}),t.push({target:o,type:\"dragleave\",handler:function(t){return e._handleDragLeave(t||l.event)}}),t.push({target:o,type:\"drop\",handler:function(t){return e._handleDrop(t||l.event)}}),t.push({target:this._clientDiv,type:s.isFirefox>26?\"wheel\":s.isFirefox?\"DOMMouseScroll\":\"mousewheel\",handler:function(t){return e._handleMouseWheel(t||l.event)}}),this._clipDiv,s.isFirefox&&(!s.isWindows||s.isFirefox>=15)){var u=l.MutationObserver||l.MozMutationObserver;u?(this._mutationObserver=new u(function(t){e._handleDataModified(t)}),this._mutationObserver.observe(n,{subtree:!0,characterData:!0})):t.push({target:this._clientDiv,type:\"DOMCharacterDataModified\",handler:function(t){return e._handleDataModified(t||l.event)}})}(s.isFirefox&&(!s.isWindows||s.isFirefox>=15)||s.isIE||s.isWebkit)&&(t.push({target:this._clientDiv,type:\"compositionstart\",handler:function(t){return e._handleCompositionStart(t||l.event)}}),t.push({target:this._clientDiv,type:\"compositionend\",handler:function(t){return e._handleCompositionEnd(t||l.event)}}),t.push({target:this._clientDiv,type:\"compositionupdate\",handler:function(t){return e._handleCompositionUpdate(t||l.event)}})),this._overlayDiv&&(t.push({target:this._overlayDiv,type:\"mousedown\",handler:function(t){return e._handleMouseDown(t||l.event)}}),t.push({target:this._overlayDiv,type:\"mouseover\",handler:function(t){return e._handleMouseOver(t||l.event)}}),t.push({target:this._overlayDiv,type:\"mouseout\",handler:function(t){return e._handleMouseOut(t||l.event)}}),t.push({target:this._overlayDiv,type:\"contextmenu\",handler:function(t){return e._handleContextMenu(t||l.event)}})),this._isW3CEvents||t.push({target:this._clientDiv,type:\"dblclick\",handler:function(t){return e._handleDblclick(t||l.event)}})}this._hookRulerEvents(this._leftDiv,t),this._hookRulerEvents(this._rightDiv,t),this._hookRulerEvents(this._innerRightDiv,t),this._hookRulerEvents(this._marginDiv,t);for(var f=0;f<t.length;f++){var p=t[f];T(p.target,p.type,p.handler,p.capture)}},_hookRulerEvents:function(e,t){if(e){var n=this,i=this._getWindow();s.isIE&&t.push({target:e,type:\"selectstart\",handler:function(){return!1}}),t.push({target:e,type:s.isFirefox>26?\"wheel\":s.isFirefox?\"DOMMouseScroll\":\"mousewheel\",handler:function(e){return n._handleMouseWheel(e||i.event)}}),t.push({target:e,type:\"click\",handler:function(e){n._handleRulerEvent(e||i.event)}}),t.push({target:e,type:\"dblclick\",handler:function(e){n._handleRulerEvent(e||i.event)}}),t.push({target:e,type:\"mousemove\",handler:function(e){n._handleRulerEvent(e||i.event)}}),t.push({target:e,type:\"mouseover\",handler:function(e){n._handleRulerEvent(e||i.event)}}),t.push({target:e,type:\"mouseout\",handler:function(e){n._handleRulerEvent(e||i.event)}})}},_getWindow:function(){return d(this._parent.ownerDocument)},_ignoreEvent:function(e){for(var t=e.target;t&&t!==this._clientDiv;){if(t.ignore)return!0;t=t.parentNode}return!1},_init:function(e){var n=e.parent;if(\"string\"==typeof n&&(n=(e.document||document).getElementById(n)),!n)throw new Error(\"no parent\");e.parent=n,e.model=e.model||new t.TextModel;var i=this._defaultOptions();for(var r in i)if(i.hasOwnProperty(r)){var o;o=void 0!==e[r]?e[r]:i[r].value,this[\"_\"+r]=o}this._keyModes=[],this._rulers=[],this._selection=[new C(0,0,!1)],this._linksVisible=!1,this._redrawCount=0,this._maxLineWidth=0,this._maxLineIndex=-1,this._ignoreSelect=!0,this._ignoreFocus=!1,this._hasFocus=!1,this._dragOffset=-1,this._isRangeRects=(!s.isIE||s.isIE>=9)&&\"function\"==typeof n.ownerDocument.createRange().getBoundingClientRect,this._isW3CEvents=n.addEventListener,this._autoScrollX=null,this._autoScrollY=null,this._autoScrollTimerID=null,this._AUTO_SCROLL_RATE=50,this._grabControl=null,this._moseMoveClosure=null,this._mouseUpClosure=null,this._lastMouseX=0,this._lastMouseY=0,this._lastMouseTime=0,this._clickCount=0,this._clickTime=250,this._clickDist=5,this._isMouseDown=!1,this._doubleClickSelection=null,this._hScroll=0,this._vScroll=0,this._imeOffset=-1,this._createActions(),this._createView()},_checkOverlayScroll:function(){if(s.isMac&&s.isWebkit&&!this._metrics.invalid&&0===this._metrics.scrollWidth){var e=this._viewDiv,t=this._isOverOverlayScroll();t.vertical||t.horizontal?e.style.pointerEvents=\"\":e.style.pointerEvents=\"none\"}},_isOverOverlayScroll:function(){if(!((new Date).getTime()-this._lastScrollTime<200))return{};var e=this._viewDiv.getBoundingClientRect(),t=this._lastMouseMoveX,n=this._lastMouseMoveY;return{vertical:e.top<=n&&n<e.bottom&&e.right-15<=t&&t<e.right,horizontal:e.bottom-15<=n&&n<e.bottom&&e.left<=t&&t<e.right}},_startUndo:function(){if(this._undoStack){var e=this;this._compoundChange=this._undoStack.startCompoundChange({end:function(){e._compoundChange=null}})}},_endUndo:function(){this._undoStack&&this._undoStack.endCompoundChange()},_modifyContent:function(e,t,n,i){if(this._readonly&&!e._code)return!1;e.type=\"Verify\";var r=e.start=e.selection[0].start,o=e.end=e.selection[0].end;if(this.onVerify(e),r!==e.start&&(e.selection[0].start=e.start),o!==e.end&&(e.selection[0].end=e.end),null===e.text||void 0===e.text)return!1;e.selection.length>1&&this.setRedraw(!1);var s=this._compoundChange;s?C.compare(this._getSelections(),s.owner.selection)||(this._endUndo(),e.selection.length>1&&this._startUndo()):e.selection.length>1&&this._startUndo();var a=this._model;try{e._ignoreDOMSelection&&(this._ignoreDOMSelection=!0);var l=0,d=0;e.selection.forEach(function(n){n.start+=l,n.end+=l;var i=Array.isArray(e.text)?e.text[d]:e.text;a.setText(i,n.start,n.end),l+=n.start-n.end+i.length,n.setCaret(t?n.start+i.length:n.start),d++})}finally{e._ignoreDOMSelection&&(this._ignoreDOMSelection=!1)}return this._setSelection(e.selection,n,!0,i),s=this._compoundChange,s&&(s.owner.selection=e.selection),e.selection.length>1&&this.setRedraw(!0),this.onModify({type:\"Modify\"}),!0},_onModelChanged:function(e){e.type=\"ModelChanged\",this.onModelChanged(e),e.type=\"Changed\";var t=e.start,n=e.addedCharCount,i=e.removedCharCount,r=e.addedLineCount,o=e.removedLineCount,a=this._getSelections();a.forEach(function(e){(e.end>t||e.end===t&&n>i)&&(e.start>=t&&(e.start+=n-i),e.end+=n-i)}),this._setSelection(a,!1,!1);for(var l=this._model,d=l.getLineAtOffset(t),h=this._getLineNext();h;){var u=h.lineIndex;d<=u&&u<=d+o&&(d!==u||h.modelChangedEvent||h.lineRemoved?(h.lineRemoved=!0,h.lineChanged=!1,h.modelChangedEvent=null):(h.modelChangedEvent=e,h.lineChanged=!0)),u>d+o&&(h.lineIndex=u+r-o,h._line.lineIndex=h.lineIndex),h=this._getLineNext(h)}if(this._lineHeight){var f=[d,o].concat(c(r));Array.prototype.splice.apply(this._lineHeight,f)}this._wrapMode||d<=this._maxLineIndex&&this._maxLineIndex<=d+o&&(this._checkMaxLineIndex=this._maxLineIndex,this._maxLineIndex=-1,this._maxLineWidth=0);var p=l.getText(t,t+1);this._update(!s.isFirefox&&r+o===0&&p.charCodeAt(0)<256)},_onModelChanging:function(e){e.type=\"ModelChanging\",this.onModelChanging(e),e.type=\"Changing\"},_queueUpdate:function(){if(!this._updateTimer&&!this._ignoreQueueUpdate){var e=this,t=this._getWindow();this._updateTimer=t.setTimeout(function(){e._updateTimer=null,e._update()},0)}},_rangesToSelections:function(e){var t=[],n=this._model.getCharCount();return e.forEach(function(e){var i;if(e instanceof C)i=e.clone();else{var r=e.start,o=e.end,s=r>o;if(s){var a=r;r=o,o=a}r=Math.max(0,Math.min(r,n)),o=Math.max(0,Math.min(o,n)),i=new C(r,o,s)}t.push(i)}),t},_resetLineHeight:function(e,t){if(this._wrapMode||this._variableLineHeight){if(void 0!==e&&void 0!==t)for(var n=e;n<t;n++)this._lineHeight[n]=void 0;else this._lineHeight=c(this._model.getLineCount());this._calculateLineHeightTimer()}else this._lineHeight=null},_resetLineWidth:function(){var e=this._clientDiv;if(e)for(var t=e.firstChild;t;)t.lineWidth=void 0,t=t.nextSibling},_reset:function(){this._maxLineIndex=-1,this._maxLineWidth=0,this._topChild=null,this._bottomChild=null,this._topIndexY=0,this._variableLineHeight=!1,this._resetLineHeight(),this._setSelection(new C(0,0,!1),!1,!1),this._viewDiv&&(this._viewDiv.scrollLeft=0,this._viewDiv.scrollTop=0);var e=this._clientDiv;if(e){for(var t=e.firstChild;t;)t.lineRemoved=!0,t=t.nextSibling;s.isFirefox<13&&this._fixCaret()}},_scrollViewAnimated:function(e,t,n){var i=this._getWindow();if(n&&this._scrollAnimation){var r=this;this._animation=new L({window:i,duration:this._scrollAnimation,curve:[t,0],onAnimate:function(e){var n=t-Math.floor(e);r._scrollView(0,n),t-=n},onEnd:function(){r._animation=null,r._scrollView(e,t),n&&i.setTimeout(n,0)}}),this._animation.play()}else this._scrollView(e,t),n&&i.setTimeout(n,0)},_scrollView:function(e,t){this._ensureCaretVisible=!1;var n=this._viewDiv;e&&(n.scrollLeft+=e),t&&(n.scrollTop+=t)},_setClipboardText:function(e,t){if(s.isElectron&&!t)return window.__clipboardModule.writeText(e),!0;var n,i=this._getWindow(),r=i.clipboardData;if(!r&&t&&(r=t.clipboardData),r){n=[],g(e,function(e){n.push(e)},function(){n.push(s.platformDelimiter)});if(r.setData(s.isIE?\"Text\":\"text/plain\",n.join(\"\"))||t&&(s.isFirefox>21||s.isWebkit))return!0;if(!t)return!1}var o=this._parent.ownerDocument,a=s.createElement(o,\"pre\");a.style.position=\"fixed\",a.style.left=\"-1000px\",sap.ui.Device.browser.edge&&(a.style.display=\"none\"),g(e,function(e){a.appendChild(o.createTextNode(e))},function(){a.appendChild(s.createElement(o,\"br\"))}),a.appendChild(o.createTextNode(\" \")),this._clientDiv.appendChild(a);var l=o.createRange();l.setStart(a.firstChild,0),l.setEndBefore(a.lastChild);var d=i.getSelection();d.rangeCount>0&&d.removeAllRanges(),d.addRange(l);var c=this,h=function(){a&&a.parentNode===c._clientDiv&&c._clientDiv.removeChild(a),c._updateDOMSelection()},u=!1;sap.ui.Device.browser.edge||(this._ignoreCopy=!0);try{u=o.execCommand(\"copy\",!1,null)}catch(e){}return this._ignoreCopy=!1,!u&&t?(i.setTimeout(h,0),!1):(h(),!0)},_setGrab:function(e){e!==this._grabControl&&(e?(e.setCapture&&e.setCapture(),this._grabControl=e):(this._grabControl.releaseCapture&&this._grabControl.releaseCapture(),this._grabControl=null))},_setLinksVisible:function(e){if(this._linksVisible!==e){this._linksVisible=e,s.isIE&&e&&(this._hadFocus=this._hasFocus);var t=this._clientDiv;t.contentEditable=!e,this._hadFocus&&!e&&t.focus(),this._overlayDiv&&(this._overlayDiv.style.zIndex=e?\"-1\":\"1\");for(var n=this._getLineNext();n;)n._line.updateLinks(),n=this._getLineNext(n);this._updateDOMSelection()}},_setSelection:function(e,t,n,i,r,o,s){if(e){void 0===n&&(n=!0);var a,l=this._getSelections();if(a=Array.isArray(e)?e:o?l.concat([e]):[e],this._selection=C.merge(a),s||a.forEach(function(e){e._columnX=-1}),!1!==t&&this._showCaret(!1,i,t,r),n&&this._updateDOMSelection(),!C.compare(l,a)){var d={type:\"Selection\",oldValue:C.convert(l),newValue:C.convert(a)};this.onSelection(d)}}},_setSelectionTo:function(e,t,n,i,r,o){var s=this._model,a=this._getSelections(),l=this.convert({x:e,y:t},\"page\",\"document\"),d=this._getLineIndex(l.y),c=this._getLine(d),h=c.getOffset(l.x,l.y-this._getLinePixel(d)),u=s.getLineStart(d);if(o&&!i&&C.contains(a,h))return this._dragOffset=h,c.destroy(),!1;if(this._blockSelection)a=this._getBlockSelections(a,d,l);else{var f;if(n?i?(f=a[a.length-1],f._editing=!0):(f=new C(0,0),f._editing=!0,r?a.push(f):a=[f],f._docX=l.x):f=C.editing(a),1===this._clickCount)f.extend(h),i||f.collapse();else{var p,g,v=0==(1&this._clickCount);if(v)this._doubleClickSelection?h>=this._doubleClickSelection.start?(p=this._doubleClickSelection.start,g=c.getNextOffset(h,{unit:\"wordend\",count:1})):(p=c.getNextOffset(h,{unit:\"word\",count:-1}),g=this._doubleClickSelection.end):(p=c.getNextOffset(h,{unit:\"word\",count:-1}),u>p&&(p=u),g=c.getNextOffset(p,{unit:\"wordend\",count:1}));else if(this._doubleClickSelection){var m=s.getLineAtOffset(this._doubleClickSelection.start);d>=m?(p=s.getLineStart(m),g=s.getLineEnd(d)):(p=s.getLineStart(d),g=s.getLineEnd(m))}else p=s.getLineStart(d),g=s.getLineEnd(d);f.setCaret(p),f.extend(g)}}return this._setSelection(a,!0,!0,null,!1),c.destroy(),!0},_setFullSelection:function(e,t){this._fullSelection=e,s.isWebkit<537.36&&(this._fullSelection=e=!0),this._domSelection||(this._domSelection=[],this._cursorVisible=!0),t||this._updateDOMSelection()},_setBlockCursor:function(e){this._blockCursorVisible=e,this._updateBlockCursorVisible()},_setOverwriteMode:function(e){this._overwriteMode=e,this._updateBlockCursorVisible()},_updateBlockCursorVisible:function(){if(this._blockCursorVisible||this._overwriteMode){if(!this._cursorDiv){var e=this._viewDiv,t=s.createElement(e.ownerDocument,\"div\");t.className=\"textviewBlockCursor\",this._cursorDiv=t,t.tabIndex=-1,t.style.color=\"transparent\",t.style.position=\"absolute\",t.style.pointerEvents=\"none\",t.innerHTML=\"&nbsp;\",e.appendChild(t),this._updateDOMSelection()}}else this._cursorDiv&&(this._cursorDiv.parentNode.removeChild(this._cursorDiv),this._cursorDiv=null)},_setMarginOffset:function(e,t){this._marginOffset=e,this._marginDiv.style.display=e?\"block\":\"none\",t||(this._metrics=this._calculateMetrics(),this._queueUpdate())},_setWrapOffset:function(e,t){this._wrapOffset=e,t||(this._metrics=this._calculateMetrics(),this._queueUpdate())},_setReadOnly:function(e){this._readonly=e},_setSingleMode:function(e,t){this._singleMode=e,this._updateOverflow(),this._updateStyle(t)},_setNoScroll:function(e,t){this._noScroll=e,this._updateOverflow(),this._updateStyle(t)},_setTabSize:function(e,t){this._tabSize=e,this._customTabSize=void 0;var n=this._clientDiv;s.isOpera?n&&(n.style.OTabSize=this._tabSize+\"\"):s.isWebkit>=537.1?n&&(n.style.tabSize=this._tabSize+\"\"):s.isFirefox>=4?n&&(n.style.MozTabSize=this._tabSize+\"\"):8!==this._tabSize&&(this._customTabSize=this._tabSize),t||(this.redrawLines(),this._resetLineWidth())},_setTheme:function(e){this._theme&&this._theme.removeEventListener(\"ThemeChanged\",this._themeListener.onChanged),this._theme=e,this._theme&&this._theme.addEventListener(\"ThemeChanged\",this._themeListener.onChanged),this._setThemeClass(this._themeClass)},_setThemeClass:function(e,t){this._themeClass=e;var n=\"textview\",i=this._theme.getThemeClass();i&&(n+=\" \"+i),this._themeClass&&i!==this._themeClass&&(n+=\" \"+this._themeClass),this._rootDiv.className=n,this._updateStyle(t)},_setUndoStack:function(e){this._undoStack=e},_setWrapMode:function(e,t){this._wrapMode=e&&this._wrappable;var n=this._clientDiv;this._wrapMode?(n.style.whiteSpace=\"pre-wrap\",n.style.wordWrap=\"break-word\"):(n.style.whiteSpace=\"pre\",n.style.wordWrap=\"normal\"),this._updateOverflow(),t||(this.redraw(),this._resetLineWidth()),this._resetLineHeight()},_showCaret:function(e,t,n,i){if(this._clientDiv&&!(this._redrawCount>0||this._ignoreDOMSelection||-1!==this._imeOffset)){var r=this._model,o=this._getSelections(),s=C.editing(o,\"down\"===this._autoScrollDir),a=this._getScroll(),l=s.getCaret(),d=s.start,c=s.end,h=r.getLineAtOffset(d),u=r.getLineAtOffset(c),f=Math.max(Math.max(d,r.getLineStart(u)),c-1),p=this._getClientWidth(),g=this._getClientHeight(),v=p/4,m=this._getBoundsAtOffset(l===d?d:f),_=m.left,y=m.right,w=m.top,x=m.bottom,S=0,b=\"object\"==typeof n;!e&&!b||s.isEmpty()||(m=this._getBoundsAtOffset(l===c?d:f),S=(m.bottom>x?m.bottom:x)-(m.top<w?m.top:w),e&&(m.top===w?l===d?y=_+Math.min(m.right-_,p):_=y-Math.min(y-m.left,p):l===d?x=w+Math.min(m.bottom-w,g):w=x-Math.min(x-m.top,g)));var T=0;_<a.x&&(T=Math.min(_-a.x,-v)),y>a.x+p&&(T=Math.max(y-a.x-p,v));var E=0;w<a.y?E=w-a.y:x>a.y+g&&(E=x-a.y-g),i&&(i>0?E>0&&(E=Math.max(E,i)):E<0&&(E=Math.min(E,i)));var L=b&&\"always\"===n.scrollPolicy;if(0!==T||0!==E||L){if(b){var k=E>0;0===E&&(E=w-a.y);var M=n.viewAnchor,A=n.selectionAnchor,D=Math.min(Math.max(0,n.viewAnchorOffset||0));E+=\"top\"===M?Math.floor(k?(1-D)*g:-D*g):\"bottom\"===M?Math.floor(k?D*g:-(1-D)*g):\"center\"===M?Math.floor(k?g/2+D*g:g/2-(1-D)*g):Math.floor(k?D*g:-D*g),h!==u&&(\"top\"===A&&l!==d?E+=Math.floor(-S):\"bottom\"===A&&l!==c?E+=Math.floor(S):\"center\"===A&&(E+=Math.floor(S/2)))}else 0!==E&&\"number\"==typeof n&&(n<0&&(n=0),n>1&&(n=1),E+=Math.floor(E>0?n*g:-n*g));return this._scrollViewAnimated(T,E,t),g!==this._getClientHeight()||p!==this._getClientWidth()?this._showCaret():this._ensureCaretVisible=!0,!0}return t&&t(),!1}},_startIME:function(){if(-1===this._imeOffset){for(var e=!1,t=this._getSelections(),n=0;n<t.length&&!e;n++)e=!t[n].isEmpty();e&&this._modifyContent({text:\"\",selection:t},!0),this._imeOffset=t[0].start}},_unhookEvents:function(){this._model.removeEventListener(\"preChanging\",this._modelListener.onChanging),this._model.removeEventListener(\"postChanged\",this._modelListener.onChanged),this._theme.removeEventListener(\"ThemeChanged\",this._themeListener.onChanged),this._modelListener=null;for(var e=0;e<this._handlers.length;e++){var t=this._handlers[e];E(t.target,t.type,t.handler)}this._handlers=null,this._mutationObserver&&this._mutationObserver.disconnect()},_updateDOMSelection:function(){if(!(this._redrawCount>0)&&!this._ignoreDOMSelection&&-1===this._imeOffset&&this._clientDiv){var e,t=this._getSelections(),n=this._domSelection;if(n.length<t.length)for(e=n.length;e<t.length;e++)n.push(new w(this));else n.length>t.length&&n.splice(t.length).forEach(function(e){e.destroy()});for(e=0;e<n.length;e++)n[e].setPrimary(0===e),n[e].setSelection(t[e]);var i=this._getWindow(),r=this;n.length>1?this._cursorTimer||(this._cursorTimer=i.setInterval(function(){r._cursorVisible=!r._cursorVisible,r._domSelection.forEach(function(e){e.update()})},500)):this._cursorTimer&&(i.clearInterval(this._cursorTimer),this._cursorTimer=null)}},_update:function(e){if(!(this._redrawCount>0)){if(this._updateTimer){this._getWindow().clearTimeout(this._updateTimer),this._updateTimer=null}var t=this._clientDiv,n=this._viewDiv;if(t){this._metrics.invalid&&(this._ignoreQueueUpdate=!0,this._updateStyle(),this._ignoreQueueUpdate=!1);var i=this._model,r=this._getScroll(!1),o=this._getViewPadding(),a=i.getLineCount(),l=this._getLineHeight(),d=!1,c=!1,h=!1,u=this._metrics.scrollWidth;this._wrapMode&&(t.style.width=(this._metrics.wrapWidth||this._getClientWidth())+\"px\");var f,p,g,v,m,_,y,C,w,x,b,T=0,E=0;if(this._lineHeight){for(;E<a&&(b=this._getLineHeight(E),!(T+b>r.y));)T+=b,E++;f=E,p=Math.max(0,f-1),v=g=r.y-T,f>0&&(g+=this._getLineHeight(f-1))}else{var L=Math.max(0,r.y)/l;f=Math.floor(L),p=Math.max(0,f-1),g=Math.round((L-p)*l),v=Math.round((L-f)*l),x=a*l}this._topIndexY=v;var k=this._rootDiv,M=k.clientWidth,A=k.clientHeight;if(e){for(m=0,this._leftDiv&&(_=this._leftDiv.getBoundingClientRect(),m=_.right-_.left),y=this._getClientWidth(),C=this._getClientHeight(),w=y,this._wrapMode?this._metrics.wrapWidth&&(w=this._metrics.wrapWidth):w=Math.max(this._maxLineWidth,w);E<a;)b=this._getLineHeight(E,!1),T+=b,E++;x=T}else{C=this._getClientHeight();for(var D,O,N=Math.floor((C+v)/l),I=Math.min(f+N,a-1),R=Math.min(I+1,a-1),B=t.firstChild;B;){D=B.lineIndex;var P=B.nextSibling;p<=D&&D<=R&&!B.lineRemoved&&-1!==B.lineIndex||(this._mouseWheelLine===B?(B.style.display=\"none\",B.lineIndex=-1):t.removeChild(B)),B=P}B=this._getLineNext();var F=n.ownerDocument,V=F.createDocumentFragment();for(D=p;D<=R;D++)!B||B.lineIndex>D?new S(this,D).create(V,null):(V.firstChild&&(t.insertBefore(V,B),V=F.createDocumentFragment()),B&&B.lineChanged&&(B=new S(this,D).create(V,B),B.lineChanged=!1),B=this._getLineNext(B));V.firstChild&&t.insertBefore(V,B),s.isWebkit&&!this._wrapMode&&(t.style.width=\"0x7fffffffpx\");var U;B=this._getLineNext();for(var W=C+g,H=!1;B;){if(void 0===(O=B.lineWidth)){U=B._line.getBoundingClientRect(),O=B.lineWidth=Math.ceil(U.right-U.left);var K=U.bottom-U.top;this._lineHeight?this._lineHeight[B.lineIndex]=K:0!==l&&0!==K&&Math.ceil(l)!==Math.ceil(K)&&(this._variableLineHeight=!0,this._lineHeight=[],this._lineHeight[B.lineIndex]=K)}this._lineHeight&&!H&&(W-=this._lineHeight[B.lineIndex])<0&&(I=B.lineIndex,H=!0),this._wrapMode||(O>=this._maxLineWidth&&(this._maxLineWidth=O,this._maxLineIndex=B.lineIndex),this._checkMaxLineIndex===B.lineIndex&&(this._checkMaxLineIndex=-1)),B.lineIndex===f&&(this._topChild=B),B.lineIndex===I&&(this._bottomChild=B),B=this._getLineNext(B)}if(-1!==this._checkMaxLineIndex&&(D=this._checkMaxLineIndex,this._checkMaxLineIndex=-1,0<=D&&D<a)){var j=new S(this,D);U=j.getBoundingClientRect(),O=U.right-U.left,O>=this._maxLineWidth&&(this._maxLineWidth=O,this._maxLineIndex=D),j.destroy()}for(;E<a;)b=this._getLineHeight(E,E<=I),T+=b,E++;x=T,this._updateRuler(this._leftDiv,f,R,A),this._updateRuler(this._rightDiv,f,R,A),this._updateRuler(this._innerRightDiv,f,R,A),this._updateRuler(this._marginDiv,f,R,A),m=0,this._leftDiv&&(_=this._leftDiv.getBoundingClientRect(),m=_.right-_.left);var G=0;if(this._rightDiv){var z=this._rightDiv.getBoundingClientRect();G=z.right-z.left}n.style.left=m+\"px\",n.style.right=G+\"px\";var $=this._scrollDiv;if($.style.height=x+(s.isWebkit?0:o.bottom)+\"px\",y=this._getClientWidth(),!this._singleMode&&!this._wrapMode&&!this._noScroll){var Y=C,X=C,q=\"scroll\"===n.style.overflowX;q?Y+=u:X-=u;var J=y,Z=y,Q=\"scroll\"===n.style.overflowY;Q?J+=u:Z-=u,C=Y,y=J,x>C&&(h=!0,y=Z),this._maxLineWidth>y&&(c=!0,C=X,x>C&&(h=!0,y=Z)),q!==c&&(n.style.overflowX=c?\"scroll\":\"hidden\"),Q!==h&&(n.style.overflowY=h?\"scroll\":\"hidden\"),d=q!==c||Q!==h}var ee=y;this._wrapMode?this._metrics.wrapWidth&&(ee=this._metrics.wrapWidth):ee=Math.max(this._maxLineWidth+this._getInnerRightWidth(),ee),w=ee,(!s.isIE||s.isIE>=9)&&this._maxLineWidth>y&&(ee+=o.right+o.left),$.style.width=ee+\"px\",this._clipScrollDiv&&(this._clipScrollDiv.style.width=ee+\"px\"),r=this._getScroll(!1);var te=this._innerRightDiv;te&&(te.style.right=G+(\"scroll\"===n.style.overflowY?this._metrics.scrollWidth:0)+\"px\",te.style.bottom=(\"scroll\"===n.style.overflowX?u:0)+\"px\")}if(this._scrollHeight=x,this._vScrollDiv){var ne=C-8,ie=Math.max(15,Math.ceil(Math.min(1,ne/(x+o.top+o.bottom))*ne));this._vScrollDiv.style.left=m+y-8+\"px\",this._vScrollDiv.style.top=Math.floor(Math.max(0,r.y*ne/x))+\"px\",this._vScrollDiv.style.height=ie+\"px\"}if(!this._wrapMode&&this._hScrollDiv){var re=y-8,oe=Math.max(15,Math.ceil(Math.min(1,re/(this._maxLineWidth+o.left+o.right))*re));this._hScrollDiv.style.left=m+Math.floor(Math.max(0,Math.floor(r.x*re/this._maxLineWidth)))+\"px\",this._hScrollDiv.style.top=C-9+\"px\",this._hScrollDiv.style.width=oe+\"px\"}var se,ae,le=r.x,de=this._clipDiv,ce=this._overlayDiv,he=this._marginDiv;if(he&&(he.style.left=-le+m+this._metrics.marginWidth+o.left+\"px\",he.style.bottom=(\"scroll\"===n.style.overflowX?u:0)+\"px\"),de){de.scrollLeft=le,de.scrollTop=0,se=m+o.left,ae=o.top;var ue=y,fe=C,pe=0,ge=-g;0===r.x&&(se-=o.left,ue+=o.left,pe=o.left),r.x+y===w&&(ue+=o.right),0===r.y&&(ae-=o.top,fe+=o.top,ge+=o.top),r.y+C===x&&(fe+=o.bottom),de.style.left=se+\"px\",de.style.top=ae+\"px\",de.style.right=M-ue-se+\"px\",de.style.bottom=A-fe-ae+\"px\",t.style.left=pe+\"px\",t.style.top=ge+\"px\",t.style.width=w+\"px\",t.style.height=C+g+\"px\",ce&&(ce.style.left=t.style.left,ce.style.top=t.style.top,ce.style.width=t.style.width,ce.style.height=t.style.height)}else{se=le,ae=g;var ve=le+y,me=g+C;0===se&&(se-=o.left),0===ae&&(ae-=o.top),ve===w&&(ve+=o.right),r.y+C===x&&(me+=o.bottom),t.style.clip=\"rect(\"+ae+\"px,\"+ve+\"px,\"+me+\"px,\"+se+\"px)\",t.style.left=-le+m+o.left+\"px\",t.style.width=(this._wrapMode||s.isWebkit?w:y+le)+\"px\",e||(t.style.top=-g+o.top+\"px\",t.style.height=C+g+\"px\"),ce&&(ce.style.clip=t.style.clip,ce.style.left=t.style.left,ce.style.width=t.style.width,e||(ce.style.top=t.style.top,ce.style.height=t.style.height))}if(this._updateDOMSelection(),d){var _e=this._ensureCaretVisible;this._ensureCaretVisible=!1,_e&&this._showCaret(),this._queueUpdate()}}}},_updateOverflow:function(){var e=this._viewDiv;this._noScroll?e.style.overflow=\"hidden\":this._wrapMode?(e.style.overflowX=\"hidden\",e.style.overflowY=\"scroll\"):e.style.overflow=\"hidden\"},_updateRuler:function(e,t,n,i){if(e)for(var r=this._parent.ownerDocument,o=this._getLineHeight(),a=this._getViewPadding(),l=e.firstChild;l;){var d=l._ruler;if(d){var c=d.getOverview();if(l.rulerChanged&&(h(d.getRulerStyle(),l),e.rulerWidth=void 0),\"fixed\"===c){l.rulerChanged=!1,l=l.nextSibling;continue}var u=o;\"page\"===c&&(u+=this._topIndexY),l.style.top=-u+\"px\",l.style.height=i+u+\"px\";var f,p=l.firstChild;p?(f=p,p=p.nextSibling):(f=s.createElement(r,\"div\"),f.style.visibility=\"hidden\",l.appendChild(f));var g,v;l.rulerChanged&&f&&(g=-1,v=d.getWidestAnnotation(),v&&(h(v.style,f),v.html&&(f.innerHTML=v.html)),f.lineIndex=g,f.style.height=o+a.top+\"px\");var m,_,y;if(\"page\"===c){for(y=d.getAnnotations(t,n+1);p;){g=p.lineIndex;var C=p.nextSibling;t<=g&&g<=n&&!p.lineChanged||l.removeChild(p),p=C}for(p=l.firstChild.nextSibling,_=r.createDocumentFragment(),g=t;g<=n;g++)!p||p.lineIndex>g?(m=s.createElement(r,\"div\"),v=y[g],v&&(h(v.style,m),v.html&&(m.innerHTML=v.html),m.annotation=v),m.lineIndex=g,m.style.height=this._getLineHeight(g)+\"px\",_.appendChild(m)):(_.firstChild&&(l.insertBefore(_,p),_=r.createDocumentFragment()),p&&(p=p.nextSibling));_.firstChild&&l.insertBefore(_,p)}else{\nvar w,x,S=this._getClientHeight(),b=this._model.getLineCount(),T=o*b,E=S+a.top+a.bottom-2*this._metrics.scrollWidth;if(T<E?(w=o,x=a.top):(w=E/b,x=this._metrics.scrollWidth),l.rulerChanged){for(var L=l.childNodes.length;L>1;)l.removeChild(l.lastChild),L--;y=d.getAnnotations(0,b),_=r.createDocumentFragment();for(var k in y)(g=k>>>0)<0||(m=s.createElement(r,\"div\"),v=y[k],h(v.style,m),m.style.position=\"absolute\",m.style.top=x+o+Math.floor(g*w)+\"px\",v.html&&(m.innerHTML=v.html),m.annotation=v,m.lineIndex=g,_.appendChild(m));l.appendChild(_)}else if(l._oldTrackHeight!==E)for(m=l.firstChild?l.firstChild.nextSibling:null;m;)m.style.top=this._metrics.scrollWidth+o+Math.floor(m.lineIndex*w)+\"px\",m=m.nextSibling;l._oldTrackHeight=E}}l.rulerChanged=!1,l=l.nextSibling}},_updateStyleSheet:function(){var e=\"\";if(s.isWebkit&&this._metrics.scrollWidth>0&&(e+=\"\\n.textview ::-webkit-scrollbar-corner {background: #eeeeee;}\"),e){var t=this._clientDiv.ownerDocument,n=t.getElementById(\"_textviewStyle\");if(n)n.removeChild(n.firstChild),n.appendChild(t.createTextNode(e));else{n=s.createElement(t,\"style\"),n.id=\"_textviewStyle\";var i=t.getElementsByTagName(\"head\")[0]||t.documentElement;n.appendChild(t.createTextNode(e)),i.insertBefore(n,i.firstChild)}}},_updateStyle:function(e,t){if(!e&&s.isIE&&(this._rootDiv.style.lineHeight=\"normal\"),t=this._metrics=t||this._calculateMetrics(),this._variableLineHeight&&(this._variableLineHeight=!1,this._resetLineHeight()),s.isIE?this._rootDiv.style.lineHeight=t.lineHeight-(t.lineTrim.top+t.lineTrim.bottom)+\"px\":this._rootDiv.style.lineHeight=\"normal\",this._updateStyleSheet(),s.isMac&&s.isWebkit){var n=this._viewDiv;t.invalid||0!==t.scrollWidth?(n.style.pointerEvents=\"\",n.style.zIndex=\"\"):(n.style.pointerEvents=\"none\",n.style.zIndex=\"2\")}e||(this.redraw(),this._resetLineWidth())}},i.EventTarget.addMixin(b.prototype),{TextView:b}}),n(\"orion/editor/tooltip\",[\"i18n!orion/editor/nls/messages\",\"orion/editor/textView\",\"orion/editor/projectionTextModel\",\"orion/Deferred\",\"orion/editor/util\",\"orion/webui/littlelib\",\"orion/util\"],function(e,t,n,i,r,o,s){function a(e,t){this._view=e,this._editor=t;e.getOptions(\"parent\")}return a.getTooltip=function(e,t){return e._tooltip||(e._tooltip=new a(e,t)),e._tooltip},a.prototype={_create:function(e){if(!this._tooltipDiv){var t=this._tooltipDiv=s.createElement(e,\"div\");t.tabIndex=0,t.className=\"textviewTooltip\",t.setAttribute(\"aria-live\",\"assertive\"),t.setAttribute(\"aria-atomic\",\"true\"),this._tooltipDiv.style.visibility=\"hidden\",this._tipShowing=!1,e.body.appendChild(t);var n=this;r.addEventListener(e,\"mousedown\",this._mouseDownHandler=function(e){n.isVisible()&&(r.contains(t,e.target||e.srcElement)||n._locked||n.hide())},!0),r.addEventListener(e,\"scroll\",this._scrollHandler=function(e){n.isVisible()&&(r.contains(t,e.target||e.srcElement)||n._topPixel===n._view.getTopPixel()&&n._leftPixel===n._view.getHorizontalPixel()||n.hide())},!0),r.addEventListener(e,\"mousemove\",this._mouseMoveHandler=function(e){n._prevX&&n._prevX===e.clientX&&n._prevY&&n._prevY===e.clientY||(n._prevX=e.clientX,n._prevY=e.clientY,!n.isVisible()||n._locked||n._hasFocus()||n._isInRect(n._outerArea,e.clientX,e.clientY)||n.hide())},!0),r.addEventListener(t,\"focus\",function(e){n._locked||n._tooltipDiv.classList.add(\"textViewTooltipOnFocus\")},!1),r.addEventListener(t,\"blur\",function(e){n._tooltipDiv.classList.remove(\"textViewTooltipOnFocus\")},!1),r.addEventListener(t,\"mouseenter\",function(e){n._locked||n._tooltipDiv.classList.add(\"textViewTooltipOnHover\")},!1),r.addEventListener(t,\"mouseleave\",function(e){n._hasFocus()||n._tooltipDiv.classList.remove(\"textViewTooltipOnHover\")},!1),r.addEventListener(t,\"keydown\",function(e){27===e.keyCode&&(n._locked||n.hide())},!1),this._view.addEventListener(\"Destroy\",function(){n.destroy()})}},destroy:function(){if(this._tooltipDiv){this.hide();var e=this._tooltipDiv.parentNode;e&&e.removeChild(this._tooltipDiv);var t=this._tooltipDiv.ownerDocument;r.removeEventListener(t,\"mousedown\",this._mouseDownHandler,!0),r.removeEventListener(t,\"scroll\",this._scrollHandler,!0),r.removeEventListener(t,\"mousemove\",this._mouseMoveHandler,!0),this._tooltipDiv=null}},show:function(e,t,n){this._locked=t,this._giveFocus=n,this._topPixel=this._view.getTopPixel(),this._leftPixel=this._view.getHorizontalPixel(),this._processInfo(e.getTooltipInfo())},update:function(e,t){e&&(t?this._showContents(null,e.getTooltipInfo(),!0):this._processInfo(e.getTooltipInfo(),!0))},onHover:function(e,t,n){e&&(this._isInRect(this._anchorArea,t,n)||this._isInRect(this._tooltipArea,t,n)||this._locked||this._hasFocus()||this._processInfo(e.getTooltipInfo()))},hide:function(e){e&&(this._locked=void 0),!this._locked&&this.isVisible()&&(this.hover&&this.hover.clearQuickFixes(),this._hasFocus()&&this._view.focus(),this._tooltipContents&&(this._tooltipDiv.removeChild(this._tooltipContents),this._tooltipContents=null),this._tooltipDiv.classList.remove(\"textviewTooltipCodeProjection\"),this._tooltipDiv.classList.remove(\"textviewTooltipOnHover\"),this._tooltipDiv.classList.remove(\"textviewTooltipOnFocus\"),this._tooltipDiv.style.visibility=\"hidden\",this._tipShowing=!1,this._tooltipDiv.style.left=\"\",this._tooltipDiv.style.right=\"\",this._tooltipDiv.style.top=\"\",this._tooltipDiv.style.bottom=\"\",this._tooltipDiv.style.width=\"auto\",this._tooltipDiv.style.maxWidth=\"\",this._tooltipDiv.style.height=\"auto\",this._tooltipDiv.style.maxHeight=\"\",this._tooltipDiv.style.overflowX=\"\",this._tooltipDiv.style.overflowY=\"\",this._giveFocus=void 0,this._anchorArea=void 0,this._tooltipArea=void 0,this._outerArea=void 0,this._hoverPromises&&this._hoverPromises.forEach(function(e){e.resolved||e.cancel()}),this._hoverPromises=void 0,this._tipRect=void 0)},isVisible:function(){return this._tipShowing},_processInfo:function(e,t){if(this._tooltipDiv){var n;if(t&&this._tooltipContents?(this._tooltipContents.innerHTML=\"\",n=this._tooltipContents):n=s.createElement(this._tooltipDiv.ownerDocument,\"div\"),e){if(e.contents&&this._renderImmediateInfo(n,e.contents,e.context))return this._showContents(n,e,t),!0;if(this.hover&&e.context&&(this._hoverPromises=this.hover.computeHoverInfo(e.context),this._hoverPromises)){var r=this;return this._hoverPromises.slice(0).forEach(function(o){i.when(o,function(i){if(r._hoverPromises){var s=r._hoverPromises.indexOf(o);s>=0&&r._hoverPromises.splice(s,1)}i&&r._renderPluginContent(n,i)&&(i.offsetStart&&(e.context.offsetStart=i.offsetStart),i.offsetEnd&&(e.context.offsetEnd=i.offsetEnd),i.allowFullWidth&&(e.allowFullWidth=i.allowFullWidth),r._showContents(n,e,t))},function(e){console&&e&&\"Cancel\"!==e.name&&(console.log(\"Error computing hover tooltip\"),console.log(e&&e.stack))})}),!0}}}},_showContents:function(e,t,n){n?this._tooltipArea&&t.tooltipArea&&(this._tooltipArea.left===t.tooltipArea.left&&this._tooltipArea.top===t.tooltipArea.top&&this._tooltipArea.width===t.tooltipArea.width&&this._tooltipArea.height===t.tooltipArea.height||(this._anchorArea=null,this._tooltipArea=null,this._outerArea=null)):this.hide(),e&&(this._tooltipContents&&this._tooltipDiv.removeChild(this._tooltipContents),this._tooltipContents=e,this._tooltipDiv.appendChild(e)),this._anchorArea||(this._anchorArea=this._computeAnchorArea(t)),this._tooltipArea||(this._tooltipArea=this._computeTooltipArea(t,this._anchorArea,this._tooltipDiv)),this._outerArea||(this._outerArea=this._computeOuterArea(this._anchorArea,this._tooltipArea)),this._tooltipDiv.style.visibility=\"visible\",this._tipShowing=!0,this._giveFocus&&(this._setInitialFocus(this._tooltipDiv),this._giveFocus=void 0)},_computeAnchorArea:function(e){if(e.anchorArea&&e.anchorArea.top&&e.anchorArea.left&&e.anchorArea.height&&e.anchorArea.width)return e.anchorArea;if(e.context){if(e.context.offsetStart&&e.context.offsetEnd){var t=this.mapOffset(e.context.offsetStart,!1),n=this.mapOffset(e.context.offsetEnd,!1);return this._computeRectangleFromOffset(t,n)}if(e.context.offset>=0){var i=this.mapOffset(e.context.offset,!1),r=this._view.getNextOffset(i,{unit:\"wordend\",count:0}),o=this._view.getNextOffset(r,{unit:\"word\",count:-1});return this._computeRectangleFromOffset(o,r)}}return{top:0,left:0,height:0,width:0}},_computeTooltipArea:function(e,t,n){var i=n.ownerDocument.documentElement;if(e.tooltipArea&&e.tooltipArea.top&&e.tooltipArea.left&&e.tooltipArea.height&&e.tooltipArea.width)return n.style.overflowY=\"auto\",n.style.resize=\"none\",n.style.top=e.tooltipArea.top+\"px\",n.style.left=e.tooltipArea.left+\"px\",n.style.height=e.tooltipArea.height-16+\"px\",n.style.width=e.tooltipArea.width-16+\"px\",e.tooltipArea;var r=n.getBoundingClientRect(),o={width:r.width,height:r.height},s=n.getElementsByTagName(\"img\")[0];s&&!s.complete&&0===s.width&&(o.width+=30);var a=e.position?e.position:\"below\",l=(this._view._rootDiv?this._view._rootDiv:i).getBoundingClientRect(),d=l.left,c=l.top,h=l.width,u=l.height,f=h,p=u;e.allowFullWidth?o.width>h&&(o.width=h):(f=Math.min(h/2,600),p=Math.min(u/2,400),o.width=Math.min(o.width,f),o.height=Math.min(o.height,p)),n.style.width=o.width-16+\"px\",o.height=Math.min(n.getBoundingClientRect().height,p),41>o.height&&o.width>f-16&&(o.height=56);var g=u-(t.top+t.height-c),v=t.top-c,m=h-(t.left+t.width-d);\"above\"===a&&o.height>v&&o.height<=g?a=\"below\":\"below\"===a&&o.height>g&&o.height<=v&&(a=\"above\");var _=e.tooltipOffsetX?e.tooltipOffsetX:0,y=e.tooltipOffsetY?e.tooltipOffsetY:0;switch(a){case\"left\":o.height+y>g+t.height?o.top=u+c-o.height:o.top=t.top+y,o.top=Math.max(o.top,c),o.left=Math.max(t.left-o.width+_,d);break;case\"right\":o.height+y>g+t.height?o.top=u+c-o.height:o.top=t.top+y,o.top=Math.max(o.top,c),o.left=Math.max(t.left+t.width+_,d);break;case\"above\":o.width+_>m+t.width?o.left=h+d-o.width:o.left=t.left+_,o.left=Math.max(o.left,d),o.top=Math.max(t.top-o.height+y,c);break;case\"below\":o.width+_>m+t.width?o.left=h+d-o.width:o.left=t.left+_,o.left=Math.max(o.left,d),o.top=Math.max(t.top+t.height+y,c)}return o.maxWidth=Math.min(h+d-o.left,h),o.maxHeight=Math.min(u+c-o.top,u),n.style.maxWidth=o.maxWidth-16+\"px\",n.style.maxHeight=o.maxHeight-16+\"px\",n.style.width=o.width-16+\"px\",n.style.height=o.height-16+\"px\",n.style.left=o.left+\"px\",n.style.top=o.top+\"px\",o},_computeOuterArea:function(e,t){var n=Math.min(e.left,t.left),i=Math.min(e.top,t.top),r=e.left+e.width,o=t.left+t.width,s=Math.max(r,o),a=e.top+e.height,l=t.top+t.height;return{left:n,top:i,width:s-n,height:Math.max(a,l)-i}},_hasFocus:function(){var e=this._tooltipDiv;return!!e&&r.contains(e,e.ownerDocument.activeElement)},_isNode:function(e){return\"object\"==typeof Node?e instanceof Node:e&&\"object\"==typeof e&&\"number\"==typeof e.nodeType&&\"string\"==typeof e.nodeName},_setInitialFocus:function(e){var t=o.$(\"button\",e);if(t)return void t.focus();var n=o.$(\"a\",e);if(n){n.focus();var i=this;return void n.addEventListener(\"click\",function(){i.hide()})}var r=o.firstTabbable(e);r&&r.focus()},_isInRect:function(e,t,n){if(!e)return!1;var i=t>=e.left&&t<=e.left+e.width,r=n>=e.top&&n<=e.top+e.height;return i&&r},mapOffset:function(e){var t=this._view,n=t.getModel();return n.getBaseModel&&(e=n.mapOffset(e,!0)),e},_computeRectangleFromOffset:function(e,t){var n,i,r=this._view,o=r.getLineAtOffset(e),s=r.getLineAtOffset(t);if(o!==s){var a=r.getLocationAtOffset(e).y;n=0;for(var l=0;o<=s;){n+=r.getLineHeight(o);var d=r.getModel().getLineEnd(o),c=r.getLocationAtOffset(d).x;c>t&&(l=c),o++}var h=r.getModel().getLineStart(s),u=r.getLocationAtOffset(h).x;i={x:u,y:a,width:l-u,height:n}}else{var f=r.getLocationAtOffset(e),p=r.getLocationAtOffset(t);n=r.getLineHeight(o),i={x:f.x,y:f.y,width:p.x-f.x,height:n}}return i=this._view.convert(i,\"document\",\"page\"),{left:i.x,top:i.y,width:i.width,height:i.height}},_renderPluginContent:function(e,t){var n=this._tooltipDiv.ownerDocument;if(\"string\"!=typeof t&&void 0===t.content)return!1;var i=s.createElement(n,\"div\");if(t.title){var r=s.createElement(n,\"div\");this.hover.renderMarkDown?r.innerHTML=this.hover.renderMarkDown(t.title):r.textContent=t.title,r.classList.add(\"hoverTooltipTitle\"),i.appendChild(r)}var o=s.createElement(n,\"div\");if(\"string\"==typeof t)o.appendChild(n.createTextNode(t));else switch(t.type){case\"delegatedUI\":case\"html\":if(t.content){var a=n.createElement(\"iframe\");a.id=\"HtmlHover\",a.name=\"HTML Hover\",a.type=\"text/html\",a.sandbox=\"allow-scripts allow-same-origin allow-forms\",a.style.border=\"none\",a.style.width=\"100%\",a.style.height=\"100%\",this._tooltipDiv.style.paddingBottom=\"5px\",a.srcdoc=t.content,t.width&&(a.style.width=t.width),t.height&&(a.style.height=t.height),i.style.height=\"100%\",e.style.height=\"100%\",i.appendChild(a)}break;case\"markdown\":this.hover.renderMarkDown&&(o.innerHTML=this.hover.renderMarkDown(t.content));break;default:o.appendChild(n.createTextNode(t.content))}return i.appendChild(o),e.appendChild(i),!0},_renderImmediateInfo:function(e,i,r){if(i instanceof Array&&!(i=this._getAnnotationContents(i,r)))return!1;if(\"string\"==typeof i)return e.textContent=i,!0;if(this._isNode(i))return e.appendChild(i),!0;if(i instanceof n.ProjectionTextModel){var o=this._view,s=o.getOptions();s.wrapMode=!1,s.parent=e;var a=s.themeClass;a?(a=a.replace(\"tooltipTheme\",\"\"),a&&(a=\" \"+a),a=\"tooltipTheme\"+a):a=\"tooltipTheme\",s.themeClass=a;var l=this._contentsView=new t.TextView(s),d={onLineStyle:function(e){o.onLineStyle(e)}};l.addEventListener(\"LineStyle\",d.onLineStyle),l.setModel(i),this._tooltipDiv.appendChild(e),this._tooltipDiv.classList.add(\"textviewTooltipCodeProjection\");var c=l.computeSize();return e.style.width=c.width+8+\"px\",e.style.height=c.height+8+\"px\",l.resize(),this._tooltipDiv.removeChild(e),!0}return!1},_getAnnotationContents:function(t,i){function o(e,t,n){var o=e.title,l=s.createElement(f,\"div\");if(l.className=\"tooltipRow\",e.html){var d=s.createElement(f,\"div\");d.className=\"tooltipImage\",d.innerHTML=e.html,d.lastChild&&r.addEventListener(d.lastChild,\"click\",function(){var t=e.start,n=e.end;g.getBaseModel&&(t=g.mapOffset(t,!0),n=g.mapOffset(n,!0)),p.setSelection(t,n,1/3,function(){a.hide()})},!1),l.appendChild(d)}if(!o){var c=v.getLineStart(v.getLineAtOffset(e.start)),h=v.getLineEnd(v.getLineAtOffset(e.end),!0);o=v.getText(c,h)}if(\"function\"==typeof o&&(o=e.title()),\"string\"==typeof o){var u=s.createElement(f,\"span\");u.className=\"tooltipTitle\",u.appendChild(f.createTextNode(o)),o=u}return l.appendChild(o),n&&a.hover.renderQuickFixes(e,t,l),i&&(i.offsetStart=e.start,i.offsetEnd=e.end),l}var a=this,l=!!a.hover;l&&i&&i.source&&i.source.indexOf(\"ruler\")>=0&&t.length>1&&(l=!1);for(var d,c=[],h=0;h<t.length;h++)d=t[h],\"\"===d.title||d.groupAnnotation||l&&!d.title&&\"orion.annotation.folding\"!==d.type||c.push(d);if(t=c,0===t.length)return null;var u,f=this._tooltipDiv.ownerDocument,p=this._view,g=p.getModel(),v=g.getBaseModel?g.getBaseModel():g;if(1===t.length&&\"orion.annotation.folding\"===t[0].type){var m=new n.ProjectionTextModel(v),_=v.getLineStart(v.getLineAtOffset(t[0].start)),y=v.getCharCount();return t[0].end!==y&&m.addProjection({start:t[0].end,end:y}),_>0&&m.addProjection({start:0,end:_}),m}var C;if(t.length>0&&this._editor&&(C=this._editor.getAnnotationModel().getAnnotations()),1===t.length){if((u=o(t[0],C,l))&&u.firstChild){var w=u.firstChild.className;w&&(w+=\" \"),w+=\"single\",u.firstChild.className=w}return u}var x=s.createElement(f,\"div\"),S=s.createElement(f,\"multi_anno\");S.appendChild(f.createTextNode(e.multipleAnnotations)),x.appendChild(S);for(var b=0;b<t.length;b++)(u=o(t[b],C,l))&&x.appendChild(u);return x}},{Tooltip:a}}),n(\"orion/editor/editor\",[\"i18n!orion/editor/nls/messages\",\"orion/editor/eventTarget\",\"orion/editor/tooltip\",\"orion/editor/annotations\",\"orion/objects\",\"orion/util\"],function(e,t,n,i,r,o){function s(e){e=e||{},this._domNode=e.domNode,this._model=e.model,this._undoStack=e.undoStack,this._statusReporter=e.statusReporter,this._title=null;var t=this;this._listener={onChanged:function(e){t.onChanged(e)}},this._model&&this._model.addEventListener(\"Changed\",this._listener.onChanged),this.checkDirty()}function a(e){e=e||{},s.call(this,e),this._textViewFactory=e.textViewFactory,this._undoStackFactory=e.undoStackFactory,this._textDNDFactory=e.textDNDFactory,this._annotationFactory=e.annotationFactory,this._zoomRulerFactory=e.zoomRulerFactory,this._foldingRulerFactory=e.foldingRulerFactory,this._lineNumberRulerFactory=e.lineNumberRulerFactory,this._contentAssistFactory=e.contentAssistFactory,this._keyBindingFactory=e.keyBindingFactory,this._hoverFactory=e.hoverFactory,this._syntaxHighlighter=e.syntaxHighlighter,this._annotationStyler=null,this._annotationModel=null,this._annotationRuler=null,this._lineNumberRuler=null,this._overviewRuler=null,this._zoomRuler=null,this._foldingRuler=null,this._contentAssist=null}var l=i.AnnotationType;return s.prototype={destroy:function(){this.uninstall(),this._statusReporter=this._domNode=null,this._model&&this._model.removeEventListener(\"Changed\",this._listener.onChanged)},checkDirty:function(){this.setDirty(this._undoStack&&!this._undoStack.isClean())},focus:function(){},getModel:function(){return this._model},getText:function(e,t){return this.getModel().getText(e,t)},getTitle:function(){return this._title},getUndoStack:function(){return this._undoStack},install:function(){this.installed=!0},isDirty:function(){return this._undoStack?!this._undoStack.isClean():this._dirty},markClean:function(){this.getUndoStack().markClean(),this.setDirty(!1)},onDirtyChanged:function(e){return this.dispatchEvent(e)},onInputChanged:function(e){return this.dispatchEvent(e)},onChanged:function(e){this.checkDirty()},reportStatus:function(e,t,n){this._statusReporter&&this._statusReporter(e,t,n)},resize:function(){},setDirty:function(e){this._dirty!==e&&(this._dirty=e,this.onDirtyChanged({type:\"DirtyChanged\"}))},_setModelText:function(e){this._model&&this._model.setText(e)},setInput:function(e,t,n,i){this._title=e,i||(t?this.reportStatus(t,\"error\"):null!==n&&void 0!==n&&(\"string\"==typeof n&&this._setModelText(n),this._undoStack&&this._undoStack.reset())),this.checkDirty(),this.onInputChanged({type:\"InputChanged\",title:e,message:t,contents:n,contentsSaved:i})},setText:function(e,t,n){this.getModel().setText(e,t,n)},uninstall:function(){this.installed=!1}},t.EventTarget.addMixin(s.prototype),a.prototype=new s,r.mixin(a.prototype,{destroy:function(){s.prototype.destroy.call(this),this._textViewFactory=this._undoStackFactory=this._textDNDFactory=this._annotationFactory=this._foldingRulerFactory=this._lineNumberRulerFactory=this._contentAssistFactory=this._keyBindingFactory=this._hoverFactory=this._zoomRulerFactory=null},getAnnotationModel:function(){return this._annotationModel},getAnnotationRuler:function(){return this._annotationRuler},getAnnotationRulerVisible:function(){return this._annotationRulerVisible},getAnnotationStyler:function(){return this._annotationStyler},getContentAssist:function(){return this._contentAssist},getFoldingRuler:function(){return this._foldingRuler},getFoldingRulerVisible:function(){return this._foldingRulerVisible},getLineNumberRuler:function(){return this._lineNumberRuler},getLineNumberRulerVisible:function(){return this._lineNumberRulerVisible},getTooltip:function(){return n.Tooltip.getTooltip(this._textView,this)},getZoomRuler:function(){return this._zoomRuler},getZoomRulerVisible:function(){return this._zoomRulerVisible},getModel:function(){if(!this._textView)return null;var e=this._textView.getModel();return e.getBaseModel&&(e=e.getBaseModel()),e},getOverviewRuler:function(){return this._overviewRuler},getTextView:function(){return this._textView},getKeyModes:function(){return this._textView.getKeyModes()},getSourceCodeActions:function(){return this._sourceCodeActions},getLinkedMode:function(){return this._linkedMode},getTextActions:function(){return this._textActions},focus:function(){this._textView&&this._textView.focus()},resize:function(){this._textView&&this._textView.resize()},setAnnotationRulerVisible:function(e,t){if((this._annotationRulerVisible!==e||t)&&(this._annotationRulerVisible=e,this._annotationRuler)){var n=this._textView;e?n.addRuler(this._annotationRuler,0):n.removeRuler(this._annotationRuler)}},setFoldingRulerVisible:function(e,t){if(this._foldingRulerVisible!==e||t){if(!e){var n=this.getTextActions();n&&n.expandAnnotations(!0)}if(this._foldingRulerVisible=e,this._foldingRuler){var i=this._textView;i.getModel().getBaseModel&&(e?i.addRuler(this._foldingRuler):i.removeRuler(this._foldingRuler))}}},setLineNumberRulerVisible:function(e,t){if((this._lineNumberRulerVisible!==e||t)&&(this._lineNumberRulerVisible=e,this._lineNumberRuler)){var n=this._textView;e?n.addRuler(this._lineNumberRuler,this._annotationRulerVisible?1:0):n.removeRuler(this._lineNumberRuler)}},setOverviewRulerVisible:function(e,t){if((this._overviewRulerVisible!==e||t)&&(this._overviewRulerVisible=e,this._overviewRuler)){var n=this._textView;e?n.addRuler(this._overviewRuler):n.removeRuler(this._overviewRuler)}},setZoomRulerVisible:function(e,t){if((this._zoomRulerVisible!==e||t)&&(this._zoomRulerVisible=e,this._zoomRuler)){var n=this._textView;e?n.addRuler(this._zoomRuler):n.removeRuler(this._zoomRuler)}},mapOffset:function(e,t){var n=this._textView,i=n.getModel();return i.getBaseModel&&(e=i.mapOffset(e,t)),e},getLineAtOffset:function(e){return this.getModel().getLineAtOffset(this.mapOffset(e))},getLineStart:function(e){return this.getModel().getLineStart(e)},getCaretOffset:function(){return this.mapOffset(this._textView.getCaretOffset())},getSelectionText:function(e){return this._textView.getSelectionText(e)},getSelection:function(){var e=this._textView,t=e.getSelection(),n=e.getModel();return n.getBaseModel&&(t.start=n.mapOffset(t.start),t.end=n.mapOffset(t.end)),t},getSelections:function(){var e=this._textView,t=e.getModel(),n=e.getSelections();return n.forEach(function(e){t.getBaseModel&&(e.start=t.mapOffset(e.start),e.end=t.mapOffset(e.end))}),n},getStyleAccessor:function(){var e=null;if(this._syntaxHighlighter){var t=this._syntaxHighlighter.getStyler();t&&t.getStyleAccessor&&(e=t.getStyleAccessor())}return e},_expandOffset:function(e){var t=this._textView.getModel(),n=this._annotationModel;if(n&&t.getBaseModel)for(var i=n.getAnnotations(e,e+1);i.hasNext();){var r=i.next();r.type===l.ANNOTATION_FOLDING&&r.expand&&r.expand()}},setCaretOffset:function(e,t,n){var i=this._textView,r=i.getModel();r.getBaseModel&&(this._expandOffset(e),e=r.mapOffset(e,!0)),i.setCaretOffset(e,t,n)},setText:function(e,t,n,i,r){var o=this._textView,s=o.getModel();s.getBaseModel&&(void 0!==t&&(this._expandOffset(t),t=s.mapOffset(t,!0)),void 0!==n&&(this._expandOffset(n),n=s.mapOffset(n,!0))),o.setText(e,t,n,i,r)},setSelection:function(e,t,n,i){var r=this._textView,o=r.getModel();o.getBaseModel&&(this._expandOffset(e),this._expandOffset(t),e=o.mapOffset(e,!0),t=o.mapOffset(t,!0)),r.setSelection(e,t,n,i)},setSelections:function(e,t,n){var i=this,r=this._textView,o=r.getModel();e.forEach(function(e){var t=e.start,n=e.end;o.getBaseModel&&(i._expandOffset(t),i._expandOffset(n),t=o.mapOffset(t,!0),n=o.mapOffset(n,!0)),e.start=t,e.end=n}),r.setSelections(e,t,n)},moveSelection:function(e,t,n,i){t=t||e;var r=this._textView;this.setSelection(e,t,1/3,function(){(void 0===i||i)&&r.focus(),n&&n()})},_getTooltipInfo:function(e,t){var n=this._textView,i=this.getAnnotationModel();if(!i)return null;var r=this._annotationStyler;if(!r)return null;if(!n.isValidTextPosition(e,t))return null;var o=n.getOffsetAtLocation(e,t);if(-1===o)return null;o=this.mapOffset(o);for(var s=r.getAnnotationsByType(i,o,o+1),a=[],l=0;l<s.length;l++)s[l].rangeStyle&&a.push(s[l]);return{contents:a,position:\"below\",context:{source:\"editor\",offset:o}}},_highlightCurrentLine:function(e,t){function n(e){var t={};return e&&e.some(function(e){return!e||!e.isEmpty()||(t[s.getLineAtOffset(e.start).toString()]=!0,!1)})?{}:t}function i(e,t){for(var n in e)if(!t[n])return!0;return!1}var r=this._annotationModel;if(r){var o=this._textView;if(!o.getOptions(\"singleMode\")){t=Array.isArray(t)?t:[t],e=Array.isArray(e)?e:[e];var s=o.getModel(),a=n(t),d=n(e);if(i(a,d)||i(d,a)){var c=this._currentLineAnnotations,h=[];for(var u in d){var f=u>>0,p=s.getLineStart(f),g=s.getLineEnd(f);s.getBaseModel&&(p=s.mapOffset(p),g=s.mapOffset(g));var v=l.ANNOTATION_CURRENT_LINE,m=l.createAnnotation(v,p,g);h.push(m)}this._currentLineAnnotations=h,r.replaceAnnotations(c,h)}}}},installTextView:function(){this.install()},install:function(){if(!this._textView){this._textView=this._textViewFactory(),this._undoStackFactory&&(this._undoStack=this._undoStackFactory.createUndoStack(this),this._textView.setOptions({undoStack:this._undoStack}),this.checkDirty()),this._textDNDFactory&&(this._textDND=this._textDNDFactory.createTextDND(this,this._undoStack));var e=n.Tooltip.getTooltip(this._textView,this),t=this,i=this._textView,r=this;if(this._listener={onModelChanged:function(e){r.checkDirty()},onMouseOver:function(e){r._listener.onMouseMove(e)},onMouseDown:function(e){r._listener.mouseDown=!0},onMouseUp:function(e){r._listener.mouseDown=!1},onMouseMove:function(t){e&&!r._listener.mouseDown&&(t.event.clientX===r._listener.lastMouseX&&t.event.clientY===r._listener.lastMouseY||(r._listener.lastMouseX=t.event.clientX,r._listener.lastMouseY=t.event.clientY,r._hoverTimeout&&(window.clearTimeout(r._hoverTimeout),r._hoverTimeout=null),r._hoverTimeout=window.setTimeout(function(){r._hoverTimeout=null,r._listener&&e.onHover({y:t.y,x:t.x,getTooltipInfo:function(){return r._getTooltipInfo(this.x,this.y)}},t.x,t.y)},175)))},onMouseOut:function(e){r._hoverTimeout&&(window.clearTimeout(r._hoverTimeout),r._hoverTimeout=null)},onSelection:function(t){e&&e.hide(),r._updateCursorStatus(),r._highlightCurrentLine(t.newValue,t.oldValue)}},i.addEventListener(\"ModelChanged\",this._listener.onModelChanged),i.addEventListener(\"Selection\",this._listener.onSelection),i.addEventListener(\"MouseOver\",this._listener.onMouseOver),i.addEventListener(\"MouseOut\",this._listener.onMouseOut),i.addEventListener(\"MouseDown\",this._listener.onMouseDown),i.addEventListener(\"MouseUp\",this._listener.onMouseUp),i.addEventListener(\"MouseMove\",this._listener.onMouseMove),this._keyBindingFactory){var o;o=\"function\"==typeof this._keyBindingFactory?this._keyBindingFactory(this,this.getKeyModes(),this._undoStack,this._contentAssist):this._keyBindingFactory.createKeyBindings(t,this._undoStack,this._contentAssist),o&&(this._textActions=o.textActions,this._linkedMode=o.linkedMode,this._sourceCodeActions=o.sourceCodeActions)}var a=function(e,n){if(void 0!==e&&-1!==e){for(var i=this.getView(),r=i.getModel(),o=this.getAnnotationModel(),s=t.mapOffset(r.getLineStart(e)),a=t.mapOffset(r.getLineEnd(e)),d=o.getAnnotations(s,a),c=null;d.hasNext();){var h=d.next();if(h.type===l.ANNOTATION_BOOKMARK){c=h;break}}c?o.removeAnnotation(c):(c=l.createAnnotation(l.ANNOTATION_BOOKMARK,s,a,t.getText(s,a)),o.addAnnotation(c))}};if(this._annotationFactory){var d=i.getModel();if(d.getBaseModel&&(d=d.getBaseModel()),this._annotationModel=this._annotationFactory.createAnnotationModel(d),this._annotationModel){var c=this._annotationStyler=this._annotationFactory.createAnnotationStyler(i,this._annotationModel);c&&(c.addAnnotationType(l.ANNOTATION_CURRENT_SEARCH),c.addAnnotationType(l.ANNOTATION_MATCHING_SEARCH),c.addAnnotationType(l.ANNOTATION_ERROR),c.addAnnotationType(l.ANNOTATION_WARNING),c.addAnnotationType(l.ANNOTATION_MATCHING_BRACKET),c.addAnnotationType(l.ANNOTATION_CURRENT_BRACKET),c.addAnnotationType(l.ANNOTATION_CURRENT_LINE),c.addAnnotationType(l.ANNOTATION_READ_OCCURRENCE),c.addAnnotationType(l.ANNOTATION_WRITE_OCCURRENCE),c.addAnnotationType(l.ANNOTATION_SELECTED_LINKED_GROUP),c.addAnnotationType(l.ANNOTATION_CURRENT_LINKED_GROUP),c.addAnnotationType(l.ANNOTATION_LINKED_GROUP),c.addAnnotationType(\"orion.annotation.highlightError\"))}var h=this._annotationFactory.createAnnotationRulers(this._annotationModel),u=this._annotationRuler=h.annotationRuler;u&&(u.onDblClick=a,u.setMultiAnnotationOverlay({html:\"<div class='annotationHTML overlay'></div>\"}),u.addAnnotationType(l.ANNOTATION_ERROR),u.addAnnotationType(l.ANNOTATION_WARNING),u.addAnnotationType(l.ANNOTATION_TASK),u.addAnnotationType(l.ANNOTATION_BOOKMARK),u.addAnnotationType(l.ANNOTATION_DIFF_ADDED),u.addAnnotationType(l.ANNOTATION_DIFF_DELETED),u.addAnnotationType(l.ANNOTATION_DIFF_MODIFIED)),this.setAnnotationRulerVisible(this._annotationRulerVisible||void 0===this._annotationRulerVisible,!0),u=this._overviewRuler=h.overviewRuler,u&&(u.addAnnotationType(l.ANNOTATION_CURRENT_SEARCH),u.addAnnotationType(l.ANNOTATION_MATCHING_SEARCH),u.addAnnotationType(l.ANNOTATION_READ_OCCURRENCE),u.addAnnotationType(l.ANNOTATION_WRITE_OCCURRENCE),u.addAnnotationType(l.ANNOTATION_CURRENT_BLAME),u.addAnnotationType(l.ANNOTATION_ERROR),u.addAnnotationType(l.ANNOTATION_WARNING),u.addAnnotationType(l.ANNOTATION_TASK),u.addAnnotationType(l.ANNOTATION_BOOKMARK),u.addAnnotationType(l.ANNOTATION_MATCHING_BRACKET),u.addAnnotationType(l.ANNOTATION_CURRENT_BRACKET),u.addAnnotationType(l.ANNOTATION_CURRENT_LINE),u.addAnnotationType(l.ANNOTATION_DIFF_ADDED),u.addAnnotationType(l.ANNOTATION_DIFF_DELETED),u.addAnnotationType(l.ANNOTATION_DIFF_MODIFIED)),this.setOverviewRulerVisible(this._overviewRulerVisible||void 0===this._overviewRulerVisible,!0)}this._zoomRulerFactory&&(this._zoomRuler=this._zoomRulerFactory.createZoomRuler(this._annotationModel),this.setZoomRulerVisible(this._zoomRulerVisible,!0)),this._lineNumberRulerFactory&&(this._lineNumberRuler=this._lineNumberRulerFactory.createLineNumberRuler(this._annotationModel),this._lineNumberRuler.addAnnotationType(l.ANNOTATION_CURRENT_BLAME),this._lineNumberRuler.addAnnotationType(l.ANNOTATION_BLAME),this._lineNumberRuler.addAnnotationType(l.ANNOTATION_DIFF_ADDED),this._lineNumberRuler.addAnnotationType(l.ANNOTATION_DIFF_MODIFIED),this._lineNumberRuler.addAnnotationType(l.ANNOTATION_DIFF_DELETED),this._lineNumberRuler.onDblClick=a,this.setLineNumberRulerVisible(this._lineNumberRulerVisible||void 0===this._lineNumberRulerVisible,!0)),this._foldingRulerFactory&&(this._foldingRuler=this._foldingRulerFactory.createFoldingRuler(this._annotationModel),this._foldingRuler.addAnnotationType(l.ANNOTATION_FOLDING),this.setFoldingRulerVisible(this._foldingRulerVisible||void 0===this._foldingRulerVisible,!0));var f={type:\"TextViewInstalled\",textView:i};this.dispatchEvent(f),s.prototype.install.call(this)}},uninstallTextView:function(){this.uninstall()},uninstall:function(){var e=this._textView;if(e){e.destroy(),this._annotationModel&&this._annotationModel.setTextModel(null),this._textView=this._undoStack=this._textDND=this._contentAssist=this._listener=this._annotationModel=this._annotationStyler=this._annotationRuler=this._overviewRuler=this._zoomRuler=this._lineNumberRuler=this._foldingRuler=this._currentLineAnnotations=this._title=null,this._dirty=!1,this._foldingRulerVisible=this._overviewRulerVisible=this._zoomRulerVisible=this._lineNumberRulerVisible=this._annotationRulerVisible=void 0;var t={type:\"TextViewUninstalled\",textView:e};this.dispatchEvent(t),s.prototype.uninstall.call(this)}},_updateCursorStatus:function(){for(var t=this.getKeyModes(),n=0;n<t.length;n++){var i=t[n];if(i.isActive()&&i.isStatusActive&&i.isStatusActive())return}var r,s=this.getModel(),a=this.getSelections();if(a.length>1)r=o.formatMessage(e.multiSelections,a.length);else{var l=a[0].getCaret(),d=s.getLineAtOffset(l),c=s.getLineStart(d),h=l-c;r=localStorage&&localStorage.languageTools?o.formatMessage(e.lineColumnOffset,d+1,h+1,l):o.formatMessage(e.lineColumn,d+1,h+1)}this.reportStatus(r)},showAnnotations:function(e,t,n,i){var r=this._annotationModel;if(r){for(var o,s=[],a=[],d=r.getTextModel(),c=r.getAnnotations();c.hasNext();)o=c.next(),-1!==t.indexOf(o.type)&&o.creatorID===this&&s.push(o);if(e)for(var h=0;h<e.length;h++)if(o=e[h]){if(n)o=n(o);else{var u,f;if(o.lineStart&&o.lineEnd)u=d.getLineStart(o.lineStart),f=d.getLineCount()===o.lineEnd?d.getLineEnd(o.lineEnd-1):d.getLineStart(o.lineEnd);else if(\"number\"==typeof o.line){var p=o.line-1,g=d.getLineStart(p)\n;u=g+o.start-1,f=g+o.end-1}else u=o.start,f=o.end;var v=i(o);if(!v)continue;o=l.createAnnotation(v,u,f,o.description)}o.id=e[h].id,e[h].data&&(o.data=e[h].data),o.creatorID=this,a.push(o)}r.replaceAnnotations(s,a)}},showProblems:function(e){this.showAnnotations(e,[l.ANNOTATION_ERROR,l.ANNOTATION_WARNING,l.ANNOTATION_TASK],null,function(e){switch(e.severity){case\"error\":return l.ANNOTATION_ERROR;case\"warning\":return l.ANNOTATION_WARNING;case\"task\":return l.ANNOTATION_TASK}return null})},showOccurrences:function(e){this.showAnnotations(e,[l.ANNOTATION_READ_OCCURRENCE,l.ANNOTATION_WRITE_OCCURRENCE],null,function(e){return e.readAccess?l.ANNOTATION_READ_OCCURRENCE:l.ANNOTATION_WRITE_OCCURRENCE})},showBlame:function(t){var n=this._blameRGB,s=this.getTextView().getOptions(\"parent\").ownerDocument;if(!n){var a=o.createElement(s,\"div\");a.className=\"annotation blame\",s.body.appendChild(a);var d=s.defaultView||s.parentWindow,c=d.getComputedStyle(a),h=c.getPropertyValue(\"background-color\");a.parentNode.removeChild(a);var u=h.indexOf(\"(\"),f=h.indexOf(\")\");h=h.substring(u+1,f),this._blameRGB=n=h.split(\",\").slice(0,3)}var p=function(){var e=i.AnnotationType.createAnnotation(this.groupType,this.start,this.end,this.title);return e.style=r.mixin({},e.style),e.style.style=r.mixin({},e.style.style),e.style.style.backgroundColor=\"\",this.groupAnnotation=e,e.blame=this.blame,e.html=this.html,e.creatorID=this.creatorID,e},g=function(){var t=o.createElement(s,\"div\");t.className=\"tooltipTitle\";var n=this.blame.Message.indexOf(\"\\n\");-1===n&&(n=this.blame.Message.length);var i=o.createElement(s,\"a\");return i.href=this.blame.CommitLink,i.appendChild(s.createTextNode(this.blame.Message.substring(0,n))),t.appendChild(i),t.appendChild(o.createElement(s,\"br\")),t.appendChild(s.createTextNode(o.formatMessage(e.committerOnTime,this.blame.AuthorName,this.blame.Time))),t},v=this.getModel();this.showAnnotations(t,[l.ANNOTATION_BLAME,l.ANNOTATION_CURRENT_BLAME],function(e){var t=v.getLineStart(e.Start-1),o=v.getLineEnd(e.End-1,!0),s=i.AnnotationType.createAnnotation(l.ANNOTATION_BLAME,t,o,g),a=n.slice(0);return a.push(e.Shade),s.style=r.mixin({},s.style),s.style.style=r.mixin({},s.style.style),s.style.style.backgroundColor=\"rgba(\"+a.join()+\")\",s.groupId=e.Name,s.groupType=l.ANNOTATION_CURRENT_BLAME,s.createGroupAnnotation=p,s.html='<img class=\"annotationHTML blame\" src=\"'+e.AuthorImage+'\"/>',s.blame=e,s})},showDiffAnnotations:function(e){this.showAnnotations(e,[l.ANNOTATION_DIFF_ADDED,l.ANNOTATION_DIFF_MODIFIED,l.ANNOTATION_DIFF_DELETED],null,function(e){return\"added\"===e.type?l.ANNOTATION_DIFF_ADDED:\"modified\"===e.type?l.ANNOTATION_DIFF_MODIFIED:l.ANNOTATION_DIFF_DELETED})},showSelection:function(e,t,n,i,r){if(\"number\"==typeof e)return\"number\"!=typeof t&&(t=e),this.moveSelection(e,t),!0;if(\"number\"==typeof n){var o=this.getModel(),s=o.getLineStart(n-1);return\"number\"==typeof i&&(s+=i),\"number\"!=typeof r&&(r=0),this.moveSelection(s,s+r),!0}return!1},_setModelText:function(e){this._textView&&(this._textView.setText(e),this._textView.getModel().setLineDelimiter(\"auto\"),this._highlightCurrentLine(this._textView.getSelections()))},setInput:function(e,t,n,i,r){s.prototype.setInput.call(this,e,t,n,i),this._textView},onGotoLine:function(e,t,n,i){if(this._textView){var r=this.getModel();e=Math.max(0,Math.min(e,r.getLineCount()-1));var o=r.getLineStart(e),s=0;if(void 0===n&&(n=0),\"string\"==typeof t){var a=r.getLine(e).indexOf(t);-1!==a&&(s=a,n=s+t.length)}else{s=t;var l=r.getLineEnd(e)-o;s=Math.min(s,l),n=Math.min(n,l)}this.moveSelection(o+s,o+n,i)}}}),{BaseEditor:s,Editor:a}}),n(\"orion/editor/find\",[\"i18n!orion/editor/nls/messages\",\"orion/keyBinding\",\"orion/editor/keyModes\",\"orion/editor/annotations\",\"orion/regex\",\"orion/objects\",\"orion/Deferred\",\"orion/util\"],function(e,t,n,i,r,o,s,a){function l(e){var t=e.getTextView();n.KeyMode.call(this,t),this.editor=e,this._active=!1,this._success=!0,this._ignoreSelection=!1,this._prefix=\"\",t.setAction(\"incrementalFindCancel\",function(){return this.setActive(!1),!0}.bind(this)),t.setAction(\"incrementalFindBackspace\",function(){return this._backspace()}.bind(this));var i=this;this._listener={onVerify:function(e){var t=i.editor,n=t.getModel(),o=t.mapOffset(e.start),s=t.mapOffset(e.end),a=n.getText(o,s),l=i._prefix,d=l.match(new RegExp(\"^\"+r.escape(a),\"i\"));d&&d.length>0&&(l=i._prefix+=e.text,i._success=!0,i._status(),i.find(i._forward,!0),e.text=null)},onSelection:function(){i._ignoreSelection||i.setActive(!1)}}}function d(e,t,n){if(e){this._editor=e,this._undoStack=t,this._showAll=!0,this._visible=!1,this._caseInsensitive=!0,this._wrap=!0,this._wholeWord=!1,this._incremental=!0,this._regex=!1,this._findAfterReplace=!0,this._hideAfterFind=!1,this._reverse=!1,this._start=void 0,this._end=void 0,this._timer=void 0,this._lastString=\"\";var i=this;this._listeners={onEditorFocus:function(e){i._removeCurrentAnnotation(e)}},this.setOptions(n)}}var c={};return l.prototype=new n.KeyMode,o.mixin(l.prototype,{createKeyBindings:function(){var e=t.KeyBinding,n=[];return n.push({actionID:\"incrementalFindBackspace\",keyBinding:new e(8)}),n.push({actionID:\"incrementalFindCancel\",keyBinding:new e(13)}),n.push({actionID:\"incrementalFindCancel\",keyBinding:new e(27)}),n.push({actionID:\"incrementalFindReverse\",keyBinding:new e(38)}),n.push({actionID:\"incrementalFind\",keyBinding:new e(40)}),n.push({actionID:\"incrementalFindReverse\",keyBinding:new e(\"k\",!0,!0)}),n.push({actionID:\"incrementalFind\",keyBinding:new e(\"k\",!0)}),n},find:function(e,t){if(this._forward=e,!this.isActive())return this.setActive(!0),!1;var n=this._prefix;if(0===n.length)return!1;var i,r=this.editor,o=r.getModel();return i=e?this._success?t?this._start:r.getCaretOffset()+1:0:this._success?t?this._start:r.getCaretOffset():o.getCharCount()-1,s.when(r.getModel().find({string:n,start:i,reverse:!e,caseInsensitive:n.toLowerCase()===n}),function(n){var o=n.next();o?(t||(this._start=i),this._success=!0,this._ignoreSelection=!0,r.moveSelection(e?o.start:o.end,e?o.end:o.start),this._ignoreSelection=!1):this._success=!1,this._status()}.bind(this)),!0},isActive:function(){return this._active},isStatusActive:function(){return this.isActive()},setActive:function(e){if(this._active!==e){this._active=e,this._prefix=\"\",this._success=!0;var t=this.editor,n=t.getTextView();this._start=this.editor.getCaretOffset(),this.editor.setCaretOffset(this._start),this._active?(n.addEventListener(\"Verify\",this._listener.onVerify),n.addEventListener(\"Selection\",this._listener.onSelection),n.addKeyMode(this)):(n.removeEventListener(\"Verify\",this._listener.onVerify),n.removeEventListener(\"Selection\",this._listener.onSelection),n.removeKeyMode(this)),this._status()}},_backspace:function(){var e=this._prefix;return e=this._prefix=e.substring(0,e.length-1),0===e.length?(this._success=!0,this._ignoreSelection=!0,this.editor.setCaretOffset(this.editor.getSelection().start),this._ignoreSelection=!1,this._status(),!0):this.find(this._forward,!0)},_status:function(){if(!this.isActive())return void this.editor.reportStatus(\"\");var t;t=this._forward?this._success?e.incrementalFindStr:e.incrementalFindStrNotFound:this._success?e.incrementalFindReverseStr:e.incrementalFindReverseStrNotFound,t=a.formatMessage(t,this._prefix),this.editor.reportStatus(t,this._success?\"\":\"error\")}}),c.IncrementalFind=l,d.prototype={find:function(e,t,n){this.setOptions({reverse:!e});var i,r=this.getFindString();t&&(r=t.findString||r,i=t.count);var o=this.getOptions();this.setOptions(t);var s=n?this._startOffset:this.getStartOffset();return this._doFind(r,s,i).then(function(e){return e&&(n||(this._startOffset=e.start)),this.setOptions(o),this._hideAfterFind&&this.hide(),e}.bind(this))},getStartOffset:function(){return void 0!==this._start?this._start:this._reverse?this._editor.getSelection().start-1:this._editor.getCaretOffset()},getFindString:function(){var e=this._editor.getSelection(),t=this._editor.getText(e.start,e.end);return this._regex&&(t=r.escape(t)),t||this._lastString},getOptions:function(){return{showAll:this._showAll,caseInsensitive:this._caseInsensitive,wrap:this._wrap,wholeWord:this._wholeWord,incremental:this._incremental,regex:this._regex,findAfterReplace:this._findAfterReplace,hideAfterFind:this._hideAfterFind,reverse:this._reverse,findCallback:this._findCallback,start:this._start,end:this._end}},getReplaceString:function(){return\"\"},hide:function(){this._visible=!1,this._savedOptions&&(this.setOptions(this._savedOptions.pop()),0===this._savedOptions.length&&(this._savedOptions=null)),this._removeAllAnnotations();var e=this._editor.getTextView();e&&(e.removeEventListener(\"Focus\",this._listeners.onEditorFocus),e.focus())},_processReplaceString:function(e){var t=e;if(this._regex){t=\"\";for(var n=!1,i=this._editor.getModel().getLineDelimiter(),r=0;r<e.length;r++){var o=e.substring(r,r+1);if(n){switch(o){case\"R\":t+=i;break;case\"r\":t+=\"\\r\";break;case\"n\":t+=\"\\n\";break;case\"t\":t+=\"\\t\";break;case\"\\\\\":t+=\"\\\\\";break;default:t+=\"\\\\\"+o}n=!1}else\"\\\\\"===o?n=!0:t+=o}n&&(t+=\"\\\\\")}return t},isVisible:function(){return this._visible},replace:function(){var e=this.getFindString();if(e){var t=this._editor,n=this._processReplaceString(this.getReplaceString()),i=t.getSelection(),r=i.start;s.when(this._editor.getModel().find({string:e,start:r,reverse:!1,wrap:this._wrap,regex:this._regex,wholeWord:this._wholeWord,caseInsensitive:this._caseInsensitive})).then(function(t){if(t){var i=t.next();i&&(this.startUndo(),this._doReplace(i.start,i.end,e,n),this.endUndo()),this._findAfterReplace&&this._doFind(e,this.getStartOffset())}}.bind(this))}},replaceAll:function(){var t=this.getFindString();if(t){this._replacingAll=!0;var n=this._editor,i=n.getTextView();n.reportStatus(e.replacingAll);var r=this._processReplaceString(this.getReplaceString()),o=this;window.setTimeout(function(){for(var s=0,l=0;;){var d=o._doFindForReplaceAll(t,s,null,!0);if(!d)break;l++,1===l&&(i.setRedraw(!1),o.startUndo()),o._doReplace(d.start,d.end,t,r),s=o.getStartOffset()}l>0&&(o.endUndo(),i.setRedraw(!0)),s>0?n.reportStatus(a.formatMessage(e.replacedMatches,l)):n.reportStatus(e.nothingReplaced,\"error\"),o._replacingAll=!1},100)}},setOptions:function(e){if(e){if((!0===e.showAll||!1===e.showAll)&&this._showAll!==e.showAll&&(this._showAll=e.showAll,this.isVisible()))if(this._showAll)this._markAllOccurrences();else{var t=this._editor.getAnnotationModel();t&&t.removeAnnotations(i.AnnotationType.ANNOTATION_MATCHING_SEARCH)}!0!==e.caseInsensitive&&!1!==e.caseInsensitive||(this._caseInsensitive=e.caseInsensitive),!0!==e.wrap&&!1!==e.wrap||(this._wrap=e.wrap),!0!==e.wholeWord&&!1!==e.wholeWord||(this._wholeWord=e.wholeWord),!0!==e.incremental&&!1!==e.incremental&&\"disabled\"!==e.incremental||(\"disabled\"===e.incremental?(this._incremental=!1,this._incrementalDisabled=!0):this._incremental=e.incremental),!0!==e.regex&&!1!==e.regex||(this._regex=e.regex),!0!==e.findAfterReplace&&!1!==e.findAfterReplace||(this._findAfterReplace=e.findAfterReplace),!0!==e.hideAfterFind&&!1!==e.hideAfterFind||(this._hideAfterFind=e.hideAfterFind),!0!==e.reverse&&!1!==e.reverse||(this._reverse=e.reverse),e.hasOwnProperty(\"findCallback\")&&(this._findCallback=e.findCallback),e.hasOwnProperty(\"start\")&&(this._start=e.start),e.hasOwnProperty(\"end\")&&(this._end=e.end)}},show:function(e){this._visible=!0,e&&(this._savedOptions||(this._savedOptions=[]),this._savedOptions.push(this.getOptions()),this.setOptions(e)),this._startOffset=this._editor.getSelection().start,this._editor.getTextView().addEventListener(\"Focus\",this._listeners.onEditorFocus);var t=this;window.setTimeout(function(){t._incremental&&t.find(!0,null,!0)},0)},startUndo:function(){this._undoStack&&this._undoStack.startCompoundChange()},endUndo:function(){this._undoStack&&this._undoStack.endCompoundChange()},_findFromModel:function(e,t,n){return this._editor.getModel().find({string:e,start:t,end:this._end,reverse:this._reverse,wrap:!n&&this._wrap,regex:this._regex,wholeWord:this._wholeWord,caseInsensitive:this._caseInsensitive})},_find:function(e,t,n,i){var r;if(this._regex)try{r=this._findFromModel(t,n,i)}catch(t){return e.reportStatus(t.message,\"error\"),null}else r=this._findFromModel(t,n,i);return r},_doFindForReplaceAll:function(e,t,n,i){n=n||1;var r=this._editor;if(!e)return this._removeAllAnnotations(),null;this._lastString=e;var o,s;if(!(s=this._find(r,e,t,i)))return null;if(!s.hasNext||!s.next)return null;for(var a=0;a<n&&s.hasNext();a++)o=s.next();return o},_doFind:function(t,n,r,o){r=r||1;var a=this._editor;if(!t)return this._removeAllAnnotations(),(new s).resolve();this._lastString=t;var l;return s.when(this._find(a,t,n,o)).then(function(t){if(t){for(var n=0;n<r&&t.hasNext();n++)l=t.next();if(!this._replacingAll){if(l?this._editor.reportStatus(\"\"):this._editor.reportStatus(e.notFound,\"error\"),this.isVisible()){var o=i.AnnotationType.ANNOTATION_CURRENT_SEARCH,s=a.getAnnotationModel();if(s&&(s.removeAnnotations(o),l&&s.addAnnotation(i.AnnotationType.createAnnotation(o,l.start,l.end))),this._showAll){this._timer&&window.clearTimeout(this._timer);var d=this;this._timer=window.setTimeout(function(){d._markAllOccurrences(),d._timer=null},500)}}this._findCallback?this._findCallback(l):l&&a.moveSelection(l.start,l.end,null,!1)}return l}}.bind(this))},_doReplace:function(e,t,n,i){var r=this._editor;this._regex&&(i=r.getText(e,t).replace(new RegExp(n,this._caseInsensitive?\"i\":\"\"),i)),r.setText(i,e,t),r.setSelection(e,e+i.length,!0)},_markAllOccurrences:function(){var e=this._editor.getAnnotationModel();if(e){for(var t,n=i.AnnotationType.ANNOTATION_MATCHING_SEARCH,r=e.getAnnotations(),o=[];r.hasNext();){var a=r.next();a.type===n&&o.push(a)}if(this.isVisible()){var l=this.getFindString();s.when(this._editor.getModel().find({string:l,regex:this._regex,wholeWord:this._wholeWord,caseInsensitive:this._caseInsensitive})).then(function(r){if(r){for(t=[];r.hasNext();){var s=r.next();t.push(i.AnnotationType.createAnnotation(n,s.start,s.end))}e.replaceAnnotations(o,t)}}.bind(this))}else e.replaceAnnotations(o,t)}},_removeAllAnnotations:function(){var e=this._editor.getAnnotationModel();e&&(e.removeAnnotations(i.AnnotationType.ANNOTATION_CURRENT_SEARCH),e.removeAnnotations(i.AnnotationType.ANNOTATION_MATCHING_SEARCH))},_removeCurrentAnnotation:function(e){var t=this._editor.getAnnotationModel();t&&t.removeAnnotations(i.AnnotationType.ANNOTATION_CURRENT_SEARCH)}},c.Find=d,c}),n(\"orion/editor/findUI\",[\"i18n!orion/editor/nls/messages\",\"orion/editor/find\",\"orion/objects\",\"orion/editor/util\",\"orion/util\"],function(e,t,n,i,r){function o(e,n,i){t.Find.call(this,e,n,i)}return o.prototype=new t.Find,n.mixin(o.prototype,{getFindString:function(){var e=this._findInput;return e?e.value:t.Find.prototype.getFindString.call(this)},getReplaceString:function(){var e=this._replaceInput;return e?e.value:t.Find.prototype.getReplaceString(this)},hide:function(){var e=this.isVisible();t.Find.prototype.hide.call(this),e&&(this._rootDiv.className=\"textViewFind\")},show:function(e){t.Find.prototype.show.call(this,e);var n=e.findString,i=e.replaceString,r=this._findInput;if(r||(this._create(),r=this._findInput),n&&(r.value=n),i){this._replaceInput.value=i}var o=this;window.setTimeout(function(){o._rootDiv.className=\"textViewFind show\",r.select(),r.focus()},0)},_create:function(){var t=this,n=this._editor.getTextView(),o=n.getOptions(\"parent\"),s=o.ownerDocument,a=r.createElement(s,\"div\");a.className=\"textViewFind\",i.addEventListener(a,\"keydown\",function(e){t._handleKeyDown(e)}),this._rootDiv=a,a.setAttribute(\"role\",\"dialog\"),a.setAttribute(\"aria-label\",e.findReplace),this._createContents(s,a),n._rootDiv.insertBefore(a,n._rootDiv.firstChild)},_createContents:function(t,n){var o=this,s=r.createElement(t,\"input\");s.className=\"textViewFindInput\",this._findInput=s,s.type=\"text\",s.placeholder=e.findWith,i.addEventListener(s,\"input\",function(e){return o._handleInput(e)}),n.appendChild(s);var a=r.createElement(t,\"span\");if(o._createButton(t,a,e.next,function(){o.find(!0)}),o._createButton(t,a,e.previous,function(){o.find(!1)}),n.appendChild(a),!o._editor.getTextView().getOptions(\"readonly\")){var l=r.createElement(t,\"input\");l.className=\"textViewReplaceInput\",this._replaceInput=l,l.type=\"text\",l.placeholder=e.replaceWith,n.appendChild(l),a=r.createElement(t,\"span\"),o._createButton(t,a,e.replace,function(){o.replace()}),o._createButton(t,a,e.replaceAll,function(){o.replaceAll()}),n.appendChild(a)}a=r.createElement(t,\"span\"),o._createButton(t,a,e.regex,function(e){o._toggle(\"regex\",e.target)},this._regex,e.regexTooltip,e.regexTooltip),o._createButton(t,a,e.caseInsensitive,function(e){o._toggle(\"caseInsensitive\",e.target)},this._caseInsensitive,e.caseInsensitiveTooltip,e.caseInsensitiveTooltip),o._createButton(t,a,e.wholeWord,function(e){o._toggle(\"wholeWord\",e.target)},this._wholeWord,e.wholeWordTooltip,e.wholeWordTooltip),n.appendChild(a);var d=o._createButton(t,n,\"\",function(){o.hide()});d.className=\"textViewFindCloseButton\",d.title=e.closeTooltip,r.confineDialogTab(s,d)},_createButton:function(e,t,n,r,o,s,a){var l=e.createElement(\"button\");return l.type=\"button\",this._checked(o,l),s&&(l.title=s),i.addEventListener(l,\"click\",function(e){r.call(this,e)},!1),n&&l.appendChild(e.createTextNode(n)),a&&l.setAttribute(\"aria-label\",a),t.appendChild(l),l},_toggle:function(e,t){var n={};n[e]=!this[\"_\"+e],this.setOptions(n),this._checked(n[e],t)},_checked:function(e,t){t.className=\"textViewFindButton\",e&&(t.className+=\" checked\")},_handleInput:function(){return this._incremental&&this.find(!0,null,!0),!0},_handleKeyDown:function(e){var t,n=(r.isMac?e.metaKey:e.ctrlKey)&&!e.altKey&&!e.shiftKey;return n&&70===e.keyCode&&(t=!0),((r.isMac?e.metaKey:e.ctrlKey)&&!e.altKey&&75===e.keyCode||13===e.keyCode)&&(13===e.keyCode?this.find(this._reverse?e.shiftKey:!e.shiftKey):this.find(!e.shiftKey),t=!0),n&&82===e.keyCode&&(this.replace(),t=!0),27===e.keyCode&&(this.hide(),t=!0),!t||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1)}}),{FindUI:o}}),n(\"orion/editor/actions\",[\"i18n!orion/editor/nls/messages\",\"orion/keyBinding\",\"orion/editor/annotations\",\"orion/editor/tooltip\",\"orion/editor/find\",\"orion/editor/findUI\",\"orion/util\"],function(e,t,n,i,r,o,s){function a(e,t,n,i){function r(e,t,n){if(t===n&&s.getTextView()._overwriteMode){var i=s.getModel(),r=i.getLineAtOffset(n);n<i.getLineEnd(r)&&n++}s.setText(e,t,n),o+=t-n+e.length}var o=0,s=e.editor,a=s.getSelections();!i&&(t||a.length>1)&&e.startUndo(),a.forEach(function(e){e.start+=o,e.end+=o,n(e,r)}),s.setSelections(a),!i&&(t||a.length>1)&&e.endUndo()}function l(e,t,n){this.editor=e,this.undoStack=t,this._incrementalFind=new r.IncrementalFind(e),this._find=n||new o.FindUI(e,t),this._lastEditLocation=null,this.init()}function d(e,t,n,i){this.editor=e,this.undoStack=t,this.contentAssist=n,this.linkedMode=i,this._blockComment={},this.contentAssist&&this.contentAssist.addEventListener(\"ProposalApplied\",this.contentAssistProposalApplied.bind(this)),this.init()}var c=n.AnnotationType,h={};return l.prototype={init:function(){var n=this.editor.getTextView();this._lastEditListener={onModelChanged:function(e){this.editor.isDirty()&&(this._lastEditLocation=e.start+e.addedCharCount)}.bind(this)},n.addEventListener(\"ModelChanged\",this._lastEditListener.onModelChanged),n.setAction(\"undo\",function(e){if(this.undoStack){var t=1;for(e&&e.count&&(t=e.count);t>0;)this.undoStack.undo(),--t;return!0}return!1}.bind(this),{name:e.undo}),n.setAction(\"redo\",function(e){if(this.undoStack){var t=1;for(e&&e.count&&(t=e.count);t>0;)this.undoStack.redo(),--t;return!0}return!1}.bind(this),{name:e.redo}),n.setKeyBinding(new t.KeyBinding(\"f\",!0),\"find\"),n.setAction(\"find\",function(){if(this._find){var e=this.editor.getSelection();return this._find.show({findString:this.editor.getText(e.start,e.end)}),!0}return!1}.bind(this),{name:e.find}),n.setAction(\"tab\",function(){return this.indentLines()}.bind(this)),n.setAction(\"shiftTab\",function(){return this.unindentLines()}.bind(this),{name:e.unindentLines}),n.setKeyBinding(new t.KeyBinding(38,!1,!1,!0),\"moveLinesUp\"),n.setAction(\"moveLinesUp\",function(){return this.moveLinesUp()}.bind(this),{name:e.moveLinesUp}),n.setKeyBinding(new t.KeyBinding(40,!1,!1,!0),\"moveLinesDown\"),n.setAction(\"moveLinesDown\",function(){return this.moveLinesDown()}.bind(this),{name:e.moveLinesDown}),n.setKeyBinding(new t.KeyBinding(38,!0,!1,!0),\"copyLinesUp\"),n.setAction(\"copyLinesUp\",function(){return this.copyLinesUp()}.bind(this),{name:e.copyLinesUp}),n.setKeyBinding(new t.KeyBinding(40,!0,!1,!0),\"copyLinesDown\"),n.setAction(\"copyLinesDown\",function(){return this.copyLinesDown()}.bind(this),{name:e.copyLinesDown}),n.setKeyBinding(new t.KeyBinding(\"d\",!0,!1,!1),\"deleteLines\"),n.setAction(\"deleteLines\",function(e){return this.deleteLines(e)}.bind(this),{name:e.deleteLines})},copyLinesDown:function(){var e=this.editor;if(e.getTextView().getOptions(\"readonly\"))return!1;var t=e.getModel();return a(this,!1,function(e,n){var i=t.getLineAtOffset(e.start),r=t.getLineAtOffset(e.end>e.start?e.end-1:e.end),o=t.getLineStart(i),s=t.getLineEnd(r,!0),a=t.getLineCount(),l=\"\",d=t.getText(o,s);r===a-1&&(d=(l=t.getLineDelimiter())+d);var c=s;n(d,c,c),e.start=c+l.length,e.end=c+d.length}),!0},copyLinesUp:function(){var e=this.editor;if(e.getTextView().getOptions(\"readonly\"))return!1;var t=e.getModel();return a(this,!1,function(e,n){var i=t.getLineAtOffset(e.start),r=t.getLineAtOffset(e.end>e.start?e.end-1:e.end),o=t.getLineStart(i),s=t.getLineEnd(r,!0),a=t.getLineCount(),l=\"\",d=t.getText(o,s);r===a-1&&(d+=l=t.getLineDelimiter());var c=o;n(d,c,c),e.start=c,e.end=c+d.length-l.length}),!0},deleteLines:function(e){var t=this.editor;if(t.getTextView().getOptions(\"readonly\"))return!1;var n=1;e&&e.count&&(n=e.count);var i=t.getModel();return a(this,!1,function(e,t){var r,o=i.getLineAtOffset(e.start),s=i.getLineStart(o);r=e.start!==e.end||1===n?i.getLineAtOffset(e.end>e.start?e.end-1:e.end):Math.min(o+n-1,i.getLineCount()-1),t(\"\",s,i.getLineEnd(r,!0)),e.start=e.end=s}),!0},expandAnnotation:function(e){var t=this.editor;if(!t.getFoldingRulerVisible())return!0;var i=t.getAnnotationModel();if(!i)return!0;var r=t.getModel(),o=t.getCaretOffset(),s=r.getLineAtOffset(o),a=r.getLineStart(s),l=r.getLineEnd(s,!0);r.getBaseModel&&(a=r.mapOffset(a),l=r.mapOffset(l),r=r.getBaseModel());for(var d,c=i.getAnnotations(a,l);!d&&c.hasNext();){var h=c.next();h.type===n.AnnotationType.ANNOTATION_FOLDING&&(d=h)}return d&&e!==d.expanded&&(e?d.expand():(t.setCaretOffset(d.start),d.collapse())),!0},expandAnnotations:function(e){var t=this.editor;if(!t.getFoldingRulerVisible())return!0;var i=t.getTextView(),r=t.getAnnotationModel();if(!r)return!0;var o,s=r.getAnnotations();for(i.setRedraw(!1);s.hasNext();)o=s.next(),o.type===n.AnnotationType.ANNOTATION_FOLDING&&e!==o.expanded&&(e?o.expand():o.collapse());return i.setRedraw(!0),!0},indentLines:function(){var e=this.editor,t=e.getTextView();if(t.getOptions(\"readonly\"))return!1;if(t.getOptions(\"tabMode\")){var n=e.getModel(),i=0,r=e.getSelections();return r.length>1&&this.startUndo(),r.some(function(o){o.start+=i,o.end+=i;var s=n.getLineAtOffset(o.start),a=n.getLineAtOffset(o.end>o.start?o.end-1:o.end);if(!(s!==a||r.length>1))return!0;var l=[];l.push(\"\");for(var d=s;d<=a;d++)l.push(n.getLine(d,!0));var c=n.getLineStart(s),h=n.getLineEnd(a,!0),u=t.getOptions(\"tabSize\",\"expandTab\"),f=u.expandTab?new Array(u.tabSize+1).join(\" \"):\"\\t\",p=l.join(f);e.setText(p,c,h);var g=c===o.start?o.start:o.start+f.length,v=o.end+(a-s+1)*f.length;return i+=c-h+p.length,o.start=g,o.end=v,!1})?!1:(e.setSelections(r),r.length>1&&this.endUndo(),!0)}},gotoLastEdit:function(){return\"number\"==typeof this._lastEditLocation&&this.editor.showSelection(this._lastEditLocation),!0},gotoLine:function(){var t=this.editor,n=t.getModel(),i=n.getLineAtOffset(t.getCaretOffset());return i=prompt(e.gotoLinePrompty,i+1),i&&(i=parseInt(i,10),t.onGotoLine(i-1,0)),!0},moveLinesDown:function(){var e=this.editor;if(e.getTextView().getOptions(\"readonly\"))return!1;var t=e.getModel();return a(this,!0,function(e,n){var i=t.getLineAtOffset(e.start),r=t.getLineAtOffset(e.end>e.start?e.end-1:e.end),o=t.getLineCount();if(r!==o-1){var s,a=t.getLineStart(i),l=t.getLineEnd(r,!0),d=t.getLineEnd(r+1,!0)-(l-a),c=0;if(r!==o-2)s=t.getText(a,l);else{var h=t.getLineEnd(r);s=t.getText(h,l)+t.getText(a,h),c+=l-h}n(\"\",a,l),n(s,d,d),e.start=d+c,e.end=d+c+s.length}}),!0},moveLinesUp:function(){var e=this.editor;if(e.getTextView().getOptions(\"readonly\"))return!1;var t=e.getModel();return a(this,!0,function(e,n){var i=t.getLineAtOffset(e.start);if(0!==i){var r=t.getLineAtOffset(e.end>e.start?e.end-1:e.end),o=t.getLineCount(),s=t.getLineStart(i-1),a=t.getLineStart(i),l=t.getLineEnd(r,!0),d=t.getText(a,l),c=0;if(r===o-1){var h=t.getLineEnd(i-1),u=t.getLineEnd(i-1,!0);d+=t.getText(h,u),a=h,c=u-h}n(\"\",a,l),n(d,s,s),e.start=s,e.end=s+d.length-c}}),!0},nextAnnotation:function(e){function t(e){return!!e.lineStyle||e.type===c.ANNOTATION_MATCHING_BRACKET||e.type===c.ANNOTATION_CURRENT_BRACKET||!o.isAnnotationTypeVisible(e.type)}var n=this.editor,r=n.getAnnotationModel();if(!r)return!0;var o=n.getOverviewRuler()||n.getAnnotationStyler();if(!o)return!0;for(var s=n.getModel(),a=n.getCaretOffset(),l=r.getAnnotations(e?a:0,e?s.getCharCount():a),d=null;l.hasNext();){var h=l.next();if(e){if(h.start<=a)continue}else if(h.start>=a)continue;if(!t(h)&&(d=h,e))break}if(d){var u=[d];for(l=r.getAnnotations(d.start,d.start);l.hasNext();)(h=l.next())===d||t(h)||u.push(h);var f=n.getTextView(),p=i.Tooltip.getTooltip(f,n);if(!p)return n.moveSelection(d.start),!0;n.moveSelection(d.start,d.start,function(){setTimeout(function(){var e=n.getTextView(),t=d.start,i=e.getLocationAtOffset(t);p.show({x:i.x,y:i.y,getTooltipInfo:function(){return n._getTooltipInfo(this.x,this.y)}},!1,!1)},0)})}return!0},unindentLines:function(){var e=this.editor,t=e.getTextView();if(t.getOptions(\"readonly\"))return!1;if(t.getOptions(\"tabMode\")){var n=e.getModel();return a(this,!1,function(e,i){for(var r=n.getLineAtOffset(e.start),o=n.getLineAtOffset(e.end>e.start?e.end-1:e.end),s=t.getOptions(\"tabSize\"),a=new Array(s+1).join(\" \"),l=[],d=0,c=0,h=r;h<=o;h++){var u=n.getLine(h,!0);if(n.getLineStart(h)!==n.getLineEnd(h))if(0===u.indexOf(\"\\t\"))u=u.substring(1),d++;else{if(0!==u.indexOf(a))return!0;u=u.substring(s),d+=s}h===r&&(c=d),l.push(u)}var f=n.getLineStart(r),p=n.getLineEnd(o,!0),g=n.getLineStart(o);i(l.join(\"\"),f,p);var v=f===e.start?e.start:e.start-c,m=Math.max(v,e.end-d+(e.end===g+1&&e.start!==e.end?1:0));e.start=v,e.end=m}),!0}},startUndo:function(){this.undoStack&&this.undoStack.startCompoundChange()},endUndo:function(){this.undoStack&&this.undoStack.endCompoundChange()}},h.TextActions=l,d.prototype={init:function(){var n=this.editor.getTextView();n.setAction(\"lineStart\",function(){return this.lineStart()}.bind(this)),n.setAction(\"enter\",function(){return this.autoIndent()}.bind(this)),n.setKeyBinding(new t.KeyBinding(\"t\",!0,!1,!0),\"trimTrailingWhitespaces\"),n.setAction(\"trimTrailingWhitespaces\",function(){return this.trimTrailingWhitespaces()}.bind(this),{name:e.trimTrailingWhitespaces}),n.setKeyBinding(new t.KeyBinding(191,!0),\"toggleLineComment\"),n.setAction(\"toggleLineComment\",function(){return this.toggleLineComment()}.bind(this),{name:e.toggleLineComment}),n.setKeyBinding(new t.KeyBinding(191,!0,!s.isMac,!1,s.isMac),\"addBlockComment\"),n.setAction(\"addBlockComment\",function(){return this.addBlockComment()}.bind(this),{name:e.addBlockComment}),n.setKeyBinding(new t.KeyBinding(220,!0,!s.isMac,!1,s.isMac),\"removeBlockComment\"),n.setAction(\"removeBlockComment\",function(){return this.removeBlockComment()}.bind(this),{name:e.removeBlockComment}),n.setKeyBinding(new t.KeyBinding(\"[\",!1,!1,!1,!1,\"keypress\"),\"autoPairSquareBracket\"),n.setAction(\"autoPairSquareBracket\",function(){return this.autoPairBrackets(\"[\",\"]\")}.bind(this)),n.setKeyBinding(new t.KeyBinding(\"]\",!1,!1,!1,!1,\"keypress\"),\"skipClosingSquareBracket\"),n.setAction(\"skipClosingSquareBracket\",function(){return this.handleClosingBracket(\"]\")}.bind(this)),n.setKeyBinding(new t.KeyBinding(\"<\",!1,!1,!1,!1,\"keypress\"),\"autoPairAngleBracket\"),n.setAction(\"autoPairAngleBracket\",function(){return this.autoPairBrackets(\"<\",\">\")}.bind(this)),n.setKeyBinding(new t.KeyBinding(\">\",!1,!1,!1,!1,\"keypress\"),\"skipClosingAngleBracket\"),n.setAction(\"skipClosingAngleBracket\",function(){return this.handleClosingBracket(\">\")}.bind(this)),n.setKeyBinding(new t.KeyBinding(\"(\",!1,!1,!1,!1,\"keypress\"),\"autoPairParentheses\"),n.setAction(\"autoPairParentheses\",function(){return this.autoPairBrackets(\"(\",\")\")}.bind(this)),n.setKeyBinding(new t.KeyBinding(\")\",!1,!1,!1,!1,\"keypress\"),\"skipClosingParenthesis\"),n.setAction(\"skipClosingParenthesis\",function(){return this.handleClosingBracket(\")\")}.bind(this)),n.setKeyBinding(new t.KeyBinding(\"{\",!1,!1,!1,!1,\"keypress\"),\"autoPairBraces\"),n.setAction(\"autoPairBraces\",function(){return this.autoPairBrackets(\"{\",\"}\")}.bind(this)),n.setKeyBinding(new t.KeyBinding(\"}\",!1,!1,!1,!1,\"keypress\"),\"skipClosingBrace\"),n.setAction(\"skipClosingBrace\",function(){return this.handleClosingBracket(\"}\")}.bind(this)),n.setKeyBinding(new t.KeyBinding(\"'\",!1,!1,!1,!1,\"keypress\"),\"autoPairSingleQuotation\"),n.setAction(\"autoPairSingleQuotation\",function(){return this.autoPairQuotations(\"'\")}.bind(this)),n.setKeyBinding(new t.KeyBinding('\"',!1,!1,!1,!1,\"keypress\"),\"autoPairDblQuotation\"),n.setAction(\"autoPairDblQuotation\",function(){return this.autoPairQuotations('\"')}.bind(this)),n.setAction(\"deletePrevious\",function(){return this.deletePrevious()}.bind(this))},autoIndent:function(e){function t(t,n){function i(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}if(t.start===t.end){for(var o,a=r.getLineAtOffset(t.start),f=r.getLine(a,!1),p=r.getLineStart(a),g=0,v=t.start-p;g<v&&(32===(o=f.charCodeAt(g))||9===o);)g++;var m,_,y=f.substring(0,g),C=f.substring(0,v),w=f.substring(v);if(u.smartIndentation&&123===f.charCodeAt(_=C.trimRight().length-1)){var x=v-_-1,S=w.length-w.trimLeft().length;return m=125===f.charCodeAt(v+S)?l+y+s+l+y:l+y+s,n(m,t.start-x,t.end+S),t.start=t.end=t.start+l.length+y.length+s.length-x,!0}if(u.autoCompleteComments&&\"/*\"===u._blockComment.start&&\"*/\"===u._blockComment.end&&!h.test(C)&&(d.test(C)||c.test(C))){var b,T=d.exec(C);if(T)return m=l+y+\" * \",h.test(w)?m+=w.substring(0,w.length-2).trim():m+=w.trim(),r.getLineCount()!==a+1&&c.test(r.getLine(a+1))||(m+=l+y+\" */\"),n(m,t.start,t.end+w.length),t.start=t.end=t.start+l.length+y.length+3,!0;if(T=c.exec(C))for(var E=a-1;E>=0;E--){var L=r.getLine(E,!1);if(d.test(L))return h.test(w)||47===f.charCodeAt(v)?(m=l+y+\"*\"+w,b=t.start+l.length+y.length+1):(m=l+y+\"* \"+w,b=t.start+l.length+y.length+2),n(m,t.start,t.end+w.length),t.start=t.end=b,!0;if(!c.test(L))return!1}return!1}if(\"/*\"===u._blockComment.start&&\"*/\"===u._blockComment.end&&h.test(C)&&32===y.charCodeAt(y.length-1))return m=l+y.substring(0,y.length-1),n(m,t.start,t.end),t.start=t.end=t.start+m.length,!0;if(u.autoCompleteComments&&u._blockComment.start&&(\"/*\"!==u._blockComment.start||\"*/\"!==u._blockComment.end)){var k=new RegExp(\"^\\\\s*\"+i(u._blockComment.start)+\"\\\\s*$\"),M=new RegExp(i(u._blockComment.end)+\"\\\\s*$\");if(k.test(C))return m=l+y+s,u.autoPairAngleBrackets&&\"--\\x3e\"===u._blockComment.end&&\">\"===w[0]&&(t.end++,w=w.slice(1)),n(m,t.start,t.end),t.start=t.end=t.start+m.length,M.test(w)||(m=l+y+u._blockComment.end,n(m,t.start+w.length,t.start+w.length)),!0}if(g>0&&e){for(g=v;g<f.length&&(32===(o=f.charCodeAt(g++))||9===o);)t.end++;return m=r.getLineDelimiter()+y,n(m,t.start,t.end),t.start=t.end=t.start+m.length,!0}}return!1}var n=this.editor,i=n.getTextView();if(i.getOptions(\"readonly\"))return!1;if(i.getOptions(\"singleMode\"))return!1;var r=n.getModel(),o=i.getOptions(\"tabSize\",\"expandTab\"),s=o.expandTab?new Array(o.tabSize+1).join(\" \"):\"\\t\",l=r.getLineDelimiter(),d=/^[\\s]*\\/\\*[\\*]*[\\s]*$/,c=/^[\\s]*\\*/,h=/\\*\\/[\\s]*$/,u=this;return a(this,!0,function(e,n){\nt(e,n)||(n(l,e.start,e.end),e.start=e.end=e.start+l.length)}),!0},addBlockComment:function(){var e=this.editor;if(e.getTextView().getOptions(\"readonly\"))return!1;var t=e.getModel(),n=e.getStyleAccessor();return a(this,!1,function(e,i){var r,o;if(n){var s=n.getBlockCommentDelimiters(e.start);r=s[0],o=s[1]}else r=\"/*\",o=\"*/\";var a=this._findEnclosingComment(t,e.start,e.end,r,o);if(void 0===a.commentStart||void 0===a.commentEnd){var l=t.getText(e.start,e.end);if(0!==l.length){var d=l.length;l=l.replace(r,\"\"),l=l.replace(o,\"\");var c=l.length;l=r+l+o,i(l,e.start,e.end),e.start+=r.length,e.end+=r.length+(c-d)}}}.bind(this)),!0},autoPairBrackets:function(e,t){if(\"[\"===e&&!this.autoPairSquareBrackets)return!1;if(\"{\"===e&&!this.autoPairBraces)return!1;if(\"(\"===e&&!this.autoPairParentheses)return!1;if(\"<\"===e&&!this.autoPairAngleBrackets)return!1;var n=this.editor;if(n.getTextView().getOptions(\"readonly\"))return!1;var i=new RegExp(\"^$|[)}\\\\]>]\"),r=n.getModel();return a(this,!1,function(n,o){var s,a=n.start===r.getCharCount()?\"\":r.getText(n.start,n.start+1).trim();n.start===n.end&&i.test(a)?(s=e+t,o(s,n.start,n.start),n.start=n.end=n.start+1):n.start!==n.end?(s=e+r.getText(n.start,n.end)+t,o(s,n.start,n.end),n.start+=1,n.end+=1):(o(e,n.start,n.end),n.start=n.end=n.start+e.length)}),!0},autoPairQuotations:function(e){if(!this.autoPairQuotation)return!1;var t=this.editor;if(t.getTextView().getOptions(\"readonly\"))return!1;var n=new RegExp(\"^\\\"$|^'$\"),i=new RegExp(\"\\\\w\"),r=new RegExp(\"^$|[)}\\\\]>]\"),o=t.getModel();return a(this,!1,function(t,s){function a(){s(e,t.start,t.end),t.start=t.end=t.start+e.length}var l=0===t.start?\"\":o.getText(t.start-1,t.start).trim(),d=t.start===o.getCharCount()?\"\":o.getText(t.start,t.start+1).trim();if(t.start!==t.end){var c=o.getText(t.start,t.end);n.test(c)?a():(s(e+c+e,t.start,t.end),t.start+=1,t.end+=1)}else d===e?t.start=t.end=t.start+1:l===e||n.test(d)||i.test(l)||!r.test(d)?a():(s(e+e,t.start,t.end),t.start=t.end=t.start+e.length)}),!0},contentAssistProposalApplied:function(e){function t(){return\"number\"==typeof n.escapePosition?n.escapePosition:e.data.start+n.proposal.length}var n=e.data.proposal;if(n.positions&&n.positions.length>0&&this.linkedMode){for(var i=[],r=0;r<n.positions.length;++r)i[r]={positions:[{offset:n.positions[r].offset,length:n.positions[r].length}]};this.linkedMode.enterLinkedMode({groups:i,escapePosition:t()})}else if(n.groups&&n.groups.length>0&&this.linkedMode)this.linkedMode.enterLinkedMode({groups:n.groups,escapePosition:t()});else if(\"number\"==typeof n.escapePosition){var o=this.editor.getTextView();o.setCaretOffset(n.escapePosition)}return!0},deletePrevious:function(){var e=this.editor;if(e.getTextView().getOptions(\"readonly\"))return!1;var t=e.getModel();return a(this,!1,function(e,n){if(e.start===e.end){var i=0===e.start?\"\":t.getText(e.start-1,e.start),r=e.start===t.getCharCount()?\"\":t.getText(e.start,e.start+1);(\"(\"===i&&\")\"===r||\"[\"===i&&\"]\"===r||\"{\"===i&&\"}\"===r||\"<\"===i&&\">\"===r||'\"'===i&&'\"'===r||\"'\"===i&&\"'\"===r)&&n(\"\",e.start,e.start+1)}},!0),!1},_findEnclosingComment:function(e,t,n,i,r){var o,s,a,l,d,c,h,u=e.getLineAtOffset(t),f=e.getLineAtOffset(n);for(o=u;o>=0&&(s=e.getLine(o),a=o===u?t-e.getLineStart(u):s.length,l=s.lastIndexOf(i,a),!((d=s.lastIndexOf(r,a))>l));o--)if(-1!==l){c=e.getLineStart(o)+l;break}for(o=f;o<e.getLineCount()&&(s=e.getLine(o),a=o===f?n-e.getLineStart(f):0,l=s.indexOf(i,a),d=s.indexOf(r,a),!(-1!==l&&l<d));o++)if(-1!==d){h=e.getLineStart(o)+d;break}return{commentStart:c,commentEnd:h}},lineStart:function(){var e=this.editor,t=e.getModel();return a(this,!1,function(e){var n,i=e.getCaret(),r=t.getLineAtOffset(i),o=t.getLineStart(r),s=t.getLine(r);for(n=0;n<s.length;n++){var a=s.charCodeAt(n);if(32!==a&&9!==a)break}n+=o,i!==n?e.setCaret(n):e.setCaret(o)}),!0},removeBlockComment:function(){var e=this.editor;if(e.getTextView().getOptions(\"readonly\"))return!1;var t=e.getModel(),n=e.getStyleAccessor();return a(this,!1,function(e,i){var r,o;if(n){var s=n.getBlockCommentDelimiters(e.start);r=s[0],o=s[1]}else r=\"/*\",o=\"*/\";var a,l,d,c=t.getText(e.start,e.end);for(d=0;d<c.length;d++)if(c.substring(d,d+r.length)===r){a=e.start+d;break}for(;d<c.length;d++)if(c.substring(d,d+o.length)===o){l=e.start+d;break}var h;if(void 0!==a&&void 0!==l)h=t.getText(a+r.length,l),i(h,a,l+o.length),e.start=a,e.end=l;else{var u=this._findEnclosingComment(t,e.start,e.end,r,o);void 0!==u.commentStart&&void 0!==u.commentEnd&&(h=t.getText(u.commentStart+r.length,u.commentEnd),i(h,u.commentStart,u.commentEnd+o.length),e.start=e.start-r.length,e.end=e.end-o.length)}}.bind(this)),!0},toggleLineComment:function(){var e=this.editor,t=e.getTextView();if(t.getOptions(\"readonly\"))return!1;var n=e.getModel(),i=e.getStyleAccessor();return t.setRedraw(!1),a(this,!0,function(e,t){var r,o=n.getLineAtOffset(e.start),s=n.getLineAtOffset(e.end>e.start?e.end-1:e.end);r=i?i.getLineCommentDelimiter(n.getLineStart(o)):\"//\";for(var a,l=!0,d=[],c=o;c<=s;c++){var h=n.getLine(c,!0);if(a=h.indexOf(r),d.push(a),l&&-1!==a){if(0!==a){var u;for(u=0;u<a;u++){var f=h.charCodeAt(u);if(32!==f&&9!==f)break}l=u===a}}else l=!1}var p,g,v,m=r.length,_=n.getLineStart(o);if(l){for(v=d.length-1;v>=0;v--)a=d[v]+n.getLineStart(o+v),t(\"\",a,a+m);var y=n.getLineStart(s);p=_===e.start?e.start:e.start-m,g=e.end-m*(s-o+1)+(e.end===y+1?m:0)}else{for(v=d.length-1;v>=0;v--)a=n.getLineStart(o+v),t(r,a,a);p=_===e.start?e.start:e.start+m,g=e.end+m*(s-o+1)}e.start=p,e.end=g}),t.setRedraw(!0),!0},trimTrailingWhitespaces:function(){var e=this.editor,t=e.getModel(),n=e.getSelections();e.getTextView().setRedraw(!1),this.startUndo();for(var i=/(\\s+$)/,r=t.getLineCount(),o=0;o<r;o++){var s=t.getLine(o),a=i.exec(s);if(a){var l=t.getLineStart(o),d=a[0].length,c=l+a.index;t.setText(\"\",c,c+d),n.forEach(function(e){e.start>c&&(e.start=Math.max(c,e.start-d)),e.start!==e.end&&e.end>c&&(e.end=Math.max(c,e.end-d))})}}this.endUndo(),e.setSelections(n,!1),e.getTextView().setRedraw(!0)},startUndo:function(){this.undoStack&&this.undoStack.startCompoundChange()},handleClosingBracket:function(e){var t=this.editor,n=t.getTextView();if(n.getOptions(\"readonly\"))return!1;var i=t.getModel(),r=t.getSelections();if(1===r.length&&r[0].start===r[0].end){if((r[0].start===i.getCharCount()?\"\":i.getText(r[0].start,r[0].start+1))===e)return r[0].start=r[0].end=r[0].start+1,t.setSelections(r),!0;var o=i.getLineAtOffset(r[0].start),s=i.getLine(o,!0);if(s.match(/^\\s*$/)&&n.getOptions(\"tabMode\")){var a=n.getOptions(\"tabSize\"),l=new Array(a+1).join(\" \"),d=i.getLineStart(o),c=i.getLineEnd(o);if(d!==c){if(0===s.indexOf(\"\\t\"))return s=s.substring(1),i.setText(s,d,c),t.setSelection(r[0].start-1,r[0].end-1),!1;if(0===s.indexOf(l))return s=s.substring(a),i.setText(s,d,c),t.setSelection(r[0].start-a,r[0].end-a),!1}}}return!1},endUndo:function(){this.undoStack&&this.undoStack.endCompoundChange()},setAutoPairParentheses:function(e){this.autoPairParentheses=e},setAutoPairBraces:function(e){this.autoPairBraces=e},setAutoPairSquareBrackets:function(e){this.autoPairSquareBrackets=e},setAutoPairAngleBrackets:function(e){this.autoPairAngleBrackets=e},setAutoPairQuotations:function(e){this.autoPairQuotation=e},setAutoCompleteComments:function(e){this.autoCompleteComments=e},setSmartIndentation:function(e){this.smartIndentation=e},setBlockComment:function(e){e&&(this._blockComment=e)}},h.SourceCodeActions=d,String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\\s+/g,\"\")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\\s+$/g,\"\")}),h}),n(\"orion/editor/rulers\",[\"i18n!orion/editor/nls/messages\",\"orion/editor/textView\",\"orion/editor/annotations\",\"orion/editor/tooltip\",\"orion/objects\",\"orion/editor/util\",\"orion/util\"],function(e,t,n,i,r,o,s){function a(e,t,n){this._location=e||\"left\",this._overview=t||\"page\",this._rulerStyle=n,this._view=null}function l(e,t,n,i){a.call(this,t,n,i);var r=this;this._listener={onTextModelChanged:function(e){r._onTextModelChanged(e)},onAnnotationModelChanged:function(e){r._onAnnotationModelChanged(e)}},this.setAnnotationModel(e)}function d(e,t,n,i,r){l.call(this,e,t,\"page\",n),this._oddStyle=i||{style:{backgroundColor:\"white\"}},this._evenStyle=r||{style:{backgroundColor:\"white\"}},this._numOfDigits=0,this._firstLine=1}function c(e,t,n){l.call(this,e,t,\"page\",n)}function h(e,t,n){l.call(this,e,t,\"document\",n)}function u(e,t,n){c.call(this,e,t,n)}a.prototype={getLocation:function(){return this._location},getOverview:function(){return this._overview},getRulerStyle:function(){return this._rulerStyle},getView:function(){return this._view},setView:function(e){this._onTextModelChanged&&this._view&&this._view.removeEventListener(\"ModelChanged\",this._listener.onTextModelChanged),this._view=e,this._onTextModelChanged&&this._view&&this._view.addEventListener(\"ModelChanged\",this._listener.onTextModelChanged)}},l.prototype=r.mixin(new a,{getAnnotations:function(e,t){var n=this._annotationModel;if(!n)return[];var i=this._view.getModel(),r=i.getLineStart(e),o=i.getLineEnd(t-1),s=i;i.getBaseModel&&(s=i.getBaseModel(),r=i.mapOffset(r),o=i.mapOffset(o));for(var a=[],l=this.getAnnotationsByType(n,r,o),d=0;d<l.length;d++)for(var c=l[d],h=s.getLineAtOffset(c.start),u=s.getLineAtOffset(Math.max(c.start,c.end-1)),f=h;f<=u;f++){var p=f;if(i!==s){var g=s.getLineStart(f);if(-1===(g=i.mapOffset(g,!0)))continue;p=i.getLineAtOffset(g)}if(e<=p&&p<t){var v=this._mergeAnnotation(a[p],c,f-h,u-h+1);v&&(a[p]=v)}}if(!this._multiAnnotation&&this._multiAnnotationOverlay)for(var m in a)a[m]._multiple&&(a[m].html=a[m].html+this._multiAnnotationOverlay.html);return a},getAnnotationModel:function(){return this._annotationModel},getWidestAnnotation:function(){return null},setAnnotationModel:function(e){this._annotationModel&&this._annotationModel.removeEventListener(\"Changed\",this._listener.onAnnotationModelChanged),this._annotationModel=e,this._annotationModel&&this._annotationModel.addEventListener(\"Changed\",this._listener.onAnnotationModelChanged)},setMultiAnnotation:function(e){this._multiAnnotation=e},setMultiAnnotationOverlay:function(e){this._multiAnnotationOverlay=e},onClick:function(e,t){if(void 0!==e){var n,r,o,s=this._view,a=s.getModel(),l=a.getLineStart(e),d=a.getLineEnd(e,!0),c=s.getSelection().start,h=s.getSelection().end,u=this._annotationModel;if(u){a.getBaseModel&&(l=a.mapOffset(l),d=a.mapOffset(d),c=a.mapOffset(c),h=a.mapOffset(h));var f=this;n=this._findNextAnnotation(u,l,d,c,h,function(e){return f.isAnnotationTypeVisible(e)}),r=n?n.start:l,o=n?n.end:l,a.getBaseModel&&(r=a.mapOffset(r,!0),o=a.mapOffset(o,!0)),n&&void 0!==n.groupId&&(this._currentClickGroup===n.groupId?this._currentClickGroup=null:this._currentClickGroup=n.groupId,this._setCurrentGroup(e))}this._view.setSelection(o,r,1/3,function(){});var p=i.Tooltip.getTooltip(this._view);p&&(n&&\"left\"===this.getLocation()?p.show({getTooltipInfo:function(){return f._getTooltipInfo([n])}},!1,!1):p.hide())}},onDblClick:function(e,t){},onMouseMove:function(e,t){var n=i.Tooltip.getTooltip(this._view);if(n&&(!n.isVisible()||this._tooltipLineIndex!==e)&&(this._tooltipLineIndex=e,t.clientX!==this._lastMouseX||t.clientY!==this._lastMouseY)){this._lastMouseX=t.clientX,this._lastMouseY=t.clientY,this._hoverTimeout&&(window.clearTimeout(this._hoverTimeout),this._hoverTimeout=null);var r=t.target?t.target:t.srcElement,o=r.getBoundingClientRect();this._curElementBounds=Object.create(null),this._curElementBounds.top=o.top,this._curElementBounds.left=o.left,this._curElementBounds.height=o.height,this._curElementBounds.width=o.width,r===this.node&&(this._curElementBounds.top=t.clientY,this._curElementBounds.height=1)}},onMouseOver:function(e,t){this.onMouseMove(e,t),this._currentClickGroup||this._setCurrentGroup(e)},onMouseOut:function(e,t){this._currentClickGroup||this._setCurrentGroup(-1),this._hoverTimeout&&(window.clearTimeout(this._hoverTimeout),this._hoverTimeout=null)},_findNextAnnotation:function(e,t,n,i,r,o){var s,a=null,l=t;if(i>=0&&r>=0&&i>=t&&i<n){l=i;for(var d=e.getAnnotations(i,r);!s&&d.hasNext();){var c=d.next();o&&!o(c.type)||c.start===i&&c.end===r&&(s=c)}}for(var h,u=e.getAnnotations(l,n);u.hasNext();)if(c=u.next(),!o||o(c.type)){if(a||(a=c),!s){a=c;break}if(h&&(s.start!==c.start||s.end!==c.end)){h=!1,a=c;break}s&&s===c&&(h=!0)}return h&&(a=null),a},_getAnnotationsAtLineIndex:function(e){if(void 0!==e){var t,n=this._view,i=this._annotationModel,r=[];if(!n)return[];if(t=n.getModel(),i&&t){var o=t.getLineStart(e),s=t.getLineEnd(e);t.getBaseModel&&(o=t.mapOffset(o),s=t.mapOffset(s)),r=this.getAnnotationsByType(i,o,s)}return r}},_getTooltipInfo:function(e,t,n){if(!e)return null;var i=Object.create(null);i.top=this._curElementBounds.top,i.left=this._curElementBounds.left,i.height=this._curElementBounds.height,i.width=this._curElementBounds.width,\"string\"==typeof e&&t&&(i.top=t,i.height=1);var r=this.getLocation(),o=this.getRulerStyle(),s=\"left\"===r?\"right\":\"left\",a=0,l=0;if(this._view){a=this._view._clientDiv.getBoundingClientRect().left-(i.left+i.width)}else a=i.width;return l=i.height,\"left\"===s&&(a=-25,1===i.height&&(a+=2)),o.styleClass.indexOf(\"folding\")>=0&&(l-=14),{contents:e,position:s,tooltipOffsetX:a,tooltipOffsetY:l,anchorArea:i,context:n}},_getTooltipContents:function(e,t){return t},_getOnClickTooltipInfo:function(e){var t=this._view,n=Object.create(null);n.top=this._curElementBounds.top,n.left=this._curElementBounds.left,n.height=this._curElementBounds.height,n.width=this._curElementBounds.width;var i=this.getLocation(),r=\"left\"===i?\"right\":\"left\",o={contents:[e],position:r,anchorArea:n};if(t){var s=t._clientDiv.getBoundingClientRect();o.offsetX=s.left-(n.left+n.width)}else o.offsetX=n.width;return o.offsetY=n.height,\"left\"===o.position&&(o.offsetX=20),o},_onAnnotationModelChanged:function(e){function t(e){for(var t=0;t<e.length;t++)if(r.isAnnotationTypeVisible(e[t].type)){s=e[t].start;var o=e[t].end;i.getBaseModel&&(s=i.mapOffset(s,!0),o=i.mapOffset(o,!0)),-1!==s&&-1!==o&&n.redrawLines(i.getLineAtOffset(s),i.getLineAtOffset(Math.max(s,o-1))+1,r)}}var n=this._view;if(n){var i=n.getModel(),r=this,o=i.getLineCount();if(e.textModelChangedEvent){var s=e.textModelChangedEvent.start;i.getBaseModel&&(s=i.mapOffset(s,!0));var a=i.getLineAtOffset(s);return void n.redrawLines(a,o,r)}t(e.added),t(e.removed),t(e.changed)}},_mergeAnnotation:function(e,t,n,i){return e||(e={}),0===n&&(e.html&&t.html?(t.html!==e.html&&!e._multiple&&this._multiAnnotation&&(e.html=this._multiAnnotation.html),e._multiple=!0):e.html=t.html),e.style=this._mergeStyle(e.style,t.style),e},_mergeStyle:function(e,t){if(t){e||(e={}),e.styleClass&&t.styleClass&&e.styleClass!==t.styleClass?e.styleClass+=\" \"+t.styleClass:e.styleClass=t.styleClass;var n;if(t.style){e.style||(e.style={});for(n in t.style)void 0===e.style[n]&&(e.style[n]=t.style[n])}if(t.attributes){e.attributes||(e.attributes={});for(n in t.attributes)void 0===e.attributes[n]&&(e.attributes[n]=t.attributes[n])}}return e},_setCurrentGroup:function(e){var t,n,i=this._annotationModel,r=null,o=i.getTextModel(),s=this._currentGroupAnnotation;if(-1!==e){var a=o.getLineStart(e),l=o.getLineEnd(e);for(o.getBaseModel&&(a=o.mapOffset(a),l=o.mapOffset(l)),n=i.getAnnotations(a,l);n.hasNext();)if(t=n.next(),this.isAnnotationTypeVisible(t.type)&&t.start<=a&&t.end>=l&&void 0!==t.groupId){r=t;break}if(s&&r&&s.groupId===r.groupId)return}if(this._currentGroupAnnotation=null,s&&i.removeAnnotations(s.groupType),r&&-1!==e){this._currentGroupAnnotation=r,n=i.getAnnotations();for(var d=[];n.hasNext();)t=n.next(),delete t.groupAnnotation,t.groupId===r.groupId&&(t=t.createGroupAnnotation(),d.push(t));i.replaceAnnotations(null,d)}}}),n.AnnotationTypeList.addMixin(l.prototype),d.prototype=new l,d.prototype.getAnnotations=function(e,t){for(var n=l.prototype.getAnnotations.call(this,e,t),i=this._view.getModel(),r=e;r<t;r++){var o=r-this._firstLine&1?this._oddStyle:this._evenStyle,s=r;if(i.getBaseModel){var a=i.getLineStart(s);s=i.getBaseModel().getLineAtOffset(i.mapOffset(a))}n[r]||(n[r]={}),n[r].html=this._firstLine+s+\"\",n[r].style||(n[r].style=o)}return n},d.prototype.getWidestAnnotation=function(){var e=this._view.getModel().getLineCount();return this.getAnnotations(e-1,e)[e-1]},d.prototype.setFirstLine=function(e){this._firstLine=void 0!==e?e:1},d.prototype._onTextModelChanged=function(e){var t=e.start,n=this._view.getModel(),i=n.getBaseModel?n.getBaseModel().getLineCount():n.getLineCount(),r=(this._firstLine+i-1+\"\").length;if(this._numOfDigits!==r){this._numOfDigits=r;var o=n.getLineAtOffset(t);this._view.redrawLines(o,n.getLineCount(),this)}},c.prototype=new l,h.prototype=new l,h.prototype.getRulerStyle=function(){var e={style:{lineHeight:\"1px\",fontSize:\"1px\"}};return e=this._mergeStyle(e,this._rulerStyle)},h.prototype._getTooltipContents=function(t,n){if(n&&0===n.length){var i=this._view.getModel(),r=t;if(i.getBaseModel){var o=i.getLineStart(r);r=i.getBaseModel().getLineAtOffset(i.mapOffset(o))}return s.formatMessage(e.line,r+1)}return l.prototype._getTooltipContents.call(this,t,n)},h.prototype._mergeAnnotation=function(e,t,n,i){if(0===n){var r=e;if(!r){r={html:\"&nbsp;\",style:{style:{height:3*i+\"px\"}}},r.style=this._mergeStyle(r.style,t.overviewStyle)}return r}},u.prototype=new c,u.prototype.onClick=function(e,t){if(void 0!==e){var n=this._annotationModel;if(n){var r=this._view,o=r.getModel(),s=o.getLineStart(e),a=o.getLineEnd(e,!0);o.getBaseModel&&(s=o.mapOffset(s),a=o.mapOffset(a),o=o.getBaseModel());for(var l,d=n.getAnnotations(s,a);!l&&d.hasNext();){var c=d.next();this.isAnnotationTypeVisible(c.type)&&(o.getLineAtOffset(c.start)===o.getLineAtOffset(s)&&(l=c))}if(l){var h=i.Tooltip.getTooltip(this._view);h&&h.hide(),l.expanded?l.collapse():l.expand()}}}},u.prototype._getTooltipContents=function(e,t){if(t&&t.length>0){var n=this._view,i=n.getModel(),r=i.getLineStart(e);i.getBaseModel&&(r=i.mapOffset(r),i=i.getBaseModel());for(var o=i.getLineAtOffset(r),s=0;s<t.length;s++){var a=t[s];if(this.isAnnotationTypeVisible(a.type)&&i.getLineAtOffset(a.start)===o){if(t[s].expanded)break;return c.prototype._getTooltipContents.call(this,e,[a])}}}return null},u.prototype._onAnnotationModelChanged=function(e){function t(e){for(i=0;i<e.length;i++)if(o.isAnnotationTypeVisible(e[i].type)){var t=e[i].start;r.getBaseModel&&(t=r.mapOffset(t,!0)),-1!==t&&(a=Math.min(a,r.getLineAtOffset(t)))}}if(e.textModelChangedEvent)return void c.prototype._onAnnotationModelChanged.call(this,e);var n=this._view;if(n){var i,r=n.getModel(),o=this,s=r.getLineCount(),a=s;t(e.added),t(e.removed),t(e.changed);var l=n.getRulers();for(i=0;i<l.length;i++)n.redrawLines(a,s,l[i])}};var f=function(e,t){a.call(this,e,\"fixed\",t)};return f.prototype=r.mixin(new a,{setView:function(e){this._destroy(),a.prototype.setView.call(this,e),this._create()},_create:function(){function e(e){var t=e.themeClass;return t?(t=t.replace(\"textviewZoom\",\"\"),t&&(t=\" \"+t),t=\"textviewZoom\"+t):t=\"textviewZoom\",e.themeClass=t,e.noScroll=!0,e.readonly=!0,e}function n(e,t){var n=e.y*t.zoomFactor,i=t.clientHeight*t.zoomFactor;y.top=n,y.bottom=n+i,n=g.convert({y:n},\"document\",\"page\").y,n-=y.node.getBoundingClientRect().top,m.style.top=n+\"px\",m.style.height=i-_+\"px\"}function i(){var e=f._metrics.viewPadding,t=f._metrics.viewPadding,n=f.getLineHeight(),i=g.getLineHeight(),r=f.getModel().getLineCount(),o=f._lineHeight?f._scrollHeight:r*n,s=g._lineHeight?g._scrollHeight:r*i,a=s/o,l=f.getClientArea().height+e.top+e.bottom,d=g.getClientArea().height+t.top+t.bottom,c=l*a;return{zoomFactor:a,documentHeight:o,zoomDocumentHeight:s,clientHeight:l,zoomClientHeight:d,scrollWidth:f._metrics.scrollWidth,windowHeight:c,padding:e}}function r(e,t){return e.y*(t.zoomFactor+(t.windowHeight-t.clientHeight-t.scrollWidth)/t.documentHeight)}function a(e){e=e||{y:f.getTopPixel()};var t=i(),o=r(e,t);g.setTopPixel(o),n(e,t)}function l(e){var t;if(e.wrapMode&&!e.wrapOffset&&f._metrics.charWidth){var n=s.createElement(v,\"div\");n.style.position=\"fixed\",n.style.left=\"-1000px\",g._clientDiv.appendChild(n),n.textContent=new Array(Math.ceil(f.getClientArea().width/f._metrics.charWidth)+1).join(\"a\");var i=n.getBoundingClientRect();t=Math.min(150,Math.ceil(i.right-i.left))+\"px\"}else t=\"\";var r=y.node.style.width;return y.node.style.width=t,r!==t}function d(e,t,n){if(n||y.top<=e.y&&e.y<=y.bottom)y.mouseDown=!0,y.delta=t-m.getBoundingClientRect().top+y.node.getBoundingClientRect().top;else{var i=g.getOffsetAtLocation(e.x,e.y);f.setSelection(i,i,.5,function(){})}}function c(){y.mouseDown=!1}function h(e){if(y.mouseDown){var t=i(),n=Math.min(t.zoomClientHeight-t.windowHeight,Math.max(0,e-y.delta));f.setTopPixel(n*(t.documentHeight-t.clientHeight)/Math.min(t.zoomDocumentHeight,t.zoomClientHeight-t.windowHeight))}}function u(e){e.preventDefault()}var f=this.getView();if(f){var p=e(f.getOptions());p.parent=this.node;var g=this._zoomView=new t.TextView(p);g._clientDiv.contentEditable=!1,g.setModel(f.getModel());var v=f.getOptions(\"parent\").ownerDocument,m=this._windowDiv=s.createElement(v,\"div\");m.className=\"rulerZoomWindow\",this.node.appendChild(m);var _=parseInt(o.getNodeStyle(m,\"border-top-width\",0))+parseInt(o.getNodeStyle(m,\"border-bottom-width\",0)),y=this;f.addEventListener(\"Scroll\",this._scrollListener=function(e){a(e.newValue)}),f.addEventListener(\"Resize\",this._resizeListener=function(){l(g.getOptions()),a()}),f.addEventListener(\"Redraw\",this._redrawListener=function(e){e.ruler||g.redrawLines(e.startLine,e.endLine)}),f.addEventListener(\"Options\",this._optionsListener=function(t){var n=e(t.options);g.setOptions(n),l(g.getOptions())}),g.addEventListener(\"LineStyle\",this._lineListener=function(e){f.onLineStyle(e)}),s.isIOS||s.isAndroid?(m.addEventListener(\"touchstart\",function(e){1===e.touches.length&&(d(e,e.touches[0].clientY,!0),e.preventDefault())}),m.addEventListener(\"touchend\",function(e){0===e.touches.length&&c()}),m.addEventListener(\"touchmove\",function(e){1===e.touches.length&&h(e.touches[0].clientY)}),g.addEventListener(\"TouchStart\",function(e){1===e.touchCount&&(d(e,e.event.touches[0].clientY),u(e))})):(m.style.pointerEvents=\"none\",g.addEventListener(\"MouseDown\",function(e){var t=e.event;(t.which?0===t.button:1===t.button)&&d(e,t.clientY),u(e)}),g.addEventListener(\"MouseUp\",function(e){c(),u(e)}),g.addEventListener(\"MouseMove\",function(e){h(e.event.clientY),u(e)})),(v.defaultView||v.parentWindow).setTimeout(function(){a()},0)}},_destroy:function(){var e=this.getView();e&&(e.removeEventListener(\"Scroll\",this._scrollListener),this._scrollListener=null,e.removeEventListener(\"Resize\",this._resizeListener),this._resizeListener=null,e.removeEventListener(\"Redraw\",this._redrawListener),this._redrawListener=null,e.removeEventListener(\"Options\",this._optionsListener),this._optionsListener=null);var t=this._zoomView;t&&(t.removeEventListener(\"LineStyle\",this._lineListener),t.setModel(null),t.destroy(),this._zoomView=null)}}),{BaseRuler:a,Ruler:l,AnnotationRuler:c,LineNumberRuler:d,OverviewRuler:h,FoldingRuler:u,ZoomRuler:f}}),n(\"orion/editor/textDND\",[\"orion/util\"],function(e){function t(e,t){this._view=e,this._undoStack=t,this._dragSelection=null,this._dropOffset=-1,this._dropText=null;var n=this;this._listener={onDragStart:function(e){n._onDragStart(e)},onDragEnd:function(e){n._onDragEnd(e)},onDragEnter:function(e){n._onDragEnter(e)},onDragOver:function(e){n._onDragOver(e)},onDrop:function(e){n._onDrop(e)},onDestroy:function(e){n._onDestroy(e)}},e.addEventListener(\"DragStart\",this._listener.onDragStart),e.addEventListener(\"DragEnd\",this._listener.onDragEnd),e.addEventListener(\"DragEnter\",this._listener.onDragEnter),e.addEventListener(\"DragOver\",this._listener.onDragOver),e.addEventListener(\"Drop\",this._listener.onDrop),e.addEventListener(\"Destroy\",this._listener.onDestroy)}return t.prototype={destroy:function(){var e=this._view;e&&(e.removeEventListener(\"DragStart\",this._listener.onDragStart),e.removeEventListener(\"DragEnd\",this._listener.onDragEnd),e.removeEventListener(\"DragEnter\",this._listener.onDragEnter),e.removeEventListener(\"DragOver\",this._listener.onDragOver),e.removeEventListener(\"Drop\",this._listener.onDrop),e.removeEventListener(\"Destroy\",this._listener.onDestroy),this._view=null)},_onDestroy:function(e){this.destroy()},_onDragStart:function(e){var t=this._view,n=t.getSelectionText();n&&(this._dragSelection=t.getSelections(),e.event.dataTransfer.effectAllowed=\"copyMove\",e.event.dataTransfer.setData(\"Text\",n))},_onDragEnd:function(t){if(this._dragSelection){var n=this._view,i=t.event.dataTransfer.dropEffect;e.isFirefox||(\"none\"!==i||this._dropText)&&(i=t.event.dataTransfer.dropEffect=this._dropEffect),this._undoStack&&this._undoStack.startCompoundChange();var r=\"move\"===i;if(r&&n.setText({text:\"\",selection:this._dragSelection}),this._dropText){var o=this._dropText,s=this._dropOffset;r&&this._dragSelection.forEach(function(e){s>=e.end?s-=e.end-e.start:s>=e.start&&(s=e.start)}),n.setText(o,s,s),n.setSelection(s,s+o.length),this._dropText=null,this._dropOffset=-1}this._undoStack&&this._undoStack.endCompoundChange(),this._dragSelection=null}},_onDragEnter:function(e){this._onDragOver(e)},_onDragOver:function(t){var n=t.event.dataTransfer.types,i=!0;if(i&&n&&(i=!(n.contains?n.contains(\"text/plain\")||n.contains(\"Text\"):-1!==n.indexOf(\"text/plain\")||-1!==n.indexOf(\"Text\"))),i){if(!e.isFirefox){var r=e.isMac?t.event.altKey:t.event.ctrlKey;this._dropEffect=t.event.dataTransfer.dropEffect=r?\"copy\":\"move\"}}else t.event.dataTransfer.dropEffect=\"none\"},_onDrop:function(t){var n=this._view,i=t.event.dataTransfer.getData(\"Text\");if(i){e.isFirefox||(t.event.dataTransfer.dropEffect=this._dropEffect);var r=n.getOffsetAtLocation(t.x,t.y);this._dragSelection?(this._dropOffset=r,this._dropText=i):(n.setText(i,r,r),n.setSelection(r,r+i.length))}}},{TextDND:t}}),n(\"orion/editor/linkedMode\",[\"i18n!orion/editor/nls/messages\",\"orion/keyBinding\",\"orion/editor/keyModes\",\"orion/editor/annotations\",\"orion/objects\",\"orion/util\"],function(e,t,n,i,r){function o(e){this._data=e}function s(e,t,i){var r=e.getTextView();n.KeyMode.call(this,r),this.editor=e,this.undoStack=t,this.contentAssist=i,this.linkedModeModel=null,r.setAction(\"linkedModeEnter\",function(){return this.exitLinkedMode(!0),!0}.bind(this)),r.setAction(\"linkedModeCancel\",function(){return this.exitLinkedMode(!0),!0}.bind(this)),r.setAction(\"linkedModeNextGroup\",function(){var e=this.linkedModeModel;return this.selectLinkedGroup((e.selectedGroupIndex+1)%e.groups.length),!0}.bind(this)),r.setAction(\"linkedModePreviousGroup\",function(){var e=this.linkedModeModel;return this.selectLinkedGroup(e.selectedGroupIndex>0?e.selectedGroupIndex-1:e.groups.length-1),!0}.bind(this)),this.linkedModeListener={onActivating:function(e){this._groupContentAssistProvider&&(this.contentAssist.setProviders([this._groupContentAssistProvider]),this.contentAssist.setProgress(null))}.bind(this),onModelChanged:function(e){if(!this.ignoreVerify){for(var t,n,i=this.editor.mapOffset(e.start),r=this.linkedModeModel;r&&(t=this._getPositionChanged(r,i,i+e.removedCharCount),void 0===(n=t.position)||n.model!==r);)this.exitLinkedMode(!1),r=this.linkedModeModel;if(r){for(var o,s,a=0,l=e.addedCharCount-e.removedCharCount,d=t.positions,c=0;c<d.length;++c){s=d[c],o=s.position;var h=o.offset<=i&&i<=o.offset+o.length;h&&!s.ansestor?(o.offset+=a,o.length+=l,a+=l):(o.offset+=a,s.ansestor&&h&&(o.length+=l)),s.escape&&(s.model.escapePosition=o.offset)}this._updateAnnotations(d)}}}.bind(this),onVerify:function(e){if(!this.ignoreVerify){for(var t,n,i=this.editor.mapOffset(e.start),r=this.editor.mapOffset(e.end),o=this.linkedModeModel;o&&(t=this._getPositionChanged(o,i,r),void 0===(n=t.position)||n.model!==o);)this.exitLinkedMode(!1),o=this.linkedModeModel;if(o){var s=this._compoundChange;s?s.owner.model===o&&s.owner.group===n.group||(this.endUndo(),this.startUndo()):this.startUndo(),o.selectedGroupIndex=n.group;for(var a,l,d=0,c=e.text.length-(r-i),h=t.positions,u=i-n.position.offset,f=r-n.position.offset,p=0;p<h.length;++p)l=h[p],a=l.position,l.oldOffset=a.offset,l.model===o&&l.group===n.group?(a.offset+=d,a.length+=c,d+=c):(a.offset+=d,l.ansestor&&(a.length+=n.count*c)),l.escape&&(l.model.escapePosition=a.offset);for(this.ignoreVerify=!0,p=h.length-1;p>=0;p--)l=h[p],l.model===o&&l.group===n.group&&this.editor.setText(e.text,l.oldOffset+u,l.oldOffset+f,!1);this.ignoreVerify=!1,e.text=null,this._updateAnnotations(h)}}}.bind(this)}}var a={};return o.prototype={chop:function(e,t){return t.substring(e.length)},computeProposals:function(e,t,n){var i=n.prefix,r=[],o=this._data.style?this._data.style:null;o=o||\"emphasis\";for(var s=this._data.values,a=0;a<s.length;a++){var l=s[a];\"string\"==typeof l&&0===l.indexOf(i)?r.push({proposal:this.chop(i,l),description:l,hover:l,style:o}):\"object\"==typeof l&&l.proposal&&r.push({proposal:this.chop(i,l.proposal),description:l.description?l.description:l.proposal,hover:l.hover?l.hover:l.proposal,style:o})}var d=this._data.title?this._data.title:null;return 0<r.length&&r.splice(0,0,{proposal:\"\",description:d||\"Options\",style:\"noemphasis_title\",unselectable:!0}),r}},s.prototype=new n.KeyMode,r.mixin(s.prototype,{createKeyBindings:function(){var e=t.KeyBinding,n=[];return n.push({actionID:\"linkedModeEnter\",keyBinding:new e(13)}),n.push({actionID:\"linkedModeCancel\",keyBinding:new e(27)}),n.push({actionID:\"linkedModeNextGroup\",keyBinding:new e(9)}),n.push({actionID:\"linkedModePreviousGroup\",keyBinding:new e(9,!1,!0)}),n},enterLinkedMode:function(t){if(!this.linkedModeModel){var n=this.editor.getTextView();n.addKeyMode(this),n.addEventListener(\"Verify\",this.linkedModeListener.onVerify),n.addEventListener(\"ModelChanged\",this.linkedModeListener.onModelChanged);this.contentAssist.addEventListener(\"Activating\",this.linkedModeListener.onActivating),this.editor.reportStatus(e.linkedModeEntered,null,!0)}this._sortedPositions=null,this.linkedModeModel&&(t.previousModel=this.linkedModeModel,t.parentGroup=this.linkedModeModel.selectedGroupIndex,this.linkedModeModel.nextModel=t),this.linkedModeModel=t,this.selectLinkedGroup(0)},exitLinkedMode:function(t){if(this.isActive()){this._compoundChange&&(this.endUndo(),this._compoundChange=null),this._sortedPositions=null;var n=this.linkedModeModel;if(this.linkedModeModel=n.previousModel,n.parentGroup=n.previousModel=void 0,this.linkedModeModel&&(this.linkedModeModel.nextModel=void 0),!this.linkedModeModel){var i=this.editor,r=i.getTextView();r.removeKeyMode(this),r.removeEventListener(\"Verify\",this.linkedModeListener.onVerify),r.removeEventListener(\"ModelChanged\",this.linkedModeListener.onModelChanged);var o=this.contentAssist;o.removeEventListener(\"Activating\",this.linkedModeListener.onActivating),o.offset=void 0,this.editor.reportStatus(e.linkedModeExited,null,!0)}t&&\"number\"==typeof n.escapePosition&&i.setCaretOffset(n.escapePosition,!1),this.selectLinkedGroup(0)}},startUndo:function(){if(this.undoStack){var e=this,t=this.linkedModeModel;this._compoundChange=this.undoStack.startCompoundChange({model:t,group:t.selectedGroupIndex,end:function(){e._compoundChange=null}})}},endUndo:function(){this.undoStack&&this.undoStack.endCompoundChange()},isActive:function(){return!!this.linkedModeModel},isStatusActive:function(){return!!this.linkedModeModel},selectLinkedGroup:function(e){var t=this.linkedModeModel;if(t){t.selectedGroupIndex=e;var n=t.groups[e],i=n.positions[0],r=this.editor;r.setSelection(i.offset,i.offset+i.length);var s=this.contentAssist;if(s)if(s.offset=void 0,n.data&&\"link\"===n.data.type&&n.data.values){var a=this._groupContentAssistProvider=new o(n.data);a.getPrefix=function(){var e=r.getSelection();if(e.start===e.end){var t=r.getCaretOffset();if(i.offset<=t&&t<=i.offset+i.length)return r.getText(i.offset,t)}return\"\"},s.offset=i.offset,s.deactivate(),s.activate()}else this._groupContentAssistProvider&&(this._groupContentAssistProvider=null,s.deactivate())}this._updateAnnotations()},_getModelPositions:function(e,t,n){\nfor(var i=t.groups,r=0;r<i.length;r++)for(var o=i[r].positions,s=0;s<o.length;s++){var a=o[s];n&&(a={offset:a.offset+n,length:a.length});var l={index:s,group:r,count:o.length,model:t,position:a};e.push(l),t.nextModel&&t.nextModel.parentGroup===r&&(l.ansestor=!0,this._getModelPositions(e,t.nextModel,(n||0)+o[s].offset-o[0].offset))}},_getSortedPositions:function(e){var t=this._sortedPositions;if(!t){for(t=[];e.previousModel;)e=e.previousModel;for(this._getModelPositions(t,e);e;)\"number\"==typeof e.escapePosition&&t.push({escape:!0,model:e,position:{offset:e.escapePosition,length:0}}),e=e.nextModel;t.sort(function(e,t){return e.position.offset-t.position.offset}),this._sortedPositions=t}return t},_getPositionChanged:function(e,t,n){for(var i,r=this._getSortedPositions(e),o=r.length-1;o>=0;o--)if(!r[o].escape){var s=r[o].position;if(s.offset<=t&&n<=s.offset+s.length){i=r[o];break}}return{position:i,positions:r}},_updateAnnotations:function(e){var t=this.editor.getAnnotationModel();if(t){for(var n,r=[],o=[],s=t.getAnnotations();s.hasNext();)switch(n=s.next(),n.type){case i.AnnotationType.ANNOTATION_LINKED_GROUP:case i.AnnotationType.ANNOTATION_CURRENT_LINKED_GROUP:case i.AnnotationType.ANNOTATION_SELECTED_LINKED_GROUP:r.push(n)}var a=this.linkedModeModel;if(a){e=e||this._getSortedPositions(a);for(var l=0;l<e.length;l++){var d=e[l];if(d.model===a&&!d.escape){var c=i.AnnotationType.ANNOTATION_LINKED_GROUP;d.group===a.selectedGroupIndex&&(c=0===d.index?i.AnnotationType.ANNOTATION_SELECTED_LINKED_GROUP:i.AnnotationType.ANNOTATION_CURRENT_LINKED_GROUP),d=d.position,n=i.AnnotationType.createAnnotation(c,d.offset,d.offset+d.length,\"\"),o.push(n)}}}t.replaceAnnotations(r,o)}}}),a.LinkedMode=s,a}),n(\"orion/editor/factories\",[\"orion/editor/actions\",\"orion/editor/undoStack\",\"orion/editor/rulers\",\"orion/editor/annotations\",\"orion/editor/textDND\",\"orion/editor/linkedMode\",\"orion/util\"],function(e,t,n,i,r,o,s){function a(){}function l(){}function d(){}function c(){}function h(){}function u(){}function f(){}var p={};return a.prototype={createKeyBindings:function(t,n,i,r){var s=new e.TextActions(t,n,r),a=new o.LinkedMode(t,n,i);return{textActions:s,linkedMode:a,sourceCodeActions:new e.SourceCodeActions(t,n,i,a)}}},p.KeyBindingsFactory=a,l.prototype={createUndoStack:function(e){var n=e.getTextView();return new t.UndoStack(n,200)}},p.UndoFactory=l,d.prototype={createLineNumberRuler:function(e){return new n.LineNumberRuler(e,\"left\",{styleClass:\"ruler lines\"},{styleClass:\"rulerLines odd\"},{styleClass:\"rulerLines even\"})}},p.LineNumberRulerFactory=d,c.prototype={createFoldingRuler:function(e){return new n.FoldingRuler(e,\"left\",{styleClass:\"ruler folding\"})}},p.FoldingRulerFactory=c,h.prototype={createZoomRuler:function(e){return new n.ZoomRuler(s.isIOS||s.isAndroid?\"right\":\"innerRight\",{styleClass:\"ruler zoom\"})}},p.ZoomRulerFactory=h,u.prototype={createAnnotationModel:function(e){return new i.AnnotationModel(e)},createAnnotationStyler:function(e,t){return new i.AnnotationStyler(e,t)},createAnnotationRulers:function(e){return{annotationRuler:new n.AnnotationRuler(e,\"left\",{styleClass:\"ruler annotations\"}),overviewRuler:new n.OverviewRuler(e,\"right\",{styleClass:\"ruler overview\"})}}},p.AnnotationFactory=u,f.prototype={createTextDND:function(e,t){return new r.TextDND(e.getTextView(),t)}},p.TextDNDFactory=f,p}),n(\"orion/editor/editorFeatures\",[\"orion/editor/factories\",\"orion/editor/actions\",\"orion/editor/linkedMode\",\"orion/objects\"],function(e,t,n,i){return i.mixin({},e,t,n)}),function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=h.normal,this.options.gfm&&(this.options.tables?this.rules=h.tables:this.rules=h.gfm)}function t(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error(\"Tokens array requires a `links` property.\");this.options.gfm?this.options.breaks?this.rules=u.breaks:this.rules=u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function i(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\\w+;)/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\")}function s(e){return e.replace(/&([#\\w]+);/g,function(e,t){return t=t.toLowerCase(),\"colon\"===t?\":\":\"#\"===t.charAt(0)?\"x\"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):\"\"})}function a(e,t){return e=e.source,t=t||\"\",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\\[])\\^/g,\"$1\"),e=e.replace(i,r),n):new RegExp(e,t)}}function l(){}function d(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(t,n,i){if(i||\"function\"==typeof n){i||(i=n,n=null),n=d({},c.defaults,n||{});var s,a,l=n.highlight,h=0;try{s=e.lex(t,n)}catch(e){return i(e)}a=s.length;var u=function(){var e,t;try{e=r.parse(s,n)}catch(e){t=e}return n.highlight=l,t?i(t):i(null,e)};if(!l||l.length<3)return u();if(delete n.highlight,!a)return u();for(;h<s.length;h++)!function(e){\"code\"!==e.type?--a||u():l(e.text,e.lang,function(t,n){if(null===n||n===e.text)return--a||u();e.text=n,e.escaped=!0,--a||u()})}(s[h])}else try{return n&&(n=d({},c.defaults,n)),r.parse(e.lex(t,n),n)}catch(e){if(e.message+=\"\\nPlease report this to https://github.com/chjj/marked.\",(n||c.defaults).silent)return\"<p>An error occured:</p><pre>\"+o(e.message+\"\",!0)+\"</pre>\";throw e}}var h={newline:/^\\n+/,code:/^( {4}[^\\n]+\\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\\n+|$)/,heading:/^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,nptable:l,lheading:/^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,blockquote:/^( *>[^\\n]+(\\n(?!def)[^\\n]+)*\\n*)+/,list:/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\\n{2,}|\\s*$)/,def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +[\"(]([^\\n]+)[\")])? *(?:\\n+|$)/,table:l,paragraph:/^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,text:/^[^\\n]+/};h.bullet=/(?:[*+-]|\\d+\\.)/,h.item=/^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/,h.item=a(h.item,\"gm\")(/bull/g,h.bullet)(),h.list=a(h.list)(/bull/g,h.bullet)(\"hr\",\"\\\\n+(?=\\\\1?(?:[-*_] *){3,}(?:\\\\n+|$))\")(\"def\",\"\\\\n+(?=\"+h.def.source+\")\")(),h.blockquote=a(h.blockquote)(\"def\",h.def)(),h._tag=\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|[^\\\\w\\\\s@]*@)\\\\b\",h.html=a(h.html)(\"comment\",/<!--[\\s\\S]*?-->/)(\"closed\",/<(tag)[\\s\\S]+?<\\/\\1>/)(\"closing\",/<tag(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/)(/tag/g,h._tag)(),h.paragraph=a(h.paragraph)(\"hr\",h.hr)(\"heading\",h.heading)(\"lheading\",h.lheading)(\"blockquote\",h.blockquote)(\"tag\",\"<\"+h._tag)(\"def\",h.def)(),h.normal=d({},h),h.gfm=d({},h.normal,{fences:/^ *(`{3,}|~{3,}) *(\\S+)? *\\n([\\s\\S]+?)\\s*\\1 *(?:\\n+|$)/,paragraph:/^/}),h.gfm.paragraph=a(h.paragraph)(\"(?!\",\"(?!\"+h.gfm.fences.source.replace(\"\\\\1\",\"\\\\2\")+\"|\"+h.list.source.replace(\"\\\\1\",\"\\\\3\")+\"|\")(),h.tables=d({},h.gfm,{nptable:/^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,table:/^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/}),e.rules=h,e.lex=function(t,n){return new e(n).lex(t)},e.prototype.lex=function(e){return e=e.replace(/\\r\\n|\\r/g,\"\\n\").replace(/\\t/g,\"    \").replace(/\\u00a0/g,\" \").replace(/\\u2424/g,\"\\n\"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var i,r,o,s,a,l,d,c,u,e=e.replace(/^ +$/gm,\"\");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:\"space\"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,\"\"),this.tokens.push({type:\"code\",text:this.options.pedantic?o:o.replace(/\\n+$/,\"\")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:\"code\",lang:o[2],text:o[3]});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:\"heading\",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:\"table\",header:o[1].replace(/^ *| *\\| *$/g,\"\").split(/ *\\| */),align:o[2].replace(/^ *|\\| *$/g,\"\").split(/ *\\| */),cells:o[3].replace(/\\n$/,\"\").split(\"\\n\")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]=\"right\":/^ *:-+: *$/.test(l.align[c])?l.align[c]=\"center\":/^ *:-+ *$/.test(l.align[c])?l.align[c]=\"left\":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:\"heading\",depth:\"=\"===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:\"hr\"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:\"blockquote_start\"}),o=o[0].replace(/^ *> ?/gm,\"\"),this.token(o,t,!0),this.tokens.push({type:\"blockquote_end\"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),s=o[2],this.tokens.push({type:\"list_start\",ordered:s.length>1}),o=o[0].match(this.rules.item),i=!1,u=o.length,c=0;c<u;c++)l=o[c],d=l.length,l=l.replace(/^ *([*+-]|\\d+\\.) +/,\"\"),~l.indexOf(\"\\n \")&&(d-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,\"\"):l.replace(new RegExp(\"^ {1,\"+d+\"}\",\"gm\"),\"\")),this.options.smartLists&&c!==u-1&&(a=h.bullet.exec(o[c+1])[0],s===a||s.length>1&&a.length>1||(e=o.slice(c+1).join(\"\\n\")+e,c=u-1)),r=i||/\\n\\n(?!\\s*$)/.test(l),c!==u-1&&(i=\"\\n\"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?\"loose_item_start\":\"list_item_start\"}),this.token(l,!1,n),this.tokens.push({type:\"list_item_end\"});this.tokens.push({type:\"list_end\"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?\"paragraph\":\"html\",pre:\"pre\"===o[1]||\"script\"===o[1]||\"style\"===o[1],text:o[0],isHTML:!0});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]},this.tokens.push({type:\"def\",id:o[1].toLowerCase(),href:o[2],title:o[3]});else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:\"table\",header:o[1].replace(/^ *| *\\| *$/g,\"\").split(/ *\\| */),align:o[2].replace(/^ *|\\| *$/g,\"\").split(/ *\\| */),cells:o[3].replace(/(?: *\\| *)?\\n$/,\"\").split(\"\\n\")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]=\"right\":/^ *:-+: *$/.test(l.align[c])?l.align[c]=\"center\":/^ *:-+ *$/.test(l.align[c])?l.align[c]=\"left\":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\\| *| *\\| *$/g,\"\").split(/ *\\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:\"paragraph\",text:\"\\n\"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:\"text\",text:o[0]});else if(e)throw new Error(\"Infinite loop on byte: \"+e.charCodeAt(0));return this.tokens};var u={escape:/^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,autolink:/^<([^ >]+(@|:\\/)[^ >]+)>/,url:l,tag:/^<!--[\\s\\S]*?-->|^<\\/?\\w+(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/,link:/^!?\\[(inside)\\]\\(href\\)/,reflink:/^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,nolink:/^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,strong:/^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,em:/^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,code:/^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,br:/^ {2,}\\n(?!\\s*$)/,del:l,text:/^[\\s\\S]+?(?=[\\\\<!\\[_*`]| {2,}\\n|$)/};u._inside=/(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/,u._href=/\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/,u.link=a(u.link)(\"inside\",u._inside)(\"href\",u._href)(),u.reflink=a(u.reflink)(\"inside\",u._inside)(),u.normal=d({},u),u.pedantic=d({},u.normal,{strong:/^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,em:/^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/}),u.gfm=d({},u.normal,{escape:a(u.escape)(\"])\",\"~|])\")(),url:/^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,del:/^~~(?=\\S)([\\s\\S]*?\\S)~~/,text:a(u.text)(\"]|\",\"~]|\")(\"|\",\"|https?://|\")()}),u.breaks=d({},u.gfm,{br:a(u.br)(\"{2,}\",\"*\")(),text:a(u.gfm.text)(\"{2,}\",\"*\")()}),t.rules=u,t.output=function(e,n,i){return new t(n,i).output(e)},t.prototype.output=function(e){for(var t,n,i,r,s=\"\";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),s+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),\"@\"===r[2]?(n=\":\"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),i=this.mangle(\"mailto:\")+n):(n=o(r[1]),i=n),s+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),s+=this.options.sanitize?o(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,s+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\\s+/g,\" \"),!(t=this.links[t.toLowerCase()])||!t.href){s+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),s+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),s+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),s+=this.renderer.codespan(o(r[2],!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),s+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),s+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),s+=o(this.smartypants(r[0]));else if(e)throw new Error(\"Infinite loop on byte: \"+e.charCodeAt(0))}else e=e.substring(r[0].length),n=o(r[1]),i=n,s+=this.renderer.link(i,null,n);return s},t.prototype.outputLink=function(e,t){var n=o(t.href),i=t.title?o(t.title):null;return\"!\"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,o(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,\"\").replace(/(^|[-\\u2014\\/(\\[{\"\\s])'/g,\"$1\").replace(/'/g,\"\").replace(/(^|[-\\u2014\\/(\\[{\\u2018\\s])\"/g,\"$1\").replace(/\"/g,\"\").replace(/\\.{3}/g,\"\"):e},t.prototype.mangle=function(e){for(var t,n=\"\",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),Math.random()>.5&&(t=\"x\"+t.toString(16)),n+=\"&#\"+t+\";\";return n},i.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!==i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class=\"'+this.options.langPrefix+o(t,!0)+'\">'+(n?e:o(e,!0))+\"\\n</code></pre>\\n\":\"<pre><code>\"+(n?e:o(e,!0))+\"\\n</code></pre>\"},i.prototype.blockquote=function(e){return\"<blockquote>\\n\"+e+\"</blockquote>\\n\"},i.prototype.def=function(e,t,n){return\"\"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n){return\"<h\"+t+' id=\"'+this.options.headerPrefix+n.toLowerCase().replace(/[^\\w]+/g,\"-\")+'\">'+e+\"</h\"+t+\">\\n\"},i.prototype.hr=function(){return this.options.xhtml?\"<hr/>\\n\":\"<hr>\\n\"},i.prototype.list=function(e,t){var n=t?\"ol\":\"ul\";return\"<\"+n+\">\\n\"+e+\"</\"+n+\">\\n\"},i.prototype.listitem=function(e){return\"<li>\"+e+\"</li>\\n\"},i.prototype.paragraph=function(e){return\"<p>\"+e+\"</p>\\n\"},i.prototype.table=function(e,t){return\"<table>\\n<thead>\\n\"+e+\"</thead>\\n<tbody>\\n\"+t+\"</tbody>\\n</table>\\n\"},i.prototype.tablerow=function(e){return\"<tr>\\n\"+e+\"</tr>\\n\"},i.prototype.tablecell=function(e,t){var n=t.header?\"th\":\"td\";return(t.align?\"<\"+n+' style=\"text-align:'+t.align+'\">':\"<\"+n+\">\")+e+\"</\"+n+\">\\n\"},i.prototype.strong=function(e){return\"<strong>\"+e+\"</strong>\"},i.prototype.em=function(e){return\"<em>\"+e+\"</em>\"},i.prototype.codespan=function(e){return\"<code>\"+e+\"</code>\"},i.prototype.br=function(){return this.options.xhtml?\"<br/>\":\"<br>\"},i.prototype.del=function(e){return\"<del>\"+e+\"</del>\"},i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(s(e)).replace(/[^\\w:]/g,\"\").toLowerCase()}catch(e){return\"\"}if(0===i.indexOf(\"javascript:\"))return\"\"}var r='<a href=\"'+e+'\"';return t&&(r+=' title=\"'+t+'\"'),r+=\">\"+n+\"</a>\"},i.prototype.image=function(e,t,n){var i='<img src=\"'+e+'\" alt=\"'+n+'\"';return t&&(i+=' title=\"'+t+'\"'),i+=this.options.xhtml?\"/>\":\">\"},r.parse=function(e,t,n){return new r(t,n).parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n=\"\";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;\"text\"===this.peek().type;)e+=\"\\n\"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case\"space\":return\"\";case\"def\":return this.renderer.def(this.token.id,this.token.href,this.token.title);case\"hr\":return this.renderer.hr();case\"heading\":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case\"code\":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case\"table\":var e,t,n,i,r=\"\",o=\"\";for(n=\"\",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n=\"\",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case\"blockquote_start\":for(var o=\"\";\"blockquote_end\"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case\"list_start\":for(var o=\"\",s=this.token.ordered;\"list_end\"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case\"list_item_start\":for(var o=\"\";\"list_item_end\"!==this.next().type;)o+=\"text\"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case\"loose_item_start\":for(var o=\"\";\"list_item_end\"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case\"html\":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case\"paragraph\":return this.renderer.paragraph(this.inline.output(this.token.text));case\"text\":return this.renderer.paragraph(this.parseText())}},l.exec=l,c.options=c.setOptions=function(e){return d(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:\"lang-\",smartypants:!1,headerPrefix:\"\",renderer:new i,xhtml:!1},c.Parser=r,c.parser=r.parse,c.Renderer=i,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=t,c.inlineLexer=t.output,c.parse=c,\"object\"==typeof exports?module.exports=c:\"function\"==typeof n&&n.amd?n(\"marked/marked\",[],function(){return c}):this.marked=c}.call(function(){return this||(\"undefined\"!=typeof window?window:global)}()),n(\"orion/hover\",[\"marked/marked\"],function(e){function t(e,t){this.editor=e,this.hoverFactory=t,this.inputManager=t.inputManager,this.serviceRegistry=t.serviceRegistry,this.commandRegistry=t.commandRegistry,this._qfToolbars=[]}function n(e,t,n){this.serviceRegistry=e,this.inputManager=t,this.commandRegistry=n,this.filterHoverPlugins(),this.inputManager.addEventListener(\"InputChanged\",function(){this.filterHoverPlugins()}.bind(this))}return t.prototype={computeHoverInfo:function(e){var t=[];return this.hoverFactory._applicableProviders.forEach(function(n){var i=this.serviceRegistry.getService(n);if(i&&i.computeHoverInfo){var r=this.editor.getEditorContext();t.push(i.computeHoverInfo(r,e))}}.bind(this)),t},renderMarkDown:function(t){return e(t,{sanitize:!0})},clearQuickFixes:function(){this._qfToolbars.forEach(function(e){e.destroy()}),this._qfToolbars=[]},renderQuickFixes:function(e,t,n){if(e&&n){var i=document.createElement(\"div\");i.classList.add(\"commandList\"),n.appendChild(i);var r=[],o=this.inputManager.getFileMetadata();o&&(o.annotation=e,this.commandRegistry.renderCommands(\"orion.edit.quickfix\",i,o,this.editor,\"quickfix\",e,r),delete o.annotation)}}},n.prototype={createHover:function(e){return new t(e,this)},filterHoverPlugins:function(){this._applicableProviders=[];for(var e=this.serviceRegistry.getServiceReferences(\"orion.edit.hover\"),t=0;t<e.length;t++){var n=e[t],i=this.inputManager.getContentType();if(i){var r=n.getProperty(\"contentType\");r&&-1!==r.indexOf(i.id)&&this._applicableProviders.push(n)}}}},{HoverFactory:n}}),n(\"orion/editor/contentAssist\",[\"i18n!orion/editor/nls/messages\",\"orion/keyBinding\",\"orion/editor/keyModes\",\"orion/editor/eventTarget\",\"orion/Deferred\",\"orion/objects\",\"orion/editor/tooltip\",\"orion/editor/util\",\"orion/util\",\"orion/webui/littlelib\",\"orion/metrics\"],function(e,t,n,i,r,o,s,a,l,d,c){function h(n,i){this.textView=n,i&&(this.pageMessage=i.getService(\"orion.page.message\")),this.state=p.INACTIVE,this.clearProviders();var r=this;this._textViewListeners={onModelChanging:function(e){this._latestModelChangingEvent=e,e&&this._updateFilterText(e)}.bind(this),onSelection:function(e){this.isDeactivatingChange(this._latestModelChangingEvent,e)?this.setState(p.INACTIVE):this.isActive()&&(this.state===p.ACTIVE&&this.setState(p.FILTERING),this.filterProposals()),this._latestModelChangingEvent=null}.bind(this),onScroll:function(e){this.setState(p.INACTIVE)}.bind(this)},n.setKeyBinding(l.isMac?new t.KeyBinding(\" \",!1,!1,!1,!0):new t.KeyBinding(\" \",!0),\"contentAssist\"),n.setKeyBinding(l.isMac?new t.KeyBinding(\" \",!1,!1,!0,!0):new t.KeyBinding(\" \",!0,!1,!0),\"contentAssist\"),n.setAction(\"contentAssist\",function(){return n.getOptions(\"readonly\")||r.activate(),!0},{name:e.contentAssist})}function u(e,t){var i=e.textView;n.KeyMode.call(this,i),this.contentAssist=e,this.widget=t,this.proposals=[];var r=this;this.contentAssist.addEventListener(\"ProposalsComputed\",function(e){if(r.proposals=e.data.proposals,0===r.proposals.length)r.selectedIndex=-1,r.cancel();else{for(r.selectedIndex=0;r.proposals[r.selectedIndex]&&r.proposals[r.selectedIndex].unselectable;)r.selectedIndex++;if(r.proposals[r.selectedIndex]){if(r.widget){var t=!0;if(e.autoApply){for(var n=r.selectedIndex+1;r.proposals[n]&&r.proposals[n].unselectable;)n++;r.proposals[n]||(t=!1,r.contentAssist.apply(r.proposals[r.selectedIndex]))}t&&(r.widget.show(),r.widget.selectNode(r.selectedIndex))}}else r.selectedIndex=-1,r.cancel()}}),i.setAction(\"contentAssistApply\",function(){return this.enter()}.bind(this)),i.setAction(\"contentAssistCancel\",function(){return this.cancel()}.bind(this)),i.setAction(\"contentAssistNextProposal\",function(){return this.lineDown()}.bind(this)),i.setAction(\"contentAssistPreviousProposal\",function(){return this.lineUp()}.bind(this)),i.setAction(\"contentAssistNextPage\",function(){return this.pageDown()}.bind(this)),i.setAction(\"contentAssistPreviousPage\",function(){return this.pageUp()}.bind(this)),i.setAction(\"contentAssistHome\",function(){return this.widget&&this.widget.scrollIndex(0,!0),this.lineDown(0)}.bind(this)),i.setAction(\"contentAssistEnd\",function(){return this.lineUp(this.proposals.length-1)}.bind(this)),i.setAction(\"contentAssistTab\",function(){return this.tab()}.bind(this)),this.widget&&(this.widget.setContentAssistMode(this),this.widget.createAccessible())}function f(e,t){this.contentAssist=e,this.textView=this.contentAssist.getTextView(),this.textViewListenerAdded=!1,this.isShowing=!1,this._useResizeTimer=!1;var n=this.textView.getOptions(\"parent\").ownerDocument;if(this.parentNode=\"string\"==typeof t?n.getElementById(t):t,!this.parentNode){this.parentNode=l.createElement(n,\"div\"),this.parentNode.className=\"contentassist\";var i=n.getElementsByTagName(\"body\")[0];if(!i)throw new Error(\"parentNode is required\");i.appendChild(this.parentNode)}var r=window.MutationObserver||window.MozMutationObserver;r&&l.isFirefox?this._mutationObserver=new r(function(e){this._contentAssistMode._showTooltip(!0,!0)}.bind(this)):this._useResizeTimer=!0,a.addEventListener(this.parentNode,\"scroll\",this.onScroll.bind(this));var o=this;this.textViewListener={onMouseDown:function(e){(e.event.target||e.event.srcElement).parentElement!==o.parentNode&&o.contentAssist.deactivate()}},this.contentAssist.addEventListener(\"Deactivating\",function(e){o.hide()}),this.scrollListener=function(e){o.isShowing&&o.position()},a.addEventListener(n,\"scroll\",this.scrollListener)}var p={INACTIVE:1,ACTIVE:2,FILTERING:3},g={selected:\"selected\",hr:\"proposal-hr\",emphasis:\"proposal-emphasis\",noemphasis:\"proposal-noemphasis\",noemphasis_keyword:\"proposal-noemphasis-keyword\",noemphasis_title:\"proposal-noemphasis-title\",noemphasis_title_keywords:\"proposal-noemphasis-title-keywords\",dfault:\"proposal-default\"};return h.prototype={apply:function(e){if(!e)return!1;var t=this.textView,n=t.getSelection(),i=this._initialCaretOffset,r=i,o=Math.max(n.start,n.end),s=o,a=t.getModel();a.getBaseModel&&(r=a.mapOffset(r),s=a.mapOffset(s),a=a.getBaseModel()),e.overwrite&&(i=\"string\"==typeof e.prefix?r-e.prefix.length:this.getPrefixStart(a,r));var l={proposal:e,start:r,end:s};this.setState(p.INACTIVE);var d=\"string\"==typeof e?e:e.proposal;if(t.setText(d,i,o),e.additionalEdits)for(var h,u=0;u<e.additionalEdits.length;u++)h=e.additionalEdits[u],t.setText(h.text,h.offset,h.offset+h.length);return this.dispatchEvent({type:\"ProposalApplied\",data:l}),c.logEvent(\"contentAssist\",\"apply\"),!0},activate:function(e,t){this.state===p.INACTIVE&&(c.logEvent(\"contentAssist\",\"activate\",void 0,t?0:1),this._autoTriggered=!!t,this.setState(p.ACTIVE,e))},deactivate:function(){this.setState(p.INACTIVE)},getTextView:function(){return this.textView},isActive:function(){return this.state===p.ACTIVE||this.state===p.FILTERING},isDeactivatingChange:function(e,t){var n=!1;return(Array.isArray(t.newValue)?t.newValue:[t.newValue])[0].start<this._initialCaretOffset||!e?n=!0:e&&(n=e.removedLineCount>0||e.addedLineCount>0),n},setState:function(e,t){var n;e===p.ACTIVE?(n=\"Activating\",this._mode&&this._mode.setActive(!0)):e===p.INACTIVE&&(n=\"Deactivating\",this._mode&&this._mode.setActive(!1)),n&&this.dispatchEvent({type:n,providers:t}),this.state=e,this.onStateChange(e)},setMode:function(e){this._mode=e},onStateChange:function(e){e===p.INACTIVE?(this._removeTextViewListeners(),this._filterText=\"\",this._initialCaretOffset=-1,this._computedProposals=null):e===p.ACTIVE&&(this._filterText=\"\",this._addTextViewListeners(),this.computeProposals())},computeProposals:function(){var e=this.textView.getCaretOffset(),t=this.textView.getSelection(),n=Math.min(t.start,t.end);this._initialCaretOffset=Math.min(e,n),this._computedProposals=null,this._computeProposals(this._initialCaretOffset).then(function(e){if(this.isActive()){var t=this._flatten(e);t&&Array.isArray(t)&&0<t.length&&(this._computedProposals=e),this.dispatchEvent({type:\"ProposalsComputed\",data:{proposals:t},autoApply:!this._autoTriggered}),this._computedProposals&&this._filterText&&this.filterProposals(!0)}}.bind(this))},getPrefixStart:function(e,t){for(var n=t;n>0&&/[A-Za-z0-9_]/.test(e.getText(n-1,n));)n--;return n},handleError:function(e){\"undefined\"!=typeof console&&(console.log(\"Error retrieving content assist proposals\"),console.log(e&&e.stack))},initialize:function(){this._providers.forEach(function(e){var t=e.provider;\"function\"==typeof t.initialize&&t.initialize()})},_computeProposals:function(t){var n=this._providers,i=this.textView,s=i.getSelection(),a=i.getModel(),l=t;a.getBaseModel&&(l=a.mapOffset(l),s.start=a.mapOffset(s.start),s.end=a.mapOffset(s.end),a=a.getBaseModel());for(var d=a.getLine(a.getLineAtOffset(l)),c=0;c<d.length&&/\\s/.test(d.charAt(c));)c++;var h=d.substring(0,c),u=i.getOptions(\"tabSize\",\"expandTab\"),f=u.expandTab?new Array(u.tabSize+1).join(\" \"):\"\\t\",p=a.getLineDelimiter(),g=this,v=n.map(function(e){var t,n,i,c,u,v,m=e.provider,_=m.computePrefix;if(_){t=g.editorContextProvider,n=t.getEditorContext();return _.apply(m,[n,l]).then(function(e){v={line:d,offset:l,prefix:e,selection:s,delimiter:p,tab:f,indentation:h};try{(c=m.computeContentAssist)?(v=o.mixin(v,t.getOptions()),u=c.apply(m,[n,v])):(c=m.getProposals||m.computeProposals)&&(u=c.apply(m,[a.getText(),l,v])),i=g.progress?g.progress.progress(u,\"Generating content assist proposal\"):u}catch(e){return(new r).reject(e)}return r.when(i)},function(e){return(new r).reject(e)})}v={line:d,offset:l,prefix:a.getText(g.getPrefixStart(a,l),l),selection:s,delimiter:p,tab:f,indentation:h};try{(c=m.computeContentAssist)?(t=g.editorContextProvider,n=t.getEditorContext(),v=o.mixin(v,t.getOptions()),u=c.apply(m,[n,v])):(c=m.getProposals||m.computeProposals)&&(u=c.apply(m,[a.getText(),l,v])),i=g.progress?g.progress.progress(u,\"Generating content assist proposal\"):u}catch(e){return(new r).reject(e)}return r.when(i)}),m=r.all(v,this.handleError);return this.pageMessage&&(m=r.when(m,function(t){g.pageMessage.close();var n=!1;if(t&&t.length>0)for(var i=0;i<t.length;i++)if(Array.isArray(t[i])&&t[i].length>0){n=!0;break}return n||g.pageMessage.setErrorMessage(e.noProposals),t}),this.pageMessage.showWhile(m,e.computingProposals)),m},filterProposals:function(e){if(this._computedProposals&&(this._latestModelChangingEvent||e)){var t=this.textView.getModel();t.getBaseModel&&(t=t.getBaseModel());var n=this.getPrefixStart(t,this._initialCaretOffset),i=this.textView.getText(n,this._initialCaretOffset),r=i,o=[];this._computedProposals.forEach(function(e){if(e&&Array.isArray(e)){var t=e.filter(function(e){function t(e,t){var n=t.replace(/([.+^=!:${}()|\\[\\]\\/\\\\])/g,\"\\\\$1\");return n=n.replace(/([*?])/g,\".$1\"),new RegExp(\"^\"+e+n,\"i\")}var n;if(!e)return!1;if(r=\"string\"==typeof e.prefix?e.prefix:i,g[e.style]===g.hr||g[e.style]===g.noemphasis_title)return!0;var o=\"\";if(e.overwrite){if(e.name)o=e.name;else{if(!e.proposal)return!1;o=e.proposal}return n=t(r,this._filterText),n.test(o)}if(e.name||e.proposal){var s=!1;return e.name&&(n=t(r,this._filterText),s=n.test(e.name)),!s&&e.proposal&&(n=t(\"\",this._filterText),s=n.test(e.proposal)),s}return\"string\"==typeof e&&(n=t(\"\",this._filterText),n.test(e))},this);t.length>0&&o.push(t)}},this);var s=[];o&&(o=this._removeExtraUnselectableElements(o),s=this._flatten(o)),this.dispatchEvent({type:\"ProposalsComputed\",data:{proposals:s},autoApply:!1})}},_removeExtraUnselectableElements:function(e){return e.map(function(e){return e.filter(function(t,n){var i=!0;if(g[t.style]===g.hr)0===n||e.length-1===n?i=!1:g.hr===g[e[n-1].style]&&(i=!1);else if(g[t.style]===g.noemphasis_title){var r=e[n+1];r?g[r.style]===g.noemphasis_title&&(i=!1):i=!1}return i})})},setEditorContextProvider:function(e){this.editorContextProvider=e},_generateProviderId:function(){return this._idcount?this._idcount++:this._idcount=0,\"ContentAssistGeneratedID_\"+this._idcount},setAutoTriggerEnabled:function(e){this._autoTriggerEnabled=e,this._updateAutoTriggerListenerState()},setProviders:function(e){var t=this;this.setProviderInfoArray(e.map(function(e){return e.id?e:{provider:e,id:t._generateProviderId()}}))},setProviderInfoArray:function(e){this.clearProviders(),this._providers=e,this._charTriggersInstalled=e.some(function(e){return e.charTriggers}),this._updateAutoTriggerListenerState()},getProviders:function(){return this._providers.slice()},clearProviders:function(){this._providers=[],this._charTriggersInstalled=!1,this._updateAutoTriggerListenerState()},setProgress:function(e){this.progress=e},setStyleAccessor:function(e){this._styleAccessor=e},_flatten:function(e){return e.reduce(function(e,t){var n=e,i=null;if(t&&Array.isArray(t)&&(i=t.filter(function(e){return e})),i&&Array.isArray(i)&&i.length>0){var r=i,o=e,s=i[0].style\n;if(s&&g[s]&&0===g[s].indexOf(g.noemphasis)&&(r=e,o=i),r.length>0){var a=r[r.length-1].style;a&&g.hr!==g[a]&&(r=r.concat({proposal:\"\",name:\"\",description:\"---------------------------------\",style:\"hr\",unselectable:!0}))}n=r.concat(o)}return n},[])},_triggerListener:function(){var e=this.textView.getCaretOffset(),t=null,n=[];if(this._charTriggersInstalled){var i=this.textView.getText(e-1,e);this._providers.forEach(function(r){var o=r.charTriggers;if(o&&o.test(i)){var s=!1,a=r.excludedStyles;this._styleAccessor&&a&&(t||(t=this._styleAccessor.getStyles(e-1)),s=t.some(function(e){return a.test(e.style)})),s||n.push(r)}},this),n.length>0&&this.activate(n,!0)}},_updateAutoTriggerListenerState:function(){this._boundTriggerListener||(this._boundTriggerListener=this._triggerListener.bind(this)),this._triggerListenerInstalled?this._autoTriggerEnabled&&this._charTriggersInstalled||(this.textView.removeEventListener(\"Modify\",this._boundTriggerListener),this._triggerListenerInstalled=!1):this._autoTriggerEnabled&&this._charTriggersInstalled&&(this.textView.addEventListener(\"Modify\",this._boundTriggerListener),this._triggerListenerInstalled=!0)},_addTextViewListeners:function(){this._textViewListenersAdded||(this.textView.addEventListener(\"ModelChanging\",this._textViewListeners.onModelChanging),this.textView.addEventListener(\"Scroll\",this._textViewListeners.onScroll),this.textView.addEventListener(\"Selection\",this._textViewListeners.onSelection),this._textViewListenersAdded=!0)},_removeTextViewListeners:function(){this._textViewListenersAdded&&(this._latestModelChangingEvent=null,this.textView.removeEventListener(\"ModelChanging\",this._textViewListeners.onModelChanging),this.textView.removeEventListener(\"Scroll\",this._textViewListeners.onScroll),this.textView.removeEventListener(\"Selection\",this._textViewListeners.onSelection),this._textViewListenersAdded=!1)},_updateFilterText:function(e){var t=e.removedCharCount;if(t){var n=this._filterText.length-t;this._filterText=this._filterText.substring(0,n)}var i=e.text;i&&(this._filterText=this._filterText.concat(i))}},i.EventTarget.addMixin(h.prototype),u.prototype=new n.KeyMode,o.mixin(u.prototype,{createKeyBindings:function(){var e=t.KeyBinding,n=[];return n.push({actionID:\"contentAssistApply\",keyBinding:new e(13)}),n.push({actionID:\"contentAssistCancel\",keyBinding:new e(27)}),n.push({actionID:\"contentAssistNextProposal\",keyBinding:new e(40)}),n.push({actionID:\"contentAssistPreviousProposal\",keyBinding:new e(38)}),n.push({actionID:\"contentAssistNextPage\",keyBinding:new e(34)}),n.push({actionID:\"contentAssistPreviousPage\",keyBinding:new e(33)}),n.push({actionID:\"contentAssistHome\",keyBinding:new e(d.KEY.HOME)}),n.push({actionID:\"contentAssistEnd\",keyBinding:new e(d.KEY.END)}),n.push({actionID:\"contentAssistTab\",keyBinding:new e(9)}),n},cancel:function(){this.getContentAssist().deactivate()},getContentAssist:function(){return this.contentAssist},getProposals:function(){return this.proposals},isActive:function(){return this.getContentAssist().isActive()},setActive:function(e){e?this.contentAssist.textView.addKeyMode(this):this.contentAssist.textView.removeKeyMode(this)},lineUp:function(e,t){return this.selectNew(e,t,!1)},lineDown:function(e,t){return this.selectNew(e,t,!0)},selectNew:function(e,t,n){var i=e;if(n){if(void 0===i&&(i=this.selectedIndex+1),i>=this.proposals.length){if(t)return!0;i=0}}else if(void 0===i&&(i=this.selectedIndex-1),0>i){if(t)return!0;i=this.proposals.length-1}for(var r=i;this.proposals[i]&&this.proposals[i].unselectable;){if(n){if(++i>=this.proposals.length){if(t)return!0;i=0}}else if(0>--i){if(t)return!0;i=this.proposals.length-1}if(i===r){i=-1;break}}return this.selectedIndex=i,this.widget&&this.widget.selectNode(i),this._showTooltip(!0),!0},_showTooltip:function(e,t){var n=s.Tooltip.getTooltip(this.contentAssist.textView),i=this,r={getTooltipInfo:function(){var e=i.widget.parentNode.getBoundingClientRect(),t={width:350,height:e.height,top:e.top};return e.left+e.width>=document.documentElement.clientWidth?(t.left=e.left-t.width,t.left-=10):(t.left=e.left+e.width,t.left+=10),{context:{proposal:i.proposals[i.selectedIndex]},anchorArea:e,tooltipArea:t}}};e?n.update(r,t):n.show(r,!0,!1)},_hideTooltip:function(){s.Tooltip.getTooltip(this.contentAssist.textView).hide(!0)},pageUp:function(){if(this.widget){var e=this.widget.getTopIndex();return e===this.selectedIndex&&(this.widget.scrollIndex(e,!1),e=this.widget.getTopIndex()),0===e?this.lineDown(e,!0):this.lineUp(e,!0)}return this.lineUp()},pageDown:function(){if(this.widget){var e=this.widget.getBottomIndex();return e===this.selectedIndex&&(this.widget.scrollIndex(e,!0),e=this.widget.getBottomIndex()),this.lineDown(e,!0)}return this.lineDown()},enter:function(){var e=this.proposals[this.selectedIndex]||null;return this.contentAssist.apply(e)},tab:function(){return!!this.widget&&(this.widget.parentNode.focus(),!0)}}),f.prototype={onClick:function(e){e||(e=window.event),this.contentAssist.apply(this.getProposal(e.target||e.srcElement)),this.textView.focus()},onScroll:function(e){this.previousCloneNode&&!this.preserveCloneThroughScroll&&(this._removeCloneNode(),this.previousSelectedNode.classList.add(g.selected)),this.preserveCloneThroughScroll=!1},createDiv:function(e,t,n){var i=t.ownerDocument,r=l.createElement(i,\"div\");r.id=\"contentoption\"+n,r.setAttribute(\"role\",\"option\"),r.className=g[e.style]?g[e.style]:g.dfault;var o;\"hr\"===e.style?o=l.createElement(i,\"hr\"):(o=this._createDisplayNode(e,n),r.contentAssistProposalIndex=n),r.appendChild(o),t.appendChild(r)},createAccessible:function(){var e=this._contentAssistMode,t=this;a.addEventListener(this.parentNode,\"keydown\",function(n){return n||(n=window.event),n.preventDefault&&n.preventDefault(),n.keyCode===d.KEY.ESCAPE?e.cancel():n.keyCode===d.KEY.UP?e.lineUp():n.keyCode===d.KEY.DOWN?e.lineDown():n.keyCode===d.KEY.ENTER?e.enter():n.keyCode===d.KEY.PAGEDOWN?e.pageDown():n.keyCode===d.KEY.PAGEUP?e.pageUp():n.keyCode===d.KEY.HOME?(t.scrollIndex(0,!0),e.lineDown(0)):n.keyCode===d.KEY.END&&e.lineUp(e.getProposals().length-1)})},_createDisplayNode:function(e,t){var n=document.createElement(\"span\");if(!e)return n;if(\"string\"==typeof e){var i=this._createNameNode(e);return i.contentAssistProposalIndex=t,i}var r,o;if(e.name&&\"string\"==typeof e.name)r=this._createNameNode(e.name);else if(e.description&&\"string\"==typeof e.description)r=this._createNameNode(e.description),o=!0;else{if(!e.proposal||\"string\"!=typeof e.proposal)return n;r=this._createNameNode(e.proposal)}var s,a=this._createTagsNode(e.tags);return!o&&e.description&&\"string\"==typeof e.description&&(s=document.createTextNode(e.description)),a&&n.appendChild(a),n.appendChild(r),s&&n.appendChild(s),r.contentAssistProposalIndex=t,n.contentAssistProposalIndex=t,n},_stopResizeTimer:function(){this._resizeTimer&&(window.clearInterval(this._resizeTimer),this._resizeTimer=null)},_startResizeTimer:function(){this._stopResizeTimer(),this._cachedResizeBound=this.parentNode.getBoundingClientRect(),this._resizeTimer=window.setInterval(function(){if(this._contentAssistMode){var e=this.parentNode.getBoundingClientRect();if(e.left===this._cachedResizeBound.left&&e.top===this._cachedResizeBound.top&&e.width===this._cachedResizeBound.width&&e.height===this._cachedResizeBound.height)return;this._cachedResizeBound=e,this._contentAssistMode._showTooltip(!0,!0)}}.bind(this),100)},_createNameNode:function(e){var t=document.createElement(\"span\");return t.classList.add(\"proposal-name\"),t.appendChild(document.createTextNode(e)),t},_createTagsNode:function(e){var t=null;if(e&&e.constructor===Array&&e.length>0){t=document.createElement(\"span\");for(var n=0;n<e.length;n++){var i=e[n];if(i.content||i.cssClass){var r=document.createElement(\"span\");i.cssClass?r.classList.add(i.cssClass):r.classList.add(\"proposalTag\"),i.content&&(r.textContent=i.content),t.appendChild(r)}}}return t},getProposal:function(e){var t=null,n=e.contentAssistProposalIndex;return void 0!==n&&(t=this._contentAssistMode.getProposals()[n]||null),t},getTopIndex:function(){for(var e=this.parentNode.childNodes,t=0;t<e.length;t++){if(e[t].offsetTop>=this.parentNode.scrollTop)return t}return 0},getBottomIndex:function(){for(var e=this.parentNode.childNodes,t=0;t<e.length;t++){var n=e[t];if(n.offsetTop+n.offsetHeight>this.parentNode.scrollTop+this.parentNode.clientHeight)return Math.max(0,t-1)}return e.length-1},scrollIndex:function(e,t){var n=this.parentNode.childNodes[e];n&&(n.scrollIntoView(t),this.preserveCloneThroughScroll=!0)},selectNode:function(e){var t=null;if(this._hideTimeout&&(window.clearTimeout(this._hideTimeout),this._hideTimeout=null),this._fadeTimer&&(window.clearTimeout(this._fadeTimer),this._fadeTimer=null),this.previousSelectedNode&&(this.previousSelectedNode.classList.remove(g.selected),this.previousSelectedNode=null,this.previousCloneNode&&this._removeCloneNode()),-1!==e&&(t=this.parentNode.childNodes[e])){t.classList.add(g.selected),this.parentNode.setAttribute(\"aria-activedescendant\",t.id),t.focus(),t.offsetTop<this.parentNode.scrollTop?(t.scrollIntoView(!0),this.preserveCloneThroughScroll=!0):t.offsetTop+t.offsetHeight>this.parentNode.scrollTop+this.parentNode.clientHeight&&(t.scrollIntoView(!1),this.preserveCloneThroughScroll=!0);var n=t.firstChild||t,i=n.getBoundingClientRect(),r=this.parentNode.clientWidth?this.parentNode.clientWidth:this.parentNode.getBoundingClientRect(),o=window.getComputedStyle(this.parentNode),s=window.getComputedStyle(t),a=parseInt(o.paddingLeft)+parseInt(o.paddingRight)+parseInt(s.paddingLeft)+parseInt(s.paddingRight);if(i.width>=r-a){var l=parseInt(o.top),d=t.cloneNode(!0);d.classList.add(\"cloneProposal\"),d.style.top=l+t.offsetTop-this.parentNode.scrollTop+\"px\",d.style.left=o.left,d.setAttribute(\"id\",d.id+\"_clone\");var c=document.documentElement.clientWidth,h=i.left+i.width-parseInt(c);if(h>0){var u=parseInt(o.left)-h;0>u&&(u=0),d.style.left=u+\"px\"}var f=document.createElement(\"div\");f.id=\"clone_contentassist\",f.classList.add(\"contentassist\"),f.classList.add(\"cloneWrapper\"),f.appendChild(d),f.onclick=this.parentNode.onclick,this.parentNode.parentNode.insertBefore(f,this.parentNode);var p=function(e){if(e.contentAssistProposalIndex=t.contentAssistProposalIndex,e.hasChildNodes())for(var n=0;n<e.childNodes.length;n++)p(e.childNodes[n])};p(f);var v=this;this._hideTimeout=window.setTimeout(function(){v._hideTimeout=null,t.classList.add(g.selected);var e=1;v._fadeTimer=window.setInterval(function(){!v.previousCloneNode||e<=.01?(v._removeCloneNode(),window.clearInterval(v._fadeTimer),v._fadeTimer=null):(f.style.opacity=e,f.style.filter=\"alpha(opacity=\"+100*e+\")\",e-=.1*e)},50)},1500),t.classList.remove(g.selected),this.previousCloneNode=f}}this.previousSelectedNode=t},setContentAssistMode:function(e){this._contentAssistMode=e},show:function(){var e=this._contentAssistMode.getProposals();if(0===e.length)this.hide();else{this.parentNode.innerHTML=\"\";for(var t=0;t<e.length;t++)this.createDiv(e[t],this.parentNode,t);this.position(),this.parentNode.onclick=this.onClick.bind(this),this.isShowing=!0,this._contentAssistMode._showTooltip(!1),this._useResizeTimer?this._startResizeTimer():this._mutationObserver&&this._mutationObserver.observe(this.parentNode,{attributes:!0}),this.textViewListenerAdded||(this.textView.addEventListener(\"MouseDown\",this.textViewListener.onMouseDown),this.textViewListenerAdded=!0)}},hide:function(){this.parentNode.ownerDocument.activeElement===this.parentNode&&this.textView.focus(),this.parentNode.style.display=\"none\",this.parentNode.onclick=null,this.isShowing=!1,this._useResizeTimer?this._stopResizeTimer():this._mutationObserver&&this._mutationObserver.disconnect(),this._contentAssistMode._hideTooltip(),this.textViewListenerAdded&&(this.textView.removeEventListener(\"MouseDown\",this.textViewListener.onMouseDown),this.textViewListenerAdded=!1),this.previousSelectedNode&&(this.previousSelectedNode=null,this.previousCloneNode&&this._removeCloneNode())},position:function(){var e,t=this.contentAssist,n=this.textView;if(void 0!==t.offset){e=t.offset;var i=n.getModel();i.getBaseModel&&(e=i.mapOffset(e,!0))}else e=this.textView.getCaretOffset();var r=n.getLocationAtOffset(e);r.y+=n.getLineHeight(),this.textView.convert(r,\"document\",\"page\"),this.parentNode.style.position=\"fixed\",this.parentNode.style.left=r.x+\"px\",this.parentNode.style.top=r.y+\"px\",this.parentNode.style.display=\"block\",this.parentNode.scrollTop=0;var o=this.parentNode.ownerDocument,s=o.documentElement.clientWidth,a=o.documentElement.clientHeight,l=a-r.y;if(this.parentNode.offsetHeight>l){var d=r.y-this.textView.getLineHeight();this.parentNode.offsetHeight>d?l>d?this.parentNode.style.maxHeight=l+\"px\":(this.parentNode.style.maxHeight=d+\"px\",this.parentNode.style.top=\"0\"):(this.parentNode.style.top=r.y-this.parentNode.offsetHeight-this.textView.getLineHeight()+\"px\",this.parentNode.style.maxHeight=d+\"px\")}else this.parentNode.style.maxHeight=l+\"px\";if(r.x+this.parentNode.offsetWidth>s){var c=s-this.parentNode.offsetWidth;c<0&&(c=0),this.parentNode.style.left=c+\"px\",this.parentNode.style.maxWidth=s-c}else this.parentNode.style.maxWidth=s+r.x+\"px\"},_removeCloneNode:function(){this.parentNode.parentNode.contains(this.previousCloneNode)&&this.parentNode.parentNode.removeChild(this.previousCloneNode),this.previousCloneNode=null}},{ContentAssist:h,ContentAssistMode:u,ContentAssistWidget:f}}),n(\"orion/editor/emacs\",[\"i18n!orion/editor/nls/messages\",\"orion/editor/keyModes\",\"orion/keyBinding\",\"orion/util\"],function(e,t,n,i){function r(e){t.KeyMode.call(this,e)}return r.prototype=new t.KeyMode,r.prototype.createKeyBindings=function(){var e=[];e.push({actionID:\"emacs-beginning-of-line\",keyBinding:this._createStroke(\"a\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-end-of-line\",keyBinding:this._createStroke(\"e\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-forward-char\",keyBinding:this._createStroke(\"f\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-backward-char\",keyBinding:this._createStroke(\"b\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-forward-word\",keyBinding:this._createStroke(\"f\",!1,!1,!0)}),e.push({actionID:\"emacs-backward-word\",keyBinding:this._createStroke(\"b\",!1,!1,!0)}),e.push({actionID:\"emacs-next-line\",keyBinding:this._createStroke(\"n\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-previous-line\",keyBinding:this._createStroke(\"p\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-beginning-of-buffer\",keyBinding:this._createStroke(188,!1,!0,!0)}),e.push({actionID:\"emacs-end-of-buffer\",keyBinding:this._createStroke(190,!1,!0,!0)}),e.push({actionID:\"emacs-delete-backward-char\",keyBinding:this._createStroke(46,!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-delete-char\",keyBinding:this._createStroke(\"d\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-kill-line\",keyBinding:this._createStroke(\"k\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-kill-word\",keyBinding:this._createStroke(\"d\",!1,!1,!0)}),e.push({actionID:\"emacs-backward-kill-word\",keyBinding:this._createStroke(46,!1,!1,!0)}),e.push({actionID:\"undo\",keyBinding:this._createSequence([this._createStroke(\"x\",!0),this._createStroke(\"u\")])}),e.push({actionID:\"redo\",keyBinding:this._createSequence([this._createStroke(\"x\",!0),this._createStroke(\"r\")])}),e.push({actionID:\"emacs-scroll-up\",keyBinding:this._createStroke(\"v\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-scroll-down\",keyBinding:this._createStroke(\"v\",!1,!1,!0)}),e.push({actionID:\"emacs-set-mark-command\",keyBinding:this._createStroke(\" \",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-reset-mark-command\",keyBinding:this._createStroke(\"g\",!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-exchange-point-and-mark\",keyBinding:this._createSequence([this._createStroke(\"x\",!i.isMac,!1,!1,i.isMac),this._createStroke(\"x\",!i.isMac,!1,!1,i.isMac)])});for(var t=0;t<=9;t++)e.push({actionID:\"emacs-digit-argument-\"+t,keyBinding:this._createStroke(48+t,!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-digit-argument-\"+t,keyBinding:this._createStroke(48+t,!1,!1,!0)}),e.push({actionID:\"emacs-digit-argument-\"+t,keyBinding:this._createStroke(48+t,!i.isMac,!1,!0,i.isMac)});return e.push({actionID:\"emacs-negative-argument\",keyBinding:this._createStroke(189,!i.isMac,!1,!1,i.isMac)}),e.push({actionID:\"emacs-negative-argument\",keyBinding:this._createStroke(189,!1,!1,!0)}),e.push({actionID:\"emacs-negative-argument\",keyBinding:this._createStroke(189,!i.isMac,!1,!0,i.isMac)}),e.push({actionID:\"emacs-uppercase\",keyBinding:this._createStroke(\"u\",!1,!1,!0)}),e.push({actionID:\"emacs-lowercase\",keyBinding:this._createStroke(\"l\",!1,!1,!0)}),e.push({actionID:\"emacs-capitalize\",keyBinding:this._createStroke(\"c\",!1,!1,!0)}),e.push({actionID:\"contentAssist\",keyBinding:this._createStroke(191,!1,!1,!0)}),e.push({actionID:\"find\",keyBinding:this._createStroke(\"r\",!1,!1,!0)}),e.push({actionID:\"incrementalFind\",keyBinding:this._createStroke(\"s\",!0)}),e.push({actionID:\"incrementalFindReverse\",keyBinding:this._createStroke(\"r\",!0)}),e.push({actionID:\"save\",keyBinding:this._createSequence([this._createStroke(\"x\",!i.isMac,!1,!1,i.isMac),this._createStroke(\"s\",!i.isMac,!1,!1,i.isMac)])}),this._createActions(this.getView()),e},r.prototype._createStroke=function(t,i,r,o,s){var a=new n.KeyStroke(t,i,r,o,s);return a.scopeName=e.emacs,a},r.prototype._createSequence=function(t){var i=new n.KeySequence(t);return i.scopeName=e.emacs,i},r.prototype._getData=function(){var e={count:(this._argument||1)*(this._sign||1)};return this._argument=0,this._sign=1,e},r.prototype._moveCursor=function(e){var t=this._getData();return this._marker&&(t.select=!0),this.getView().invokeAction(e,!1,t)},r.prototype._digitArgument=function(e){return this._argument=10*(this._argument||0)+e,!0},r.prototype._negativeArgument=function(){return this._sign=-1*(this._sign||1),!0},r.prototype._createActions=function(t){var n=this;t.setAction(\"emacs-beginning-of-line\",function(){return n._moveCursor(\"lineStart\")},{name:e.lineStart}),t.setAction(\"emacs-end-of-line\",function(){return n._moveCursor(\"lineEnd\")},{name:e.lineEnd}),t.setAction(\"emacs-forward-char\",function(){return n._moveCursor(\"charNext\")},{name:e.charNext}),t.setAction(\"emacs-backward-char\",function(){return n._moveCursor(\"charPrevious\")},{name:e.charPrevious}),t.setAction(\"emacs-forward-word\",function(){return n._moveCursor(\"wordNext\")},{name:e.wordNext}),t.setAction(\"emacs-backward-word\",function(){return n._moveCursor(\"wordPrevious\")},{name:e.wordPrevious}),t.setAction(\"emacs-next-line\",function(){return n._moveCursor(\"lineDown\")},{name:e.lineDown}),t.setAction(\"emacs-previous-line\",function(){return n._moveCursor(\"lineUp\")},{name:e.lineUp}),t.setAction(\"emacs-beginning-of-buffer\",function(){return n._moveCursor(\"textStart\")},{name:e.textStart}),t.setAction(\"emacs-end-of-buffer\",function(){return n._moveCursor(\"textEnd\")},{name:e.textEnd}),t.setAction(\"emacs-delete-backward-char\",function(){return t.invokeAction(\"deletePrevious\")},{name:e.deletePrevious}),t.setAction(\"emacs-delete-char\",function(){return t.invokeAction(\"deletePrevious\")},{name:e.deletePrevious}),t.setAction(\"emacs-kill-line\",function(){return t.invokeAction(\"deleteLineEnd\")},{name:e.deleteLineEnd}),t.setAction(\"emacs-kill-word\",function(){return t.invokeAction(\"deleteWordNext\")},{name:e.deleteWordNext}),t.setAction(\"emacs-backward-kill-word\",function(){return t.invokeAction(\"deleteWordPrevious\")},{name:e.deleteWordPrevious}),t.setAction(\"emacs-scroll-up\",function(){return n._moveCursor(\"pageDown\")},{name:e.pageDown}),t.setAction(\"emacs-scroll-down\",function(){return n._moveCursor(\"pageUp\")},{name:e.pageUp}),t.setAction(\"emacs-set-mark-command\",function(){var e=t.getCaretOffset();return t.setCaretOffset(e),n._marker=e,!0},{name:e.setMarkCommand}),t.setAction(\"emacs-exchange-point-and-mark\",function(){if(void 0!==n._marker){var e=t.getCaretOffset(),i=t.getSelection();if(i.end===e){var r=i.start;i.start=i.end,i.end=r}n._marker=e,t.setSelection(i.start,i.end)}return!0},{name:e.exchangeMarkPoint}),t.setAction(\"emacs-reset-mark-command\",function(){var e=t.getCaretOffset();return t.setCaretOffset(e),n._marker=void 0,!0},{name:e.clearMark}),t.setAction(\"emacs-digit-argument-0\",function(){return n._digitArgument(0)},{name:i.formatMessage(e.digitArgument,\"0\")}),t.setAction(\"emacs-digit-argument-1\",function(){return n._digitArgument(1)},{name:i.formatMessage(e.digitArgument,\"1\")}),t.setAction(\"emacs-digit-argument-2\",function(){return n._digitArgument(2)},{name:i.formatMessage(e.digitArgument,\"2\")}),t.setAction(\"emacs-digit-argument-3\",function(){return n._digitArgument(3)},{name:i.formatMessage(e.digitArgument,\"3\")}),t.setAction(\"emacs-digit-argument-4\",function(){return n._digitArgument(4)},{name:i.formatMessage(e.digitArgument,\"4\")}),t.setAction(\"emacs-digit-argument-5\",function(){return n._digitArgument(5)},{name:i.formatMessage(e.digitArgument,\"5\")}),t.setAction(\"emacs-digit-argument-6\",function(){return n._digitArgument(6)},{name:i.formatMessage(e.digitArgument,\"6\")}),t.setAction(\"emacs-digit-argument-7\",function(){return n._digitArgument(7)},{name:i.formatMessage(e.digitArgument,\"7\")}),t.setAction(\"emacs-digit-argument-8\",function(){return n._digitArgument(8)},{name:i.formatMessage(e.digitArgument,\"8\")}),t.setAction(\"emacs-digit-argument-9\",function(){return n._digitArgument(9)},{name:i.formatMessage(e.digitArgument,\"9\")}),t.setAction(\"emacs-negative-argument\",function(){return n._negativeArgument()},{name:e.negativeArgument}),t.setAction(\"emacs-uppercase\",function(){var e=n._getData();return e.unit=\"word\",t.invokeAction(\"uppercase\",!1,e)},{name:e.uppercase}),t.setAction(\"emacs-lowercase\",function(){var e=n._getData();return e.unit=\"word\",t.invokeAction(\"lowercase\",!1,e)},{name:e.lowercase}),t.setAction(\"emacs-capitalize\",function(){var e=n._getData();return e.unit=\"word\",t.invokeAction(\"capitalize\",!1,e)},{name:e.capitalize})},{EmacsMode:r}}),n(\"orion/editor/vi\",[\"i18n!orion/editor/nls/messages\",\"orion/editor/keyModes\",\"orion/keyBinding\",\"orion/util\"],function(e,t,n,i){function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function o(t,i,r,o,s,a,l){var d=new n.KeyStroke(t,i,r,o,s,a);return d.scopeName=l||e.vi,d}function s(t,i){var r=new n.KeySequence(t);return r.scopeName=i||e.vi,r}function a(e,n,i){this.key=n,this.msg=i,this.number=\"\",t.KeyMode.call(this,e),e&&this._createActions(e)}function l(e){var n=e.getView();this.viMode=e,t.KeyMode.call(this,n),this._createActions(n)}function d(e,t,n,i){this.viMode=e,this.nextMode=t,a.call(this,e.getView(),n,i)}function c(e){var n=e.getView();t.KeyMode.call(this,n),this.viMode=e,this._createActions(n)}function h(t,n){a.call(this,t,\"\",e.vimove),this.insertMode=new c(this),this.changeMode=new d(this,this.insertMode,\"c\",e.vichange),this.deleteMode=new d(this,this,\"d\",e.videlete),this.yankMode=new d(this,this,\"y\",e.viyank),this.statusReporter=n}var u,f;return a.prototype=new t.KeyMode,r(a.prototype,{_msg:function(t){return{name:i.formatMessage(e[t],this.msg)}},createKeyBindings:function(){var e=[],t=this.key;t=t?\"-\"+t+\"-\":\"-\";for(var n=0;n<=9;n++)e.push({actionID:\"vi\"+t+n,keyBinding:o(n+\"\",!1,!1,!1,!1,\"keypress\"),predefined:!0});return e.push({actionID:\"vi\"+t+\"Left\",keyBinding:o(\"h\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"Left\",keyBinding:o(\"h\",!0,!1,!1,!1)}),e.push({actionID:\"vi\"+t+\"Left\",keyBinding:o(8)}),e.push({actionID:\"vi\"+t+\"Left\",keyBinding:o(37)}),e.push({actionID:\"vi\"+t+\"Down\",keyBinding:o(\"j\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"Down\",keyBinding:o(40)}),e.push({actionID:\"vi\"+t+\"Up\",keyBinding:o(\"k\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"Up\",keyBinding:o(38)}),e.push({actionID:\"vi\"+t+\"Right\",keyBinding:o(\"l\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"Right\",keyBinding:o(39)}),e.push({actionID:\"vi\"+t+\"Right\",keyBinding:o(32)}),e.push({actionID:\"vi\"+t+\"w\",keyBinding:o(\"w\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"b\",keyBinding:o(\"b\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"W\",keyBinding:o(\"W\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"B\",keyBinding:o(\"B\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"e\",keyBinding:o(\"e\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"E\",keyBinding:o(\"E\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"$\",keyBinding:o(\"$\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"^_\",keyBinding:o(\"^\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"^_\",keyBinding:o(\"_\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"+\",keyBinding:o(\"+\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"+\",keyBinding:o(13)}),e.push({actionID:\"vi\"+t+\"-\",keyBinding:o(\"-\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"|\",keyBinding:o(\"|\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"H\",keyBinding:o(\"H\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"M\",keyBinding:o(\"M\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"L\",keyBinding:o(\"L\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"/\",keyBinding:o(\"/\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"?\",keyBinding:o(\"?\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"n\",keyBinding:o(\"n\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"N\",keyBinding:o(\"N\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"f\",keyBinding:o(\"f\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"F\",keyBinding:o(\"F\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"t\",keyBinding:o(\"t\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"T\",keyBinding:o(\"T\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\",\",keyBinding:o(\",\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\";\",keyBinding:o(\";\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi\"+t+\"G\",keyBinding:o(\"G\",!1,!1,!1,!1,\"keypress\")}),e},_createActions:function(e){function t(t){for(var n=e.getModel(),i=n.getLine(t),r=0,o=i.charCodeAt(r);32===o||9===o;)r++,o=i.charCodeAt(r);return r}function n(e,t){e&&r.getView().setCaretOffset(e.start),t.editDone&&t.editDone()}var i=this.key;i=i?\"-\"+i+\"-\":\"-\";var r=this;e.setAction(\"vi\"+i+\"0\",function(){return r._storeNumber(0)}),e.setAction(\"vi\"+i+\"1\",function(){return r._storeNumber(1)}),e.setAction(\"vi\"+i+\"2\",function(){return r._storeNumber(2)}),e.setAction(\"vi\"+i+\"3\",function(){return r._storeNumber(3)}),e.setAction(\"vi\"+i+\"4\",function(){return r._storeNumber(4)}),e.setAction(\"vi\"+i+\"5\",function(){return r._storeNumber(5)}),e.setAction(\"vi\"+i+\"6\",function(){return r._storeNumber(6)}),e.setAction(\"vi\"+i+\"7\",function(){return r._storeNumber(7)}),e.setAction(\"vi\"+i+\"8\",function(){return r._storeNumber(8)}),e.setAction(\"vi\"+i+\"9\",function(){return r._storeNumber(9)}),e.setAction(\"vi\"+i+\"Left\",function(){return r._invoke(\"charPrevious\",{unit:\"character\"})},this._msg(\"viLeft\")),e.setAction(\"vi\"+i+\"Right\",function(){return r._invoke(\"charNext\",{unit:\"character\"})},this._msg(\"viRight\")),e.setAction(\"vi\"+i+\"Up\",function(){return r._invoke(\"lineUp\",{editLine:!0})},this._msg(\"viUp\")),e.setAction(\"vi\"+i+\"Down\",function(){return r._invoke(\"lineDown\",{editLine:!0})},this._msg(\"viDown\")),e.setAction(\"vi\"+i+\"w\",function(){return r._invoke(\"wordNext\",{unit:\"word\"})},this._msg(\"viw\")),e.setAction(\"vi\"+i+\"b\",function(){return r._invoke(\"wordPrevious\",{unit:\"word\"})},this._msg(\"vib\")),e.setAction(\"vi\"+i+\"W\",function(){return r._invoke(\"wordNext\",{unit:\"wordWS\"})},this._msg(\"viW\")),e.setAction(\"vi\"+i+\"B\",function(){return r._invoke(\"wordPrevious\",{unit:\"wordWS\"})},this._msg(\"viB\")),e.setAction(\"vi\"+i+\"e\",function(){return r._invoke(\"charNext\",{unit:\"character\"}),r._invoke(\"wordNext\",{unit:\"wordend\"}),r._invoke(\"charPrevious\",{unit:\"character\"}),!0},this._msg(\"vie\")),e.setAction(\"vi\"+i+\"E\",function(){return r._invoke(\"wordNext\",{unit:\"wordendWS\"})},this._msg(\"viE\")),e.setAction(\"vi\"+i+\"$\",function(){return r._invoke(\"lineEnd\")},this._msg(\"vi$\")),e.setAction(\"vi\"+i+\"^_\",function(){return r._invoke(function(){var n=e.getModel(),i=e.getCaretOffset(),r=n.getLineAtOffset(i);e.setCaretOffset(n.getLineStart(r)+t(r))})},this._msg(\"vi^_\")),e.setAction(\"vi\"+i+\"+\",function(){return r._invoke(function(n){var i=e.getModel(),r=e.getCaretOffset(),o=i.getLineCount()-1,s=Math.min(i.getLineAtOffset(r)+n.count,o);e.setCaretOffset(i.getLineStart(s)+t(s))},{editLine:!0})},this._msg(\"vi+\")),e.setAction(\"vi\"+i+\"-\",function(){return r._invoke(function(n){var i=e.getModel(),r=e.getCaretOffset(),o=Math.max(i.getLineAtOffset(r)-n.count,0);e.setCaretOffset(i.getLineStart(o)+t(o))},{editLine:!0})},this._msg(\"vi-\")),e.setAction(\"vi\"+i+\"|\",function(){return r._invoke(function(t){var n=e.getModel(),i=e.getCaretOffset(),r=n.getLineAtOffset(i);e.setCaretOffset(Math.min(n.getLineStart(r)+t.count-1,n.getLineEnd(r)))})},this._msg(\"vi|\")),e.setAction(\"vi\"+i+\"H\",function(){return r._invoke(function(t){var n=e.getModel().getLineStart(e.getTopIndex(!0)+(t.count-1));e.setCaretOffset(n)},{editLine:!0})},this._msg(\"viH\")),e.setAction(\"vi\"+i+\"M\",function(){return r._invoke(function(t){var n=Math.ceil((e.getBottomIndex(!0)-e.getTopIndex(!0))/2)+e.getTopIndex(!0);e.setCaretOffset(e.getModel().getLineStart(n))},{editLine:!0})},this._msg(\"viM\")),e.setAction(\"vi\"+i+\"L\",function(){return r._invoke(function(t){e.setCaretOffset(e.getModel().getLineStart(e.getBottomIndex(!0)-(t.count-1)))},{editLine:!0})},this._msg(\"viL\")),e.setAction(\"vi\"+i+\"/\",function(){var e={hideAfterFind:!0,incremental:!1,reverse:!1,findCallback:function(t){r._searchFwd=!0,n(t,e)}};return r._invoke(\"find\",e)},this._msg(\"vi/\")),e.setAction(\"vi\"+i+\"?\",function(){var e={hideAfterFind:!0,incremental:!1,reverse:!0,findCallback:function(t){r._searchFwd=!1,n(t,e)}};return r._invoke(\"find\",e)},this._msg(\"vi?\")),e.setAction(\"vi\"+i+\"n\",function(){var t,i=e.getCaretOffset();r._searchFwd?(t=\"findNext\",i++):t=\"findPrevious\";var o={start:i,findCallback:function(e){n(e,o)}};return r._invoke(t,o)},this._msg(\"vin\")),e.setAction(\"vi\"+i+\"N\",function(){var t,i=e.getCaretOffset();r._searchFwd?t=\"findPrevious\":(t=\"findNext\",i++);var o={start:i,findCallback:function(e){n(e,o)}};return r._invoke(t,o)},this._msg(\"viN\")),e.setAction(\"vi\"+i+\"f\",function(){var t=e.getModel(),n=e.getCaretOffset();return r._findChar(n,t.getLineEnd(t.getLineAtOffset(n)),!1,0)},this._msg(\"vif\")),e.setAction(\"vi\"+i+\"F\",function(){var t=e.getModel(),n=e.getCaretOffset();return r._findChar(t.getLineStart(t.getLineAtOffset(n)),n,!0,0)},this._msg(\"viF\")),e.setAction(\"vi\"+i+\"t\",function(){var t=e.getModel(),n=e.getCaretOffset();return r._findChar(n,t.getLineEnd(t.getLineAtOffset(n)),!1,-1)},this._msg(\"vit\")),e.setAction(\"vi\"+i+\"T\",function(){var t=e.getModel(),n=e.getCaretOffset();return r._findChar(t.getLineStart(t.getLineAtOffset(n)),n,!0,1)},this._msg(\"viT\")),e.setAction(\"vi\"+i+\",\",function(){if(r._charTempOptions)return r._findNextChar(r._charTempOptions.reverse)},this._msg(\"vi,\")),e.setAction(\"vi\"+i+\";\",function(){if(r._charTempOptions)return r._findNextChar(!r._charTempOptions.reverse)},this._msg(\"vi;\")),e.setAction(\"vi\"+i+\"G\",function(){if(\"\"===r.number){var t=e.getModel();t.getBaseModel&&(t=t.getBaseModel()),r.number=t.getLineCount()}return r._invoke(function(t){t=t||{},t.line=t.count,t.editLine=!0,t.callback=function(){t.editDone&&t.editDone()},e.invokeAction(\"gotoLine\",!1,t)})},this._msg(\"viG\"))},_invoke:function(e,t){var n=this.getView();return t=t||{},t.count=this._getCount(),\"function\"==typeof e?e(t):n.invokeAction(e,!1,t),!0},_getCount:function(){var e=1;return\"\"!==this.number&&(e=this.number>>0),this.number=\"\",e},_findChar:function(e,t,n,i){this._charTempOptions={},this._charTempOptions.start=e,this._charTempOptions.end=t,this._charTempOptions.hideAfterFind=!0,this._charTempOptions.incremental=!1,this._charTempOptions.reverse=n,this._charTempOptions.offset=i;var r=this._charTempOptions,o=this;return this._charTempOptions.findCallback=function(e){e&&o.getView().setCaretOffset(e.start+i),r.editDone&&r.editDone()},this._invoke(\"find\",this._charTempOptions)},_findNextChar:function(e){if(this._charTempOptions){var t=this.getView(),n={};n.hideAfterFind=this._charTempOptions.hideAfterFind,\nn.incremental=this._charTempOptions.incremental,n.reverse=this._charTempOptions.reverse,n.wrap=!1;var i=n,r=this;n.findCallback=function(e){e&&r.getView().setCaretOffset(e.start+r._charTempOptions.offset),i.editDone&&i.editDone()};var o=t.getModel();return e?(n.start=t.getCaretOffset()+1-this._charTempOptions.offset,n.end=o.getLineEnd(o.getLineAtOffset(n.start)),n.reverse=!1,this._invoke(\"findNext\",n)):(n.start=t.getCaretOffset()-this._charTempOptions.offset,n.end=o.getLineStart(o.getLineAtOffset(n.start)),n.reverse=!0,this._invoke(\"findPrevious\",n))}return!0},_storeNumber:function(e){var t=this;return 0!==e||this.number?(this.number+=e,!0):this._invoke(function(){t.getView().invokeAction(\"lineStart\",!0)})}}),l.prototype=new t.KeyMode,r(l.prototype,{createKeyBindings:function(){var e=[];return e.push({actionID:\"vi-:-ESC\",keyBinding:o(27),predefined:!0}),e},_createActions:function(e){var t=this;e.setAction(\"vi-:-ESC\",function(){return e.removeKeyMode(t),e.addKeyMode(t.viMode),!0})},match:function(e){var n=t.KeyMode.prototype.match.call(this,e);return n||(n=this.getView().getKeyModes()[0].match(e)),n},storeNumber:function(e){this.number=e}}),d.prototype=new a,r(d.prototype,{createKeyBindings:function(){var e=a.prototype.createKeyBindings.call(this);return e.push({actionID:\"vi-\"+this.key+\"ESC\",keyBinding:o(27),predefined:!0}),e.push({actionID:\"vi-\"+this.key+\"-\"+this.key,keyBinding:o(this.key,!1,!1,!1,!1,\"keypress\")}),e},_invoke:function(e,t){t=t||{};var n=this.getView(),i=n.getCaretOffset(),r=i,o=n.getModel(),s=this;return t.editDone=function(){var e=n.getCaretOffset();if(r>e){var a=r;r=e,e=a}t.editLine&&(r=o.getLineStart(o.getLineAtOffset(r)),e=o.getLineEnd(o.getLineAtOffset(e),\"c\"!==s.key)),\"y\"===s.key?(u=n.getText(r,e),f=t.editLine,n.setCaretOffset(i)):n.setText(\"\",r,e),n.removeKeyMode(s),n.addKeyMode(s.nextMode)},a.prototype._invoke.call(this,e,t),t.editDone(),!0},_getCount:function(){var e=1;\"\"!==this.firstNumber&&(e=this.firstNumber>>0);var t=1;return\"\"!==this.number&&(t=this.number>>0),e*=t,this.number=this.firstNumber=\"\",e},_createActions:function(e){a.prototype._createActions.call(this,e);var t=this;e.setAction(\"vi-\"+t.key+\"ESC\",function(){return e.removeKeyMode(t),e.addKeyMode(t.viMode),!0}),e.setAction(\"vi-\"+t.key+\"-\"+t.key,function(){return t._invoke(\"lineEnd\",{editLine:!0})},this._msg(\"viycd\"))},storeNumber:function(e){this.firstNumber=e},_modeAdded:function(){this.secondNumber=\"\"},_modeRemoved:function(){this.command=\"\",this.firstNumber=\"\",this.number=\"\"}}),c.prototype=new t.KeyMode,r(c.prototype,{createKeyBindings:function(){var e=[];return e.push({actionID:\"vi-insert-ESC\",keyBinding:o(27),predefined:!0}),e},_createActions:function(e){var t=this;e.setAction(\"vi-insert-ESC\",function(){return e.removeKeyMode(t),e.addKeyMode(t.viMode),!0})},match:function(e){var n=t.KeyMode.prototype.match.call(this,e);return n||(n=this.getView().getKeyModes()[0].match(e)),n},storeNumber:function(e){}}),h.prototype=new a,r(h.prototype,{createKeyBindings:function(){var e=a.prototype.createKeyBindings.call(this);return e.push({actionID:\"vi-ctrl-f\",keyBinding:o(\"f\",!0)}),e.push({actionID:\"vi-ctrl-b\",keyBinding:o(\"b\",!0)}),e.push({actionID:\"vi-ctrl-e\",keyBinding:o(\"e\",!0)}),e.push({actionID:\"vi-ctrl-y\",keyBinding:o(\"y\",!0)}),e.push({actionID:\"statusLineMode\",keyBinding:o(\":\",!1,!1,!1,!1,\"keypress\")}),e.push({actionID:\"vi-a\",keyBinding:o(\"a\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-A\",keyBinding:o(\"A\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-i\",keyBinding:o(\"i\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-I\",keyBinding:o(\"I\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-o\",keyBinding:o(\"o\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-O\",keyBinding:o(\"O\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-R\",keyBinding:o(\"R\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-s\",keyBinding:o(\"s\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-S\",keyBinding:o(\"S\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-p\",keyBinding:o(\"p\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-P\",keyBinding:o(\"P\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-u\",keyBinding:o(\"u\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-c\",keyBinding:o(\"c\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-d\",keyBinding:o(\"d\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-y\",keyBinding:o(\"y\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-~\",keyBinding:o(\"~\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-x\",keyBinding:o(\"x\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-X\",keyBinding:o(\"X\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-C\",keyBinding:o(\"C\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-D\",keyBinding:o(\"D\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e.push({actionID:\"vi-*\",keyBinding:o(\"*\",!1,!1,!1,!1,\"keypress\"),predefined:!0}),e},getKeyBindings:function(e){var n=t.KeyMode.prototype.getKeyBindings.call(this,e);n=n||[];var i,r=this.changeMode.getKeyBindings(e);if(!this.changeMode.isActive())for(i=0;i<r.length;i++)r[i]=s([o(\"c\",!1,!1,!1,!1,\"keypress\"),r[i]]);if(n=n.concat(r),r=this.deleteMode.getKeyBindings(e),!this.deleteMode.isActive())for(i=0;i<r.length;i++)r[i]=s([o(\"d\",!1,!1,!1,!1,\"keypress\"),r[i]]);if(n=n.concat(r),r=this.yankMode.getKeyBindings(e),!this.yankMode.isActive())for(i=0;i<r.length;i++)r[i]=s([o(\"y\",!1,!1,!1,!1,\"keypress\"),r[i]]);return n=n.concat(r)},match:function(e){var n=t.KeyMode.prototype.match.call(this,e);return n||\"keypress\"!==e.type||(n=\"noop\"),n},_createActions:function(t){a.prototype._createActions.call(this,t);var n=this;t.setAction(\"vi-ctrl-f\",function(){return n._invoke(\"pageDown\")},{name:e.pageDown}),t.setAction(\"vi-ctrl-b\",function(){return n._invoke(\"pageUp\")},{name:e.pageUp}),t.setAction(\"vi-ctrl-e\",function(){return n._invoke(\"scrollLineDown\")},{name:e.scrollLineDown}),t.setAction(\"vi-ctrl-y\",function(){return n._invoke(\"scrollLineUp\")},{name:e.scrollLineUp}),t.setAction(\"vi-a\",function(){return n._toInsertMode(\"charNext\")},{name:e.via}),t.setAction(\"vi-A\",function(){return n._toInsertMode(\"lineEnd\")},{name:e.viA}),t.setAction(\"vi-i\",function(){return n._toInsertMode(\"noop\")},{name:e.vii}),t.setAction(\"vi-I\",function(){return n._toInsertMode(\"lineStart\")},{name:e.viI}),t.setAction(\"vi-O\",function(){return n._invoke(\"lineUp\"),n._invoke(\"lineEnd\"),n._toInsertMode(\"enter\"),!0},{name:e.viO}),t.setAction(\"vi-o\",function(){return n._invoke(\"lineEnd\"),n._toInsertMode(\"enter\"),!0},{name:e.vio}),t.setAction(\"vi-R\",function(){return n._toInsertMode(\"toggleOverwriteMode\")},{name:e.viR}),t.setAction(\"vi-s\",function(){return n._toInsertMode(\"deleteNext\",{unit:\"char\"})},{name:e.vis}),t.setAction(\"vi-S\",function(){return n._toInsertMode(\"deleteLines\",{unit:\"line\"})},{name:e.viS}),t.setAction(\"vi-p\",function(){return n._invoke(function(){var e=n.getView(),t=e.getSelection();if(t.start===t.end){var i=e.getModel(),r=e.getCaretOffset();f?t.start=t.end=i.getLineEnd(i.getLineAtOffset(r),!0):(t.start++,t.end++)}e.setText(u,t.start,t.end)})},{name:e.vip}),t.setAction(\"vi-P\",function(){return n._invoke(function(){var e=n.getView(),t=e.getSelection();if(t.start===t.end){var i=e.getModel(),r=e.getCaretOffset();f&&(t.start=t.end=i.getLineStart(i.getLineAtOffset(r)))}e.setText(u,t.start,t.end)})},{name:e.viP}),t.setAction(\"vi-u\",function(){return n._invoke(\"undo\")},{name:e.Undo}),t.setAction(\"vi-c\",function(){return t.removeKeyMode(n),t.addKeyMode(n.changeMode),n.changeMode.storeNumber(n.number),n.number=\"\",!0}),t.setAction(\"vi-d\",function(){return t.removeKeyMode(n),t.addKeyMode(n.deleteMode),n.deleteMode.storeNumber(n.number),n.number=\"\",!0}),t.setAction(\"vi-y\",function(){return t.removeKeyMode(n),t.addKeyMode(n.yankMode),n.yankMode.storeNumber(n.number),n.number=\"\",!0}),t.setAction(\"vi-~\",function(){return n._invoke(\"reversecase\")},{name:e.reversecase}),t.setAction(\"vi-x\",function(){return n._invoke(\"deleteNext\")},{name:e.deleteNext}),t.setAction(\"vi-X\",function(){return n._invoke(\"deletePrevious\")},{name:e.deletePrevious}),t.setAction(\"vi-C\",function(){return n._toInsertMode(\"deleteLineEnd\")},{name:e.viC}),t.setAction(\"vi-D\",function(){return n._invoke(\"deleteLineEnd\")},{name:e.deleteLineEnd}),t.setAction(\"vi-*\",function(){var e=n.getView(),t=e.getCaretOffset(),i=e.getNextOffset(t+1,{count:-1,unit:\"word\"}),r=e.getNextOffset(i,{count:1,unit:\"wordend\"}),o=e.getText(i,r);n._searchFwd=!0;var s={hideAfterFind:!0,incremental:!1,reverse:!1,findString:o};return n._invoke(\"find\",s)},{name:e.viStar})},_reportStatus:function(e){this.statusReporter&&this.statusReporter(e)},_toInsertMode:function(e,t){t=t||{};var n=1;\"\"!==this.number&&(n=this.number>>0),t.count=n;var i=this.getView();return this.insertMode.storeNumber(this.number),i.invokeAction(e,!1,t),i.removeKeyMode(this),i.addKeyMode(this.insertMode),this.number=\"\",!0},_modeAdded:function(){this.getView().setOptions({blockCursorVisible:!0})},_modeRemoved:function(){var e=this.getView();e.setOptions({blockCursorVisible:!1}),e.removeKeyMode(this.insertMode),e.removeKeyMode(this.changeMode),e.removeKeyMode(this.deleteMode)}}),{VIMode:h}}),n(\"orion/editorPreferences\",[],function(){return{}}),n(\"orion/widgets/themes/ThemePreferences\",[],function(){return{}}),n(\"orion/widgets/themes/editor/ThemeData\",[],function(){return{}}),n(\"orion/widgets/settings/EditorSettings\",[],function(){return null}),n(\"orion/searchAndReplace/textSearcher\",[],function(){return{TextSearcher:null}}),n(\"orion/globalCommands\",[],function(){return{}}),n(\"orion/edit/dispatcher\",[],function(){function e(e,t,n,i){this.serviceRegistry=e,this.editor=n,this.inputManager=i,this.ctRegistry=t,this.serviceReferences={};var r=this;this.inputManager.addEventListener(\"InputChanged\",function(e){r.contentType=e.contentType,r.updateListeners()}.bind(this)),this.listener={onServiceAdded:function(e){r._onServiceAdded(e.serviceReference)},onServiceRemoved:function(e){r._onServiceRemoved(e.serviceReference)}},this.serviceRegistry.addEventListener(\"registered\",this.listener.onServiceAdded),this.serviceRegistry.addEventListener(\"unregistering\",this.listener.onServiceRemoved)}return e.prototype={updateListeners:function(){this._removeAllListeners();for(var e=this.serviceRegistry,t=e.getServiceReferences(\"orion.edit.model\"),n=0;n<t.length;n++)this._wireServiceReference(t[n])},_wireServiceReference:function(e){var t=e.getProperty(\"contentType\");if(void 0!==t&&null!==t){var n=this,i=this.contentType;this.ctRegistry.isSomeExtensionOf(i,t)&&n._wireService(e,n.serviceRegistry.getService(e))}},_wireService:function(e,t){var n=this.editor.getTextView();if(!n)throw new Error(\"TextView not installed\");for(var i=Object.keys(t),r=0;r<i.length;r++){var o=i[r],s=t[o];if(\"on\"===o.substr(0,2)&&\"function\"==typeof s){var a=o.substr(2);this._wireServiceMethod(e,t,s,n,a)}}},_wireServiceMethod:function(e,t,n,i,r){var o=this,s=function(e){e.file=o.getServiceFileObject(),n(e).then()},a=e.getProperty(\"service.id\");this.serviceReferences[a]=this.serviceReferences[a]||[],this.serviceReferences[a].push([i,r,s]),i.addEventListener(r,s)},_onServiceRemoved:function(e){var t=e.getProperty(\"service.id\");this._removeListeners(t)},_onServiceAdded:function(e){-1!==e.getProperty(\"objectClass\").indexOf(\"orion.edit.model\")&&this._wireServiceReference(e)},_removeListeners:function(e){var t=this.serviceReferences[e];if(t){for(var n=0;n<t.length;n++){var i=t[n],r=i[0],o=i[1],s=i[2];r.removeEventListener(o,s)}delete this.serviceReferences[e]}},_removeAllListeners:function(){for(var e=Object.keys(this.serviceReferences),t=0;t<e.length;t++)this._removeListeners(e[t])},getServiceFileObject:function(){var t=this.inputManager.getFileMetadata();return t?e.toServiceFileObject(t,this.inputManager.getContentType()):null}},e.toServiceFileObject=function(e,t){var n=Object.create(null);return n.name=e.Name,n.location=e.Location,n.parents=e.Parents,t&&(n.contentType=Object.create(null),n.contentType.id=t.id,n.contentType.name=t.name,n.contentType.imageClass=t.imageClass,n.contentType.extension=t.extension),n},{Dispatcher:e}}),n(\"orion/edit/editorContext\",[],function(){function e(e,t){var i=Object.create(null);return n(e,t).forEach(function(t){var n=e.getService(t);Object.keys(n).forEach(function(e){\"function\"==typeof n[e]&&(i[e]=n[e].bind(n))})}),i}function t(e,t){var i=Object.create(null);return n(e,t).forEach(function(e){e.getPropertyKeys().forEach(function(t){\"service.id\"!==t&&\"service.names\"!==t&&\"objectClass\"!==t&&(i[t]=e.getProperty(t))})}),i}function n(e,t){return e.getServiceReferences(t||\"orion.edit.context\")}return{getEditorContext:e,getOptions:t}}),n(\"examples/editor/textStyler\",[],function(){return{}}),n(\"orion/editor/textStyler\",[\"orion/editor/annotations\",\"orion/editor/eventTarget\",\"orion/metrics\"],function(e,t,n){function i(e){return JSON.parse(JSON.stringify(e))}function r(e,t,n){this._patternManager=new o(e,t),this._contentType=n}function o(e,t){this._unnamedCounter=0,this._patterns=[],this._rootId=t,e.forEach(function(e){this._addRepositoryPatterns(e.repository||{},e.id),this._addPatterns(e.patterns||[],e.id)}.bind(this))}function s(e,t,n,i,r,o,s){this.start=e.start,this.end=e.end,this.contentStart=e.contentStart,this.contentEnd=e.contentEnd,this.name=t,this.typeId=n,this.styler=i,this.parent=o,s&&s(this),this._subBlocks=i.computeBlocks(r,r.getText(this.contentStart,this.end),this,this.contentStart,null,null,null)}function a(e){this._styler=e}function l(t,i,r){this._whitespacesVisible=!1,this._highlightCaretLine=!1,this._foldingEnabled=!0,this._detectTasks=!0,this._annotationProviders=[],this._view=t,this._annotationModel=i,this._stylerAdapter=r,this._stylerAdapter.setStyler(this),this._accessor=new a(this),this._bracketAnnotations;var o=this;this._listener={onChanged:function(e){o._onModelChanged(e)},onDestroy:function(e){o._onDestroy(e)},onLineStyle:function(e){o._onLineStyle(e)},onMouseDown:function(e){o._onMouseDown(e)},onSelection:function(e){o._onSelection(e)}};var s=t.getModel();s.getBaseModel&&(s=s.getBaseModel()),s.addEventListener(\"Changed\",this._listener.onChanged),t.addEventListener(\"MouseDown\",this._listener.onMouseDown),t.addEventListener(\"Selection\",this._listener.onSelection),t.addEventListener(\"Destroy\",this._listener.onDestroy),t.addEventListener(\"LineStyle\",this._listener.onLineStyle);var l=s.getCharCount(),d={start:0,contentStart:0,end:l,contentEnd:l};if(l>=5e4)var c=(new Date).getTime();if(this._rootBlock=this._stylerAdapter.createBlock(d,this,s,null),c){var h=(new Date).getTime()-c;h>10&&n.logTiming(\"editor\",\"styler compute blocks (ms/50000 chars)\",5e4*h/l,r.getContentType())}if(i){var u=[];i.removeAnnotations(e.AnnotationType.ANNOTATION_FOLDING),this._computeFolding(this._rootBlock.getBlocks(),t.getModel(),u),this._detectTasks&&(i.removeAnnotations(e.AnnotationType.ANNOTATION_TASK),this._computeTasks(this._rootBlock,s,u)),i.replaceAnnotations([],u)}t.redrawLines()}var d=function(e,t,n,i,r){var o;for(void 0===i&&(i=-1),void 0===r&&(r=e.length);r-i>1;)if(o=Math.floor((r+i)/2),t<=e[o].start)r=o;else{if(n&&t<e[o].end){r=o;break}i=o}return r},c=function(e,t,n){return new r(e,t,n)};return r.prototype={blockSpansBeyondEnd:function(e){return e.pattern.regexEnd===this._eolRegex},computeBlocks:function(e,t,n,i,r,o,s){if(!t)return[];var a,l=[],d=[];if(r=r||0,o=o||1/0,s=s||1/0,n.blockPatterns.forEach(function(e){(a=this._findMatch(e.regexBegin||e.regex,t,r))&&d.push({result:a,pattern:e})}.bind(this)),!d.length)return l;d.sort(function(e,t){return e.result.index<t.result.index?-1:e.result.index>t.result.index?1:e.pattern.pattern.index<t.pattern.pattern.index?-1:1});for(var c=0;d.length>0;){var h=d[0];if(d.splice(0,1),o<h.result.index)break;if(h.result.index<c)this._updateMatch(h,t,d,c,o);else{var u=i+h.result.index,f=h.result.index,p=null,g=h.pattern.regexEnd;if(g){f+=h.result[0].length;var v=h.pattern,m=this._substituteCaptureValues(g,h.result);m!==g&&(v={pattern:v.pattern,regexBegin:v.regexBegin,regexEnd:m},g=m);for(var _=f;!p;){a=this._findMatch(g,t,_),a||(this._eolRegex.lastIndex=0,a=this._eolRegex.exec(t),v={pattern:v.pattern,regexBegin:v.regexBegin,regexEnd:this._eolRegex});var y=this.createBlock({start:u,end:i+a.index+a[0].length,contentStart:i+f,contentEnd:i+a.index},n.styler,e,n,v),C=y.getBlocks();(!C.length||C[C.length-1].end<=a.index+i)&&(p=y),_=a.index+a[0].length}}else p=this.createBlock({start:u,end:u+h.result[0].length,contentStart:u,contentEnd:u+h.result[0].length},n.styler,e,n,h.pattern);if(l.push(p),l.length===s||o<=p.end)break;c=p.end-i,this._updateMatch(h,t,d,c,o)}}return l},computeStyle:function(e,t,n){if(!e.pattern)return null;var i={start:e.start,end:e.end,style:e.pattern.pattern.name};if(e.contentStart<=n&&n<e.contentEnd)return e.pattern.pattern.contentName?{start:e.contentStart,end:e.contentEnd,style:e.pattern.pattern.contentName}:i;var r,o,s,a;if(n<e.contentStart){if(!(o=e.pattern.pattern.beginCaptures||e.pattern.pattern.captures))return i;r=e.pattern.regexBegin,s=t.getText(e.start,e.contentStart),a=e.start}else{if(!(o=e.pattern.pattern.endCaptures||e.pattern.pattern.captures))return i;r=e.pattern.regexEnd,s=t.getText(e.contentEnd,e.end),a=e.contentEnd}r.lastIndex=0;var l=r.exec(s);if(l){var c=[];this._getCaptureStyles(l,o,a,c);var h=c[d(c,n,!0)];if(h&&h.start<=n&&n<h.end)return h}return i},createBlock:function(e,t,n,i,r){return new s(e,r?r.pattern.name:null,r?r.pattern.id:null,t,n,i,function(e){e.pattern=r,e.linePatterns=[],e.blockPatterns=[],e.enclosurePatterns={},this._initPatterns(this._patternManager,e)}.bind(this))},getBlockCommentDelimiters:function(e){var t=this._getLanguageBlock(e),n=t.blockPatterns;if(n)for(var i=0;i<n.length;i++){var r=n[i].pattern,o=r.name||r.contentName;if(o&&-1!==o.indexOf(\"comment.block\")&&r.begin&&r.end&&r.begin.literal&&r.end.literal)return[r.begin.literal,r.end.literal]}return[\"\",\"\"]},getBlockContentStyleName:function(e){return e.pattern.pattern.contentName||e.pattern.pattern.name},getBlockEndStyle:function(e,t,n,i){var r;if(e.pattern.regexEnd&&(r=this._findMatch(e.pattern.regexEnd,t,0))){var o=e.pattern.pattern.endCaptures||e.pattern.pattern.captures;o?this._getCaptureStyles(r,o,n-r[0].length,i):e.pattern.pattern.name&&i.push({start:n-r[0].length,end:n,style:e.pattern.pattern.name})}return r?r[0]:null},getBlockFoldBounds:function(e,t){return{start:e.start,end:e.end}},getBlockStartStyle:function(e,t,n,i){var r;if(e.pattern.regexBegin&&(r=this._findMatch(e.pattern.regexBegin,t,0))){var o=e.pattern.pattern.beginCaptures||e.pattern.pattern.captures;o?this._getCaptureStyles(r,o,n,i):i.push({start:n,end:n+r[0].length,style:e.pattern.pattern.name})}return r?r[0]:null},getBracketMatch:function(e,t){for(var n,i=Object.keys(e.enclosurePatterns),r=0;r<i.length;r++){var o=e.enclosurePatterns[i[r]],s=this._findMatch(o.regex,t,0);if(s&&0===s.index){n=o;break}}if(!n)return null;var a,l=!1;return-1!==n.pattern.name.indexOf(this._PUNCTUATION_SECTION_BEGIN)?(l=!0,a=n.pattern.name.replace(this._PUNCTUATION_SECTION_BEGIN,this._PUNCTUATION_SECTION_END)):a=n.pattern.name.replace(this._PUNCTUATION_SECTION_END,this._PUNCTUATION_SECTION_BEGIN),e.enclosurePatterns[a]?{beginName:n.pattern.name,endName:a,atStart:l}:null},getContentType:function(){return this._contentType},getLineCommentDelimiter:function(e){var t=this._getLanguageBlock(e),n=t.linePatterns;if(n)for(var i=0;i<n.length;i++){var r=n[i].pattern,o=r.name;if(o&&-1!==o.indexOf(\"comment.line\")&&r.match&&r.match.literal)return r.match.literal}var s=t.blockPatterns;if(s)for(i=0;i<s.length;i++)if(r=s[i].pattern,(o=r.name||r.contentName)&&-1!==o.indexOf(\"comment.line\")&&r.begin&&r.begin.literal)return r.begin.literal;return\"\"},parse:function(e,t,n,i,r,o){if(e){var s=i.linePatterns;if(s){var a,l=[];s.forEach(function(t){var i=t.regex||t.regexBegin;i.oldLastIndex=i.lastIndex,(a=this._findMatch(i,e,n))&&l.push({result:a,pattern:t})}.bind(this)),l.sort(function(e,t){return e.result.index<t.result.index?-1:e.result.index>t.result.index?1:e.pattern.pattern.index<t.pattern.pattern.index?-1:1});for(var d=n;l.length>0;){var c=l[0];if(l.splice(0,1),c.result.index<d)this._updateMatch(c,e,l,d);else{var h,u=c.result.index,f=[];if(c.pattern.regex){a=c.result,h=u+a[0].length;var p={start:t+u,end:t+h,style:c.pattern.pattern.name};if(!o){c.pattern.pattern.captures&&this._getCaptureStyles(a,c.pattern.pattern.captures,t+u,f),f.sort(function(e,t){return e.start<t.start?-1:e.start>t.start?1:0});for(var g=0;g<f.length-1;g++)if(f[g+1].start<f[g].end){var v={start:f[g+1].end,end:f[g].end,style:f[g].style};f[g].end=f[g+1].start,f.splice(g+2,0,v)}}this._mergeStyles(p,f,r)}else{var m=c.pattern.regexEnd;m=this._substituteCaptureValues(m,c.result),a=this._findMatch(m,e,c.result.index+c.result[0].length),a||(this._eolRegex.lastIndex=0,a=this._eolRegex.exec(e)),h=a.index+a[0].length,r.push({start:t+u,end:t+h,style:c.pattern.pattern.name})}d=a.index+a[0].length,this._updateMatch(c,e,l,d)}}s.forEach(function(e){var t=e.regex||e.regexBegin;t.lastIndex=t.oldLastIndex})}}},setStyler:function(e){this._styler=e},verifyBlock:function(e,t,n,i){var r,o=null,s=[];if(n.parent.blockPatterns.forEach(function(e){(r=this._findMatch(e.regexBegin||e.regex,t,0))&&s.push({result:r,pattern:e})}.bind(this)),s.sort(function(e,t){return!e.result.index&&t.result.index?-1:e.result.index&&!t.result.index?1:e.result.index||t.result.index?0:e.pattern.pattern.index<t.pattern.pattern.index?-1:1}),s.length&&0===s[0].result.index&&s[0].pattern.pattern.id===n.pattern.pattern.id){r=s[0];var a=r.pattern.regexEnd;if(a){a=this._substituteCaptureValues(a,r.result);for(var l=r.result[0].length,d=this._findMatch(a,t,l);null===o&&d&&n.start+d.index!==n.contentEnd+i;){var c=this.computeBlocks(e,t,n,n.start,l,d.index+1,null);!c.length||c[c.length-1].end<=n.start+d.index?o=!1:c.length?(l=c[c.length-1].end-n.start,d=this._findMatch(a,t,l)):d=null}d||(this._eolRegex.lastIndex=0,d=this._eolRegex.exec(t),o=n.start+d.index===n.end+i)}else o=n.start+r.result[0].length===n.end+i}else o=!1;return null===o||o},_findMatch:function(e,t,n,i){var r=n,o=e.lastIndex;this._linebreakRegex.lastIndex=n;var s,a,l=this._linebreakRegex.exec(t);if(e.lastIndex=0,l){for(var d=l.index;0<=--d;){var c=t.charAt(d);if(c===this._NEWLINE||c===this._CR)break}s=t.substring(d+1,l.index+l[1].length),e.lastIndex=a=l.index-d-1}for(;l&&l.index<t.length;){var h;if(i){var u=e.lastIndex;e.test(s)&&(e.lastIndex=u,h=e.exec(s))}else h=e.exec(s);if(h)return h.index+=r,h.index-=a,e.lastIndex=o,h;a=0,r+=l[0].length,l=this._linebreakRegex.exec(t),l&&(s=l[1],e.lastIndex=0)}return e.lastIndex=o,null},_getCaptureStyles:function(e,t,n,i){if(t[0])return void i.push({start:n,end:n+e[0].length,style:t[0].name});for(var r=0,o=1;o<e.length;o++)if(e[o]){var s=t[o];if(s){var a=n+r;i.push({start:a,end:a+e[o].length,style:s.name})}r+=e[o].length}},_getLanguageBlock:function(e){for(var t=this._styler.getBlockAtIndex(e),n=/^source\\..+\\.embedded/;t;){if(t.pattern){var i=t.pattern.pattern;if(n.test(i.name||i.contentName))return t}t=t.parent}return this._styler.getRootBlock()},_initPatterns:function(e,t){if(t.pattern&&t.pattern.pattern.linePatterns)return t.linePatterns=t.pattern.pattern.linePatterns,t.blockPatterns=t.pattern.pattern.blockPatterns,void(t.enclosurePatterns=t.pattern.pattern.enclosurePatterns);var n=e.getPatterns(t.pattern?t.pattern.pattern:null),i=function(e){var t=\"string\"==typeof e?e:e.match,n=this._ignoreCaseRegex.exec(t),i=this._FLAGS;return n&&(t=t.substring(n[0].length),i+=\"i\"),new RegExp(t,i)}.bind(this),r=-1,o=0;n.forEach(function(e){var n;!e.match||e.begin||e.end?!e.match&&e.begin&&e.end&&(r=o,n={regexBegin:i(e.begin),regexEnd:i(e.end),pattern:e},t.linePatterns.push(n)):(n={regex:i(e.match),pattern:e},t.linePatterns.push(n),!e.name||0!==e.name.indexOf(\"punctuation.section\")||-1===e.name.indexOf(this._PUNCTUATION_SECTION_BEGIN)&&-1===e.name.indexOf(this._PUNCTUATION_SECTION_END)||(t.enclosurePatterns[e.name]=n)),o++}.bind(this)),t.blockPatterns=t.linePatterns.slice(0,r+1),t.pattern&&(t.pattern.pattern.enclosurePatterns=t.enclosurePatterns,t.pattern.pattern.linePatterns=t.linePatterns,t.pattern.pattern.blockPatterns=t.blockPatterns)},_mergeStyles:function(e,t,n){var i=e.start;t.forEach(function(t){i<=t.start&&n.push({start:i,end:t.start,style:e.style}),n.push(t),i=t.end}),i<e.end&&n.push({start:i,end:e.end,style:e.style})},_substituteCaptureValues:function(e,t){var n=e.toString();if(this._captureReferenceRegex.lastIndex=0,!this._captureReferenceRegex.test(n))return e;this._captureReferenceRegex.lastIndex=0;for(var i=this._captureReferenceRegex.exec(n);i;)n=n.replace(i[0],t[i[1]]||\"\"),this._captureReferenceRegex.lastIndex=0,i=this._captureReferenceRegex.exec(n);return new RegExp(n.substring(1,n.length-1-this._FLAGS.length),this._FLAGS)},_updateMatch:function(e,t,n,i,r){var o=e.pattern.regex?e.pattern.regex:e.pattern.regexBegin;r=r||1/0;var s=this._findMatch(o,t,i,!0);if(s&&s.index<r){e.result=s;for(var a=0;a<n.length;a++)if(s.index<n[a].result.index||s.index===n[a].result.index&&e.pattern.pattern.index<n[a].pattern.pattern.index)return void n.splice(a,0,e);n.push(e)}},_captureReferenceRegex:/\\\\(\\d)/g,_eolRegex:/$/,_ignoreCaseRegex:/^\\(\\?i\\)\\s*/,_linebreakRegex:/(.*)(?:[\\r\\n]|$)/g,_CR:\"\\r\",_FLAGS:\"g\",_NEWLINE:\"\\n\",_PUNCTUATION_SECTION_BEGIN:\".begin\",_PUNCTUATION_SECTION_END:\".end\"},o.prototype={getPatterns:function(e){var t;e?(t=\"string\"==typeof e?e:e.qualifiedId,t+=\"#\"):t=this._rootId+\"#\"+this._NO_ID;var n=[0],r={},o=new RegExp(\"^\"+t+\"[^#]+$\");this._patterns.forEach(function(e){if(o.test(e.qualifiedId))if(e.include)this._processInclude(e,n,r);else{var t=i(e);t.index=n[0]++,r[e.qualifiedId]=t}}.bind(this));var s=[];return Object.keys(r).forEach(function(e){s.push(r[e])}),s},_addPattern:function(e,t,n){e.parentId=n,e.id=t,e.qualifiedId=e.parentId+\"#\"+e.id,this._patterns.push(e),e.patterns&&!e.include&&this._addPatterns(e.patterns,e.qualifiedId)},_addPatterns:function(e,t){e.forEach(function(e){this._addPattern(e,this._NO_ID+this._unnamedCounter++,t)}.bind(this))},_addRepositoryPatterns:function(e,t){Object.keys(e).forEach(function(n){this._addPattern(e[n],n,t)}.bind(this))},_processInclude:function(e,t,n){var r,o=e.include.indexOf(\"#\");r=0===o?new RegExp(\"^\"+e.qualifiedId.substring(0,e.qualifiedId.indexOf(\"#\"))+e.include+\"$\"):-1===o?new RegExp(\"^\"+e.include+\"#\"+this._NO_ID+\"[^#]+$\"):new RegExp(\"^\"+e.include+\"$\"),this._patterns.forEach(function(e){if(r.test(e.qualifiedId))if(e.include)this._processInclude(e,t,n);else if(!n[e.qualifiedId]){var o=i(e);o.index=t[0]++,n[e.qualifiedId]=o}}.bind(this))},_NO_ID:\"NoID\"},s.prototype={adjustBounds:function(e,t){e<this.start&&(this.start+=t),e<this.contentStart&&(this.contentStart+=t),e<=this.end&&(this.end+=t),e<=this.contentEnd&&(this.contentEnd+=t),this._subBlocks.forEach(function(n){e<=n.end&&n.adjustBounds(e,t)})},getBlocks:function(){return this._subBlocks},getBlockAtIndex:function(e){return d(this.getBlocks(),e,!0)},isRenderingWhitespace:function(){return this.styler._isRenderingWhitespace()}},a.prototype={getBlockCommentDelimiters:function(e){return this._styler.getBlockCommentDelimiters(e)},getLineCommentDelimiter:function(e){return this._styler.getLineCommentDelimiter(e)},getStyles:function(e){return this._styler.getStyles(e)}},l.prototype={addAnnotationProvider:function(e){\"function\"==typeof e&&this._annotationProviders.push(e)},computeBlocks:function(e,t,n,i,r,o,s){return this._stylerAdapter.computeBlocks(e,t,n,i,r,o,s)},destroy:function(){if(this._view){var e=this._view.getModel();e.getBaseModel&&(e=e.getBaseModel()),e.removeEventListener(\"Changed\",this._listener.onChanged),this._view.removeEventListener(\"MouseDown\",this._listener.onMouseDown),this._view.removeEventListener(\"Selection\",this._listener.onSelection),this._view.removeEventListener(\"Destroy\",this._listener.onDestroy),this._view.removeEventListener(\"LineStyle\",this._listener.onLineStyle),this._view=null}},getAnnotationModel:function(){return this._annotationModel},getBlockAtIndex:function(e){return this._findBlock(this._rootBlock,e)},getBlockCommentDelimiters:function(e){return this._stylerAdapter.getBlockCommentDelimiters(e)},getLineCommentDelimiter:function(e){return this._stylerAdapter.getLineCommentDelimiter(e)},getRootBlock:function(){return this._rootBlock},getStyleAccessor:function(){return this._accessor},getStyles:function(e){var t=[],n=this._view.getModel();n.getBaseModel&&(n=n.getBaseModel());var i=this._findBlock(this._rootBlock,e),r=n.getLineAtOffset(e),o=n.getLine(r),s=[];this._stylerAdapter.parse(o,n.getLineStart(r),0,i,s);var a=s[d(s,e,!0)];for(a&&a.start<=e&&e<a.end&&t.push(a);i;)a=this._stylerAdapter.computeStyle(i,n,e),a&&t.splice(0,0,a),i=i.parent;return t},getTextModel:function(){var e=this._view.getModel();return e.getBaseModel&&(e=e.getBaseModel()),e},removeAnnotationProvider:function(e){if(\"function\"==typeof e){var t=this._annotationProviders.indexOf(e);-1!==t&&this._annotationProviders.splice(t,1)}},setDetectHyperlinks:function(){},setDetectTasks:function(e){this._detectTasks=e},setFoldingEnabled:function(e){this._foldingEnabled=e},setHighlightCaretLine:function(e){this._highlightCaretLine=e},setWhitespacesVisible:function(e,t){this._whitespacesVisible!==e&&(this._whitespacesVisible=e,t&&this._view.redraw())},_computeFolding:function(e,t,n){if(t.getBaseModel){var i=t.getBaseModel();e.forEach(function(e){var r=this._stylerAdapter.getBlockFoldBounds(e,i),o=this._createFoldingAnnotation(t,i,r.start,r.end);o&&n.push(o),this._computeFolding(e.getBlocks(),t,n)}.bind(this))}},_computeTasks:function(t,n,i,r,o){if(r=r||t.start,o=o||t.end,t.start<=o&&r<=t.end){if(!this._annotationModel)return;var s=e.AnnotationType.ANNOTATION_TASK;if(t.name&&0===t.name.indexOf(\"comment\")){var a=[],l=n.getLineAtOffset(t.contentStart),d=n.getLineStart(l);this._stylerAdapter.parse(n.getText(d,t.end),d,t.contentStart-d,t,a,!0);for(var c=0;c<a.length;c++)\"meta.annotation.task.todo\"===a[c].style&&r<=a[c].start&&a[c].end<=o&&i.push(e.AnnotationType.createAnnotation(s,a[c].start,a[c].end,n.getText(a[c].start,a[c].end)))}t.getBlocks().forEach(function(e){this._computeTasks(e,n,i,r,o)}.bind(this))}},_createFoldingAnnotation:function(t,n,i,r){var o=n.getLineAtOffset(i),s=n.getLineAtOffset(r);return o===s?null:o+1===s&&n.getLineStart(s)===n.getLineEnd(s)?null:new(e.AnnotationType.getType(e.AnnotationType.ANNOTATION_FOLDING))(i,r,t)},_findBlock:function(e,t){var n=e.getBlocks();if(!n.length)return e;var i=d(n,t,!0);return i<n.length&&n[i].start<=t&&t<n[i].end?this._findBlock(n[i],t):e},_findBrackets:function(e,t,n,i,r,o){for(var s=[],a=[],l=r,c=n.getBlocks(),h=d(c,r,!0),u=h;u<c.length&&!(c[u].start>=o);u++){var f=c[u].start,p=c[u].end;if(l<f){var g=e.getLineAtOffset(l),v=e.getLineStart(g);this._stylerAdapter.parse(i.substring(v-r,f-r),v,l-v,n,a),a.forEach(function(e){e.style&&(0===e.style.indexOf(t.beginName)?s.push(e.start+1):0===e.style.indexOf(t.endName)&&s.push(-(e.start+1)))}),a=[]}l=p}return l<o&&(g=e.getLineAtOffset(l),v=e.getLineStart(g),this._stylerAdapter.parse(i.substring(v-r,o-r),v,l-v,n,a),a.forEach(function(e){e.style&&(0===e.style.indexOf(t.beginName)?s.push(e.start+1):0===e.style.indexOf(t.endName)&&s.push(-(e.start+1)))})),s},_findMatchingBracket:function(e,t,n){var i=e.getLineAtOffset(n),r=e.getLineEnd(i),o=e.getText(n,r),s=this._stylerAdapter.getBracketMatch(t,o);if(!s)return-1;for(var a=e.getLine(i),l=e.getLineStart(i),d=this._findBrackets(e,s,t,a,l,r),c=0;c<d.length;c++){var h=d[c]>=0?1:-1;if(d[c]*h-1===n){var u=1;if(s.atStart){for(c++;c<d.length;c++)if(h=d[c]>=0?1:-1,0===(u+=h))return d[c]*h-1;i+=1;for(var f=e.getLineCount();i<f;){a=e.getLine(i),l=e.getLineStart(i),r=e.getLineEnd(i),d=this._findBrackets(e,s,t,a,l,r);for(var p=0;p<d.length;p++)if(h=d[p]>=0?1:-1,0===(u+=h))return d[p]*h-1;i++}}else{for(c--;c>=0;c--)if(h=d[c]>=0?1:-1,0===(u+=h))return d[c]*h-1;for(i-=1;i>=0;){a=e.getLine(i),\nl=e.getLineStart(i),r=e.getLineEnd(i),d=this._findBrackets(e,s,t,a,l,r);for(var g=d.length-1;g>=0;g--)if(h=d[g]>=0?1:-1,0===(u+=h))return d[g]*h-1;i--}}break}}return-1},_getLineStyle:function(e){if(this._highlightCaretLine){var t=this._view,n=t.getModel(),i=t.getSelections(),r=!1;if(!i.some(function(t){return t.start!==t.end||(r=r||n.getLineAtOffset(t.start)===e,!1)})&&r)return this._caretLineStyle}return null},_getStyles:function(e,t,n,i,r){for(var o=i+n.length,s=[],a=i+r,l=e.getBlocks(),c=d(l,a,!0),h=c;h<l.length&&!(l[h].start>=o);h++){var u=l[h].start,f=l[h].end;if(a<u){var p=t.getLineAtOffset(a),g=t.getLineStart(p);this._stylerAdapter.parse(n.substring(g-i,u-i),g,a-g,e,s)}var v=Math.max(a,u);if(v===u){var m=this._stylerAdapter.getBlockStartStyle(l[h],n.substring(v-i),v,s);m&&(v+=m.length)}var _=Math.min(o,f),y=[];if(_===f){var C=n.substring(_-a-(l[h].end-l[h].contentEnd)),w=this._stylerAdapter.getBlockEndStyle(l[h],C,_,y);w&&(_-=w.length)}p=t.getLineAtOffset(v),g=t.getLineStart(p);var x=this._getStyles(l[h],t,n.substring(g-i,_-i),g,v-g),S=this._stylerAdapter.getBlockContentStyleName(l[h]);if(S){var b=v;x.forEach(function(e){e.start-b&&s.push({start:b,end:e.start,style:S}),e.mergeable&&(e.style+=\",\"+S),s.push(e),b=e.end}),_-b&&s.push({start:b,end:_,style:S})}else s=s.concat(x);s=s.concat(y),a=f}return a<o&&(p=t.getLineAtOffset(a),g=t.getLineStart(p),this._stylerAdapter.parse(n.substring(g-i,o-i),g,a-g,e,s)),s},_isRenderingWhitespace:function(){return this._whitespacesVisible},_onDestroy:function(){this.destroy()},_onLineStyle:function(e){e.textView===this._view&&(e.style=this._getLineStyle(e.lineIndex));var t=e.lineStart,n=e.textView.getModel();if(n.getBaseModel){t=n.mapOffset(t);var i=n.getBaseModel()}e.ranges=this._getStyles(this._rootBlock,i||n,e.lineText,t,0);for(var r=e.ranges.length-1;r>=0;r--){var o=e.ranges[r];if(o.style){if(o.style={styleClass:o.style.replace(/\\./g,\" \")},i){var s=o.end-o.start;o.start=n.mapOffset(o.start,!0),o.end=o.start+s}}else e.ranges.splice(r,1)}this._isRenderingWhitespace()&&(this._spliceStyles(this._spacePattern,e.ranges,e.lineText,e.lineStart),this._spliceStyles(this._tabPattern,e.ranges,e.lineText,e.lineStart))},_onModelChanged:function(t){for(var n,i,r,o,s,a,l,c=t.start,h=t.removedCharCount,u=t.addedCharCount,f=u-h,p=this._view.getModel(),g=p.getBaseModel?p.getBaseModel():p,v=c+h,m=g.getCharCount(),_=g.getLineStart(g.getLineAtOffset(c)),y=this._findBlock(this._rootBlock,c);;){if(r=y.parent,!n&&r){if(f<0&&y.end-c<=-f){y=r;continue}if(s=g.getText(y.start,Math.min(m,y.end+f+1)),!this._stylerAdapter.verifyBlock(g,s,y,f)){y=r;continue}}i=y.getBlocks();var C=i.length,w=d(i,_,!0),x=d(i,v,!1,w-1,C);if(n=!1,w&&i.length&&i[w-1].end===c){s=g.getText(i[w-1].start,Math.min(m,c+1));var S=this.computeBlocks(g,s,y,i[w-1].start,null,null,null);S.length&&S[0].end!==i[w-1].end&&(w--,n=!0)}w<C&&i[w].start<=_&&(_<i[w].end||n)?(l=i[w].start)>c&&(l+=f):w===C&&C>0&&y.end-f===i[C-1].end?(l=i[--w].start)>c&&(l+=f):l=Math.max(_,y.contentStart),a=x<C?i[x].end:y.contentEnd,c<=a&&(a+=f),a=Math.min(a,m-1),s=g.getText(l,a+1);var b=this.computeBlocks(g,s,y,l,null,null,null);if(x<C){if(b.length&&b[b.length-1].end===a&&b[b.length-1].typeId===i[x].typeId)break;if(b.length&&this._stylerAdapter.blockSpansBeyondEnd(b[b.length-1])){x++;for(var T=b[b.length-1].getBlocks(),E=(T.length?T[T.length-1]:b[b.length-1]).typeId;x<C;){if(i[x].typeId===E){var L=i[x].end+f;L=Math.min(L,m-1),s=g.getText(l,L+1);var k=this.computeBlocks(g,s,y,l,null,null,null);if(k.length&&k[k.length-1].end===L){a=L,b=k;break}}x++}if(x<C)break}}else if(!b.length||b[b.length-1].end<=y.contentEnd+f)break;if(!r){a=m,x=C,s=g.getText(l,a),b=this.computeBlocks(g,s,y,l,null,null,null);break}y=r,o=!0}this._rootBlock.adjustBounds(c,f),x=Math.min(x+1,C);var M;if(o||(o=x-w!==b.length),!o)for(var A=0;A<b.length;A++){M=i[w+A];var D=b[A];if(M.start!==D.start||M.end!==D.end||M.typeId!==D.typeId){o=!0;break}}if(i.length||b.length)this.dispatchEvent({type:\"BlocksChanged\",oldBlocks:i.slice(w,x),newBlocks:b});else{var O=[y],N=[y];this.dispatchEvent({type:\"BlocksChanged\",oldBlocks:O,newBlocks:N}),y=N[0]}var I=[w,x-w].concat(b);if(Array.prototype.splice.apply(i,I),o){var R=l,B=a;p!==g&&(R=p.mapOffset(R,!0),B=p.mapOffset(B,!0)),this._view.redrawRange(R,B)}if(this._annotationModel){for(var P=[],F=[],V=[],U=this._annotationModel.getAnnotations(l,a),W=this._foldingEnabled&&g!==p,H=y.parent||y;U.hasNext();){var K=U.next();if(W&&K.type===e.AnnotationType.ANNOTATION_FOLDING){for(V.push(K),M=this._findBlock(H,K.start);M;){var j=this._stylerAdapter.getBlockFoldBounds(M,g);if(K.start===j.start&&K.end===j.end)break;M=M.parent}if(M&&K.start===j.start&&K.end===j.end){var G=K.start,z=K.end;if(G>c&&(G-=f),z>c&&(z-=f),G<=c&&c<z&&G<=v&&v<z){g.getLineAtOffset(K.start)!==g.getLineAtOffset(K.end)?K.expanded||K.expand():P.push(K)}}else P.push(K),K.expand()}else K.type===e.AnnotationType.ANNOTATION_TASK&&y.start<=K.start&&K.end<=y.end&&P.push(K)}W&&H.getBlocks().forEach(function(e){this._updateFolding(e,g,p,V,F,l,a)}.bind(this)),this._detectTasks&&this._computeTasks(y,g,F,l,a),this._annotationProviders.forEach(function(e){var t=[],n=[];e(this._annotationModel,g,y,l,a,t,n),P=P.concat(t),F=F.concat(n)}.bind(this)),this._annotationModel.replaceAnnotations(P,F)}},_onMouseDown:function(e){if(2===e.clickCount){var t=this._view.getModel(),n=this._view.getOffsetAtLocation(e.x,e.y);if(n>0){var i=n-1,r=t;t.getBaseModel&&(i=t.mapOffset(i),r=t.getBaseModel());var o=this._findBlock(this._rootBlock,i),s=this._findMatchingBracket(r,o,i);if(-1!==s){e.preventDefault();var a=s;t.getBaseModel&&(a=t.mapOffset(a,!0)),n>a&&(n--,a++),this._view.setSelection(a,n)}}}},_onSelection:function(t){function n(e){var t={};return e.some(function(e){return!e.isEmpty()||(t[l.getLineAtOffset(e.start).toString()]=!0,!1)})?{}:t}function i(e,t){for(var n in e)t[n]||(r=n>>0,a.redrawLines(r,r+1))}var r,o=Array.isArray(t.oldValue)?t.oldValue:[t.oldValue],s=Array.isArray(t.newValue)?t.newValue:[t.newValue],a=this._view,l=a.getModel();if(this._highlightCaretLine){var d=n(o),c=n(s);i(d,c),i(c,d)}if(this._annotationModel){var h,u,f=this._bracketAnnotations;if(1===s.length&&s[0].isEmpty()&&(u=s[0].getCaret())>0){var p=u-1;l.getBaseModel&&(p=l.mapOffset(p),l=l.getBaseModel());var g=this._findBlock(this._rootBlock,p),v=this._findMatchingBracket(l,g,p);-1!==v&&(h=[e.AnnotationType.createAnnotation(e.AnnotationType.ANNOTATION_MATCHING_BRACKET,v,v+1),e.AnnotationType.createAnnotation(e.AnnotationType.ANNOTATION_CURRENT_BRACKET,p,p+1)])}this._bracketAnnotations=h,this._annotationModel.replaceAnnotations(f,h)}},_spliceStyles:function(e,t,n,r){var o=e.regex;o.lastIndex=0;for(var s=0,a=o.exec(n);a;){for(var l=r+a.index;s<t.length&&!(l<t[s].end);)s++;var d={start:l,end:l+1,style:i(e.style)};if(s<t.length&&t[s].start<=l){var c={start:l+1,end:t[s].end,style:t[s].style};t[s].end=l,t.splice(s+1,0,c),t.splice(s+1,0,d),s+=2,d.style.styleClass+=\" \"+t[s].style.styleClass}else t.splice(s,0,d),s++;a=o.exec(n)}},_updateFolding:function(e,t,n,i,r,o,s){o=o||e.start,s=s||e.end;var a=this._stylerAdapter.getBlockFoldBounds(e,t);if(!e.doNotFold&&a.start<=s&&o<=a.end){var l=d(i,a.start,!0);if(!(l<i.length&&i[l].start===a.start&&i[l].end===a.end)){var c=this._createFoldingAnnotation(n,t,a.start,a.end);c&&r.push(c)}e.getBlocks().forEach(function(e){this._updateFolding(e,t,n,i,r,o,s)}.bind(this))}},_caretLineStyle:{styleClass:\"meta annotation currentLine\"},_spacePattern:{regex:/[ ]/g,style:{styleClass:\"punctuation separator space\",unmergeable:!0}},_tabPattern:{regex:/\\t/g,style:{styleClass:\"punctuation separator tab\",unmergeable:!0}}},t.EventTarget.addMixin(l.prototype),{TextStyler:l,Block:s,createPatternBasedAdapter:c}}),n(\"orion/editor/textMateStyler\",[\"orion/regex\"],function(e){function t(e){var n;if(e instanceof Array){n=new Array(e.length);for(var i=0;i<e.length;i++)n[i]=t(e[i])}else{n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];n[r]=\"object\"==typeof o&&null!==o?t(o):o}}return n}function n(e,n,i){this.initialize(e),this.grammar=t(n),this.externalGrammars=i?t(i):[],this._styles={},this._tree=null,this._allGrammars={},this.preprocess(this.grammar)}var i={unsupported:[{regex:/\\(\\?[ims\\-]:/,func:function(e){return\"option on/off for subexp\"}},{regex:/\\(\\?<([=!])/,func:function(e){return\"=\"===e[1]?\"lookbehind\":\"negative lookbehind\"}},{regex:/\\(\\?>/,func:function(e){return\"atomic group\"}}],toRegExp:function(e){function t(e){for(var t=\"\",n=!1,i=e.length,r=0;r<i;){var o=e.charAt(r);if(n||\"#\"!==o)if(!n&&/\\s/.test(o))for(;r<i&&/\\s/.test(o);)o=e.charAt(++r);else\"\\\\\"===o?(t+=o,/\\s/.test(e.charAt(r+1))||(t+=e.charAt(r+1),r+=1),r+=1):\"[\"===o?(n=!0,t+=o,r+=1):\"]\"===o?(n=!1,t+=o,r+=1):(t+=o,r+=1);else for(;r<i&&\"\\r\"!==o&&\"\\n\"!==o;)o=e.charAt(++r)}return t}var n,r=\"\";for(e=i.processGlobalFlag(\"x\",e,function(e){return t(e)}),e=i.processGlobalFlag(\"i\",e,function(e){return r+=\"i\",e}),n=0;n<this.unsupported.length;n++){var o;(o=this.unsupported[n].regex.exec(e))&&function(e,t){throw new Error('Unsupported regex feature \"'+e+'\": \"'+t[0]+'\" at index: '+t.index+\" in \"+t.input)}(this.unsupported[n].func(o),o)}return new RegExp(e,r)},processGlobalFlag:function(e,t,n){var i=\"(?\"+e+\")\",r=\"(?\"+e+\":\";if(t.substring(0,i.length)===i)return n(t.substring(i.length));if(t.substring(0,r.length)===r){var o=function(e,t){for(var n=0,i=e.length,r=-1,o=t;o<i&&-1===r;o++)switch(e.charAt(o)){case\"\\\\\":o++;break;case\"(\":n++;break;case\")\":n--,0===n&&(r=o)}return r}(t,0);if(o<t.length-1)throw new Error(\"Only a \"+r+\") group that encloses the entire regex is supported in: \"+t);return n(t.substring(r.length,o))}return t},hasBackReference:function(e){return/\\\\\\d+/.test(e.source)},getSubstitutedRegex:function(t,n,i){i=void 0===i;for(var r=t.source.split(/(\\\\\\d+)/g),o=[],s=0;s<r.length;s++){var a=r[s],l=/\\\\(\\d+)/.exec(a);if(l){var d=n[l[1]]||\"\";o.push(i?e.escape(d):d)}else o.push(a)}return new RegExp(o.join(\"\"))},groupify:function(e,t){for(var n=e.source,i=n.length,r=[],o=0,s=[],a=1,l=1,d=[],c={},h={},u=0;u<i;u++){var f=r[r.length-1],p=n.charAt(u);switch(p){case\"(\":4===f&&(r.pop(),d.push(\")\"),s[s.length-1].end=u);var g=u+2<i?n.charAt(u+1)+\"\"+n.charAt(u+2):null;if(\"?:\"===g||\"?=\"===g||\"?!\"===g){var v;\"?:\"===g?v=1:(v=3,o++),r.push(v),s.push({start:u,end:-1,type:v}),d.push(p),d.push(g),u+=g.length}else r.push(2),s.push({start:u,end:-1,type:2,oldNum:a,num:l}),d.push(p),0===o&&(h[l]=null),c[a]=l,a++,l++;break;case\")\":var m=r.pop();3===m&&o--,s[s.length-1].end=u,d.push(p);break;case\"*\":case\"+\":case\"?\":case\"}\":var _=p,y=n.charAt(u-1),C=u-1;if(\"}\"===p){for(var w=u-1;\"{\"!==n.charAt(w)&&w>=0;w--);y=n.charAt(w-1),C=w-1,_=n.substring(w,u+1)}var x=s[s.length-1];if(\")\"===y&&(2===x.type||4===x.type)){d.splice(x.start,0,\"(\"),d.push(_),d.push(\")\");for(var S={start:x.start,end:d.length-1,type:4,num:x.num},b=0;b<s.length;b++)m=s[b],2!==m.type&&4!==m.type||m.start>=x.start&&m.end<=C&&(m.start+=1,m.end+=1,m.num=m.num+1,2===m.type&&(c[m.oldNum]=m.num));s.push(S),l++;break}default:if(\"|\"!==p&&2!==f&&4!==f&&0===o&&(r.push(4),s.push({start:u,end:-1,type:4,num:l}),d.push(\"(\"),h[l]=null,l++),d.push(p),\"\\\\\"===p){var T=n.charAt(u+1);d.push(T),u+=1}}}for(;r.length;)r.pop(),d.push(\")\");var E=new RegExp(d.join(\"\")),L={};t=t||c;for(var k in t)t.hasOwnProperty(k)&&(L[k]=\"\\\\\"+t[k]);return E=this.getSubstitutedRegex(E,L,!1),[E,c,h]},complexCaptures:function(e){if(!e)return!1;for(var t in e)if(e.hasOwnProperty(t)&&\"0\"!==t)return!0;return!1}};return n.prototype={initialize:function(e){this.textView=e,this.textView.stylerOptions=this;var t=this;this._listener={onModelChanged:function(e){t.onModelChanged(e)},onDestroy:function(e){t.onDestroy(e)},onLineStyle:function(e){t.onLineStyle(e)},onStorage:function(e){t.onStorage(e)}},e.addEventListener(\"ModelChanged\",this._listener.onModelChanged),e.addEventListener(\"Destroy\",this._listener.onDestroy),e.addEventListener(\"LineStyle\",this._listener.onLineStyle),e.redrawLines()},onDestroy:function(e){this.destroy()},destroy:function(){this.textView&&(this.textView.removeEventListener(\"ModelChanged\",this._listener.onModelChanged),this.textView.removeEventListener(\"Destroy\",this._listener.onDestroy),this.textView.removeEventListener(\"LineStyle\",this._listener.onLineStyle),this.textView=null),this.grammar=null,this._styles=null,this._tree=null,this._listener=null},preprocess:function(e){for(var t=[e];0!==t.length;){var n=t.pop();if((!n._resolvedRule||!n._typedRule)&&(n._resolvedRule=this._resolve(n),n._typedRule=this._createTypedRule(n),this.addStyles(n.name),this.addStyles(n.contentName),this.addStylesForCaptures(n.captures),this.addStylesForCaptures(n.beginCaptures),this.addStylesForCaptures(n.endCaptures),n._resolvedRule!==n&&t.push(n._resolvedRule),n.patterns))for(var i=0;i<n.patterns.length;i++)t.push(n.patterns[i])}},addStyles:function(e){if(e&&!this._styles[e]){this._styles[e]=[];for(var t=e.split(\".\"),n=0;n<t.length;n++)this._styles[e].push(t.slice(0,n+1).join(\"-\"))}},addStylesForCaptures:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t].name;this.addStyles(n)}},ContainerRule:function(){function e(e){this.rule=e,this.subrules=e.patterns}return e.prototype.valueOf=function(){return\"aa\"},e}(),BeginEndRule:function(){function e(e){this.rule=e,this.beginRegex=i.toRegExp(e.begin),this.endRegex=i.toRegExp(e.end),this.subrules=e.patterns||[],this.endRegexHasBackRef=i.hasBackReference(this.endRegex);var t=i.complexCaptures(e.captures),n=i.complexCaptures(e.beginCaptures)||i.complexCaptures(e.endCaptures);if(this.isComplex=t||n,this.isComplex){var r=i.groupify(this.beginRegex);this.beginRegex=r[0],this.beginOld2New=r[1],this.beginConsuming=r[2];var o=i.groupify(this.endRegex,this.beginOld2New);this.endRegex=o[0],this.endOld2New=o[1],this.endConsuming=o[2]}}return e.prototype.valueOf=function(){return this.beginRegex},e}(),MatchRule:function(){function e(e){if(this.rule=e,this.matchRegex=i.toRegExp(e.match),this.isComplex=i.complexCaptures(e.captures),this.isComplex){var t=i.groupify(this.matchRegex);this.matchRegex=t[0],this.matchOld2New=t[1],this.matchConsuming=t[2]}}return e.prototype.valueOf=function(){return this.matchRegex},e}(),_createTypedRule:function(e){return e.match?new this.MatchRule(e):e.begin?new this.BeginEndRule(e):new this.ContainerRule(e)},_resolve:function(e){var t=e;if(e.include){if(e.begin||e.end||e.match)throw new Error('Unexpected regex pattern in \"include\" rule '+e.include);var n=e.include;if(\"#\"===n.charAt(0)){if(!(t=this.grammar.repository&&this.grammar.repository[n.substring(1)]))throw new Error(\"Couldn't find included rule \"+n+\" in grammar repository\")}else if(\"$self\"===n)t=this.grammar;else{if(\"$base\"===n)throw new Error('Include \"$base\" is not supported');if(!(t=this._allGrammars[n]))for(var i=0;i<this.externalGrammars.length;i++){var r=this.externalGrammars[i];if(r.scopeName===n){this.preprocess(r),this._allGrammars[n]=r,t=r;break}}}}return t},ContainerNode:function(){function e(e,t){this.parent=e,this.rule=t,this.children=[],this.start=null,this.end=null}return e.prototype.addChild=function(e){this.children.push(e)},e.prototype.valueOf=function(){var e=this.rule;return\"ContainerNode { \"+(e.include||\"\")+\" \"+(e.name||\"\")+(e.comment||\"\")+\"}\"},e}(),BeginEndNode:function(){function e(e,t,n){this.parent=e,this.rule=t,this.children=[],this.setStart(n),this.end=null,this.endMatch=null,t.endRegexHasBackRef?this.endRegexSubstituted=i.getSubstitutedRegex(t.endRegex,n):this.endRegexSubstituted=null}return e.prototype.addChild=function(e){this.children.push(e)},e.prototype.getIndexInParent=function(e){return this.parent?this.parent.children.indexOf(this):-1},e.prototype.setStart=function(e){this.start=e.index,this.beginMatch=e},e.prototype.setEnd=function(e){if(e&&\"object\"==typeof e){var t=e;this.endMatch=t,this.end=t.index+t[0].length}else{var n=e;this.endMatch=null,this.end=n}},e.prototype.shiftStart=function(e){this.start+=e,this.beginMatch.index+=e},e.prototype.shiftEnd=function(e){this.end+=e,this.endMatch&&(this.endMatch.index+=e)},e.prototype.valueOf=function(){return\"{\"+this.rule.beginRegex+\" range=\"+this.start+\"..\"+this.end+\"}\"},e}(),push:function(e,t){if(t)for(var n=t.length;n>0;)e.push(t[--n])},exec:function(e,t,n){var i=e.exec(t);return i&&(i.index+=n),e.lastIndex=0,i},afterMatch:function(e){return e.index+e[0].length},getEndMatch:function(e,t,n){if(e instanceof this.BeginEndNode){var i=e.rule,r=e.endRegexSubstituted||i.endRegex;return r?this.exec(r,t,n):null}return null},initialParse:function(){var e=(this.textView.getModel().getCharCount(),new this.ContainerNode(null,this.grammar._typedRule));this._tree=e,this.parse(this._tree,!1,0)},onModelChanged:function(e){var t=e.addedCharCount,n=(e.addedLineCount,e.removedCharCount),i=(e.removedLineCount,e.start);if(this._tree){var r=this.textView.getModel(),o=r.getCharCount(),s=r.getLineEnd(r.getLineAtOffset(i)-1),a=this.getFirstDamaged(s,s);s=-1===s?0:s;var l;l=a?this.parse(a,!0,s,i,t,n):o,this.textView.redrawRange(s,l)}else this.initialParse()},getFirstDamaged:function(e,t){if(e<0)return this._tree;for(var n=[this._tree],i=null;n.length;){var r=n.pop();if(!r.parent||this.isDamaged(r,e,t)){r instanceof this.BeginEndNode&&(i=r);for(var o=0;o<r.children.length;o++)n.push(r.children[o])}}return i||this._tree},isDamaged:function(e,t,n){return e.start<=n&&e.end>t},parse:function(e,t,n,i,r,o){var s=this.textView.getModel(),a=s.getLineStart(s.getLineCount()-1),l=s.getCharCount(),d=this.getInitialExpected(e,n),c=-1;if(t){e.repaired=!0,e.endNeedsUpdate=!0;var h=e.children[e.children.length-1],u=r-o,f=h?s.getLineEnd(s.getLineAtOffset(h.end+u)):-1,p=s.getLineEnd(s.getLineAtOffset(i+o));c=Math.max(f,p)}c=-1===c?l:c;for(var g=d,v=e,m=!1,_=n,y=-1;v&&(!t||_<c);){var C=this.getNextMatch(s,v,_);C||(_=_>=a?l:s.getLineStart(s.getLineAtOffset(_)+1));var w=C&&C.match,x=C&&C.rule,S=C&&C.isSub,b=C&&C.isEnd;if(S){if(_=this.afterMatch(w),x instanceof this.BeginEndRule)if(m=!0,t&&x===g.rule&&v===g.parent){var T=g;T.setStart(w),T.repaired=!0,T.endNeedsUpdate=!0,v=T,g=this.getNextExpected(g,\"begin\")}else{t&&(this.prune(v,g),t=!1);var E=new this.BeginEndNode(v,x,w);v.addChild(E),v=E}}else(b||_===l)&&(v instanceof this.BeginEndNode&&(w?(m=!0,y=Math.max(y,v.end),v.setEnd(w),_=this.afterMatch(w),t&&v===g&&v.parent===g.parent?(v.repaired=!0,delete v.endNeedsUpdate,g=this.getNextExpected(g,\"end\")):t&&(this.prune(v,g),t=!1)):(v.setEnd(l),delete v.endNeedsUpdate)),v=v.parent);t&&_>=c&&!m&&(this.prune(e,d),t=!1)}return this.removeUnrepairedChildren(e,t,n),this.cleanup(t,e,n,c,l,r,o),t?Math.max(y,_):_},removeUnrepairedChildren:function(e,t,n){if(t){for(var i=e.children,r=-1,o=0;o<i.length;o++){var s=i[o];if(!s.repaired&&this.isDamaged(s,n,Number.MAX_VALUE)){r=o;break}}-1!==r&&(e.children.length=r)}},cleanup:function(e,t,n,i,r,o,s){var a,l,d;if(e){var c=o-s,h=this.getIntersecting(i-c+1,r);for(d=this.getIntersecting(n,i),a=0;a<h.length;a++)l=h[a],!l.repaired&&l instanceof this.BeginEndNode&&(l.shiftEnd(c),l.shiftStart(c));for(a=0;a<d.length;a++)l=d[a],l.repaired&&l.endNeedsUpdate&&l.shiftEnd(c),delete l.endNeedsUpdate,delete l.repaired}else for(d=this.getIntersecting(n,i),a=0;a<d.length;a++)delete d[a].repaired},getNextMatch:function(e,t,n,i){var r=e.getLineAtOffset(n),o=e.getLineEnd(r),s=e.getText(n,o),a=[],l=[],d=[],c=[];for(this.push(a,t.rule.subrules);a.length;){var h=a.length?a.pop():null,u=h&&h._resolvedRule._typedRule;if(u instanceof this.ContainerRule&&-1===l.indexOf(u))l.push(u),this.push(a,u.subrules);else if(!u||!i||u.matchRegex){var f=u&&this.exec(u.matchRegex||u.beginRegex,s,n);f&&(d.push(f),c.push(u))}}for(var p=Number.MAX_VALUE,g=-1,v=0;v<d.length;v++){var m=d[v];m.index<p&&(p=m.index,g=v)}if(!i){var _=t,y=this.getEndMatch(t,s,n);if(y){var C=_.rule.applyEndPatternLast;if(-1===g||y.index<p||!C&&y.index===p)return{isEnd:!0,rule:_.rule,match:y}}}return-1===g?null:{isSub:!0,rule:c[g],match:d[g]}},getInitialExpected:function(e,t){var n,i;if(e===this._tree){for(n=0;n<e.children.length;n++)if(i=e.children[n],i.start>=t)return i}else if(e instanceof this.BeginEndNode&&e.endMatch){var r=e.endMatch.index;for(n=0;n<e.children.length&&(i=e.children[n],!(i.start>=t));n++);if(i&&i.start<r)return i}return e},getNextExpected:function(e,t){var n=e;if(\"begin\"===t){var i=n.children[0];return i||n}if(\"end\"===t){var r=n.parent;if(r){var o=r.children[r.children.indexOf(n)+1];return o||r}}return null},prune:function(e,t){t.parent===e?e.children.length=t.getIndexInParent():e instanceof this.BeginEndNode&&(e.endMatch=null,e.end=null),e.parent&&(e.parent.children.length=e.getIndexInParent()+1)},onLineStyle:function(e){function t(e,t){return e.start-t.start}this._tree||this.initialParse();var n=e.lineStart,i=this.textView.getModel(),r=i.getLineEnd(e.lineIndex),o=i.getLineEnd(i.getLineAtOffset(n)-1),s=this.getFirstDamaged(o,o),a=this.getLineScope(i,s,n,r);e.ranges=this.toStyleRanges(a),e.ranges.sort(t)},getLineScope:function(e,t,n,i){for(var r=n,o=this.getInitialExpected(t,n),s=[],a=[];t&&r<i;){var l=this.getNextMatch(e,t,r);if(!l)break;var d=l&&l.match,c=l&&l.rule,h=l&&l.isSub,u=l&&l.isEnd;d.index!==r&&a.push({start:r,end:d.index,node:t}),h?(r=this.afterMatch(d),c instanceof this.BeginEndRule?(this.addBeginScope(s,d,c),t=o,o=this.getNextExpected(o,\"begin\")):this.addMatchScope(s,d,c)):u&&(r=this.afterMatch(d),this.addEndScope(s,d,c),o=this.getNextExpected(o,\"end\"),t=t.parent)}r<i&&a.push({start:r,end:i,node:t});var f=this.getInheritedLineScope(a,n,i);return s.concat(f)},getInheritedLineScope:function(e,t,n){for(var i=[],r=0;r<e.length;r++)for(var o=e[r],s=o.node;s;){var a=s.rule.rule,l=a.name,d=a.contentName,c=d||l;if(c){this.addScopeRange(i,o.start,o.end,c);break}s=s.parent}return i},addBeginScope:function(e,t,n){var i=n.rule;this.addCapturesScope(e,t,i.beginCaptures||i.captures,n.isComplex,n.beginOld2New,n.beginConsuming)},addEndScope:function(e,t,n){var i=n.rule;this.addCapturesScope(e,t,i.endCaptures||i.captures,n.isComplex,n.endOld2New,n.endConsuming)},addMatchScope:function(e,t,n){var i=n.rule,r=i.name,o=i.captures;o?this.addCapturesScope(e,t,o,n.isComplex,n.matchOld2New,n.matchConsuming):this.addScope(e,t,r)},addScope:function(e,t,n){n&&e.push({start:t.index,end:this.afterMatch(t),scope:n})},addScopeRange:function(e,t,n,i){i&&e.push({start:t,end:n,scope:i})},addCapturesScope:function(e,t,n,i,r,o){if(n)if(i){for(var s={1:0},a=0,l=1;void 0!==t[l];l++)void 0!==o[l]&&(a+=t[l].length),void 0!==t[l+1]&&(s[l+1]=a);for(var d=t.index,c=1;n[c];c++){var h=n[c].name,u=r[c],f=d+s[u];if(void 0!==t[u]){var p=f+t[u].length;this.addScopeRange(e,f,p,h)}}}else this.addScope(e,t,n[0]&&n[0].name)},getIntersecting:function(e,t){for(var n=[],i=this._tree?[this._tree]:[];i.length;){var r=i.pop(),o=!1;if(r instanceof this.ContainerNode?o=!0:this.isDamaged(r,e,t)&&(o=!0,n.push(r)),o)for(var s=r.children.length,a=0;a<s;a++)i.push(r.children[a])}return n.reverse()},toStyleRanges:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this._styles[i.scope];if(!r)throw new Error(\"styles not found for \"+i.scope);var o=r.join(\" \");t.push({start:i.start,end:i.end,style:{styleClass:o}})}return t}},{RegexUtil:i,TextMateStyler:n}}),n(\"orion/editor/AsyncStyler\",[\"i18n!orion/editor/nls/messages\",\"orion/editor/annotations\"],function(e,t){function n(e){return-1!==e.getProperty(\"objectClass\").indexOf(r)&&\"highlighter\"===e.getProperty(\"type\")}function i(e,t,n){this.initialize(e,t,n),this.lineStyles=[]}var r=\"orion.edit.highlighter\",o=r+\" service must be an event emitter\";return t.AnnotationType.registerType(\"orion.annotation.highlightError\",{title:e.syntaxError,html:\"<div class='annotationHTML error'></div>\",rangeStyle:{styleClass:\"annotationRange error\"}}),i.prototype={initialize:function(e,t,i){this.textView=e,this.serviceRegistry=t,this.annotationModel=i,this.services=[];var o=this;this.listener={onModelChanging:function(e){o.onModelChanging(e)},onModelChanged:function(e){o.onModelChanged(e)},onDestroy:function(e){o.onDestroy(e)},onLineStyle:function(e){o.onLineStyle(e)},onStyleReady:function(e){o.onStyleReady(e)},onServiceAdded:function(e){o.onServiceAdded(e.serviceReference,o.serviceRegistry.getService(e.serviceReference))},onServiceRemoved:function(e){o.onServiceRemoved(e.serviceReference,o.serviceRegistry.getService(e.serviceReference))}},e.addEventListener(\"ModelChanging\",this.listener.onModelChanging),e.addEventListener(\"ModelChanged\",this.listener.onModelChanged),e.addEventListener(\"Destroy\",this.listener.onDestroy),e.addEventListener(\"LineStyle\",this.listener.onLineStyle),t.addEventListener(\"registered\",this.listener.onServiceAdded),t.addEventListener(\"unregistering\",this.listener.onServiceRemoved);for(var s=t.getServiceReferences(r),a=0;a<s.length;a++){var l=s[a];n(l)&&this.addServiceListener(t.getService(l))}},onDestroy:function(e){this.destroy()},destroy:function(){if(this.textView&&(this.textView.removeEventListener(\"ModelChanging\",this.listener.onModelChanging),this.textView.removeEventListener(\"ModelChanged\",this.listener.onModelChanged),this.textView.removeEventListener(\"Destroy\",this.listener.onDestroy),this.textView.removeEventListener(\"LineStyle\",this.listener.onLineStyle),this.textView=null),this.services){for(var e=0;e<this.services.length;e++)this.removeServiceListener(this.services[e]);this.services=null}this.serviceRegistry&&(this.serviceRegistry.removeEventListener(\"registered\",this.listener.onServiceAdded),this.serviceRegistry.removeEventListener(\"unregistering\",this.listener.onServiceRemoved),this.serviceRegistry=null),this.listener=null,this.lineStyles=null},onModelChanging:function(e){this.startLine=this.textView.getModel().getLineAtOffset(e.start)},onModelChanged:function(e){var t=this.startLine;(e.addedLineCount||e.removedLineCount)&&Array.prototype.splice.apply(this.lineStyles,[t,e.removedLineCount].concat(this._getEmptyStyle(e.addedLineCount)))},onStyleReady:function(e){var n=e.lineStyles||e.style,i=Number.MAX_VALUE,r=-1,o=this.textView.getModel();for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(this.lineStyles[s]=n[s],i=Math.min(i,s),r=Math.max(r,s));i=Math.max(i,0),r=Math.min(r,o.getLineCount());var a=this.annotationModel;if(a){for(var l=a.getAnnotations(o.getLineStart(i),o.getLineEnd(r)),d=[];l.hasNext();){var c=l.next();\"orion.annotation.highlightError\"===c.type&&d.push(c)}for(var h=[],u=i;u<=r;u++){s=u;var f=this.lineStyles[s],p=f&&f.errors,g=o.getLineStart(s);if(p)for(var v=0;v<p.length;v++){var m=p[v];h.push(t.AnnotationType.createAnnotation(\"orion.annotation.highlightError\",m.start+g,m.end+g))}}a.replaceAnnotations(d,h)}this.textView.redrawLines(i,r+1)},onLineStyle:function(e){var t=this.lineStyles[e.lineIndex];t&&(t.ranges?e.ranges=function(e,t){for(var n=e.length,i=[],r=0;r<n;r++){var o=e[r];i.push({start:o.start+t,end:o.end+t,style:o.style})}return i}(t.ranges,e.lineStart):t.style&&(e.style=t.style))},_getEmptyStyle:function(e){for(var t=[],n=0;n<e;n++)t.push(null);return t},setContentType:function(e){if(this.contentType=e,this.services)for(var t=0;t<this.services.length;t++){var n=this.services[t];if(n.setContentType){var i=this.serviceRegistry.getService(\"orion.page.progress\");i?i.progress(n.setContentType(this.contentType),(this.contentType.id,this.contentType.id)):n.setContentType(this.contentType)}}},onServiceAdded:function(e,t){n(e)&&this.addServiceListener(t)},onServiceRemoved:function(e,t){-1!==this.services.indexOf(t)&&this.removeServiceListener(t)},addServiceListener:function(e){if(\"function\"==typeof e.addEventListener){if(e.addEventListener(\"orion.edit.highlighter.styleReady\",this.listener.onStyleReady),this.services.push(e),e.setContentType&&this.contentType){var t=this.serviceRegistry.getService(\"orion.page.progress\");t?t.progress(e.setContentType(this.contentType),(this.contentType.id,this.contentType.id)):e.setContentType(this.contentType)}}else\"undefined\"!=typeof console&&console.log(new Error(o))},removeServiceListener:function(e){if(\"function\"==typeof e.removeEventListener){e.removeEventListener(\"orion.edit.highlighter.styleReady\",this.listener.onStyleReady);var t=this.services.indexOf(e);-1!==t&&this.services.splice(t,1)}else\"undefined\"!=typeof console&&console.log(new Error(o))}},i}),n(\"orion/highlight\",[\"examples/editor/textStyler\",\"orion/editor/textStyler\",\"orion/editor/textMateStyler\",\"orion/editor/AsyncStyler\",\"orion/Deferred\"],function(e,t,n,i,r){function o(o,s,l,d,c,h,u){function f(e){return u||\"highlighter\"!==e.getProperty(\"type\")}if(!a){var p=function(t){var n=null;switch(t&&t.id){case\"application/javascript\":case\"application/json\":n=new e.TextStyler(d,\"js\",c);break;case\"text/x-java-source\":n=new e.TextStyler(d,\"java\",c);break;case\"text/css\":n=new e.TextStyler(d,\"css\",c)}return n}(l);if(p){var g=new r;return g.resolve(p),g}}a&&!this.orionGrammars&&(this.orionGrammars={});for(var v=h&&h.split(\".\").pop().toLowerCase(),m=o.getServiceReferences(\"orion.edit.highlighter\"),_=[],y=[],C=0;C<m.length;C++){var w=m[C],x=w.getProperty(\"type\");if(\"grammar\"===x||!a&&void 0===x)_.push(w.getProperty(\"grammar\"));else if(\"highlighter\"!==x){var S=w.getProperty(\"id\");S&&!this.orionGrammars[S]&&(this.orionGrammars[S]={id:S,contentTypes:w.getProperty(\"contentTypes\"),patterns:w.getProperty(\"patterns\"),repository:w.getProperty(\"repository\")})}var b=function(e,t){var n=e.getProperty(\"contentType\")||e.getProperty(\"contentTypes\"),i=e.getProperty(\"fileTypes\");if(n)return r.when(s.isSomeExtensionOf(l,n)).then(function(t){return t?e:null});if(t&&i&&-1!==i.indexOf(t)){var o=new r;return o.resolve(e),o}return null}(w,v);b&&y.push(b)}return r.all(y,function(e){return{_error:e}}).then(function(e){for(var r,s=e.length-1;s>=0;s--){var h=e[s];if(h&&!h._error&&f(h)){r=h;break}}var u;if(r){var p=r.getProperty(\"type\");if(\"highlighter\"===p)u=new i(d,o,c),u.setContentType(l);else if(\"grammar\"===p||!a&&void 0===p){var g=r.getProperty(\"grammar\");u=new n.TextMateStyler(d,g,_)}else if(a){var v=[];for(var m in this.orionGrammars)v.push(this.orionGrammars[m]);var y=new t.createPatternBasedAdapter(v,r.getProperty(\"id\"),l.id);u=new t.TextStyler(d,c,y)}}else!a||l&&\"text/x-markdown\"===l.id||(y=new t.createPatternBasedAdapter([],\"\"),u=new t.TextStyler(d,c,y));return u})}function s(e,t){this.serviceRegistry=e,this.contentTypeService=t,this.styler=null}var a=1;return s.prototype={setup:function(e,t,n,i,r){r=void 0===r||r,this.styler&&(this.styler.destroy&&this.styler.destroy(),this.styler=null);var s=this;return o(this.serviceRegistry,this.contentTypeService?this.contentTypeService:this.serviceRegistry.getService(\"orion.core.contentTypeRegistry\"),e,t,n,i,r).then(function(e){return s.styler=e,e})},getStyler:function(){return this.styler}},{createStyler:o,SyntaxHighlighter:s}}),n(\"orion/markOccurrences\",[\"orion/Deferred\"],function(e){function t(e,t,n){this.registry=e,this.inputManager=t,this.editor=n}return t.prototype={setOccurrencesVisible:function(e){this.occurrencesVisible!==e&&(this.occurrencesVisible=e,e||this.editor.showOccurrences([]))},findOccurrences:function(){function t(t,n,i){for(var r=t.getService(\"orion.core.contentTypeRegistry\"),o=t.getServiceReferences(\"orion.edit.occurrences\"),s=[],a=0;a<o.length;a++){var l=o[a],d=l.getProperty(\"pattern\");if(l.getProperty(\"contentType\"))s.push(function(e,t,n){var i=t.getProperty(\"contentType\");return r.isSomeExtensionOf(n,i).then(function(e){return e?t:null})}(t,l,n));else if(d&&new RegExp(d).test(i)){var c=new e;c.resolve(l),s.push(c)}}return e.all(s,function(e){return{_error:e}}).then(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&!i._error&&t.push(i)}return t})}var n,i=this,r=function(){n&&window.clearTimeout(n),i.occurrencesVisible&&(n=window.setTimeout(function(){n=null;var t=i.editor,r=t.getSelections();if(r.length>1)return void i.editor.showOccurrences([]);var o={selection:r[0],contentType:i.inputManager.getContentType().id};if(Array.isArray(i.occurrencesServices)&&i.occurrencesServices.length>0){for(var s=[],a=[],l=0;l<i.occurrencesServices.length;l++){var d=i.occurrencesServices[l];d&&s.push(d.computeOccurrences(t.getEditorContext(),o).then(function(e){\na=a.concat(e)}))}e.all(s).then(function(){i.editor.showOccurrences(a)})}},500))};i.inputManager.addEventListener(\"InputChanged\",function(e){var o=i.editor.getTextView();o&&(o.removeEventListener(\"Selection\",r),t(i.registry,e.contentType,e.title).then(function(e){if(e&&0!==e.length){i.occurrencesServices=[];for(var t=0;t<e.length;t++){var s=i.registry.getService(e[t]);s&&i.occurrencesServices.push(s)}o.addEventListener(\"Selection\",r)}else n&&window.clearTimeout(n)}))})}},{MarkOccurrences:t}}),n(\"orion/syntaxchecker\",[\"orion/Deferred\",\"orion/edit/editorContext\"],function(e,t){function n(e,t,n){var i=e.getProperty(\"contentType\");return n.isSomeExtensionOf(t,i).then(function(t){return t?e:null})}function i(e,t,n){return e=Math.max(e,t),e=Math.min(e,n)}function r(e){e=e||{};var t=e.problems||e.errors||e;return Array.isArray(t)?t:[]}function o(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.description=r.description||r.reason,r.severity=r.severity||\"error\",r.start=\"number\"==typeof r.start?r.start:r.character,\"number\"==typeof r.line){var o=t.getLine(r.line-1,!1).length;r.start=i(r.start,1,o),r.end=\"number\"==typeof r.end?r.end:-1,r.end=i(r.end,r.start+1,o+1)}else{var s=t.getCharCount();if(r.start=i(r.start,0,s),r.end=\"number\"==typeof r.end?r.end:-1,r.end=i(r.end,r.start,s),r.end===s&&t.getLineCount()>1&&s===t.getLineStart(t.getLineCount()-1)){var a=t.getLineCount()-2,l=t.getLineStart(a),d=t.getLineEnd(a);l===d?r.start=r.end=d:(r.start=d-1,r.end=d)}}}}function s(e,t){this.registry=e,this.textModel=t}return s.prototype={initialize:function(e,t){if(!t)return void this.registry.getServiceReferences(\"orion.edit.validator\").forEach(function(t){var n=this.registry.getService(t);n&&\"function\"==typeof n.initialize&&n.initialize(e)}.bind(this));this.getValidators(e,t).then(function(n){Array.isArray(n)&&n.length>0&&n.forEach(function(n){var i=this.registry.getService(n);i&&\"function\"==typeof i.initialize&&i.initialize(e,t)}.bind(this))}.bind(this))},checkSyntax:function(n,i,s,a,l){if(!n||s)return(new e).resolve([]);if(!s){var d=this.registry;return this.getValidators(i,n).then(function(s){if(0===s.length)return(new e).resolve();var c=d.getService(\"orion.page.progress\"),h=s.map(function(e){var o,s=d.getService(e);if(s.computeProblems){var h={contentType:n.id,title:i};o=s.computeProblems(l||t.getEditorContext(d),h)}else s.checkSyntax&&(o=s.checkSyntax(i,a));return c.progress(o,\"Validating \"+i).then(r)});return e.all(h,function(e){return{_error:e}}).then(function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r._error||(o(r,this.textModel),n=n.concat(r))}return(new e).resolve(n)}.bind(this))}.bind(this),function(t){return(new e).resolve([])})}},setTextModel:function(e){this.textModel=e},getValidators:function(t,i){for(var r=this.registry.getService(\"orion.core.contentTypeRegistry\"),o=this.registry.getServiceReferences(\"orion.edit.validator\"),s=[],a=0;a<o.length;a++){var l=o[a],d=l.getProperty(\"pattern\");if(l.getProperty(\"contentType\"))s.push(n(l,i,r));else if(d&&new RegExp(d).test(t)){var c=new e;c.resolve(l),s.push(c)}}return e.all(s,function(e){return{_error:e}}).then(function(e){var t=[];for(a=0;a<e.length;a++){var n=e[a];n&&!n._error&&t.push(n)}return t})}},{SyntaxChecker:s}}),n(\"orion/liveEditSession\",[\"orion/Deferred\"],function(e){function t(e){return e instanceof Error?e:new Error(e)}function n(e,t){this.registry=e,this.editor=t}var i,r=[];return n.prototype={start:function(n,o){if(i!==o){if(r&&r.forEach(function(e){e.endEdit(i)}),r=[],i=o,!n)return;var s=this.editor,a=this.registry;(function(n,i){for(var r=n.getService(\"orion.core.contentTypeRegistry\"),o=n.getServiceReferences(\"orion.edit.live\"),s=[],a=0;a<o.length;a++){var l=o[a];l.getProperty(\"contentType\")&&s.push(function(e,t){var n=e.getProperty(\"contentType\");return r.isSomeExtensionOf(t,n).then(function(t){return t?e:null})}(l,i))}return e.all(s,t).then(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];!i||i instanceof Error||t.push(i)}return t})})(a,n).then(function(i){var l=i.map(function(e){var t=a.getService(e);if(t.startEdit){var i={contentType:n.id,title:o};r.push(t);var l=s.getEditorContext();return t.startEdit(l,i)}});e.all(l,t)})}}},n}),n(\"orion/problems\",[\"orion/EventTarget\"],function(e){function t(t,n){this._serviceRegistry=t,e.attach(this),this._serviceRegistration=t.registerService(n||\"orion.core.marker\",this)}return t.prototype={_setProblems:function(e){this.problems=e,this.dispatchEvent({type:\"problemsChanged\",problems:e})}},t.prototype.constructor=t,{ProblemService:t}}),n(\"orion/blamer\",[\"orion/extensionCommands\",\"orion/PageLinks\",\"orion/URITemplate\"],function(e,t,n){function i(e,t,n){this.serviceRegistry=e,this.inputManager=t,this.editor=n}return i.prototype={getBlamer:function(){for(var t=this.inputManager.getFileMetadata(),n=this.serviceRegistry.getServiceReferences(\"orion.edit.blamer\"),i=0;i<n.length;i++){var r=n[i],o={};o.validationProperties=r.getProperty(\"validationProperties\"),o.forceSingleItem=!0;var s=e._makeValidator(o,this.serviceRegistry);if(s.validationFunction.bind(s)(t))return this.serviceRegistry.getService(r)}return null},isVisible:function(){return!!this.getBlamer()},doBlame:function(){var e=this.getBlamer();if(e){var i=function(e){for(var i=t.getOrionHome(),r=0;r<e.length;r++){var o=e[r],s=new n(o.CommitLink),a={};a.OrionHome=i,o.CommitLink=s.expand(a)}this.editor.showBlame(e)}.bind(this),r=this.inputManager,o={metadata:r.getFileMetadata()};e.computeBlame(this.editor.getEditorContext(),o).then(i)}}},{Blamer:i}}),n(\"orion/compare/diffParser\",[],function(){var e=e||{};return e.DiffParser=function(){function e(e,n){this._lineDelimiter=e||(t?\"\\r\\n\":\"\\n\"),this._diffLineDelimiter=n||this._lineDelimiter,this._DEBUG=!1}var t=-1!==window.navigator.platform.indexOf(\"Win\");return e.prototype={_init:function(){this._oFileContents=[],this._diffContents=[],this._oBlocks=[],this._nBlocks=[],this._hunkRanges=[],this._lastToken=\" \",this._deltaMap=[],this._nFileContents=[],this._oNewLineAtEnd=!0,this._nNewLineAtEnd=!0,this._diffContentIndex=1},getOriginalBlocks:function(){return this._oBlocks},getNewBlocks:function(){return this._nBlocks},setLineDelim:function(e){this._lineDelimiter=e,this._diffLineDelimiter=e},getDiffArray:function(){return{array:this._diffContents,index:this._diffContentIndex}},parse:function(e,t,n,i){if(this._init(),\"\"===t)return{outPutFile:e,mapper:[]};this._oFileContents=\"\"===e?[]:e.split(this._lineDelimiter),this._diffContents=t.split(this._diffLineDelimiter);var r={};r.mapper=[];var o=this._diffContents.length;this._hunkRanges=[];for(var s=0;s<o;s++){this._addFileModeProperties(this._diffContents[s],r);var a=this._parseHunkRange(s);a&&this._hunkRanges.push(a)}if(0===this._hunkRanges.length)return r.outPutFile=e,r;this._DEBUG&&(console.log(\"***Diff contents: \\n\"),this._diffContents.forEach(function(e){console.log(e)}),console.log(\"***Hunk ranges: \\n\"),console.log(JSON.stringify(this._hunkRanges)));for(var l=0;l<this._hunkRanges.length;l++)this._parseHunkBlock(l);return this._DEBUG&&(console.log(\"***Original Hunk range blocks: \\n\"),console.log(JSON.stringify(this._oBlocks)),console.log(\"***New Hunk range blocks: \\n\"),console.log(JSON.stringify(this._nBlocks))),this._buildMap(n),this._DEBUG&&(console.log(\"***New Line at end of file(original): \\n\"),console.log(JSON.stringify(this._oNewLineAtEnd)),console.log(\"***New Line at end of file(new): \\n\"),console.log(JSON.stringify(this._nNewLineAtEnd)),console.log(\"***Mapper: \\n\"),this._logMap(),console.log(\"***Total line number in original file: \"+this._oFileContents.length)),i||this._buildNewFile(),this._DEBUG,r.outPutFile=this._nFileContents.join(this._diffLineDelimiter),r.mapper=this._deltaMap,r},_addFileModeProperties:function(e,t){function n(e,t){return 0===e.lastIndexOf(t,0)}n(e,\"-\")||n(e,\"+\")||n(e,\"@\")||(n(e,\"deleted file mode\")&&(t.deletedFileMode=e.split(\"deleted file mode\")[1].match(/[^ ]+/g)[0]),n(e,\"new file mode\")&&(t.newFileMode=e.split(\"new file mode\")[1].match(/[^ ]+/g)[0]),n(e,\"old mode\")&&(t.oldMode=e.split(\"old mode\")[1].match(/[^ ]+/g)[0]),n(e,\"new mode\")&&(t.newMode=e.split(\"new mode\")[1].match(/[^ ]+/g)[0]))},_logMap:function(){for(var e=0;e<this._deltaMap.length;e++)if(console.log(JSON.stringify(this._deltaMap[e])),this._deltaMap[e][2]>0){console.log(\"    **Diff content on change/add: \\n\");for(var t=0;t<this._deltaMap[e][0];t++)console.log(\"    \"+this._diffContents[this._deltaMap[e][2]+t-1])}},_logNewFile:function(){for(var e=0;e<this._nFileContents.length;e++)console.log(this._nFileContents[e])},_createBlock:function(e,t,n,i){if(i!==n||\" \"!==e){var r=[n,i-n,\"s\"];\"-\"===e?r[2]=\"r\":\"+\"===e?r[2]=\"a\":\"c\"===e&&(r[2]=\"c\"),t.push(r)}},_createMinusBlock:function(e,t,n,i){var r=this._oBlocks.length;0===r||e!==this._oBlocks[r-1][0]?(this._oBlocks.push([0===e?1:e,n,i]),this._nBlocks.push([t,0,-2])):(this._oBlocks[r-1][1]=this._oBlocks[r-1][1]+n,this._oBlocks[r-1][2]=i)},_createPlusBlock:function(e,t,n,i){var r=this._nBlocks.length;0===r||t!==this._nBlocks[r-1][0]?(this._oBlocks.push([0===e?1:e,0]),this._nBlocks.push([t,n,i])):(this._nBlocks[r-1][1]=this._nBlocks[r-1][1]+n,this._nBlocks[r-1][2]=i)},_parseHunkBlock:function(e){for(var t=\" \",n=this._hunkRanges[e][0]+1,i=e===this._hunkRanges.length-1?this._diffContents.length:this._hunkRanges[e+1][0],r=0,o=0,s=this._hunkRanges[e][1],a=this._hunkRanges[e][3],l=n,d=n,c=n;c<i;c++)if(0!==this._diffContents[c].length){var h=this._diffContents[c][0];if(\"\\\\\"!==h||\"\\\\ No newline at end of file\"!==this._diffContents[c].substring(0,this._diffContents[c].length-1)&&\"\\\\ No newline at end of file\"!==this._diffContents[c]){switch(h){case\"-\":case\"+\":case\" \":break;default:continue}if(t!==h){switch(\"+\"===h&&(l=c),\"-\"===h&&(d=c),t){case\" \":s=this._hunkRanges[e][1]+r,a=this._hunkRanges[e][3]+o;break;case\"-\":this._createMinusBlock(s,a,this._hunkRanges[e][1]+r-s,d);break;case\"+\":this._createPlusBlock(s,a,this._hunkRanges[e][3]+o-a,l)}t=h}switch(h){case\"-\":r++;break;case\"+\":o++;break;case\" \":r++,o++}}else\"-\"===t?this._oNewLineAtEnd=!1:\" \"===t?(this._nNewLineAtEnd=!1,this._oNewLineAtEnd=!1):this._nNewLineAtEnd=!1,c>n&&\"\\r\"===this._diffContents[c-1][this._diffContents[c-1].length-1]&&(this._diffContents[c-1]=this._diffContents[c-1].substring(0,this._diffContents[c-1].length-1))}switch(t){case\"-\":this._createMinusBlock(s,a,this._hunkRanges[e][1]+r-s,d);break;case\"+\":this._createPlusBlock(s,a,this._hunkRanges[e][3]+o-a,l)}},_detectConflictes:function(e,t){if(e<0)return!1;for(var n=e+t,i=e;i<n;i++){var r=this._diffContents[i];if(r.indexOf(\"<<<<<\")>-1||r.indexOf(\">>>>>\")>-1)return!0}return!1},_buildMap:function(e){for(var t,n=this._oBlocks.length,i=this._oFileContents.length,r=0,o=1,s=0;s<n;s++)t=this._oBlocks[s][0]-o,t>0&&(this._deltaMap.push([t,t,0]),r+=t),e&&this._detectConflictes(this._nBlocks[s][2],this._nBlocks[s][1])?this._deltaMap.push([this._nBlocks[s][1],this._oBlocks[s][1],this._nBlocks[s][2]+1,1]):this._deltaMap.push([this._nBlocks[s][1],this._oBlocks[s][1],this._nBlocks[s][2]+1]),r+=this._oBlocks[s][1],o=this._oBlocks[s][0]+this._oBlocks[s][1];if(0<i-o&&(this._deltaMap.push([i-o+1,i-o+1,0]),r+=i-o+1),r<i){t=i-r;var a=this._deltaMap[this._deltaMap.length-1];0===a[2]?(a[0]+=t,a[1]+=t):-1===a[2]?this._deltaMap.push([t,t,0]):this._nNewLineAtEnd===this._oNewLineAtEnd?this._deltaMap.push([t,t,0]):(this._nNewLineAtEnd&&(a[0]+=t),this._oNewLineAtEnd&&(a[1]+=t))}},_buildNewFile:function(){var e,t,n=1,i=!1,r=this._deltaMap.length;for(e=0;e<r;e++){if(i=!1,0===this._deltaMap[e][2]){for(t=0;t<this._deltaMap[e][0];t++)this._nFileContents.push(this._oFileContents[n+t-1]);i=!0}else if(this._deltaMap[e][2]>0)for(t=0;t<this._deltaMap[e][0];t++)this._nFileContents.push(this._diffContents[this._deltaMap[e][2]+t-1].substring(1));n+=this._deltaMap[e][1]}this._nNewLineAtEnd&&!i&&this._nFileContents.push(\"\")},_converHRangeBody:function(e,t){if(e){var n=parseInt(e,10);t.push(n>=0?n:1)}else t.push(1)},_parseHunkRange:function(e){var t=this._diffContents[e],n=/^@@\\s*-([\\+|\\-]*[\\d]+)\\s*,*\\s*([\\d]*)\\s*\\+([\\+|\\-]*[\\d]+)\\s*,*\\s*([\\d]*)\\s*@@+/,i=/^@@\\s*\\+([\\+|\\-]*[\\d]+)\\s*,*\\s*([\\d]*)\\s*-([\\+|\\-]*[\\d]+)\\s*,*\\s*([\\d]*)\\s*@@+/,r=n.exec(t),o=null;return r&&5===r.length?(o=[e],this._converHRangeBody(r[1],o),this._converHRangeBody(r[2],o),this._converHRangeBody(r[3],o),this._converHRangeBody(r[4],o)):(r=i.exec(t))&&5===r.length&&(o=[e],this._converHRangeBody(r[3],o),this._converHRangeBody(r[4],o),this._converHRangeBody(r[1],o),this._converHRangeBody(r[2],o)),o}},e}(),e}),n(\"orion/differ\",[\"orion/extensionCommands\",\"orion/compare/diffParser\"],function(e,t){function n(e,t,n){this._serviceRegistry=e,this._inputManager=t,this._editor=n,this._enabled=!1,this.init()}return n.prototype={init:function(){var e=this;this._changeListener=function(){e._enabled&&(e.occurrenceTimer&&window.clearTimeout(e.occurrenceTimer),e.occurrenceTimer=window.setTimeout(function(){e.occurrenceTimer=null,e.doDiff()},500))},this._inputManager.addEventListener(\"InputChanged\",function(){var t=e._editor.getTextView();t&&t.removeEventListener(\"ModelChanged\",e._changeListener),(e.service=e.getDiffer())&&t&&t.addEventListener(\"ModelChanged\",e._changeListener)})},isVisible:function(){return!!this.getDiffer()},getDiffer:function(){for(var t=this._inputManager.getFileMetadata(),n=this._serviceRegistry.getServiceReferences(\"orion.edit.diff\"),i=0;i<n.length;i++){var r=n[i],o={};o.validationProperties=r.getProperty(\"validationProperties\"),o.forceSingleItem=!0;var s=e._makeValidator(o,this._serviceRegistry);if(s.validationFunction.bind(s)(t))return this._serviceRegistry.getService(r)}return null},showAnnotations:function(e){var n=this,i=new t.DiffParser,r={metadata:this._inputManager.getFileMetadata()};e.computeDiff(this._editor.getEditorContext(),r).then(function(e){i.setLineDelim(\"\\n\"),i.parse(\"\",e);var t=i.getOriginalBlocks(),r=i.getNewBlocks(),o=i.getDiffArray(),s=n.getDiffRanges(t,r,o);n._enabled&&n._editor.showDiffAnnotations(s)})},getDiffRanges:function(e,t){for(var n=[],i=0;i<t.length;i++){var r=t[i][0],o=e[i][1],s=t[i][1];0===s?n.push({lineStart:r-1,lineEnd:r,type:\"deleted\"}):0===o?n.push({lineStart:r-1,lineEnd:r+s-1,type:\"added\"}):n.push({lineStart:r-1,lineEnd:r+s-1,type:\"modified\"})}return n},toggleEnabled:function(){this.setEnabled(!this.isEnabled())},setEnabled:function(e){this._enabled=e,this.doDiff()},isEnabled:function(){return this._enabled},doDiff:function(){if(this._enabled){if(this.service){var e=this;this._inputManager.save().then(function(){e.showAnnotations(e.service)})}}else this._editor.showDiffAnnotations([])}},n.prototype.constructor=n,{Differ:n}}),n(\"orion/webui/contextmenu\",[\"orion/webui/littlelib\",\"orion/webui/dropdown\",\"orion/objects\"],function(e,t,n){function i(e){e.skipTriggerEventListeners=!0,r.call(this,e),this._initialize()}var r=t.Dropdown;return i.prototype=Object.create(r.prototype),i.prototype.constructor=i,n.mixin(i.prototype,{_initialize:function(){this._dropdownNode.dropdown||(this._dropdownNode.dropdown=this),this._boundcontextmenuEventHandler=this._contextmenuEventHandler.bind(this),this._boundContextMenuCloser=this._contextMenuCloser.bind(this),this._triggerNode.addEventListener(\"contextmenu\",this._boundcontextmenuEventHandler,!0)},_contextMenuCloser:function(e){this.close(e)},_contextmenuEventHandler:function(t){this.open(t)?e.stop(t):this.close()}}),i.prototype.open=function(e){return this._triggerNode.addEventListener(\"click\",this._boundContextMenuCloser,!1),r.prototype.open.call(this,e)},i.prototype.close=function(e){return this._triggerNode.removeEventListener(\"click\",this._boundContextMenuCloser,!1),r.prototype.close.call(this,e)},i.prototype._positionDropdown=function(t){if(t){var n=t.clientX,i=t.clientY;this._dropdownNode.style.position=\"fixed\",this._dropdownNode.style.left=n+1+\"px\",this._dropdownNode.style.top=i+\"px\";var o=e.bounds(this._dropdownNode),s=o.width,a=o.height,l=e.bounds(document.body),d=n+s-(l.left+l.width);0<d&&(this._dropdownNode.style.left=Math.floor(n-d)+\"px\");var c=i+a-(l.top+l.height);0<c&&(this._dropdownNode.style.top=Math.floor(i-c)+\"px\")}else r.prototype._positionDropdown.call(this)},i.prototype.destroy=function(){this._triggerNode.removeEventListener(\"contextmenu\",this._boundcontextmenuEventHandler,!0),this._triggerNode.removeEventListener(\"click\",this._boundContextMenuCloser,!1),window.removeEventListener(\"contextmenu\",this._boundContextMenuCloser,!1),this._dropdownNode.dropdown=null,r.prototype.destroy.call(this)},{ContextMenu:i}}),n(\"orion/commonPreferences\",[\"orion/EventTarget\"],function(e){function t(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}function n(t,n){this._preferences=t,e.attach(this),t.addEventListener(\"changed\",function(e){e.namespace===this.getPrefsSection()&&this.dispatchEvent({type:\"Changed\"})}.bind(this)),n&&this.addEventListener(\"Changed\",function(e){n(e.preferences)})}return n.prototype={_initialize:function(e){var n=e[this.getPrefsKey()]||{};return t(this.getDefaults(),n)},getDefaults:function(){return{}},getPrefsSection:function(){return\"common/settings\"},getPrefsKey:function(){return\"commonSettings\"},getPrefs:function(e){return this._preferences.get(this.getPrefsSection()).then(function(t){var n=this._initialize(t);return\"string\"==typeof n&&(n=JSON.parse(n)),e&&e(n),n}.bind(this))},setPrefs:function(e,t){var n={};n[this.getPrefsKey()]=e,this._preferences.put(this.getPrefsSection(),n).then(function(){e=this._initialize(n),t&&t(e),this.dispatchEvent({type:\"Changed\",preferences:e})}.bind(this))}},{CommonPreferences:n,mergeSettings:t}}),n(\"orion/editorView\",[\"i18n!orion/edit/nls/messages\",\"orion/editor/editor\",\"orion/editor/eventTarget\",\"orion/editor/textView\",\"orion/editor/textModelFactory\",\"orion/editor/editorFeatures\",\"orion/hover\",\"orion/editor/contentAssist\",\"orion/editor/emacs\",\"orion/editor/vi\",\"orion/editorPreferences\",\"orion/widgets/themes/ThemePreferences\",\"orion/widgets/themes/editor/ThemeData\",\"orion/widgets/settings/EditorSettings\",\"orion/searchAndReplace/textSearcher\",\"orion/editorCommands\",\"orion/globalCommands\",\"orion/edit/dispatcher\",\"orion/edit/editorContext\",\"orion/highlight\",\"orion/markOccurrences\",\"orion/syntaxchecker\",\"orion/liveEditSession\",\"orion/problems\",\"orion/blamer\",\"orion/differ\",\"orion/keyBinding\",\"orion/util\",\"orion/Deferred\",\"orion/webui/contextmenu\",\"orion/metrics\",\"orion/commonPreferences\",\"embeddedEditor/helper/memoryFileSysConst\",\"orion/objects\"],function(e,t,n,i,r,o,s,a,l,d,c,h,u,f,p,g,v,m,_,y,C,w,x,S,b,T,E,L,k,M,A,D,O,N){function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];e[i]&&(e[i]=parseInt(e[i],10))}}function R(e){this._parent=e.parent,\"string\"==typeof this._parent&&(this._parent=document.getElementById(e.parent)),this.id=e.id||\"\",this.activateContext=e.activateContext,this.renderToolbars=e.renderToolbars,this.serviceRegistry=e.serviceRegistry,this.contentTypeRegistry=e.contentTypeRegistry,this.commandRegistry=e.commandRegistry,this.progress=e.progress,this.statusService=e.statusService,this.editorCommands=e.editorCommands,this.fileClient=e.fileService,this.inputManager=e.inputManager,this.preferences=e.preferences,this.readonly=e.readonly,this.searcher=e.searcher,this.statusReporter=e.statusReporter,this.model=e.model,this.undoStack=e.undoStack,this.problemsServiceID=e.problemsServiceID||\"orion.core.marker\",this.editContextServiceID=e.editContextServiceID||\"orion.edit.context\",this.syntaxHighlighter=new y.SyntaxHighlighter(this.serviceRegistry);var t=v.getKeyAssist?v.getKeyAssist():null;t&&t.addProvider(this.editorCommands);var n=v.getMainSplitter?v.getMainSplitter():null;n&&n.splitter.addEventListener(\"resize\",function(e){this.editor&&e.node===n.main&&this.editor.resize()}.bind(this)),v.getGlobalEventTarget&&v.getGlobalEventTarget().addEventListener(\"toggleTrim\",function(){this.editor&&this.editor.resize()}.bind(this)),this.settings={},this._editorConfig=e.editorConfig,this._init()}var B=O.MEMORY_FILE_PATTERN,P=m.Dispatcher;return R.prototype={updateKeyMode:function(e,t){this.emacs&&t.removeKeyMode(this.emacs),this.vi&&t.removeKeyMode(this.vi),\"Emacs\"===e.keyBindings?(this.emacs||(this.emacs=new l.EmacsMode(t)),t.addKeyMode(this.emacs)):\"vi\"===e.keyBindings&&(this.vi||(this.vi=new d.VIMode(t,this.statusReporter)),t.addKeyMode(this.vi))},setContents:function(e,t){var n=this.contentTypeRegistry.getContentType(t),i=\"txt\";n&&n.extension&&n.extension.length>0&&(i=n.extension[0]);var r,o=B+this.id+\"/foo.\"+i,s=o===this.lastFileLocation;return r=s||!this.lastFileLocation?(new k).resolve():this.fileClient.deleteFile(this.lastFileLocation),r.then(function(){return this.fileClient.write(o,e).then(function(){this.lastFileLocation=o,s?this.inputManager.load():this.inputManager.setInput(o)}.bind(this))}.bind(this))},getParent:function(){return this._parent},getSettings:function(){return this.settings},setParent:function(e){this._parent=e},updateSourceCodeActions:function(e,t){t&&(t.setAutoPairParentheses(e.autoPairParentheses),t.setAutoPairBraces(e.autoPairBraces),t.setAutoPairSquareBrackets(e.autoPairSquareBrackets),t.setAutoPairAngleBrackets(e.autoPairAngleBrackets),t.setAutoPairQuotations(e.autoPairQuotations),t.setAutoCompleteComments(e.autoCompleteComments),t.setSmartIndentation(e.smartIndentation))},updateViewOptions:function(e){var t=0;e.showMargin&&\"number\"!=typeof(t=e.marginOffset)&&(t=e.marginOffset=parseInt(t,10));var n=0;return e.wordWrap&&(n=t),{readonly:this.readonly||this.inputManager.getReadOnly(),tabSize:e.tabSize||4,expandTab:e.expandTab,wrapMode:e.wordWrap,wrapOffset:n,marginOffset:t,scrollAnimation:e.scrollAnimation?e.scrollAnimationTimeout:0}},updateSettings:function(e){this.settings=e;var t=this.editor,n=this.inputManager;n.setAutoLoadEnabled(e.autoLoad),n.setAutoSaveTimeout(e.autoSave?e.autoSaveTimeout:-1),this.differ&&(n.setSaveDiffsEnabled(e.saveDiffs),this.differ.setEnabled(this.settings.diffService)),this.updateStyler(e);var i=t.getTextView();i&&(this.updateKeyMode(e,i),i.setOptions(this.updateViewOptions(e))),this.updateSourceCodeActions(e,t.getSourceCodeActions()),t.setAnnotationRulerVisible(e.annotationRuler),t.setLineNumberRulerVisible(e.lineNumberRuler),t.setFoldingRulerVisible(e.foldingRuler),t.setOverviewRulerVisible(e.overviewRuler),t.setZoomRulerVisible(e.zoomRuler),this.renderToolbars&&this.renderToolbars(n.getFileMetadata()),this.markOccurrences.setOccurrencesVisible(e.showOccurrences),t.getContentAssist()&&t.getContentAssist().setAutoTriggerEnabled(e.contentAssistAutoTrigger),this.dispatchEvent({type:\"Settings\",newSettings:this.settings})},updateStyler:function(e){var t=this.syntaxHighlighter.getStyler();t&&t.setWhitespacesVisible&&t.setWhitespacesVisible(e.showWhitespaces,!0)},createSession:function(e){var t=this.editor,n=t.getTextView(),i=this.inputManager;if(n&&i){var r=i.getFileMetadata();r&&(e.session={get:function(){return sessionStorage&&sessionStorage.editorViewSection?JSON.parse(sessionStorage.editorViewSection):{}},apply:function(e){if(r.Location){var i=this.get(),o=i[r.Location];o&&o.ETag===r.ETag&&(t.setSelections(o.selections),n.setTopIndex(o.topIndex,e?function(){}:void 0))}},save:function(){if(r.Location){var e=this.get();e[r.Location]={ETag:r.ETag,topIndex:n.getTopIndex(),selections:t.getSelections().map(function(e){return e.getOrientedSelection()})},sessionStorage&&(sessionStorage.editorViewSection=JSON.stringify(e))}}})}},_init:function(){function n(t,n,i){W.setTextModel(B.getModel());var r=E.getInput();W.checkSyntax(E.getContentType(),t,n,i,B.getEditorContext()).then(function(e){r===E.getInput()&&e&&m.getService(l.problemsServiceID)._setProblems(e)}),E.getReadOnly()&&B.reportStatus(e.readonly,\"error\")}this.preferences&&(this.editorCommands.editorPreferences=this.editorPreferences=this.editorCommands.editorPreferences||new c.EditorPreferences(this.preferences),this.editorPreferences.addEventListener(\"Changed\",function(e){var t=e.preferences;t?this.updateSettings(t):this.editorPreferences.getPrefs(this.updateSettings.bind(this))}.bind(this)),this.editorCommands.themePreferences=this.themePreferences=this.editorCommands.themePreferences||new h.ThemePreferences(this.preferences,new u.ThemeData),this.themePreferences.apply());var l=this,d=this.readonly,v=this.commandRegistry,m=this.serviceRegistry,y=this.activateContext,E=this.inputManager,L=this.progress,k=this.contentTypeRegistry,M=this.editorCommands,A=function(){var e=l.updateViewOptions(l.settings);return N.mixin(e,{parent:l._parent,model:(new r.TextModelFactory).createProjectionTextModel(l.model,{serviceRegistry:l.serviceRegistry}),wrappable:!0}),new i.TextView(e)},D=function(e,t,n,i){var s,a=new r.TextModelFactory;\"function\"==typeof a.getDefaultFindOptions&&(s=a.getDefaultFindOptions());var d=l.textSearcher=p.TextSearcher?new p.TextSearcher(e,m,v,n,s):null,c=(new o.KeyBindingsFactory).createKeyBindings(e,n,i,d);l.updateSourceCodeActions(l.settings,c.sourceCodeActions);var h=e.getTextView();return h.setAction(\"toggleWrapMode\",function(){h.invokeAction(\"toggleWrapMode\",!0);var e=h.getOptions(\"wrapMode\");return l.settings.wordWrap=e,l.editorPreferences&&l.editorPreferences.setPrefs(l.settings),!0}),l.vi=l.emacs=null,l.updateKeyMode(l.settings,h),M.overwriteKeyBindings(e),c},O=function(e,t,n){var i=E.getContentType(),r=e.getTitle(),o=m.getServiceReferences(\"orion.edit.contentAssist\").concat(m.getServiceReferences(\"orion.edit.contentassist\")),s=n&&n.providers;s||(s=o.map(function(e){var t=e.getProperty(\"contentType\"),n=e.getProperty(\"pattern\");if(t&&k.isSomeExtensionOf(i,t)||n&&new RegExp(n).test(r)){var o=m.getService(e),s=e.getProperty(\"service.id\").toString(),a=e.getProperty(\"charTriggers\"),l=e.getProperty(\"excludedStyles\");return a&&(a=new RegExp(a)),l&&(l=new RegExp(l)),{provider:o,id:s,charTriggers:a,excludedStyles:l}}return null}).filter(function(e){return!!e}));var a={};Object.keys(_).forEach(function(e){\"function\"==typeof _[e]&&(a[e]=_[e].bind(null,m,l.editContextServiceID))}),t.setEditorContextProvider(a),t.setProviders(s),t.setAutoTriggerEnabled(l.settings.contentAssistAutoTrigger),t.setProgress(L),t.setStyleAccessor(l.getStyleAccessor())},R=d?null:{createContentAssistMode:function(e){var t=new a.ContentAssist(e.getTextView(),m);t.addEventListener(\"Activating\",O.bind(null,e,t));var n=new a.ContentAssistWidget(t,\"contentassist\"),i=new a.ContentAssistMode(t,n);return t.setMode(i),O(e,t),t.initialize(),i}},B=this.editor=new t.Editor({textViewFactory:A,undoStackFactory:l.undoStack?{createUndoStack:function(e){return l.undoStack.setView(e.getTextView()),l.undoStack}}:new o.UndoFactory,textDNDFactory:new o.TextDNDFactory,annotationFactory:new o.AnnotationFactory,foldingRulerFactory:new o.FoldingRulerFactory,zoomRulerFactory:new o.ZoomRulerFactory,lineNumberRulerFactory:new o.LineNumberRulerFactory,hoverFactory:new s.HoverFactory(m,E,v),contentAssistFactory:R,keyBindingFactory:D,statusReporter:this.statusReporter,domNode:this._parent,syntaxHighlighter:this.syntaxHighlighter});B.id=\"orion.editor\",B.processParameters=function(e){return I(e,[\"start\",\"end\",\"line\",\"offset\",\"length\"]),this.showSelection(e.start,e.end,e.line,e.offset,e.length)},B.getEditorContext=function(){return _.getEditorContext(m,l.editContextServiceID)},this.dispatcher=new P(this.serviceRegistry,this.contentTypeRegistry,B,E),this.themePreferences&&this.editorPreferences&&(this.localSettings=f?new f({local:!0,editor:B,themePreferences:this.themePreferences,preferences:this.editorPreferences}):null);var F=new x(m,B);E.addEventListener(\"InputChanging\",function(e){l.createSession(e)}),E.addEventListener(\"InputChanged\",function(e){l.createSession(e);var t=B.getTextView();t?(F.start(E.getContentType(),e.title),t.setOptions(this.updateViewOptions(this.settings)),this.markOccurrences.setOccurrencesVisible(this.settings.showOccurrences),this.syntaxHighlighter.setup(e.contentType,B.getTextView(),B.getAnnotationModel(),e.title,!0).then(function(){this.updateStyler(this.settings),B.getContentAssist()&&O(B,B.getContentAssist())}.bind(this)),t.onInputChanged&&t.onInputChanged({type:e.type})):F.start()}.bind(this)),E.addEventListener(\"Saving\",function(e){l.settings.trimTrailingWhiteSpace&&B.getTextView().invokeAction(\"trimTrailingWhitespaces\");var t=B.getTextView();t&&t.onSaving&&t.onSaving({type:e.type})}),this.blamer=new b.Blamer(m,E,B),this.differ=new T.Differ(m,E,B),this.problemService=new S.ProblemService(m,this.problemsServiceID);var V=m.getService(this.problemsServiceID);V&&V.addEventListener(\"problemsChanged\",function(e){B.showProblems(e.problems)});var U=this.markOccurrences=new C.MarkOccurrences(m,E,B);U.setOccurrencesVisible(this.settings.showOccurrences),U.findOccurrences();var W=new w.SyntaxChecker(m,B.getModel());this.refreshSyntaxCheck=function(){n(E.getInput())},B.addEventListener(\"InputChanged\",function(e){n(e.title,e.message,e.contents)});var H=Object.create(null);[\"getCaretOffset\",\"setCaretOffset\",\"getSelection\",\"getSelectionText\",\"setSelection\",\"getSelections\",\"setSelections\",\"getText\",\"setText\",\"getLineAtOffset\",\"getLineStart\",\"isDirty\",\"markClean\"].forEach(function(e){H[e]=B[e].bind(B)}),H.showMarkers=function(e){m.getService(l.problemsServiceID)._setProblems(e)},H.enterLinkedMode=function(e){B.getLinkedMode().enterLinkedMode(e)},H.exitLinkedMode=function(e){B.getLinkedMode().exitLinkedMode(e)},H.syntaxCheck=function(e,t,i){n(e,t,i)},H.openEditor=function(e,t){y.openEditor(e,t)},H.getFileMetadata=function(){return l.dispatcher.getServiceFileObject()},H.setStatus=g.handleStatusMessage.bind(null,m),m.registerService(this.editContextServiceID,H,null)},create:function(){if(this.editor.install(),this.editorPreferences)this.editorPreferences.getPrefs(this.updateSettings.bind(this));else if(this._editorConfig){var e=D.mergeSettings(this._editorConfig,{});this.updateSettings(e)}this._createContextMenu()},destroy:function(){this.lastFileLocation&&this.fileClient.deleteFile(this.lastFileLocation),this.editor.uninstall()},getStyleAccessor:function(){var e=null,t=this.syntaxHighlighter.getStyler();return t&&t.getStyleAccessor&&(e=t.getStyleAccessor()),e},_createContextMenu:function(){this._editorContextMenuNode=document.createElement(\"ul\"),this._editorContextMenuNode.className=\"dropdownMenu\",this._editorContextMenuNode.setAttribute(\"role\",\"menu\"),this._parent.parentNode.appendChild(this._editorContextMenuNode);var e=this.editor.getTextView(),t=new M.ContextMenu({dropdown:this._editorContextMenuNode,triggerNode:e._clientDiv}),n=function(e){e.event.target&&(this.commandRegistry.destroy(this._editorContextMenuNode),this.commandRegistry.renderCommands(\"editorContextMenuActions\",this._editorContextMenuNode,null,this,\"menu\"),A.logEvent(\"contextMenu\",\"opened\",\"editor\"))}.bind(this);t.addEventListener(\"triggered\",n)}},n.EventTarget.addMixin(R.prototype),{EditorView:R}}),n(\"embeddedEditor/helper/editorSetup\",[\"orion/editor/textModel\",\"orion/editor/undoStack\",\"orion/inputManager\",\"orion/editorView\",\"orion/Deferred\",\"orion/webui/littlelib\",\"orion/objects\"],function(e,t,n,i,r,o,s){function a(e){this._serviceRegistry=e.serviceRegistry,this._pluginRegistry=e.pluginRegistry,this._commandRegistry=e.commandRegistry,this._fileClient=e.fileClient,this._contentTypeRegistry=e.contentTypeRegistry,this._editorCommands=e.editorCommands,this._progressService=e.progressService,this._toolbarId=e.toolbarId,this._editorConfig=e.editorConfig}var l=0;return s.mixin(a.prototype,{destroy:function(){},createInputManager:function(){var e=this._inputManager=new n.InputManager({serviceRegistry:this._serviceRegistry,fileClient:this._fileClient,progressService:this._progressService,selection:this.selection,contentTypeRegistry:this._contentTypeRegistry});e.addEventListener(\"InputChanged\",function(e){e.editor=this.editorView.editor,this.setActiveEditorView(this.editorView)}.bind(this)),e.addEventListener(\"InputChanging\",function(e){e.editor=this.editorView.editor}.bind(this))},defaultOptions:function(n){var i=n.parent,r=new e.TextModel,o=l.toString(),s=Object.create(null);return s.openEditor=function(e,t){this.editorView.editor.setSelection(t.start,t.end)}.bind(this),{activateContext:s,id:o,parent:i,\nmodel:r,undoStack:new t.UndoStack(r,500),serviceRegistry:this._serviceRegistry,pluginRegistry:this._pluginRegistry,commandRegistry:this._commandRegistry,contentTypeRegistry:this._contentTypeRegistry,editorCommands:this._editorCommands,editorConfig:this._editorConfig,statusReporter:n.statusReporter,progressService:this._progressService,inputManager:this._inputManager,fileService:this._fileClient,problemsServiceID:\"orion.core.marker\"+o,editContextServiceID:\"orion.edit.context\"+o,editModelContextServiceID:\"orion.edit.model.context\"+o,readonly:!1}},setActiveEditorView:function(e){this._editorCommands.updateCommands(e),this._commandRegistry.destroy(this._toolbarId),this._commandRegistry.renderCommands(this._toolbarId,this._toolbarId,this._inputManager.getFileMetadata(),e.editor,\"tool\")},createEditor:function(e,t){this.createInputManager(),this.editorView=new i.EditorView(this.defaultOptions(e)),l++,this.editorView.create(),this._inputManager.editor=this.editorView.editor;var n=o.node(e.parent);return n.addEventListener(\"mousedown\",function(){this.setActiveEditorView(this.editorView)}.bind(this),!0),n.addEventListener(\"keyup\",function(){this.setActiveEditorView(this.editorView)}.bind(this),!0),e.contentType&&\"string\"==typeof e.contents&&this.editorView.setContents(e.contents,e.contentType),(new r).resolve(this.editorView)}}),{EditorSetupHelper:a}}),n(\"orion/serviceregistry\",[\"orion/Deferred\",\"orion/EventTarget\"],function(e,t){function n(e,t,n){this._properties=n||{},this._properties[\"service.id\"]=e,this._properties.objectClass=t,this._properties[\"service.names\"]=t}function i(e,t,n){this._serviceId=e,this._serviceReference=t,this._internalRegistry=n}function r(t,n){var i;for(i in t)\"function\"==typeof t[i]&&(this[i]=function(i){return function(){var r;try{if(!n())throw new Error(\"Service was unregistered\");var o=t[i].apply(t,Array.prototype.slice.call(arguments));if(o&&\"function\"==typeof o.then)return o;r=new e,r.resolve(o)}catch(t){r=new e,r.reject(t)}return r.promise}}(i))}function o(e,t){this.type=e,this.serviceReference=t}function s(){this._entries=[],this._namedReferences={},this._serviceEventTarget=new t;var e=this;this._internalRegistry={isRegistered:function(t){return!!e._entries[t]},unregisterService:function(t){var n=e._entries[t];if(!n)throw new Error(\"Service has already been unregistered: \"+t);var i=n.reference;e._serviceEventTarget.dispatchEvent(new o(\"unregistering\",i)),e._entries[t]=null,i.getProperty(\"objectClass\").forEach(function(t){for(var n=e._namedReferences[t],r=0;r<n.length;r++)if(n[r]===i){1===n.length?delete e._namedReferences[t]:n.splice(r,1);break}})},modifyService:function(t){var n=e._entries[t];if(!n)throw new Error(\"Service not found while trying to send modified event: \"+t);var i=n.reference;e._serviceEventTarget.dispatchEvent(new o(\"modified\",i))}}}return n.prototype={getPropertyKeys:function(){var e,t=[];for(e in this._properties)this._properties.hasOwnProperty(e)&&t.push(e);return t},getProperty:function(e){return this._properties[e]}},n.prototype.constructor=n,i.prototype={unregister:function(){this._internalRegistry.unregisterService(this._serviceId)},getReference:function(){if(!this._internalRegistry.isRegistered(this._serviceId))throw new Error(\"Service has already been unregistered: \"+this._serviceId);return this._serviceReference},setProperties:function(e){var t=this._serviceReference._properties;this._serviceReference._properties=e||{},e[\"service.id\"]=this._serviceId,e.objectClass=t.objectClass,e[\"service.names\"]=t[\"service.names\"],this._internalRegistry.modifyService(this._serviceId)}},i.prototype.constructor=i,s.prototype={getService:function(e){var t;if(\"string\"==typeof e){var n=this._namedReferences[e];n&&n.some(function(e){return!!(t=this._entries[e.getProperty(\"service.id\")].service)},this)}else{var i=this._entries[e.getProperty(\"service.id\")];i&&(t=i.service)}return t||null},getServiceReferences:function(e){if(e)return this._namedReferences[e]?this._namedReferences[e]:[];var t=[];return this._entries.forEach(function(e){e&&t.push(e.reference)}),t},registerService:function(e,t,s){if(void 0===t||null===t)throw new Error(\"invalid service\");\"string\"==typeof e?e=[e]:Array.isArray(e)||(e=[]);var a=this._entries.length,l=new n(a,e,s),d=this._namedReferences;e.forEach(function(e){d[e]=d[e]||[],d[e].push(l)});var c=new r(t,this._internalRegistry.isRegistered.bind(null,a));this._entries.push({reference:l,service:c});var h=this._internalRegistry;return this._serviceEventTarget.dispatchEvent(new o(\"registered\",l)),new i(a,l,h)},addEventListener:function(e,t){this._serviceEventTarget.addEventListener(e,t)},removeEventListener:function(e,t){this._serviceEventTarget.removeEventListener(e,t)}},s.prototype.constructor=s,{ServiceRegistry:s}}),n(\"orion/defaultEditorPreferences\",[\"orion/util\"],function(e){return{defaults:{autoSave:!e.isElectron,autoSaveVisible:!0,autoSaveLocalVisible:!0,autoSaveTimeout:250,autoSaveTimeoutVisible:!0,themeVisible:!0,themeLocalVisible:!0,fontSizeVisible:!0,fontSizeLocalVisible:!0,autoLoad:!0,autoLoadVisible:!0,saveDiffs:!0,saveDiffsVisible:!0,contentAssistAutoTrigger:!0,contentAssistAutoTriggerVisible:!0,showOccurrences:!0,showOccurrencesVisible:!0,autoPairParentheses:!0,autoPairParenthesesVisible:!0,autoPairBraces:!0,autoPairBracesVisible:!0,autoPairSquareBrackets:!0,autoPairSquareBracketsVisible:!0,autoPairAngleBrackets:!1,autoPairAngleBracketsVisible:!0,autoPairQuotations:!0,autoPairQuotationsVisible:!0,autoCompleteComments:!0,autoCompleteCommentsVisible:!0,smartIndentation:!0,smartIndentationVisible:!0,trimTrailingWhiteSpace:!1,trimTrailingWhiteSpaceVisible:!0,tabSize:4,tabSizeVisible:!0,expandTab:!1,expandTabVisible:!0,scrollAnimation:!0,scrollAnimationVisible:!0,scrollAnimationTimeout:300,scrollAnimationTimeoutVisible:!0,annotationRuler:!0,annotationRulerVisible:!0,lineNumberRuler:!0,lineNumberRulerVisible:!0,foldingRuler:!0,foldingRulerVisible:!0,overviewRuler:!0,overviewRulerVisible:!0,zoomRuler:!1,zoomRulerVisible:!0,zoomRulerLocalVisible:!0,showWhitespaces:!1,showWhitespacesVisible:!0,wordWrap:!1,wordWrapVisible:!0,showMargin:!1,showMarginVisible:!0,marginOffset:80,marginOffsetVisible:!0,keyBindings:\"Default\",keyBindingsVisible:!0,keyBindingsLocalVisible:!0,diffService:!1,diffServiceVisible:!1}}}),n(\"embeddedEditor/builder/embeddedEditor\",[\"orion/commandRegistry\",\"orion/fileClient\",\"orion/contentTypes\",\"orion/editorCommands\",\"embeddedEditor/helper/bootstrap\",\"embeddedEditor/helper/editorSetup\",\"embeddedEditor/helper/memoryFileSysConst\",\"orion/serviceregistry\",\"orion/Deferred\",\"orion/commonPreferences\",\"orion/defaultEditorPreferences\",\"orion/objects\"],function(e,t,n,i,r,o,s,a,l,d,c,h){function u(e){this.serviceRegistry=new a.ServiceRegistry,this.contentTypeRegistry=new n.ContentTypeRegistry(this.serviceRegistry),this._startupOptions=e,this._toolbarId=e&&e.toolbarId?e.toolbarId:\"__code__edit__hidden__toolbar\",this.Deferred=l}var f;return h.mixin(u.prototype,{_init:function(n){if(f)return f;if(!this._startupOptions||!this._startupOptions.toolbarId){var r=document.createElement(\"div\");r.id=this._toolbarId,document.body.appendChild(r),r.style.display=\"none\"}return this._commandRegistry=new e.CommandRegistry({}),this._fileClient=new t.FileClient(this.serviceRegistry),this._editorCommands=new i.EditorCommandFactory({serviceRegistry:this.serviceRegistry,commandRegistry:this._commandRegistry,fileClient:this._fileClient,toolbarId:this._toolbarId,navToolbarId:this._toolbarId}),this._editorConfig=this._startupOptions&&this._startupOptions.editorConfig?this._startupOptions.editorConfig:{},d.mergeSettings(c.defaults,this._editorConfig),this._progressService={progress:function(e){return e},showWhile:function(e){return e}},this.serviceRegistry.registerService(\"orion.page.progress\",this._progressService),f=this._editorCommands.createCommands().then(function(){return this._editorCommands.registerCommands(),(new l).resolve()}.bind(this))},startup:function(e){return r.startup(this.serviceRegistry,this.contentTypeRegistry,this._startupOptions).then(function(t){var n=t.serviceRegistry,i=t.pluginRegistry;return this._init(t).then(function(){return e?new o.EditorSetupHelper({serviceRegistry:n,pluginRegistry:i,commandRegistry:this._commandRegistry,fileClient:this._fileClient,contentTypeRegistry:this.contentTypeRegistry,editorCommands:this._editorCommands,editorConfig:this._editorConfig,progressService:this._progressService,toolbarId:this._toolbarId}).createEditor(e):(new l).resolve(t)}.bind(this))}.bind(this))},create:function(e){return this.startup(e)},importFiles:function(e){var t=this.serviceRegistry.getService(\"orion.core.file.client\"),n=[];return t&&e.forEach(function(e){var i=t.createFile(e.parentLocation?e.parentLocation:s.MEMORY_FILE_PROJECT_PATTERN,e.name).then(function(n){return t.write(n.Location,e.contents)});n.push(i)}),l.all(n)},exportFiles:function(e){var t=this.serviceRegistry.getService(\"orion.core.file.client\"),n=[];return t&&e.forEach(function(e){var i;if(e.name||e.location){var r=e.location?e.location:s.MEMORY_FILE_PROJECT_PATTERN+e.name;i=t.read(r)}else i=(new l).resolve(\"\");n.push(i)}),l.all(n)}}),u}),t});",
	"sas/hc/ui/commons/codeEditor/PlainTextDialog.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sas/hc/m/Dialog\",\"sas/hc/m/Button\",\"sas/hc/m/TextArea\",\"sap/ui/core/Core\",\"sap/ui/core/library\",\"sap/m/library\",\"sas/hc/m/library\"],function(t,e,n,r,i,o,a,s){\"use strict\";function c(){p=new r,p.onAfterRendering=function(){return p.$().attr({dir:\"ltr\"}),r.prototype.onAfterRendering.apply(this,arguments)};var t=new e({title:l.getText(\"ce_plain_text_dialog_txt\"),createParentChildRelationships:!0,content:[p],stretch:!0,beginButton:new n({text:l.getText(\"ce_plain_text_dialog_ok_txt\"),press:function(){t.close()}}),endButton:new n({text:l.getText(\"ce_plain_text_dialog_cancel_txt\"),press:function(){t.close()}}),initialFocus:p});return t.open=function(n){p.setValue(n),e.prototype.open.apply(t)},t}var u,p,l=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\");return{getInstance:function(){return u||(u=c()),u}}},!0);",
	"sas/hc/ui/commons/codeEditor/SasAutoCompleter.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sap/ui/core/Core\",\"sap/ui/events/KeyCodes\",\"sas/hc/ui/core/theme/IconInitialization\",\"sas/hc/ui/commons/keyboardShortcuts/KeyboardShortcuts\",\"./AutoCompletePopup\",\"./AutoCompleteHelper\",\"./SasLanguageService\",\"./CodeZoneManager\",\"./TextRange\",\"./TextPosition\",\"./CoreRange\",\"./Utils\",\"sap/ui/Device\"],function(e,t,a,n,T,o,_,s,c,r,i,O,l,S){\"use strict\";var A=function(t,n,r){function O(){var e,t,a,n,T,o=0;return e=ce.getSelection().start,n=ce.getLineAtOffset(e),T=ce._getLine(n),t=T.getNodeOffset(e),t&&t.node&&(a=t.node.parentNode),o=e-ce.getModel().getLineStart(n)-t.offset,e=ce.getModel().mapOffset(e),n=ce.getModel().getBaseModel().getLineAtOffset(e),a?{text:a.textContent,type:a.className,line:n,column:o,x:a.offsetLeft,y:a.offsetTop+a.offsetHeight}:null}function u(e,t){if(ce.isValidTextPosition(e,t)){var a,n,T,o,_,s=0;a=ce.getOffsetAtLocation(e,t),o=ce.getLineAtOffset(a),_=ce._getLine(o),n=_.getNodeOffset(a),n&&n.node&&(T=n.node.parentNode);s=a-ce.getModel().getLineStart(o)-n.offset;var c=ce.getLocationAtOffset(a-n.offset);return a=ce.getModel().mapOffset(a),o=ce.getModel().getBaseModel().getLineAtOffset(a),T?{text:T.textContent,type:T.className,line:o,column:s,maxX:c.x+T.offsetWidth,minX:c.x,minY:c.y,maxY:c.y+T.offsetHeight,x:T.offsetLeft,y:T.offsetTop+T.offsetHeight}:null}}function p(e){var t=!1;if(e)if(e.type&&e.type.indexOf(\"keyword\")>-1)t=!0;else{var a=\"format\"===e.type?pe.FORMAT:W(e.line,e.column+e.text.length/2),n={keyword:e.text,type:e.type,zone:a,procName:ue.getProcName(),stmtName:ue.getStmtName(),optName:ue.getOptionName()};t=!!J(n)}return t}function E(e){m(e.event)||e.preventDefault()}function m(e){var t=!0;if(se.isDisplayed()&&e.keyCode===me.TAB)return se.focus(),e.stopImmediatePropagation(),l.stopEvent(e),t=!1;se.isDisplayed()&&se.hide();var a=T.getActionByKeyEvent(e).actionList;if(-1!==a.indexOf(\"autocomplete\")||-1!==a.indexOf(\"autocompletePrev\")){if(Ce=S.os.macintosh&&S.browser.firefox,re.isDisplayed())-1!==a.indexOf(\"autocompletePrev\")?w():B();else{var n=ce.getCaretOffset();n=ce.getModel().mapOffset(n),Me=oe.toTextPosition(n),ge||(ge=F(Me.line,Me.column));var o=W(Me.line,Me.column,ge);K(o),He=null,o!==pe.PROC_OPT_VALUE&&o!==pe.PROC_STMT_OPT_VALUE&&o!==pe.DATA_STEP_STMT_OPT_VALUE||Y(Me),Q(de)||(Le=!1,De=Re,H(-1!==a.indexOf(\"autocompletePrev\")?De.length-1:0))}t=!1}else if(re.isDisplayed()&&(e.shiftKey?e.keyCode===me.ENTER&&(t=!1):e.ctrlKey&&e.keyCode!==me.CONTROL&&229!==e.keyCode&&0!==e.keyCode||e.keyCode===me.ESCAPE?(re.hide(),ce.focus()):e.keyCode===me.ENTER?t=V(e.keyCode):e.keyCode!==me.ARROW_UP&&e.keyCode!==me.ARROW_DOWN&&e.keyCode!==me.PAGE_UP&&e.keyCode!==me.PAGE_DOWN&&e.keyCode!==me.HOME&&e.keyCode!==me.END||(t=I(e.keyCode)),e.keyCode===me.TAB)){var _,s,c=[ce,_e];_e.getTooltip().isDisplayed()&&c.push(_e.getTooltip()),_=_e.isFocused()?_e.getTooltip().isFocused()?2:1:0,s=(c.length+_+(e.shiftKey?-1:1))%c.length,s<2?c[s].focus():_e.focusTooltip(),t=!1}return t||(l.stopEvent(e),e.stopImmediatePropagation()),t}function P(e){if(Ce)return Ce=!1,e.stopImmediatePropagation(),l.stopEvent(e)}function g(e){if(_e.isDisplayed()&&!t.core().isInternalFolding()){var a=ce.getModel().getBaseModel(),n=e.newValue.caret?e.newValue.start:e.newValue.end,T=e.oldValue.caret?e.oldValue.start:e.oldValue.end;n=ce.getModel().mapOffset(n),T=ce.getModel().mapOffset(T);if(a.getLineAtOffset(n)===a.getLineAtOffset(T))if(n-T!=1&&n-T!=-1||-1!==a.getText(n,T).search(/[\\. \\t\\*=;]/))n!==T&&re.hide();else{var o=oe.toTextPosition(n);ge=F(o.line,o.column),Me=o,M(ge)?_e.update(ge.length):re.hide()}else re.hide()}}function M(e){return _e.filter(de===pe.MACRO_VAR&&e.startsWith(\"&\")?e.substring(1):e)}function d(e){var t=!0,a=!1;Le=!0,_e.isDisplayed()&&(t=!1,1===e.text.length?(ge=F(e.newRange.end.line,e.newRange.end.column),!e.text.match(/[ \\.=]/)&&M(ge)||(t=!0,a=!0)):\"delete\"!==e.actionType||1!==e.removedText.length||oe.isEmpty()?a=!0:e.removedText.search(/[ \\t\\*\\n;]/)>-1?a=!0:(\"\"===(ge=F(e.newRange.end.line,e.newRange.end.column))&&0===e.newRange.end.column||!M(ge))&&(a=!0),a?re.hide():_e.update(ge.length)),!_e.isDisplayed()&&t&&Se.getAutoCompleteEnabled()&&(1===e.addedCharCount||Ne)&&(ge=F(e.newRange.end.line,e.newRange.end.column),G(ge,e.newRange,e.text)?(Me=new i(e.newRange.end),K(W(Me.line,Me.column,ge)),Q(de)||(ge=null)):ge=null)}function f(t){var a=[],n=De[he].type;return t.forEach(function(t){var T,o=sas.icons.HC[n],_=t;if(de===pe.LIB){switch(t.type.toUpperCase()){case\"DATA\":o=Ee.DATA_SET;break;case\"VIEW\":o=Ee.DATA_VIEW;break;default:o=Ee.LIB}o=sas.icons.HC[o],_=t.name}else if(de===pe.COLOR){var s=t.slice(-6);o=e(\"<div></div>\").addClass(\"color-block\").css(\"background-color\",\"#\"+s)[0],_=t.slice(0,-9),T=t}else n===Ee.MACRO_STMT&&t.startsWith(\"%\")&&(T=t.slice(1));a.push({icon:o,text:_,label:T})}),a}function L(e){var t=ge;e&&e.length>0&&De[he]?(e=f(e),Le&&t&&t.startsWith(\"&\")&&(t=t.substring(1)),!Le||null!==t&&(0===t.length||l.getIndex(e,t)>=0)?Se.getReadOnly()||_e.show(De[he].name,e,Le?t:\"\",Le?t.length:0,he,De.length):ge=null):ge=null}function N(e){xe&&e&&(ke&&l.indexOfArray(ke,e.key,!1)>-1?_e.updateTooltip(fe.getText(\"ce_ac_macro_def_name_txt\")):ye&&l.indexOfArray(ye,e.key,!1)>-1?_e.updateTooltip(fe.getText(\"ce_ac_user_macro_var_txt\")):_e.updateTooltip(te(de,e,\"tooltip\"))),(!e||\"string\"==typeof xe&&xe.toUpperCase()===e.key.toUpperCase())&&(xe=!1)}function x(e){xe&&e&&e.data&&(se.show(te(be.zone,e,\"hint\"),be.x,be.y,!0),be.focus&&se.focus()),xe=!1}function C(e){if(void 0===e.line)return e.text;var t=e.line,a=oe.getLineCount(),n=e.text;if(t<a){var T=oe.getLine(e.line).substring(e.column+n.length);do{if(T=T.replace(/\\s*/g,\"\"),0!==T.length){\"=\"===T[0]&&(n+=\"=\");break}t++,T=oe.getLine(t)}while(t<a)}return n}function R(e,t){var a,n=t.toUpperCase();switch(e){case pe.GBL_STMT:case pe.DATA_STEP_STMT:case pe.PROC_STMT:case pe.MACRO_STMT:case pe.ODS_STMT:a=fe.getText(\"ce_ac_statement.fmt\",n);break;case pe.PROC_DEF:a=fe.getText(\"ce_ac_proc.fmt\",n);break;case pe.GBL_STMT_OPT_VALUE:case pe.PROC_OPT_VALUE:case pe.PROC_STMT_OPT_VALUE:case pe.VIEW_OR_PGM_OPT_VALUE:case pe.DATA_STEP_OPT_VALUE:case pe.DATA_STEP_STMT_OPT_VALUE:case pe.DATA_SET_OPT_VALUE:case pe.MACRO_STMT_OPT_VALUE:case pe.ODS_STMT_OPT_VALUE:case pe.OPT_VALUE:a=n;break;default:a=fe.getText(\"ce_ac_option.fmt\",n)}return a}function D(){(ke=oe.getAllText().match(/%macro\\s+[a-zA-Z_]\\w*(\\s*|\\s*\\([^;]*\\)\\s*);/gim))&&ke.forEach(function(e,t){ke[t]=\"%\"+e.match(/%macro\\s+(\\w+)/im)[1]})}function h(){ye=[];for(var e=0,t=\"\",a=0;a<oe.getLineCount();a++)for(var n=Ae.getSyntax(a),T=oe.getLine(a),o=n.length,_=0;_<o;_++){var s=_+1<o?T.slice(n[_].start,n[_+1].start):T.slice(n[_].start);\"comment\"===n[_].style||\"macro-comment\"===n[_].style||\"text\"===n[_].style&&(\"\"===s||-1!==s.search(/\\s/))||(0===e&&\"macro-keyword\"===n[_].style&&\"%LET\"===s.toUpperCase()?e=1:1===e&&\"text\"===n[_].style?(t=s,e=2):2===e&&\"sep\"===n[_].style&&\"=\"===s?e=3:3===e?\"sep\"===n[_].style&&\";\"===s&&(ye.push(t),e=0):0===e&&\"keyword\"===n[_].style&&\"CALL\"===s.toUpperCase()?e=4:4===e&&\"text\"===n[_].style&&\"SYMPUT\"===s.toUpperCase()?e=5:5===e&&\"sep\"===n[_].style&&\"(\"===s?e=6:6===e&&\"string\"===n[_].style?(t=s.replace(/['\"]/g,\"\"),e=7):e=7===e&&\"sep\"===n[_].style&&\",\"===s&&t?3:0)}}function b(){Pe=[];for(var e=0,t=0;t<oe.getLineCount();t++)for(var a=Ae.getSyntax(t),n=oe.getLine(t),T=a.length,o=0;o<T;o++){var _=o+1<T?n.slice(a[o].start,a[o+1].start):n.slice(a[o].start);\"comment\"===a[o].style||\"macro-comment\"===a[o].style||\"text\"===a[o].style&&(\"\"===_||-1!==_.search(/\\s/))||(0===e&&\"sec-keyword\"===a[o].style&&\"DATA\"===_.toUpperCase()?e=1:1===e&&\"text\"===a[o].style&&\"_NULL_\"!==_.toUpperCase()?Pe.push({name:_,type:\"DATA\"}):1===e&&\"sep\"===a[o].style&&\"(\"===_?e=2:2===e?\"sep\"===a[o].style&&\")\"===_&&(e=1):e=0)}}function v(e){if(void 0===e)return e;if(e=e.replace(/(^\\s+|\\s+$)/g,\"\"),/^(TITLE|FOOTNOTE|AXIS|LEGEND|PATTERN|SYMBOL)\\d{0,}$/i.test(e)){var t,a=e.match(/^(TITLE|FOOTNOTE|AXIS|LEGEND|PATTERN|SYMBOL)|\\d{0,}$/gi),n=0;switch(n=parseInt(a[1],10),a[0].toUpperCase()){case\"TITLE\":case\"FOOTNOTE\":t=10;break;case\"AXIS\":case\"LEGEND\":t=99;break;case\"PATTERN\":case\"SYMBOL\":t=255}n>0&&n<=t&&(e=a[0])}return e.toUpperCase()}function U(e,t,a){Ue&&window.clearTimeout(Ue),xe?Ue=window.setTimeout(function(){U(e,t,a)},100):(ee(e,t,a),xe=t===pe.ODS_STMT||t===pe.PROC_STMT&&\"ODS\"===ue.getProcName()?\"ODS \"+e:e)}function k(e,t){var a,n=ce.getCaretOffset();a=isNaN(t)?n:n-t,ce.setText(e,a,n),ce.focus()}function y(e,t){return 0===t.indexOf(\"&\")&&(t=t.slice(1)),0===t.length?e.toLowerCase():e.slice(0,t.length)===t?e:t!==t.toUpperCase()?e.toLowerCase():e.toUpperCase()}function V(e){var t=_e.getCurrentKeyword(),a=ge;return re.hide(),!t||(Ne=!0,Le||(a=\"\",Le=!0),t=y(t,a),de===pe.MACRO_VAR&&(t=\"&\"+t),de===pe.LIB&&/\\W/.test(t)&&(t=\"'\"+t.replace(/'/g,\"''\")+\"'n\"),a.length>0&&0===t.search(new RegExp(a,\"i\"))?(k(t.substring(a.length)+\"\"),!1):(k(t+\"\",a.length),!1))}function I(e){var t;switch(e){case me.ARROW_UP:t=-1;break;case me.ARROW_DOWN:t=1;break;case me.PAGE_UP:t=-2;break;case me.PAGE_DOWN:t=2;break;case me.HOME:t=-3;break;case me.END:t=3}return _e.move(t),!1}function H(e){he=e,de=De[he].zone,Q(de)}function w(){var e=he-1;e<0&&(e=De.length-1),H(e)}function B(){var e=he+1;1!==De.length&&(e===De.length&&(e=0),H(e))}function F(e,t){var a=oe.getLine(e).substring(0,t),n=a.search(/[%&](\\w|[^\\x00-\\xff])*$|(\\w|[^\\x00-\\xff])+$/);return-1===n?\"\":a.substring(n)}function G(e,t,a){var n,T=!1;if(He=null,Ne&&a.match(/[ =]$/gi))T=!0;else if(!Ne&&t.start.line===t.end.line&&t.start.column===t.end.column-1)if(e.length>=Ge)T=!0;else if(\" \"===a){if(n=oe.getLine(t.start.line),n.substring(n.lastIndexOf(\";\",t.start.column)+1,t.start.column).search(/\\S/)>-1){T=!0;var o=W(t.end.line,t.end.column,e);if(o===pe.DATA_STEP_STMT_OPT){var _=v(ue.getStmtName());\"SET\"===_&&(we=-1===n.substring(n.toUpperCase().indexOf(\"SET\")+3,t.start.column).search(/\\S/))}}}else if(\".\"===a){if(n=oe.getLine(t.start.line),t.start.column>=\"TAGSETS\".length&&\"TAGSETS\"===n.substring(t.start.column-\"TAGSETS\".length,t.start.column).toUpperCase()&&(T=!0),!T){var o=W(t.end.line,t.end.column,e);(o===pe.PROC_OPT_VALUE||o===pe.PROC_STMT_OPT_VALUE||o===pe.DATA_STEP_STMT_OPT_VALUE||o===pe.DATA_STEP_STMT_OPT&&\"SET\"===v(ue.getStmtName()))&&(Y(t.end),He&&(T=!0))}}else if(a.match(/^[=\\(\\[]$/)){T=!0;var o=W(t.end.line,t.end.column,e);o!==pe.PROC_STMT&&o!==pe.GBL_STMT&&o!==pe.DATA_STEP_STMT&&o!==pe.MACRO_STMT&&o!==pe.ODS_STMT||!Le||e&&0!==e.length||(T=!1)}return Ne=!1,T}function Y(e){for(var t,a=Ae.getSyntax(e.line),n=a.length,T=n-1;T>0;T--)if(a[T].start<e.column){var o=ce.getModel().getBaseModel().getLine(e.line);if(t=a[T+1]?a[T+1].start-1:o.length-1,\"format\"===a[T].style)He=o.slice(a[T].start,t);else{var _=o.slice(a[T].start,t).indexOf(\".\");_>0&&a[T].start+_<e.column&&(He=o.slice(a[T].start,a[T].start+_))}break}}function W(e,t,a){var n=ue.getCurrentZone(e,t);return a&&a.startsWith(\"&\")&&n!==pe.COMMENT&&n!==pe.DATALINES?pe.MACRO_VAR:n}function K(e){de=e,De=[Ve[de]]}function X(e){for(var t=[],a={},n=0;n<e.length;n++){var T=e[n].toUpperCase();a[T]||(t.push(e[n]),a[T]=!0)}return t}function z(e,t){e&&window.setTimeout(function(){e(t)},100)}function q(e,t,a){if(t){if(-1!==t.type.indexOf(\"C\"))K(pe.COLOR);else{if(-1!==t.type.indexOf(\"DV\")){if(a!==Be.optName)return;if(K(pe.LIB),He){He=He.toUpperCase();for(var n=0;n<t.values.length;n++)if(He===t.values[n].name.toUpperCase()){le.getDataSetNames(t.values[n].id,e);break}}else b(),e(t.values.concat(Pe));return}if(-1===t.type.indexOf(\"DV\")&&He)return}e(t.values)}else e(null)}function $(e){var t=[];return e&&e.forEach(function(e){-1!==e.indexOf(\"ODS \")&&t.push(e.replace(\"ODS \",\"\"))}),t}function Z(e){return e=e.replace(/(ODS\\s*)/gi,\"\"),-1!==e.indexOf(\"TAGSETS.\")&&-1===e.indexOf(\"TAGSETS.RTF\")&&(e=e.replace(\"TAGSETS.\",\"\"),Ie[e]&&(e=\"MARKUP\")),\"\"===e?\"ODS\":\"ODS \"+e}function j(e){return\"LIBNAME\"===ue.getStmtName()&&(e=X(e)),e}function Q(e){var t=function(e){return function(){e===ge&&L.apply(this,arguments)}}(ge),a=v(ue.getStmtName()),n=v(ue.getOptionName()),T=v(ue.getProcName());switch(Be.procName=T,Be.stmtName=a,Be.optName=n,e){case pe.PROC_DEF:le.getProcedures(t);break;case pe.PROC_OPT:le.getProcedureOptions(T,t);break;case pe.PROC_OPT_VALUE:le.getProcedureOptionValues(T,n+\"=\",function(e){q(t,e,n)});break;case pe.PROC_SUB_OPT_NAME:le.getProcedureSubOptions(T,n,t);break;case pe.PROC_STMT:le.getProcedureStatements(T,function(e){t(\"ODS\"===T?$(e):e)});break;case pe.PROC_STMT_OPT:\"ODS\"===T&&(a=\"ODS \"+a),le.getProcedureStatementOptions(T,a,function(e){t(j(e))});break;case pe.PROC_STMT_OPT_VALUE:\"ODS\"===T&&(a=\"ODS \"+a),le.getProcedureStatementOptionValues(T,a,n,function(e){q(t,e,n)});break;case pe.PROC_STMT_SUB_OPT:\"ODS\"===T&&(a=\"ODS \"+a),le.getProcedureStatementSubOptions(T,a,n,function(e){t(X(e))});break;case pe.STYLE_ELEMENT:le.getStyleElements(t);break;case pe.STYLE_ATTR:le.getStyleAttributes(t);break;case pe.STYLE_LOC:le.getStyleLocations(t);break;case pe.DATA_STEP_STMT:le.getDSStatements(function(e){le.getProcedureStatements(\"DATA\",function(a){t(X(e.concat(a)))})});break;case pe.DATA_STEP_DEF_OPT:z(t,[\"_NULL_\",\"VIEW=\",\"PGM=\"]);break;case pe.DATA_SET_OPT_NAME:le.getDSOptions(t);break;case pe.DATA_SET_OPT_VALUE:le.getDataSetOptionValues(n,function(e){t(e?e.values:null)});break;case pe.DATA_STEP_OPT_NAME:z(t,[\"DEBUG\",\"NESTING\",\"STACK=\",\"VIEW=\",\"SOURCE=\",\"NOLIST\",\"PGM=\"]);break;case pe.VIEW_OR_PGM_OPT_NAME:z(t,[\"ALTER=\",\"READ=\",\"PW=\",\"SOURCE=\"]);break;case pe.VIEW_OR_PGM_OPT_VALUE:case pe.DATA_STEP_OPT_VALUE:\"SOURCE\"===n&&z(t,[\"SAVE\",\"ENCRYPT\",\"NOSAVE\"]);break;case pe.VIEW_OR_PGM_SUB_OPT_NAME:z(t,[\"NOLIST\"]);break;case pe.OPT_NAME:case pe.OPT_VALUE:break;case pe.DATA_STEP_STMT_OPT:\"SET\"===a?we||He?le.getLibraryList(function(e){0===e.values.length?z(function(e){q(t,e,n)},e):q(t,e,n)},\"DV\"):z(t,[\"END=\",\"KEY=\",\"INDSNAME=\",\"NOBS=\",\"OPEN=\",\"POINT=\"]):le.getStatementOptions(a,function(e){e?t(j(e)):le.getProcedureStatementOptions(\"DATA\",a,t)});break;case pe.DATA_STEP_STMT_OPT_VALUE:\"SET\"===a&&\"OPEN\"===n?z(t,[\"IMMEDIATE\",\"DEFER\"]):le.getProcedureStatementOptionValues(\"DATA\",a,n,function(e){e?q(t,e,n):le.getStatementOptionValues(a,n,function(e){q(t,e,n)})});break;case pe.MACRO_STMT:le.getMacroStatements(function(e){le.getARMMacros(function(a){ke&&(e=e.concat(ke)),t(X(a.concat(e)))})}),D();break;case pe.MACRO_DEF:le.getMacroDefinitions(t);break;case pe.MACRO_DEF_OPT:le.getProcedureOptions(\"MACRO\",t);break;case pe.MACRO_STMT_OPT:le.getProcedureStatementOptions(\"MACRO\",a,t);break;case pe.MACRO_STMT_OPT_VALUE:le.getProcedureStatementOptionValues(\"MACRO\",a,n,function(e){q(t,e,n)});break;case pe.CALL_ROUTINE:le.getCallRoutines(t);break;case pe.GBL_STMT:ge.startsWith(\"%\")?(K(pe.MACRO_STMT),le.getMacroStatements(t)):le.getGlobalStatements(t);break;case pe.GBL_STMT_OPT:le.getStatementOptions(a,function(e){t(j(e))});break;case pe.GBL_STMT_OPT_VALUE:le.getStatementOptionValues(a,n,function(e){q(t,e,n)});break;case pe.GBL_STMT_SUB_OPT_NAME:le.getStatementSubOptions(a,n,t);break;case pe.COLOR:le.getSasColors(t);break;case pe.DATA_SET_NAME:break;case pe.FORMAT:le.getFormats(t);break;case pe.INFORMAT:le.getInformats(t);break;case pe.TAGSETS_NAME:le.getODSTagsets(t);break;case pe.ODS_STMT:le.getProcedureStatements(\"ODS\",function(e){t($(e))});break;case pe.ODS_STMT_OPT:le.getProcedureStatementOptions(\"ODS\",Z(a),t);break;case pe.ODS_STMT_OPT_VALUE:le.getProcedureStatementOptionValues(\"ODS\",Z(a),n,function(e){q(t,e,n)});break;case pe.LIB:break;case pe.MACRO_FUNC:le.getMacroFunctions(t);break;case pe.SAS_FUNC:le.getFunctions(t);break;case pe.STAT_KW:le.getStatisticsKeywords(t);break;case pe.AUTO_MACRO_VAR:le.getAutoVariables(t);break;case pe.MACRO_VAR:le.getAutoVariables(function(e){ye&&(e=X(e.concat(ye))),t(e)}),h();break;default:return!1}return!0}function J(e){var t=v(e.keyword),a=null,n=e.zone,T=e.cb,o=e.type;switch(n){case pe.PROC_DEF:a=le.getProcedureHelp(t,T);break;case pe.PROC_OPT:case pe.PROC_SUB_OPT_NAME:n===pe.PROC_SUB_OPT_NAME&&(t=e.optName),a=le.getProcedureOptionHelp(e.procName,t,T);break;case pe.PROC_OPT_VALUE:a=le.getProcedureOptionValueHelp(e.procName,e.optName,t,T);break;case pe.PROC_STMT:\"hint\"===o&&(t=v(e.stmtName)),\"ODS\"===e.procName&&(t=\"ODS \"+t),a=le.getProcedureStatementHelp(e.procName,t,T);break;case pe.PROC_STMT_OPT:case pe.PROC_STMT_SUB_OPT:e.stmtName=v(e.stmtName),\"ODS\"===e.procName&&(e.stmtName=\"ODS \"+e.stmtName),n===pe.PROC_STMT_SUB_OPT&&(t=e.optName),a=le.getProcedureStatementOptionHelp(e.procName,e.stmtName,t,T);break;case pe.PROC_STMT_OPT_VALUE:\"ODS\"===e.procName&&(e.stmtName=\"ODS \"+e.stmtName),a=le.getProcedureStatementOptionValueHelp(e.procName,e.stmtName,e.optName,t,T);break;case pe.GBL_STMT_SUB_OPT_NAME:case pe.GBL_STMT_OPT:n===pe.GBL_STMT_SUB_OPT_NAME&&(t=e.optName),a=le.getStatementOptionHelp(v(e.stmtName),t,T);break;case pe.GBL_STMT_OPT_VALUE:a=le.getStatementOptionValueHelp(e.stmtName,e.optName,t,T);break;case pe.DATA_STEP_STMT:a=le.getKeywordHelp(t,void 0,ve[n]),a?z(T,a):a=le.getProcedureStatementHelp(\"DATA\",t,T);break;case pe.DATA_STEP_STMT_OPT:\"SET\"===e.stmtName?a=le.getDataStepOptionHelp(t,T,\"datastep-option\"):(a=le.getProcedureStatementOptionHelp(\"DATA\",e.stmtName,t),a?z(T,a):a=le.getStatementOptionHelp(e.stmtName,t,T));break;case pe.DATA_STEP_STMT_OPT_VALUE:\"SET\"===e.stmtName?a=le.getDataStepOptionValueHelp(e.optName,t,T):(a=le.getProcedureStatementOptionValueHelp(\"DATA\",e.stmtName,e.optName,t),a?z(T,a):a=le.getStatementOptionValueHelp(e.stmtName,e.optName,t,T));break;case pe.DATA_SET_OPT_VALUE:a=le.getDataSetOptionValueHelp(e.optName,t,T);break;case pe.DATA_STEP_DEF_OPT:case pe.VIEW_OR_PGM_OPT_NAME:a=le.getDataStepOptionHelp(t,T,\"datastep-option2\");break;case pe.DATA_SET_OPT_NAME:a=le.getDSOptionHelp(t,T);break;case pe.DATA_STEP_OPT_NAME:a=le.getDataStepOptionHelp(t,T,\"datastep-option\");break;case pe.DATA_STEP_OPT_VALUE:case pe.VIEW_OR_PGM_OPT_VALUE:a=le.getDataStepOptionValueHelp(e.optName,t,T);break;case pe.MACRO_DEF_OPT:a=le.getProcedureOptionHelp(\"MACRO\",t,T);break;case pe.MACRO_STMT_OPT:a=le.getProcedureStatementOptionHelp(\"MACRO\",e.stmtName,t,T);break;case pe.MACRO_STMT_OPT_VALUE:a=le.getProcedureStatementOptionValueHelp(\"MACRO\",e.stmtName,e.optName,t,T);break;case pe.ODS_STMT:t=Z(t),\"ODS MARKUP\"===t&&(xe=name),a=le.getProcedureStatementHelp(\"ODS\",t,T);break;case pe.ODS_STMT_OPT:var _=Z(e.stmtName);a=le.getProcedureStatementOptionHelp(\"ODS\",_,t,T);break;case pe.ODS_STMT_OPT_VALUE:var _=Z(e.stmtName);a=le.getProcedureStatementOptionValueHelp(\"ODS\",_,e.optName,t,T);break;default:void 0===ve[n]?T&&z(T,null):a=le.getKeywordHelp(t,T,ve[n])}return a}function ee(e,t,a){var n=N,T=Be;\"hint\"===a&&(Fe.procName=ue.getProcName(),Fe.stmtName=ue.getStmtName(),Fe.optName=ue.getOptionName(),n=x,T=Fe),T.keyword=e,T.zone=t,T.type=a,T.cb=n,J(T)}function te(e,t,a){var n,T,o,_,s,c,r,i,O=Be,l=\"\";switch(o=v(t.key),r={text:o,line:Me?Me.line:be.line,column:Me?Me.column:be.column},\"hint\"===a&&(Fe.procName=ue.getProcName(),Fe.stmtName=ue.getStmtName(),Fe.optName=ue.getOptionName(),O=Fe),e){case pe.GBL_STMT:n=fe.getText(\"ce_ac_global_statement_txt\"),T=\"%22\"+o+\"+STATEMENT%22\";break;case pe.GBL_STMT_OPT:case pe.GBL_STMT_SUB_OPT_NAME:e===pe.GBL_STMT_SUB_OPT_NAME&&(o=O.optName),n=fe.getText(\"ce_ac_statement.fmt\",O.stmtName),T=\"%22SYSTEM+\"+O.stmtName.toUpperCase()+\"%22+\"+o;break;case pe.GBL_STMT_OPT_VALUE:n=fe.getText(\"ce_ac_option.fmt\",O.optName+\"=\"),T=\"%22SYSTEM+\"+O.stmtName+\"%22+\"+O.optName+\"= \"+o;break;case pe.PROC_DEF:n=fe.getText(\"ce_ac_procedure_definition_txt\"),T=\"%22PROC \"+o+\"%22\";break;case pe.PROC_OPT:case pe.PROC_STMT:case pe.PROC_SUB_OPT_NAME:e===pe.PROC_SUB_OPT_NAME&&(o=O.optName),t.isGlobal?(n=fe.getText(\"ce_ac_global_statement_txt\"),T=\"%22\"+o+\"+STATEMENT%22\"):(n=fe.getText(\"ce_ac_proc.fmt\",O.procName),T=\"PROC+\"+O.procName+\"+\"+o);break;case pe.PROC_OPT_VALUE:n=fe.getText(\"ce_ac_proc.fmt\",O.procName)+\", \"+fe.getText(\"ce_ac_option.fmt\",O.optName+\"=\"),T=\"%22PROC+\"+O.procName+\"%22+%22\"+O.optName+\"= \"+o+\"%22\";break;case pe.PROC_STMT_OPT:case pe.PROC_STMT_SUB_OPT:e===pe.PROC_STMT_SUB_OPT&&(o=O.optName),t.isGlobal?(n=fe.getText(\"ce_ac_statement.fmt\",O.stmtName),T=\"%22\"+O.stmtName+\"+STATEMENT%22\"):(n=fe.getText(\"ce_ac_proc.fmt\",O.procName)+\", \"+fe.getText(\"ce_ac_statement.fmt\",O.stmtName),T=\"%22PROC+\"+O.procName+\"%22+%22\"+O.stmtName+\"+STATEMENT%22+\"+o);break;case pe.PROC_STMT_OPT_VALUE:t.isGlobal?(n=fe.getText(\"ce_ac_global_statement_txt\")+\", \"+fe.getText(\"ce_ac_option.fmt\",O.optName+\"=\"),T=\"%22SYSTEM+\"+O.stmtName+\"%22+\"+O.optName+\"= \"+o):(n=fe.getText(\"ce_ac_proc.fmt\",O.procName)+\", \"+fe.getText(\"ce_ac_statement.fmt\",O.stmtName)+\", \"+fe.getText(\"ce_ac_option.fmt\",O.optName+\"=\"),T=\"PROC+\"+O.procName+\"+\"+O.stmtName+\"+STATEMENT+\"+O.optName+\"= \"+o);break;case pe.DATA_STEP_STMT:n=fe.getText(\"ce_ac_data_step_txt\"),T=\"%22DATA+STEP%22+%22\"+o+\"+STATEMENT%22\";break;case pe.DATA_STEP_OPT_NAME:case pe.DATA_STEP_DEF_OPT:n=fe.getText(\"ce_ac_data_step_txt\"),T=\"%22DATA STATEMENT%22 \"+C(r);break;case pe.DATA_STEP_OPT_VALUE:n=fe.getText(\"ce_ac_data_step_option_value_txt\"),T=\"%22DATA STATEMENT%22 \"+O.optName+\"= \"+o;break;case pe.VIEW_OR_PGM_OPT_NAME:n=fe.getText(\"ce_ac_data_step_txt\"),T=\"%22DATA STEP PASSWORD= OPTION%22 \"+C(r);break;case pe.VIEW_OR_PGM_OPT_VALUE:n=fe.getText(\"ce_ac_data_step_txt\"),T=\"%22DATA STEP PASSWORD= OPTION%22 \"+O.optName+\"= \"+o;break;case pe.DATA_SET_OPT_NAME:n=fe.getText(\"ce_ac_data_set_option_txt\"),T=\"%22DATA SET OPTIONS%22 \"+C(r);break;case pe.DATA_SET_OPT_VALUE:n=fe.getText(\"ce_ac_data_set_option_value_txt\"),T=\"%22DATA SET OPTIONS%22 \"+O.optName+\"= \"+o;break;case pe.MACRO_DEF:n=fe.getText(\"ce_ac_macro_definition_txt\");break;case pe.MACRO_STMT:n=fe.getText(\"ce_ac_macro_statement_txt\"),T=\"%22\"+o.replace(\"%\",\"\")+\"+STATEMENT%22\";break;case pe.MACRO_DEF_OPT:n=fe.getText(\"ce_ac_macro_definition_option_txt\"),T=\"%22\"+O.stmtName.toUpperCase().replace(\"%\",\"\")+\" \"+o.replace(\"%\",\"\")+\"%22\";break;case pe.MACRO_STMT_OPT:n=fe.getText(\"ce_ac_macro_statement_option_txt\"),T=\"%22\"+O.stmtName.toUpperCase().replace(\"%\",\"\")+\" \"+o.replace(\"%\",\"\")+\"%22\";break;case pe.ODS_STMT:n=fe.getText(\"ce_ac_ods_txt\"),T=o;break;case pe.ODS_STMT_OPT:n=Z(O.stmtName),T=n+\"+\"+o,n=fe.getText(\"ce_ac_statement.fmt\",n);break;case pe.ODS_STMT_OPT_VALUE:n=Z(O.stmtName),T=n+\"+\"+O.optName+\"= \"+o,n=fe.getText(\"ce_ac_statement.fmt\",n)+\", \"+fe.getText(\"ce_ac_option.fmt\",O.optName+\"=\");break;case pe.TAGSETS_NAME:n=fe.getText(\"ce_ac_ods_markup_txt\"),T=\"ODS \"+o;break;case pe.CALL_ROUTINE:n=fe.getText(\"ce_ac_call_routine_txt\"),T=\"CALL \"+o;break;case pe.STYLE_LOC:n=fe.getText(\"ce_ac_style_option_txt\"),T=\"STYLE%28\"+o+\"%29%22\";break;case pe.STYLE_ELEMENT:case pe.STYLE_ATTR:n=fe.getText(\"ce_ac_style_option_txt\"),T=\"STYLE \"+o;break;default:n=\"\",T=o.replace(\"%\",\"\")}return o=\"<a href = 'https://support.sas.com/en/search.html?q=\"+T+\"' target = '_blank'>\"+v(t.key.toUpperCase())+\"</a>\",_=\"<a href = 'https://support.sas.com/en/search.html?fq=siteArea%3ADocumentation&q=\"+T+\"' target = '_blank'>\"+fe.getText(\"ce_ac_product_documentation_txt\")+\"</a>\",s=\"<a href = 'https://support.sas.com/en/search.html?fq=siteArea%3A%22Samples%20%26%20SAS%20Notes%22&q=\"+T+\"' target = '_blank'>\"+fe.getText(\"ce_ac_samples_and_sas_notes_txt\")+\"</a>\",c=\"<a href = 'https://support.sas.com/en/search.html?fq=siteArea%3A%22Papers%20%26%20Proceedings%22&q=\"+T+\"' target = '_blank'>\"+fe.getText(\"ce_ac_papers_txt\")+\"</a>\",n=n.toUpperCase(),n=\"\"===n?\"<br/>\":\"<b>\"+fe.getText(\"ce_ac_context_txt\")+\" [\"+n+\"] \"+R(e,v(C(r)))+\"</b>\\n<br />\",t.alias&&t.alias.length&&(l=fe.getText(\"ce_ac_alias_txt\")+\" \"+t.alias.join(\", \")+\"<br/>\"),i=t.data?t.data.replace(/\\</g,\"&lt;\"):\"&lt;no help>\",fe.getText(\"ce_ac_keyword_txt\")+\"  \"+o+\"\\n\"+l+n+i+\"\\n<br />\"+fe.getText(\"ce_ac_search_txt\")+\"   \"+_+\"     \"+s+\"     \"+c}function ae(e){S.browser.msie&&(se.isDisplayed()||_e.isFocused())&&ce.focus(),re.hideAll()}function ne(e,t){var a=se.getPosition();return e>=a.left&&e<=a.left+a.width&&t>=Math.floor(a.top-ce.getLineHeight())&&t<=a.top+a.height+ce.getLineHeight()}function Te(e){se.isDisplayed()&&!se.isFocused()&&e.target.parentNode.parentNode!==ce._clientDiv&&!ne(e.pageX,e.pageY)&&se.canHide()&&se.hide()}var oe,_e,se,ce,re,ie,Oe,le,Se,Ae,ue,pe,Ee,me,Pe,ge,Me,de,fe,Le,Ne,xe,Ce,Re,De,he,be,ve,Ue,ke,ye,Ve,Ie,He,we,Be={},Fe={},Ge=2,Ye={};re=this,ie=e('<div class=\"sce-ac\" dir=\"ltr\"></div>').appendTo(document.body),Oe=e('<div class=\"sce-helper\" dir=\"ltr\"></div>').appendTo(document.body),_e=new o(n,ie),se=new _(n,Oe),oe=r,pe=c.ZONE_TYPE,Ee=A.ITEM_TYPE,ce=n,Se=t.settings,fe=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\"),Ne=!1,xe=!1,Ce=!1,Ue=null,ke=null,ye=null,Pe=null,He=null,we=!1,Le=!0,me=a,le=new s,Ae=t.mode().getHighlight(),ue=new c(oe,le,Ae),be={},Ie=l.arrayToMap([\"CHTML\",\"CORE\",\"CSV\",\"CSVALL\",\"CVSBYLINE\",\"DEFAULT\",\"DOCBOOK\",\"EXCELXP\",\"HTML4\",\"HTMLCSS\",\"HTMLPANEL\",\"HTMLSCROLL\",\"IMODE\",\"MSOFFICE2K\",\"MVSHTML\",\"PHTML\",\"PYX\",\"RTF\",\"SASREPORT\",\"SQL\",\"SUPERMAP\",\"TABLEEDITOR\",\"WML\",\"WMLOLIST\",\"XBRL\",\"XHTML\",\"EVENT_HTML\",\"NAMEDHTML\",\"SHORT_MAP\",\"STYLE_DISPLAY\",\"STYLE_POPUP\",\"TEXT_MAP\",\"TPL_STYLE_LIST\",\"TPL_STYLE_MAP\"]),Re=[pe.COLOR,pe.FORMAT,pe.INFORMAT,pe.MACRO_FUNC,pe.SAS_FUNC,pe.STAT_KW,pe.STYLE_ELEMENT,pe.STYLE_ATTR],Ve=[[pe.COLOR,fe.getText(\"ce_ac_colors_txt\"),Ee.COLOR],[pe.LIB,!1,Ee.LIB],[pe.FORMAT,fe.getText(\"ce_ac_formats_txt\"),Ee.FORMAT],[pe.INFORMAT,fe.getText(\"ce_ac_informats_txt\"),Ee.FORMAT],[pe.MACRO_FUNC,fe.getText(\"ce_ac_macro_functions_txt\"),Ee.FUNC],[pe.SAS_FUNC,fe.getText(\"ce_ac_sas_functions_txt\"),Ee.FUNC],[pe.STAT_KW,fe.getText(\"ce_ac_statistics_keywords_txt\"),Ee.STAT_KW],[pe.STYLE_ELEMENT,fe.getText(\"ce_ac_style_elements_txt\"),Ee.STYLE],[pe.STYLE_ATTR,fe.getText(\"ce_ac_style_attributes_txt\"),Ee.STYLE],[pe.STYLE_LOC,fe.getText(\"ce_ac_style_locations_txt\"),Ee.STYLE],[pe.GBL_STMT,fe.getText(\"ce_ac_global_statements_txt\"),Ee.STMT],[pe.GBL_STMT_OPT,fe.getText(\"ce_ac_statement_options_txt\"),Ee.STMT_OPT],[pe.GBL_STMT_OPT_VALUE,fe.getText(\"ce_ac_option_values_txt\"),Ee.OPT_VALUE],[pe.GBL_STMT_SUB_OPT_NAME,!1,Ee.STMT_OPT],[pe.STMT_OPT,fe.getText(\"ce_ac_statement_options_txt\"),Ee.STMT_OPT],[pe.OPT_VALUE,fe.getText(\"ce_ac_option_values_txt\"),Ee.OPT_VALUE],[pe.PROC_DEF,fe.getText(\"ce_ac_procedures_txt\"),Ee.PROC],[pe.PROC_OPT,fe.getText(\"ce_ac_procedure_options_txt\"),Ee.STMT_OPT],[pe.PROC_OPT_VALUE,fe.getText(\"ce_ac_option_values_txt\"),Ee.OPT_VALUE],[pe.PROC_SUB_OPT_NAME,!1,Ee.STMT_OPT],[pe.PROC_STMT,fe.getText(\"ce_ac_procedure_statements_txt\"),Ee.STMT],[pe.PROC_STMT_OPT,fe.getText(\"ce_ac_statement_options_txt\"),Ee.STMT_OPT],[pe.PROC_STMT_OPT_VALUE,fe.getText(\"ce_ac_option_values_txt\"),Ee.OPT_VALUE],[pe.PROC_STMT_SUB_OPT,!1,Ee.STMT_OPT],[pe.DATA_STEP_STMT,fe.getText(\"ce_ac_data_step_statements_txt\"),Ee.STMT],[pe.DATA_STEP_STMT_OPT,fe.getText(\"ce_ac_statement_options_txt\"),Ee.STMT_OPT],[pe.DATA_STEP_STMT_OPT_VALUE,fe.getText(\"ce_ac_option_values_txt\"),Ee.OPT_VALUE],[pe.DATA_STEP_DEF_OPT,fe.getText(\"ce_ac_definition_options_txt\"),Ee.STMT_OPT],[pe.DATA_STEP_OPT_NAME,fe.getText(\"ce_ac_options_txt\"),Ee.STMT_OPT],[pe.DATA_STEP_OPT_VALUE,fe.getText(\"ce_ac_option_values_txt\"),Ee.OPT_VALUE],[pe.DATA_SET_OPT_NAME,fe.getText(\"ce_ac_data_set_options_txt\"),Ee.STMT_OPT],[pe.DATA_SET_OPT_VALUE,fe.getText(\"ce_ac_data_set_option_values_txt\"),Ee.OPT_VALUE],[pe.VIEW_OR_PGM_OPT_NAME,fe.getText(\"ce_ac_password_options_txt\"),Ee.STMT_OPT],[pe.VIEW_OR_PGM_OPT_VALUE,fe.getText(\"ce_ac_password_option_values_txt\"),Ee.OPT_VALUE],[pe.VIEW_OR_PGM_SUB_OPT_NAME,fe.getText(\"ce_ac_options_txt\"),Ee.STMT_OPT],[pe.MACRO_DEF_OPT,fe.getText(\"ce_ac_macro_definition_options_txt\"),Ee.STMT_OPT],[pe.MACRO_STMT,fe.getText(\"ce_ac_macro_statements_txt\"),Ee.MACRO_STMT],[pe.MACRO_STMT_OPT,fe.getText(\"ce_ac_statement_options_txt\"),Ee.STMT_OPT],[pe.MACRO_STMT_OPT_VALUE,fe.getText(\"ce_ac_option_values_txt\"),Ee.OPT_VALUE],[pe.CALL_ROUTINE,fe.getText(\"ce_ac_call_routines_txt\"),Ee.FUNC],[pe.TAGSETS_NAME,fe.getText(\"ce_ac_tagset_names_txt\"),Ee.OPT_VALUE],[pe.ODS_STMT,fe.getText(\"ce_ac_ods_statements_txt\"),Ee.STMT_OPT],[pe.ODS_STMT_OPT,fe.getText(\"ce_ac_statement_options_txt\"),Ee.STMT_OPT],[pe.ODS_STMT_OPT_VALUE,fe.getText(\"ce_ac_option_values_txt\"),Ee.OPT_VALUE],[pe.MACRO_VAR,fe.getText(\"ce_ac_macro_variables_txt\"),Ee.MACRO_VAR]],Ve=function(){var e={};return Ve.forEach(function(t){e[t[0]]={name:t[1],type:t[2],zone:t[0]}}),e}(),Re=function(){var e,t=[];return Re.forEach(function(a){e=Ve[a],e.zone=a,t.push(e)}),t}(),De=[],he=0,ve=[[pe.FORMAT,\"formats\"],[pe.INFORMAT,\"informats\"],[pe.MACRO_FUNC,\"macro-func\"],[pe.MACRO_STMT,\"macro-stmt\"],[pe.AUTO_MACRO_VAR,\"auto-var\"],[pe.MACRO_VAR,\"auto-var\"],[pe.CALL_ROUTINE,\"call-routines\"],[pe.SAS_FUNC,\"func\"],[pe.STAT_KW,\"stat-kw\"],[pe.STYLE_LOC,\"style-loc\"],[pe.STYLE_ELEMENT,\"style-ele\"],[pe.STYLE_ATTR,\"style-att\"],[pe.GBL_STMT,\"gbl-stmt\"],[pe.DATA_STEP_STMT,\"ds-stmt\"],[pe.DATA_SET_OPT_NAME,\"ds-option\"],[pe.DATA_SET_OPT_VALUE,\"ds-option\"],[pe.TAGSETS_NAME,\"ods-tagsets\"]],ve=function(){var e={};return ve.forEach(function(t){e[t[0]]=t[1]}),e}(),this.isDisplayed=function(){return _e.isDisplayed()},this.isHintDisplayed=function(){return se.isDisplayed()},this.hide=function(){Me=null,xe=!1,he=0,ge=null,Le=!0,_e.hide()},this.hideHint=function(){xe=!1,se.hide()},this.hideAll=function(){xe=!1,re.isDisplayed()&&re.hide(),se.isDisplayed()&&se.hide()},this.getPopup=function(){return _e},this.getHint=function(){return se},this.loadHint=function(e,t){be={zone:\"format\"===e.type?pe.FORMAT:W(e.line,e.column+1),text:e.text,line:e.line,column:e.column,focus:t,x:e.x,y:e.y},be.zone&&U(C(be),be.zone,\"hint\")},this.enableHint=function(e){e?re.setHoverListener(function(e){se.isFocused()&&se.hide(),re.loadHint(e)},function(){re.isHintDisplayed()&&re.hideHint()}):re.setHoverListener()},this.setSectionMode=function(){ue.setSectionMode.apply(ue,arguments),le.noGlobal=!0},this.setHoverListener=function(e,t){function a(a){function n(){(T=u(a.x,a.y))&&p(T)&&(_=!0,e(T))}if(_){if(se.isResizing()||!(a.x<T.minX||a.x>T.maxX||a.y<T.minY||a.y>T.maxY))return!0;_=!1,se.isFocused()||t()}null!==o&&window.clearTimeout(o),o=window.setTimeout(n,500)}function n(){null!==o&&(window.clearTimeout(o),o=null)}var T,o=null,_=!1;if(0===arguments.length)return void(S.support.touch?(ce.removeEventListener(\"TouchStart\",Ye.onHoverMove),ce.removeEventListener(\"TouchMove\",Ye.onHoverOut)):(ce.removeEventListener(\"MouseMove\",Ye.onHoverMove),ce.removeEventListener(\"Scroll\",Ye.onHoverOut),ce.removeEventListener(\"MouseOut\",Ye.onHoverOut)));S.support.touch?(ce.addEventListener(\"TouchStart\",a),ce.addEventListener(\"TouchMove\",n)):(ce.addEventListener(\"MouseMove\",a),ce.addEventListener(\"Scroll\",n),ce.addEventListener(\"MouseOut\",n)),Ye.onHoverMove=a,Ye.onHoverOut=n},this.tryLoadHint=function(){var e=O();null!==e&&re.loadHint(e,!0)},this.canSyntaxHelp=function(){return p(O())},this.setLibService=function(e){le.setLibService(e)},ce.addEventListener(\"KeyDown\",E),ce.addEventListener(\"Scroll\",ae),ce.addEventListener(\"MouseDown\",ae),ce.addEventListener(\"Selection\",g),t.setActionHandler(\"autocomplete\",null),t.setActionHandler(\"autocompletePrev\",null),e(ce._clientDiv).on(\"focusout\",function(){_e.isDisplayed()&&(_e.isFocused()||(re.hide(),S.browser.safari&&S.browser.mobile&&re.hide())),se.isDisplayed()&&S.support.touch&&se.canHide()}).on(S.browser.firefox?\"DOMMouseScroll\":\"mousewheel\",function(){re.hideAll()}),S.os.macintosh&&S.browser.firefox&&e(ce._clientDiv).on(\"contextmenu\",P),e(Ae).on(\"parsingStateEvent\",function(e){e.change&&2===e.state&&d(e.change)}),S.browser.safari&&S.browser.mobile?e(document).on(\"touchend\",function(e){var t=e.target.className;_e.isDisplayed()&&-1===t.indexOf(\"sce-ac\")&&-1===t.indexOf(\"sce-it\")&&-1===t.indexOf(\"sce-help\")&&_e.canHide()&&re.hide(),se.isDisplayed()&&-1===t.indexOf(\"sce-ac\")&&-1===t.indexOf(\"sce-it\")&&-1===t.indexOf(\"sce-help\")&&se.canHide()&&se.hide()}):e(document).on(\"mousemove\",Te),e(_e).on(\"dismiss\",re.hide).on(\"keydown\",m).on(\"dblclick\",V).on(\"itemSelected\",function(){U(_e.getCurrentKeyword(),de,\"tooltip\")}),_e.setNavigatorListener({previous:w,next:B}),e(_e.getTooltip()).on(\"dismiss\",function(){xe=!1}),\nthis.destroy=function(){this.setLibService(null),e(Ae).off(),e(document).off(\"mousemove\",Te)}};return A.ITEM_TYPE={COLOR:\"sce-it-color-val\",DATA_SET:\"AUTOCOMPLETESASDATASET\",DATA_VIEW:\"AUTOCOMPLETEDATAVIEW\",FORMAT:\"AUTOCOMPLETEFORMATS\",LIB:\"AUTOCOMPLETELIBRARY\",STAT_KW:\"AUTOCOMPLETESTATISTICSKEYWORDS\",STYLE:\"AUTOCOMPLETESTYLEKEYWORDS\",ABBR:\"sce-it-abbr\",FUNC:\"AUTOCOMPLETEFUNCTIONS\",MACRO_STMT:\"AUTOCOMPLETEMACROSTATEMENTS\",PROC:\"AUTOCOMPLETEPROCEDURES\",STMT:\"AUTOCOMPLETESTATEMENTS\",STMT_OPT:\"AUTOCOMPLETESTATEMENTOPTIONS\",OPT_VALUE:\"AUTOCOMPLETEOPTIONVALUES\",MACRO_VAR:\"AUTOCOMPLETEMACROVARIABLES\"},A},!0);",
	"sas/hc/ui/commons/codeEditor/SasLanguageService.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./Utils\",\"sas/hc/ui/core/Core\"],function(t,n){\"use strict\";var e=function(){return{get:function(t,n,e){sas.ajax({type:\"get\",url:t,dataType:\"json\",async:!!e}).done(function(t){n&&n(t)}).fail(function(){n&&n(null)})}}}(),o=function(){};return function(){function n(t){var n,e,o=[],r={},i=t.length;if(i<2)return t;for(n=0;n<i;n++)e=t[n],r[e]||(o.push(e),r[e]=!0);return o}function o(t,n){return t&&window.setTimeout(function(){t(n)},0),n}function r(t){for(var n=1,e=t;e&&(void 0!==arguments[n]||void 0!==arguments[n+1]);n++)e=e[arguments[n]];return e}function i(t){return t.replace(\"=\",\"\")}function s(t){var n=/^\\((.*)\\)$/.exec(t);return n?n[1]:t.replace(/(\\(.*\\))|=/g,\"\")}function a(t,n){return n.split(\"|\").filter(function(n){return n&&i(n)!==t})}function u(t,n,e,o){return n&&(n=i(n)),o&&(o=i(o)),r(Ot.procOpts,t,n,e,o)}function c(t,n,e,o,s){return e&&(e=i(e)),s&&(s=i(s)),r(Ot.procStmts,t,n,e,o,s)}function p(t,n){return r(Ot.kwPool,t,n)}function f(t,n,e){return n&&(n=i(n)),r(Ot.stmts,t,n,e)}function l(n,e){var o=t.getBaseUrl()+\"/data/\";return Et[n]?o+=Et[n]:o=null,o}function S(t,n){var e,o=n.split(\"|\");return t[bt]||(t[bt]=[]),e=t[bt],o.forEach(function(n){\"\"!==(n=jQuery.trim(n))&&(t[i(n)]=!0,e.push(n))}),t}function m(t){return t?t[\"#cdata\"]:\"\"}function d(t,n,e){for(var o,r=1,i=0,s=\"@Value\"+r;t[s];){for(o=t[s].split(\"|\"),i=0;i<o.length;i++)e(i,o[i],n?n[\"@ToolTip\"+r]:void 0);r++,s=\"@Value\"+r}}function h(t,n){for(var e=t.length,o=0;o<e;o++)if(t[o].Name)for(var r=t[o].Name.split(\"|\"),i=0;i<r.length;i++)n(o,r[i],t[o])}function g(t){return t.needToLoad()?t.userCb?void t.load(function(){t.userCb(t.getData())}):(t.load(),t.getData()):o(t.userCb,t.getData())}function O(t,n){d(t,null,function(t,n,e){Ot.sasColors.push(n)})}function v(n){var o=t.getBaseUrl()+\"/data/SASColorValues.json\";e.get(o,function(t){t&&t.Color&&(O(t.Color.Values),n&&n())},n)}function y(){return Ot.sasColors.length>0}function C(t){return g({userCb:t,getData:function(){return Ot.sasColors},needToLoad:function(){return!y()},load:function(t){v(t)}})}function A(t,n,e,o){void 0===Ot.stmts[t][n][e]&&(Ot.stmts[t][n][e]={}),Ot.stmts[t][n][e][vt]=o}function T(t,n,e,o){var r=[];d(e,o,function(e,i,s){r.push(i),o&&A(t,n,i.toUpperCase(),s)}),Ot.stmts[t][n][At]=r}function P(t,n,e){Ot.stmts[t][n][vt]=m(e)}function b(t,n,e){Ot.stmts[t][n][yt]=e}function U(t,n,e){Ot.stmts[t][n][Ut]=a(n,e)}function D(t,n,e){var o=Ot.stmts[t][n][Pt]||{};S(o,e),Ot.stmts[t][n][Pt]=o}function w(t,n,e){n=i(n),void 0===Ot.stmts[t][n]&&(Ot.stmts[t][n]={}),P(t,n,e.Help),b(t,n,e.Type),U(t,n,e.Name),e.Values&&T(t,n,e.Values,e.ToolTips),e.SubOptionsKeywords&&D(t,n,e.SubOptionsKeywords)}function V(t,n){var e=[];void 0===Ot.stmts[t]&&(Ot.stmts[t]={}),h(n,function(n,o,r){e.push(o),w(t,o,r)}),Ot.stmts[t][Ct]=e}function E(n,o){var r=t.getBaseUrl()+\"/data/\";r+=\"DATA-SET\"===n?\"SASDataSetOptions\":\"DATA-STEP\"===n?\"SASDataStepOptions\":\"Statements/\"+n.toUpperCase(),r+=\".json\",e.get(r,function(t){t&&t.Keywords&&(V(n,t.Keywords.Keyword),o&&o())},o)}function K(t){return Ot.stmts[t]}function j(t,n,e){return g({userCb:n,getData:e,needToLoad:function(){return wt[t]&&!K(t)},load:function(n){E(t,n)}})}function H(t,n,e){Ot.kwPool[t][n][vt]=m(e)}function N(t,n,e){Ot.kwPool[t][n][Ut]=a(n,e)}function k(t,n,e){Ot.kwPool[t][n][Dt]=e}function L(t,n,e){void 0===Ot.kwPool[t][n]&&(Ot.kwPool[t][n]={}),H(t,n,e.Help),N(t,n,e.Name),k(t,n,e.Attributes)}function I(t,n){var e=[];void 0===Ot.kwPool[t]&&(Ot.kwPool[t]={}),h(n,function(n,o,r){e.push(o),L(t,i(o).toUpperCase(),r)}),Ot.kwPool[t][bt]=e}function M(t,n){var o=l(t);e.get(o,function(e){e&&e.Keywords&&(I(t,e.Keywords.Keyword),n&&n.apply(this))},n)}function R(t){return Ot.kwPool[t]}function F(t,n,e){return g({userCb:n,getData:e,needToLoad:function(){return!R(t)},load:function(n){M(t,n)}})}function _(t,n){return F(t,n,function(){var n=p(t);return n&&(n=n[bt]),n})}function G(t,n,e){return F(n,e,function(){var e=p(n,i(t).toUpperCase());return e&&(e={key:t,data:e[vt],alias:e[Ut]}),e})}function $(n,o){var r=t.getBaseUrl()+\"/data/Procedures/\"+n+\".json\";e.get(r,function(t){t&&t.Procedure&&(Y(n,t.Procedure),o&&o())},o)}function B(t){return Ot.procStmts[t]}function x(t,n,e){return g({userCb:n,getData:e,needToLoad:function(){var n=F(\"proc\",null,function(){return p(\"proc\")});return n&&(n[t]||Vt[t])&&!B(t)},load:function(n){$(t,n)}})}function Y(t,n){if(void 0===Ot.procOpts[t]&&(Ot.procOpts[t]={}),void 0===Ot.procStmts[t]&&(Ot.procStmts[t]={}),Q(t,n.ProcedureHelp),n.ProcedureOptions){var e=n.ProcedureOptions;e instanceof Array||(e=[e]),e.forEach(function(n){nt(t,n.ProcedureOption)})}if(n.ProcedureStatements){var o=n.ProcedureStatements;o instanceof Array||(o=[o]),o.forEach(function(n){n&&St(t,n.ProcedureStatement)})}}function Q(t,n){Ot.procOpts[t][vt]=m(n)}function W(t,n,e){Ot.procOpts[t][n][vt]=m(e)}function q(t,n,e){Ot.procOpts[t][n][yt]=e}function X(t,n,e){Ot.procOpts[t][n][Ut]=a(n,e)}function z(t,n,e){var o=Ot.procOpts[t][n][Pt]||{};S(o,e),Ot.procOpts[t][n][Pt]=o}function J(t,n,e,o){Ot.procOpts[t][n][e][vt]=o}function Z(t,n,e,o){var r=[];d(e,o,function(e,o,i){r.push(o),void 0===Ot.procOpts[t][n][o]&&(Ot.procOpts[t][n][o]={}),i&&J(t,n,o,i)}),Ot.procOpts[t][n][At]=r}function tt(t,n,e){n=i(n),void 0===Ot.procOpts[t][n]&&(Ot.procOpts[t][n]={}),W(t,n,e.ProcedureOptionHelp),q(t,n,e.ProcedureOptionType),X(t,n,e.ProcedureOptionName),e.SubOptionsKeywords&&z(t,n,e.SubOptionsKeywords),e.ProcedureOptionValues&&Z(t,n,e.ProcedureOptionValues,e.ProcedureOptionToolTips)}function nt(t,n){if(n){var e=[];n instanceof Array||(n=[n]);for(var o=0;o<n.length;o++)if(n[o].ProcedureOptionName){var r=n[o].ProcedureOptionName.split(\"|\");\"\"===r[r.length-1]&&r.pop();for(var i=0;i<r.length;i++)tt(t,r[i],n[o]);e=e.concat(r)}Ot.procOpts[t][Ct]=e}}function et(t,n,e){Ot.procStmts[t][n][vt]=m(e)}function ot(t,n,e){Ot.procStmts[t][n][Ut]=a(n,e)}function rt(t,n,e,o){e=s(e),void 0===Ot.procStmts[t][n][e]&&(Ot.procStmts[t][n][e]={}),it(t,n,e,o.StatementOptionHelp),st(t,n,e,o.StatementOptionType),at(t,n,e,o.StatementOptionName),o.SubOptionsKeywords&&ut(t,n,e,o.SubOptionsKeywords),o.StatementOptionValues&&pt(t,n,e,o.StatementOptionValues,o.StatementOptionToolTips)}function it(t,n,e,o){Ot.procStmts[t][n][e][vt]=m(o)}function st(t,n,e,o){Ot.procStmts[t][n][e][yt]=o}function at(t,n,e,o){Ot.procStmts[t][n][e][Ut]=a(e,o)}function ut(t,n,e,o){var r=Ot.procStmts[t][n][e][Pt]||{};S(r,o),Ot.procStmts[t][n][e][Pt]=r}function ct(t,n,e,o,r){Ot.procStmts[t][n][e][o][vt]=r}function pt(t,n,e,o,r){var i=[];d(o,r,function(o,s,a){i.push(s),void 0===Ot.procStmts[t][n][e][s]&&(Ot.procStmts[t][n][e][s]={}),r&&ct(t,n,e,s,a)}),Ot.procStmts[t][n][e][At]=i}function ft(t,n,e){if(e){var o=[];e instanceof Array||(e=[e]);for(var r=0;r<e.length;r++){var i=e[r].StatementOptionName;if(i){i=i.split(\"|\"),\"\"===i[i.length-1]&&i.pop();for(var s=0;s<i.length;s++)rt(t,n,i[s],e[r]);o=o.concat(i)}}Ot.procStmts[t][n][Ct]=o}}function lt(t,n,e){void 0===Ot.procStmts[t][n]&&(Ot.procStmts[t][n]={}),et(t,n,e.StatementHelp),ot(t,n,e.StatementName),e.StatementOptions&&ft(t,n,e.StatementOptions.StatementOption)}function St(t,n){if(n){var e=[];n instanceof Array||(n=[n]);for(var o=0;o<n.length;o++){var r=n[o].StatementName;if(r){r=r.split(\"|\"),\"\"===r[r.length-1]&&r.pop();for(var s=0;s<r.length;s++)lt(t,i(r[s].toUpperCase()),n[o]);e=e.concat(r)}}Ot.procStmts[t][Tt]=e}}function mt(t){u(t)||x(t,null,function(){return u(t)})}function dt(t){p(t)||F(t,null,function(){return p(t)})}function ht(t){f(t)||j(t,null,function(){return f(t)})}var gt,Ot={procOpts:{},procStmts:{},kwPool:{},stmts:{},sasColors:[]},vt=\"_$help\",yt=\"_$type\",Ct=\"_$options\",At=\"_$values\",Tt=\"_$stms\",Pt=\"_$subOpts\",bt=\"_$keywords\",Ut=\"_$alias\",Dt=\"_$attr\",wt=t.arrayToMap([\"ABORT\",\"ARRAY\",\"ATTRIB\",\"AXIS\",\"ENDRSUBMIT\",\"FILE\",\"FILENAME\",\"FOOTNOTE\",\"FORMAT\",\"GOPTIONS\",\"INFILE\",\"INFORMAT\",\"KILLTASK\",\"LEGEND\",\"LIBNAME\",\"LISTTASK\",\"LOCK\",\"NOTE\",\"ODS\",\"OPTIONS\",\"PATTERN\",\"RDISPLAY\",\"RGET\",\"RSUBMIT\",\"RUN\",\"SIGNOFF\",\"SIGNON\",\"SYMBOL\",\"SYSTASK\",\"TITLE\",\"CAS\",\"CASLIB\",\"WAITFOR\",\"WHERE\",\"DATA-SET\",\"DATA-STEP\"]),Vt=t.arrayToMap([\"MACRO\",\"ODS\",\"DATA\",\"STATGRAPH\",\"DEFINE_TAGSET\",\"DEFINE_EVENT\"]),Et={formats:\"SASFormats.json\",informats:\"SASInformats.json\",\"macro-func\":\"SASMacroFunctions.json\",\"macro-stmt\":\"SASMacroStatements.json\",\"macro-def-opt\":\"MacroDefinitionOptions.json\",\"ods-tagsets\":\"ODS_Tagsets.json\",\"auto-var\":\"SASAutoVariables.json\",\"autocall-macro\":\"SASAutocallMacros.json\",\"arm-macro\":\"SASARMMacros.json\",\"call-routines\":\"SASCallRoutines.json\",\"hash-pack-method\":\"HashPackageMethods.json\",\"stat-kw\":\"StatisticsKeywords.json\",\"style-loc\":\"StyleLocations.json\",\"style-att\":\"StyleAttributes.json\",\"style-ele\":\"StyleElements.json\",func:\"SASFunctions.json\",\"ds-stmt\":\"SASDataStepStatements.json\",\"ds-option\":\"SASDataSetOptions.json\",\"gbl-stmt\":\"SASGlobalStatements.json\",\"gbl-proc-stmt\":\"SASGlobalProcedureStatements.json\",proc:\"SASProcedures.json\",\"datastep-option\":\"SASDataStepOptions.json\",\"datastep-option2\":\"SASDataStepOptions2.json\",sql:\"SQLKeywords.json\"};this._handleOptionValues=function(t,n){return/\\bC\\b/.test(t.type)?(t.values=this.getSasColors(),o(n,t)):/\\bDV\\b/.test(t.type)?t.values=this.getLibraryList(n,t.type):o(n,t),t},this.setLibService=function(t){gt=t},this.getProcedures=function(t){return F(\"proc\",t,function(){var t=p(\"proc\");return t&&(t=t[bt]),t})},this.getProcedureHelp=function(t,n){return t=t.toUpperCase(),x(t,n,function(){var n=u(t);return n&&(n={data:n[vt],key:t}),n})},this.getProcedureOptions=function(t,n){return t=t.toUpperCase(),x(t,n,function(){var n=u(t);return n&&(n=n[Ct]),n})},this.getProcedureOptionHelp=function(t,n,e){return t=t.toUpperCase(),n=n.toUpperCase(),x(t,e,function(){var e=u(t,i(n));return e&&(e={data:e[vt],key:n,alias:e[Ut]}),e})},this.getProcedureOptionType=function(t,n){return t=t.toUpperCase(),n=n.toUpperCase(),x(t,null,function(){var e=u(t,i(n));return e&&(e=e[yt]),e})},this.getProcedureOptionValueHelp=function(t,n,e,o){return x(t,o,function(){t=t.toUpperCase(),n=n.toUpperCase(),e=e.toUpperCase();var o=u(t,n,e);return o&&(o={key:e,data:o[vt]}),o})},this.getProcedureOptionValues=function(t,n,e){var o=this,r=x(t,null,function(){t=t.toUpperCase(),n=n.toUpperCase();var e=u(t,n);if(e){e={type:o.getProcedureOptionType(t,n),values:e[At]}}return e});return r&&(r=this._handleOptionValues(r,e)),r},this.getProcedureSubOptions=function(t,n,e){return x(t,e,function(){t=t.toUpperCase(),n=n.toUpperCase();var e=u(t,n,Pt);return e=e?e[bt]:[]})},this.getProcedureStatements=function(t,e){t=t.toUpperCase();var o=this;return x(t,e,function(){var e=c(t);if(e=e?e[Tt]:[],!o.noGlobal){var r=o.getGlobalProcedureStatements();r&&(e=e.concat(r),e=n(e))}return e.length>0?e:null})},this.getProcedureStatementHelp=function(t,n,e){t=t.toUpperCase(),n=n.toUpperCase();var o=this;return x(t,e,function(){var e=c(t,n);return e?e={key:n,data:e[vt],alias:e[Ut]}:(e=o.getKeywordHelp(n,null,\"gbl-proc-stmt\"))&&(e.isGlobal=!0),e})},this.getProcedureStatementOptions=function(t,n,e){t=t.toUpperCase(),n=n.toUpperCase();var o=this;return x(t,e,function(){var e=c(t,n);return e=e?e[Ct]:o.getStatementOptions(n)})},this.getProcedureStatementOptionHelp=function(t,n,e,o){t=t.toUpperCase(),n=n.toUpperCase(),e=e.toUpperCase();var r=this;return x(t,o,function(){var o=c(t,n,e);return o=o?{key:e,data:o[vt],alias:o[Ut]}:r.getStatementOptionHelp(n,e)})},this.getProcedureStatementOptionType=function(t,n,e){t=t.toUpperCase(),n=n.toUpperCase(),e=e.toUpperCase();var o=this;return x(t,null,function(){var r=c(t,n,e);return r=r?r[yt]:o.getStatementOptionType(n,e)})},this.getProcedureStatementSubOptions=function(t,n,e,o){t=t.toUpperCase(),n=n.toUpperCase(),e=e.toUpperCase();var r=this;return x(t,o,function(){var o=c(t,n,e,Pt);return o=o?o[bt]:r.getStatementSubOptions(n,e)})},this.getProcedureStatementSubOptionHelp=function(t,n,e,o,r){},this.getProcedureStatementOptionValueHelp=function(t,n,e,o,r){t=t.toUpperCase(),n=n.toUpperCase(),e=e&&e.toUpperCase();var i=this;return x(t,r,function(){var r=c(t,n,e,o);return r=r?{key:o,data:r[vt]}:i.getStatementOptionValueHelp(n,e,o)})},this.getProcedureStatementOptionValues=function(t,n,e,o){if(!e)return null;n=n.toUpperCase(),t=t.toUpperCase(),e=e.toUpperCase();var r=this,i=x(t,null,function(){var o=c(t,n,e);if(o){o={type:r.getProcedureStatementOptionType(t,n,e),values:o[At]}}else o=r.getStatementOptionValues(n,e);return o});return i&&(i=this._handleOptionValues(i,o)),i},this.addUserDefinedAbbr=function(t){},this.getUserDefinedAbbr=function(){},this.getFilenameOrLibnameOptions=function(){},this.getStatementOptions=function(t,n){return t=t.toUpperCase(),j(t,n,function(){var n=f(t);return n&&(n=n[Ct]),n})},this.getStatementOptionHelp=function(t,n,e){return j(t,e,function(){t=t.toUpperCase(),n=n&&n.toUpperCase();var e=f(t,n);return e&&(e={key:n,data:e[vt],alias:e[Ut]}),e})},this.getStatementOptionValueHelp=function(t,n,e,o){return j(t,o,function(){t=t.toUpperCase(),n=n&&n.toUpperCase(),e=e.toUpperCase();var o=f(t,n,e);return o&&(o={key:e,data:o[vt]}),o})},this.getStatementOptionType=function(t,n,e){return j(t,e,function(){t=t.toUpperCase(),n=n.toUpperCase();var e=f(t,n);return e&&(e=e[yt]),e})},this.getStatementOptionValues=function(t,n,e){var o=this,r=j(t,null,function(){t=t.toUpperCase(),n=n&&n.toUpperCase();var e=f(t,n);if(e){e={type:o.getStatementOptionType(t,n),values:e[At]}}return e});return r&&(r=this._handleOptionValues(r,e)),r},this.getStatementSubOptions=function(t,n,e){return j(t,e,function(){t=t.toUpperCase(),n=n&&n.toUpperCase();var e=f(t,n,Pt);return e=e?e[bt]:[]})},this.getStatementSyntax=function(t,n){},this.getDataStepOptions=function(t){return _(\"datastep-option\",t)},this.getDataStepOptionHelp=function(t,n,e){return G(t,e,n)},this.getDataStepOptionValueHelp=function(t,n,e){this.getStatementOptionValueHelp(\"DATA-STEP\",t,n,e)},this.getDataStepOptionValues=function(t,n){this.getStatementOptionValues(\"DATA-STEP\",t,n)},this.getDataSetOptionValueHelp=function(t,n,e){this.getStatementOptionValueHelp(\"DATA-SET\",t,n,e)},this.getDataSetOptionValues=function(t,n){this.getStatementOptionValues(\"DATA-SET\",t,n)},this.getKeywordHelp=function(t,n,e){var r=G(t,e,null);return r||(\"datastep-option\"===e?r=G(t,\"datastep-option2\",null):\"ds-stmt\"===e?r=G(t,\"gbl-stmt\",null):\"macro-stmt\"===e&&(r=G(t,\"arm-macro\",null))),o(n,r)},this.getContextPrompt=function(t,n){},this.getSasColors=function(t){return C(t)},this.getODSTagsets=function(t){return _(\"ods-tagsets\",t)},this.getStyleAttributes=function(t){return _(\"style-att\",t)},this.getStyleElements=function(t){return _(\"style-ele\",t)},this.getStyleLocations=function(t){return _(\"style-loc\",t)},this.getARMMacros=function(t){return _(\"arm-macro\",t)},this.getAutocallMacros=function(t){return _(\"autocall-macro\",t)},this.getAutoVariables=function(t){return _(\"auto-var\",t)},this.getMacroDefinitionOptions=function(t){return _(\"macro-def-opt\",t)},this.getGlobalStatements=function(t){return _(\"gbl-stmt\",t)},this.getGlobalProcedureStatements=function(t){return _(\"gbl-proc-stmt\",t)},this.getMacroStatements=function(t){return _(\"macro-stmt\",t)},this.getFunctions=function(t){return _(\"func\",t)},this.getCallRoutines=function(t){return _(\"call-routines\",t)},this.getMacroFunctions=function(t){return _(\"macro-func\",t)},this.getHashPackageMethods=function(t){return _(\"hash-pack-method\",t)},this.getFormats=function(t){return _(\"formats\",t)},this.getInformats=function(t){return _(\"informats\",t)},this.getStatisticsKeywords=function(t){return _(\"stat-kw\",t)},this.getDSStatements=function(t){var e=_(\"ds-stmt\"),r=this.getGlobalStatements();return e=n(e.concat(r)),o(t,e),e},this.getDSOptions=function(t){return _(\"ds-option\",t)},this.getDSOptionHelp=function(t,n){return G(t,\"ds-option\",n)},this.getDS2Keywords=function(t){},this.getDS2Functions=function(t){},this.getLibraryList=function(t,n){\"function\"==typeof gt?gt(null,function(e){o(t,{values:e,type:n})}):o(t,{values:[],type:n})},this.getDataSetNames=function(t,n){t&&\"function\"==typeof gt&&gt(t,function(t){if(t&&0!==t.length)return void o(n,t);o(n,null)})},this.getDocumentVariables=function(){},this.getMacroDefinitions=function(){},this.getMacroVariables=function(){},this.hasOptionDelimiter=function(t,n){var e,o=!1,r=this.getProcedureStatementHelp(t,n);return r&&(e=r.isGlobal?p(\"gbl-proc-stmt\",n):c(t,n),void 0===e._$hasOptDelimiter&&(e._$hasOptDelimiter=/Syntax:(.|\\n)*\\/(.|\\n)*;/i.test(r.data)),o=e._$hasOptDelimiter),o},this.isProcedureOptionKeyword=function(t,n,e){return mt(t),!!u(t,n,e)},this.isProcedureSubOptKeyword=function(t,n,e){return mt(t),!!u(t,n,Pt,e)},this.isProcedureStatementKeyword=function(t,n,e,o){mt(t);var r=c(t,n,e,o);if(n&&!r){var i=\"gbl-proc-stmt\";dt(i),void 0===e?(r=p(i,n))||(i=\"gbl-stmt\",dt(i),r=p(i,n)):r=this.isStatementKeyword(n,e,o)}return!!r},this.isProcedureStatementSubOptKeyword=function(t,n,e,o){return mt(t),!!c(t,n,e,Pt,o)||!!f(n,e,Pt,o)},this.isStatementKeyword=function(t,n,e){ht(t);var o=!!f(t,n,e);if(!o&&!n){dt(\"gbl-stmt\"),o=!!p(\"gbl-stmt\",t)}return o},this.isStatementSubOptKeyword=function(t,n,e){return ht(t),!!f(t,n,Pt,e)},this.isGeneralKeyword=function(t){},this.isDatasetKeyword=function(t){return dt(\"ds-option\"),!!p(\"ds-option\",t)},this.isSasFunction=function(t){return dt(\"func\"),!!p(\"func\",t)},this.isInteractiveProc=function(t){dt(\"proc\");var n=p(\"proc\",t);return n&&\"InteractivePROC\"===n[Dt]}}.call(o.prototype),o},!0);",
	"sas/hc/ui/commons/codeEditor/sax/sax.js": "!function(t){function e(a,n){if(!(this instanceof e))return new e(a,n);var i=this;r(i),i.q=i.c=\"\",i.bufferCheckPosition=t.MAX_BUFFER_LENGTH,i.opt=n||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?\"toLowerCase\":\"toUpperCase\",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!a,i.noscript=!(!a&&!i.opt.noscript),i.state=V.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(B)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),E(i,\"onready\")}function a(e){for(var a=Math.max(t.MAX_BUFFER_LENGTH,10),r=0,n=0,i=S.length;n<i;n++){var o=e[S[n]].length;if(o>a)switch(S[n]){case\"textNode\":m(e);break;case\"cdata\":p(e,\"oncdata\",e.cdata),e.cdata=\"\";break;case\"script\":p(e,\"onscript\",e.script),e.script=\"\";break;default:N(e,\"Max buffer length exceeded: \"+S[n])}r=Math.max(r,o)}var s=t.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=s+e.position}function r(t){for(var e=0,a=S.length;e<a;e++)t[S[e]]=\"\"}function n(t){m(t),\"\"!==t.cdata&&(p(t,\"oncdata\",t.cdata),t.cdata=\"\"),\"\"!==t.script&&(p(t,\"onscript\",t.script),t.script=\"\")}function i(t,e){return new o(t,e)}function o(t,a){if(!(this instanceof o))return new o(t,a);v.apply(this),this._parser=new e(t,a),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit(\"end\")},this._parser.onerror=function(t){r.emit(\"error\",t),r._parser.error=null},this._decoder=null,y.forEach(function(t){Object.defineProperty(r,\"on\"+t,{get:function(){return r._parser[\"on\"+t]},set:function(e){if(!e)return r.removeAllListeners(t),r._parser[\"on\"+t]=e,e;r.on(t,e)},enumerable:!0,configurable:!1})})}function s(t){return\" \"===t||\"\\n\"===t||\"\\r\"===t||\"\\t\"===t}function c(t){return'\"'===t||\"'\"===t}function u(t){return\">\"===t||s(t)}function l(t,e){return t.test(e)}function T(t,e){return!l(t,e)}function E(t,e,a){t[e]&&t[e](a)}function p(t,e,a){t.textNode&&m(t),E(t,e,a)}function m(t){t.textNode=f(t.opt,t.textNode),t.textNode&&E(t,\"ontext\",t.textNode),t.textNode=\"\"}function f(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\\s+/g,\" \")),e}function N(t,e){return m(t),t.trackPosition&&(e+=\"\\nLine: \"+t.line+\"\\nColumn: \"+t.column+\"\\nChar: \"+t.c),e=new Error(e),t.error=e,E(t,\"onerror\",e),t}function _(t){return t.sawRoot&&!t.closedRoot&&d(t,\"Unclosed root tag\"),t.state!==V.BEGIN&&t.state!==V.BEGIN_WHITESPACE&&t.state!==V.TEXT&&N(t,\"Unexpected end\"),m(t),t.c=\"\",t.closed=!0,E(t,\"onend\"),e.call(t,t.strict,t.opt),t}function d(t,a){if(\"object\"!=typeof t||!(t instanceof e))throw new Error(\"bad call to strictFail\");t.strict&&N(t,a)}function g(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,a=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(a.ns=e.ns),t.attribList.length=0,p(t,\"onopentagstart\",a)}function A(t,e){var a=t.indexOf(\":\"),r=a<0?[\"\",t]:t.split(\":\"),n=r[0],i=r[1];return e&&\"xmlns\"===t&&(n=\"xmlns\",i=\"\"),{prefix:n,local:i}}function I(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return void(t.attribName=t.attribValue=\"\");if(t.opt.xmlns){var e=A(t.attribName,!0),a=e.prefix,r=e.local;if(\"xmlns\"===a)if(\"xml\"===r&&t.attribValue!==L)d(t,\"xml: prefix must be bound to \"+L+\"\\nActual: \"+t.attribValue);else if(\"xmlns\"===r&&t.attribValue!==U)d(t,\"xmlns: prefix must be bound to \"+U+\"\\nActual: \"+t.attribValue);else{var n=t.tag,i=t.tags[t.tags.length-1]||t;n.ns===i.ns&&(n.ns=Object.create(i.ns)),n.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,p(t,\"onattribute\",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=\"\"}function D(t,e){if(t.opt.xmlns){var a=t.tag,r=A(t.tagName);a.prefix=r.prefix,a.local=r.local,a.uri=a.ns[r.prefix]||\"\",a.prefix&&!a.uri&&(d(t,\"Unbound namespace prefix: \"+JSON.stringify(t.tagName)),a.uri=r.prefix);var n=t.tags[t.tags.length-1]||t;a.ns&&n.ns!==a.ns&&Object.keys(a.ns).forEach(function(e){p(t,\"onopennamespace\",{prefix:e,uri:a.ns[e]})});for(var i=0,o=t.attribList.length;i<o;i++){var s=t.attribList[i],c=s[0],u=s[1],l=A(c,!0),T=l.prefix,E=l.local,m=\"\"===T?\"\":a.ns[T]||\"\",f={name:c,value:u,prefix:T,local:E,uri:m};T&&\"xmlns\"!==T&&!m&&(d(t,\"Unbound namespace prefix: \"+JSON.stringify(T)),f.uri=T),t.tag.attributes[c]=f,p(t,\"onattribute\",f)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),p(t,\"onopentag\",t.tag),e||(t.noscript||\"script\"!==t.tagName.toLowerCase()?t.state=V.TEXT:t.state=V.SCRIPT,t.tag=null,t.tagName=\"\"),t.attribName=t.attribValue=\"\",t.attribList.length=0}function b(t){if(!t.tagName)return d(t,\"Weird empty close tag.\"),t.textNode+=\"</>\",void(t.state=V.TEXT);if(t.script){if(\"script\"!==t.tagName)return t.script+=\"</\"+t.tagName+\">\",t.tagName=\"\",void(t.state=V.SCRIPT);p(t,\"onscript\",t.script),t.script=\"\"}var e=t.tags.length,a=t.tagName;t.strict||(a=a[t.looseCase]());for(var r=a;e--;){if(t.tags[e].name===r)break;d(t,\"Unexpected close tag\")}if(e<0)return d(t,\"Unmatched closing tag: \"+t.tagName),t.textNode+=\"</\"+t.tagName+\">\",void(t.state=V.TEXT);t.tagName=a;for(var n=t.tags.length;n-- >e;){var i=t.tag=t.tags.pop();t.tagName=t.tag.name,p(t,\"onclosetag\",t.tagName);var o={};for(var s in i.ns)o[s]=i.ns[s];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&i.ns!==c.ns&&Object.keys(i.ns).forEach(function(e){var a=i.ns[e];p(t,\"onclosenamespace\",{prefix:e,uri:a})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName=\"\",t.attribList.length=0,t.state=V.TEXT}function C(t){var e,a=t.entity,r=a.toLowerCase(),n=\"\";return t.ENTITIES[a]?t.ENTITIES[a]:t.ENTITIES[r]?t.ENTITIES[r]:(a=r,\"#\"===a.charAt(0)&&(\"x\"===a.charAt(1)?(a=a.slice(2),e=parseInt(a,16),n=e.toString(16)):(a=a.slice(1),e=parseInt(a,10),n=e.toString(10))),a=a.replace(/^0+/,\"\"),isNaN(e)||n.toLowerCase()!==a?(d(t,\"Invalid character entity\"),\"&\"+t.entity+\";\"):String.fromCodePoint(e))}function h(t,e){\"<\"===e?(t.state=V.OPEN_WAKA,t.startTagPosition=t.position):s(e)||(d(t,\"Non-whitespace before first tag.\"),t.textNode=e,t.state=V.TEXT)}function O(t,e){var a=\"\";return e<t.length&&(a=t.charAt(e)),a}function F(t){var e=this;if(this.error)throw this.error;if(e.closed)return N(e,\"Cannot write after close. Assign an onready handler.\");if(null===t)return _(e);\"object\"==typeof t&&(t=t.toString());for(var r=0,n=\"\";;){if(n=O(t,r++),e.c=n,!n)break;switch(e.trackPosition&&(e.position++,\"\\n\"===n?(e.line++,e.column=0):e.column++),e.state){case V.BEGIN:if(e.state=V.BEGIN_WHITESPACE,\"\\ufeff\"===n)continue;h(e,n);continue;case V.BEGIN_WHITESPACE:h(e,n);continue;case V.TEXT:if(e.sawRoot&&!e.closedRoot){for(var i=r-1;n&&\"<\"!==n&&\"&\"!==n;)(n=O(t,r++))&&e.trackPosition&&(e.position++,\"\\n\"===n?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(i,r-1)}\"<\"!==n||e.sawRoot&&e.closedRoot&&!e.strict?(s(n)||e.sawRoot&&!e.closedRoot||d(e,\"Text data outside of root node.\"),\"&\"===n?e.state=V.TEXT_ENTITY:e.textNode+=n):(e.state=V.OPEN_WAKA,e.startTagPosition=e.position);continue;case V.SCRIPT:\"<\"===n?e.state=V.SCRIPT_ENDING:e.script+=n;continue;case V.SCRIPT_ENDING:\"/\"===n?e.state=V.CLOSE_TAG:(e.script+=\"<\"+n,e.state=V.SCRIPT);continue;case V.OPEN_WAKA:if(\"!\"===n)e.state=V.SGML_DECL,e.sgmlDecl=\"\";else if(s(n))d(e,\"Unexpected whitespace after <\");else if(l(x,n))e.state=V.OPEN_TAG,e.tagName=n;else if(\"/\"===n)e.state=V.CLOSE_TAG,e.tagName=\"\";else if(\"?\"===n)e.state=V.PROC_INST,e.procInstName=e.procInstBody=\"\";else{if(d(e,\"Unencoded <\"),e.startTagPosition+1<e.position){var o=e.position-e.startTagPosition;n=new Array(o).join(\" \")+n}e.textNode+=\"<\"+n,e.state=V.TEXT}continue;case V.SGML_DECL:(e.sgmlDecl+n).toUpperCase()===R?(p(e,\"onopencdata\"),e.state=V.CDATA,e.sgmlDecl=\"\",e.cdata=\"\"):e.sgmlDecl+n===\"--\"?(e.state=V.COMMENT,e.comment=\"\",e.sgmlDecl=\"\"):(e.sgmlDecl+n).toUpperCase()===P?(e.state=V.DOCTYPE,(e.doctype||e.sawRoot)&&d(e,\"Inappropriately located doctype declaration\"),e.doctype=\"\",e.sgmlDecl=\"\"):\">\"===n?(p(e,\"onsgmldeclaration\",e.sgmlDecl),e.sgmlDecl=\"\",e.state=V.TEXT):c(n)?(e.state=V.SGML_DECL_QUOTED,e.sgmlDecl+=n):e.sgmlDecl+=n;continue;case V.SGML_DECL_QUOTED:n===e.q&&(e.state=V.SGML_DECL,e.q=\"\"),e.sgmlDecl+=n;continue;case V.DOCTYPE:\">\"===n?(e.state=V.TEXT,p(e,\"ondoctype\",e.doctype),e.doctype=!0):(e.doctype+=n,\"[\"===n?e.state=V.DOCTYPE_DTD:c(n)&&(e.state=V.DOCTYPE_QUOTED,e.q=n));continue;case V.DOCTYPE_QUOTED:e.doctype+=n,n===e.q&&(e.q=\"\",e.state=V.DOCTYPE);continue;case V.DOCTYPE_DTD:e.doctype+=n,\"]\"===n?e.state=V.DOCTYPE:c(n)&&(e.state=V.DOCTYPE_DTD_QUOTED,e.q=n);continue;case V.DOCTYPE_DTD_QUOTED:e.doctype+=n,n===e.q&&(e.state=V.DOCTYPE_DTD,e.q=\"\");continue;case V.COMMENT:\"-\"===n?e.state=V.COMMENT_ENDING:e.comment+=n;continue;case V.COMMENT_ENDING:\"-\"===n?(e.state=V.COMMENT_ENDED,e.comment=f(e.opt,e.comment),e.comment&&p(e,\"oncomment\",e.comment),e.comment=\"\"):(e.comment+=\"-\"+n,e.state=V.COMMENT);continue;case V.COMMENT_ENDED:\">\"!==n?(d(e,\"Malformed comment\"),e.comment+=\"--\"+n,e.state=V.COMMENT):e.state=V.TEXT;continue;case V.CDATA:\"]\"===n?e.state=V.CDATA_ENDING:e.cdata+=n;continue;case V.CDATA_ENDING:\"]\"===n?e.state=V.CDATA_ENDING_2:(e.cdata+=\"]\"+n,e.state=V.CDATA);continue;case V.CDATA_ENDING_2:\">\"===n?(e.cdata&&p(e,\"oncdata\",e.cdata),p(e,\"onclosecdata\"),e.cdata=\"\",e.state=V.TEXT):\"]\"===n?e.cdata+=\"]\":(e.cdata+=\"]]\"+n,e.state=V.CDATA);continue;case V.PROC_INST:\"?\"===n?e.state=V.PROC_INST_ENDING:s(n)?e.state=V.PROC_INST_BODY:e.procInstName+=n;continue;case V.PROC_INST_BODY:if(!e.procInstBody&&s(n))continue;\"?\"===n?e.state=V.PROC_INST_ENDING:e.procInstBody+=n;continue;case V.PROC_INST_ENDING:\">\"===n?(p(e,\"onprocessinginstruction\",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody=\"\",e.state=V.TEXT):(e.procInstBody+=\"?\"+n,e.state=V.PROC_INST_BODY);continue;case V.OPEN_TAG:l(w,n)?e.tagName+=n:(g(e),\">\"===n?D(e):\"/\"===n?e.state=V.OPEN_TAG_SLASH:(s(n)||d(e,\"Invalid character in tag name\"),e.state=V.ATTRIB));continue;case V.OPEN_TAG_SLASH:\">\"===n?(D(e,!0),b(e)):(d(e,\"Forward-slash in opening tag not followed by >\"),e.state=V.ATTRIB);continue;case V.ATTRIB:if(s(n))continue;\">\"===n?D(e):\"/\"===n?e.state=V.OPEN_TAG_SLASH:l(x,n)?(e.attribName=n,e.attribValue=\"\",e.state=V.ATTRIB_NAME):d(e,\"Invalid attribute name\");continue;case V.ATTRIB_NAME:\"=\"===n?e.state=V.ATTRIB_VALUE:\">\"===n?(d(e,\"Attribute without value\"),e.attribValue=e.attribName,I(e),D(e)):s(n)?e.state=V.ATTRIB_NAME_SAW_WHITE:l(w,n)?e.attribName+=n:d(e,\"Invalid attribute name\");continue;case V.ATTRIB_NAME_SAW_WHITE:if(\"=\"===n)e.state=V.ATTRIB_VALUE;else{if(s(n))continue;d(e,\"Attribute without value\"),e.tag.attributes[e.attribName]=\"\",e.attribValue=\"\",p(e,\"onattribute\",{name:e.attribName,value:\"\"}),e.attribName=\"\",\">\"===n?D(e):l(x,n)?(e.attribName=n,e.state=V.ATTRIB_NAME):(d(e,\"Invalid attribute name\"),e.state=V.ATTRIB)}continue;case V.ATTRIB_VALUE:if(s(n))continue;c(n)?(e.q=n,e.state=V.ATTRIB_VALUE_QUOTED):(d(e,\"Unquoted attribute value\"),e.state=V.ATTRIB_VALUE_UNQUOTED,e.attribValue=n);continue;case V.ATTRIB_VALUE_QUOTED:if(n!==e.q){\"&\"===n?e.state=V.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=n;continue}I(e),e.q=\"\",e.state=V.ATTRIB_VALUE_CLOSED;continue;case V.ATTRIB_VALUE_CLOSED:s(n)?e.state=V.ATTRIB:\">\"===n?D(e):\"/\"===n?e.state=V.OPEN_TAG_SLASH:l(x,n)?(d(e,\"No whitespace between attributes\"),e.attribName=n,e.attribValue=\"\",e.state=V.ATTRIB_NAME):d(e,\"Invalid attribute name\");continue;case V.ATTRIB_VALUE_UNQUOTED:if(!u(n)){\"&\"===n?e.state=V.ATTRIB_VALUE_ENTITY_U:e.attribValue+=n;continue}I(e),\">\"===n?D(e):e.state=V.ATTRIB;continue;case V.CLOSE_TAG:if(e.tagName)\">\"===n?b(e):l(w,n)?e.tagName+=n:e.script?(e.script+=\"</\"+e.tagName,e.tagName=\"\",e.state=V.SCRIPT):(s(n)||d(e,\"Invalid tagname in closing tag\"),e.state=V.CLOSE_TAG_SAW_WHITE);else{if(s(n))continue;T(x,n)?e.script?(e.script+=\"</\"+n,e.state=V.SCRIPT):d(e,\"Invalid tagname in closing tag.\"):e.tagName=n}continue;case V.CLOSE_TAG_SAW_WHITE:if(s(n))continue;\">\"===n?b(e):d(e,\"Invalid characters in closing tag\");continue;case V.TEXT_ENTITY:case V.ATTRIB_VALUE_ENTITY_Q:case V.ATTRIB_VALUE_ENTITY_U:var E,m;switch(e.state){case V.TEXT_ENTITY:E=V.TEXT,m=\"textNode\";break;case V.ATTRIB_VALUE_ENTITY_Q:E=V.ATTRIB_VALUE_QUOTED,m=\"attribValue\";break;case V.ATTRIB_VALUE_ENTITY_U:E=V.ATTRIB_VALUE_UNQUOTED,m=\"attribValue\"}\";\"===n?(e[m]+=C(e),e.entity=\"\",e.state=E):l(e.entity.length?G:M,n)?e.entity+=n:(d(e,\"Invalid character in entity name\"),e[m]+=\"&\"+e.entity+n,e.entity=\"\",e.state=E);continue;default:throw new Error(e,\"Unknown state: \"+e.state)}}return e.position>=e.bufferCheckPosition&&a(e),e}t.parser=function(t,a){return new e(t,a)},t.SAXParser=e,t.SAXStream=o,t.createStream=i,t.MAX_BUFFER_LENGTH=65536;var S=[\"comment\",\"sgmlDecl\",\"textNode\",\"tagName\",\"doctype\",\"procInstName\",\"procInstBody\",\"entity\",\"attribName\",\"attribValue\",\"cdata\",\"script\"];t.EVENTS=[\"text\",\"processinginstruction\",\"sgmldeclaration\",\"doctype\",\"comment\",\"opentagstart\",\"attribute\",\"opentag\",\"closetag\",\"opencdata\",\"cdata\",\"closecdata\",\"error\",\"end\",\"ready\",\"script\",\"opennamespace\",\"closenamespace\"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push(a);return e}),e.prototype={end:function(){_(this)},write:F,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){n(this)}};var v;try{v=require(\"stream\").Stream}catch(t){v=function(){}}var y=t.EVENTS.filter(function(t){return\"error\"!==t&&\"end\"!==t});o.prototype=Object.create(v.prototype,{constructor:{value:o}}),o.prototype.write=function(t){if(\"function\"==typeof Buffer&&\"function\"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var e=require(\"string_decoder\").StringDecoder;this._decoder=new e(\"utf8\")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit(\"data\",t),!0},o.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},o.prototype.on=function(t,e){var a=this;return a._parser[\"on\"+t]||-1===y.indexOf(t)||(a._parser[\"on\"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),a.emit.apply(a,e)}),v.prototype.on.call(a,t,e)};var R=\"[CDATA[\",P=\"DOCTYPE\",L=\"http://www.w3.org/XML/1998/namespace\",U=\"http://www.w3.org/2000/xmlns/\",B={xml:L,xmlns:U},x=/[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/,w=/[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/,M=/[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/,G=/[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/,V=0;t.STATE={BEGIN:V++,BEGIN_WHITESPACE:V++,TEXT:V++,TEXT_ENTITY:V++,OPEN_WAKA:V++,SGML_DECL:V++,SGML_DECL_QUOTED:V++,DOCTYPE:V++,DOCTYPE_QUOTED:V++,DOCTYPE_DTD:V++,DOCTYPE_DTD_QUOTED:V++,COMMENT_STARTING:V++,COMMENT:V++,COMMENT_ENDING:V++,COMMENT_ENDED:V++,CDATA:V++,CDATA_ENDING:V++,CDATA_ENDING_2:V++,PROC_INST:V++,PROC_INST_BODY:V++,PROC_INST_ENDING:V++,OPEN_TAG:V++,OPEN_TAG_SLASH:V++,ATTRIB:V++,ATTRIB_NAME:V++,ATTRIB_NAME_SAW_WHITE:V++,ATTRIB_VALUE:V++,ATTRIB_VALUE_QUOTED:V++,ATTRIB_VALUE_CLOSED:V++,ATTRIB_VALUE_UNQUOTED:V++,ATTRIB_VALUE_ENTITY_Q:V++,ATTRIB_VALUE_ENTITY_U:V++,CLOSE_TAG:V++,CLOSE_TAG_SAW_WHITE:V++,SCRIPT:V++,SCRIPT_ENDING:V++},t.XML_ENTITIES={amp:\"&\",gt:\">\",lt:\"<\",quot:'\"',apos:\"'\"},t.ENTITIES={amp:\"&\",gt:\">\",lt:\"<\",quot:'\"',apos:\"'\",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var a=t.ENTITIES[e],r=\"number\"==typeof a?String.fromCharCode(a):a;t.ENTITIES[e]=r});for(var Y in t.STATE)t.STATE[t.STATE[Y]]=Y;V=t.STATE,String.fromCodePoint||function(){var t=String.fromCharCode,e=Math.floor,a=function(){var a,r,n=[],i=-1,o=arguments.length;if(!o)return\"\";for(var s=\"\";++i<o;){var c=Number(arguments[i]);if(!isFinite(c)||c<0||c>1114111||e(c)!==c)throw RangeError(\"Invalid code point: \"+c);c<=65535?n.push(c):(c-=65536,a=55296+(c>>10),r=c%1024+56320,n.push(a,r)),(i+1===o||n.length>16384)&&(s+=t.apply(null,n),n.length=0)}return s};Object.defineProperty?Object.defineProperty(String,\"fromCodePoint\",{value:a,configurable:!0,writable:!0}):String.fromCodePoint=a}()}(\"undefined\"==typeof exports?this.sax={}:exports),onmessage=function(t){var e=sax.parser(!0),a=[];e.onerror=function(t){a.push({row:e.line,text:t.message.split(\"\\n\")[0],type:\"error\"})};try{e.write(t.data).close()}catch(t){}postMessage({errors:a})};",
	"sas/hc/ui/commons/codeEditor/SettingDialog.js": "// (c) 2017, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"jquery.sap.sjax\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sas/hc/m/Button\",\"sas/hc/m/CheckBox\",\"sas/hc/ui/core/Item\",\"sas/hc/ui/core/InvisibleText\",\"sas/hc/m/Dialog\",\"sas/hc/ui/commons/formControl/Group\",\"sas/hc/ui/commons/formControl/Field\",\"sas/hc/ui/commons/formControl/views/FieldLayoutData\",\"sas/hc/ui/commons/formControl/uiconfig/ClassInstanceUIConfig\",\"sas/hc/ui/commons/codeEditor/CodeEditor\",\"sas/hc/m/RangeValidationAdapter\",\"sas/hc/m/colorpicker/ColorPicker\",\"./Utils\",\"./ThemeMgr\",\"sas/hc/m/FlexBox\",\"sas/hc/ui/layout/form/Form\",\"sas/hc/ui/layout/form/ResponsiveGridLayout\",\"sas/hc/ui/layout/form/FormElement\",\"sas/hc/ui/layout/form/FormContainer\",\"sas/hc/m/Input\",\"sas/hc/m/Label\",\"sas/hc/m/Select\",\"sap/ui/layout/GridData\",\"sas/hc/m/fontChooser/FontChooser\",\"sas/hc/ui/commons/formControl/FormControl\",\"sas/hc/m/MessageDialog\",\"sap/m/library\",\"sap/ui/core/library\",\"sap/ui/commons/library\",\"sas/hc/m/FlexItemData\"],function(e,t,n,a,i,s,o,r,l,c,g,h,u,d,p,m,_,f,b,S,y,x,C,v,w,T,k,E,B,P,D,L,V,F){\"use strict\";var I=l.extend(\"sas.hc.ui.commons.codeEditor.SettingDialog\",{metadata:{library:\"sas.hc.ui.commons.codeEditor\",events:{save:{}}},renderer:{},constructor:function(t,n,a){var i=this;this.themeMgr=f.getInstance();var s=function(e){i.dataReady||(i._initThemeData(),i.dataReady=!0)};e(this.themeMgr).on(\"themeDataReady\",s),this.themeMgr&&this.themeMgr.isDataReady()&&this.themeMgr.resetThemeData(),this.openTime=1,this.rb=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\");var o=void 0===t.title?this.rb.getText(\"ce_setting_dialog_Title_txt\"):t.title;l.apply(this,[{title:o,contentWidth:\"66rem\",contentHeight:\"49rem\",horizontalScrolling:!0,verticalScrolling:!0}]);var r=function(e){e.syntaxStyleVisible=void 0===e.syntaxStyleVisible||e.syntaxStyleVisible};r(t),r(n),this._splitLanguages(a,t,n),this.appearanceControls={},this.settings=t,this.defaultSettings=n},_prepareFontFamilies:function(){var e=function(e,t){return t||(t=e),new o({key:e,text:t})};return function(){var e=navigator.platform;return\"Mac68K\"===e||\"MacPPC\"===e||\"Macintosh\"===e||\"MacIntel\"===e}()?[e(\"Andale Mono\"),e(\"Consolas\"),e(\"Courier New\"),e(\"Menlo\"),e(\"PT Mono\")]:[e(\"Consolas\"),e(\"Courier New\"),e(\"Lucida Sans Typewriter\")]},_createEditor:function(e){var t=this.getId()+\"_settingDialog-sampleCode-editor_\"+this.openTime+\"_\"+e,n=new d(t,{content:\"\",height:\"10rem\",readOnly:!0,hintEnabled:!1,foldingEnabled:!1,autoCompleteEnabled:!1,langMode:e});n.getContextMenu().removeAllItems();var a=this._getLanguageSettings(e);return a&&n.setFontFamily(a.fontFamily),n},_getSupportedLanguages:function(){return this.languages.supported},_checkLanguages:function(){var e=this.languages.unsupported,t=\"\";$.each(e,function(e,n){t+=n+\" \"}),t.length>0&&sas.log.warning(t+\"cannot be supported now!\")},_isSupported:function(e){return void 0!==this._getSupportedLanguages()[e]},_getText:function(e){return this.rb.getText(e)},_createGeneralGroup:function(){var e=this,t=this.settings,n=this._isSupported(\"sas\"),a=n&&1===e._getKeys(this._getSupportedLanguages()).length,i=function(e){return n&&!a?e.replace(\"_txt\",\"_all_txt\"):e};e.autocomplete=new s({text:e.rb.getText(\"ce_setting_dialog_Autocomplete_txt\"),selected:t.autoCompleteEnabled}),e.blockComments=new s({text:e.rb.getText(\"ce_setting_dialog_BlockComments_txt\"),selected:t.blockCommentsEnabled});var o=new g({uiConfig:new u({generator:function(t){var n=new b({direction:\"Column\",items:[e.autocomplete]}),a=new S({layout:new y({breakpointM:475}),formContainers:[new C({title:e.rb.getText(\"ce_setting_dialog_EditingOptions_sas_txt\"),formElements:[new x({fields:[n]})]})]}).addStyleClass(\"sasUiFormNoVerticalSpacing sasUiFormContainerTitleNoTopPadding\");return a.attachValueChange=function(e){},a}})}),l=new g({uiConfig:new u({generator:function(o){e.indent=new s({text:e.rb.getText(\"ce_setting_dialog_Indent_txt\"),selected:t.indentEnabled}),e.overtype=new s({text:e.rb.getText(\"ce_setting_dialog_Overtype_txt\"),selected:t.overtypeEnabled}),e.pairQuotations=new s({text:e.rb.getText(\"ce_setting_dialog_PairQuotations_txt\"),selected:t.pairQuotations}),t.pairBrackets=t.pairParentheses||t.pairBraces||t.pairSquareBrackets||t.pairAngleBrackets;var l=new r({text:e.rb.getText(\"ce_setting_dialog_PairBracketsLabel_txt\")});e.pairBrackets=new s({text:e.rb.getText(\"ce_setting_dialog_PairBrackets_txt\"),selected:t.pairBrackets,select:function(t){var n=t.getParameter(\"selected\");e._enableBracketsControls(n)},ariaLabelledBy:l});var c=new r({text:e.rb.getText(\"ce_setting_dialog_PairParenthesesLabel_txt\")});e.pairParentheses=new s({text:e.rb.getText(\"ce_setting_dialog_PairParentheses_txt\"),selected:t.pairParentheses,enabled:t.pairBrackets,ariaLabelledBy:c});var g=new r({text:e.rb.getText(\"ce_setting_dialog_PairBracesLabel_txt\")});e.pairBraces=new s({text:e.rb.getText(\"ce_setting_dialog_PairBraces_txt\"),selected:t.pairBraces,enabled:t.pairBrackets,ariaLabelledBy:g});var h=new r({text:e.rb.getText(\"ce_setting_dialog_PairSquareBracketsLabel_txt\")});e.pairSquareBrackets=new s({text:e.rb.getText(\"ce_setting_dialog_PairSquareBrackets_txt\"),selected:t.pairSquareBrackets,enabled:t.pairBrackets,ariaLabelledBy:h});var u=new r({text:e.rb.getText(\"ce_setting_dialog_PairAngleBracketsLabel_txt\")});e.pairAngleBrackets=new s({text:e.rb.getText(\"ce_setting_dialog_PairAngleBrackets_txt\"),selected:t.pairAngleBrackets,enabled:t.pairBrackets,ariaLabelledBy:u}),e.matchingBrackets=new s({text:e.rb.getText(\"ce_setting_dialog_MatchingBrackets_txt\"),selected:t.matchingBrackets}),e.allowPlainTextOnly=new s({text:e.rb.getText(\"ce_setting_dialog_AllowPlainTextOnly_txt\"),selected:t.allowPlainTextOnly});var d=new S({layout:new y({breakpointM:600}),formContainers:[new C({formElements:[new x({fields:[e.pairParentheses,e.pairBraces,e.pairSquareBrackets,e.pairAngleBrackets]})]})]}).addStyleClass(\"sasUiFormControlDependency\"),p=[e.indent,e.blockComments,e.overtype,e.pairQuotations,e.matchingBrackets],m=[e.pairBrackets,d,e.allowPlainTextOnly,l,c,g,h,u];a&&p.unshift(e.autocomplete);var _=new b({direction:\"Column\",items:p}),f=new b({direction:\"Column\",items:m}),v=new S({layout:new y({breakpointM:475}),formContainers:[new C({title:e._getText(i(\"ce_setting_dialog_EditingOptions_txt\")),formElements:[new x({fields:[_,f]})]})]});return n&&!a?v.addStyleClass(\"sasUiFormNoVerticalSpacing\"):v.addStyleClass(\"sasUiFormNoVerticalSpacing sasUiFormContainerTitleNoTopPadding\"),v.attachValueChange=function(e){},v}})}),h=new g({uiConfig:new u({generator:function(n){e.codeFolding=new s({text:e.rb.getText(\"ce_setting_dialog_CodeFolding_txt\"),selected:t.foldingEnabled}),e.lineHighlighting=new s({text:e.rb.getText(\"ce_setting_dialog_LineHighlighting_txt\"),selected:t.lineHighlightingVisible}),e.indentGuides=new s({text:e.rb.getText(\"ce_setting_dialog_IndentGuides_txt\"),selected:t.indentGuidesVisible}),e.lineLengthGuide=new s({text:e.rb.getText(\"ce_setting_dialog_LineLengthGuide_txt\"),selected:t.lineLengthGuideVisible,select:function(){var t=this.getSelected();e.columnPosInput.setEnabled(t),t&&e.columnPosInput.performValidation()}});var a=new r({text:e.rb.getText(\"ce_setting_dialog_ColumnPosLabel_txt\")});e.columnPosInput=new v({label:e.rb.getText(\"ce_setting_dialog_ColumnPos_txt\"),labelWidth:\"auto\",value:t.lineLengthGuideColumn,allowIntegerOnly:!0,type:D.InputType.Number,textAlign:L.TextAlign.Center,ariaLabelledBy:a,required:!0,enabled:t.lineLengthGuideVisible}).addStyleClass(\"sasCodeEditorSettingsDialogSpaceNumInput sapUiSmallMarginBottom\");var o=new p({minValue:1,maxValue:1e3,inclusive:!0});e.columnPosInput.setValidator(o);var l=new S({layout:new y({breakpointM:600}),formContainers:[new C({formElements:[new x({fields:[e.columnPosInput,a]})]})]}).addStyleClass(\"sasUiFormControlDependency\");e.invisibleChars=new s({text:e.rb.getText(\"ce_setting_dialog_InvisibleChars_txt\"),selected:t.invisibleCharsVisible}),e.showLineNumber=new s({text:e.rb.getText(\"ce_setting_dialog_LineNumbers_show_txt\"),selected:t.lineNumberVisible}),e.printLineNumber=new s({text:e.rb.getText(\"ce_setting_dialog_LineNumbers_print_txt\"),selected:t.printLineNumber}),e.wordWrap=new s({text:e.rb.getText(\"ce_setting_dialog_WordWrap_txt\"),selected:t.wordWrapEnabled});var c=new b({direction:\"Column\",items:[e.codeFolding,e.lineHighlighting,e.indentGuides,e.lineLengthGuide,l]}),g=new b({direction:\"Column\",items:[e.invisibleChars,e.showLineNumber,e.printLineNumber,e.wordWrap]}),h=new S({layout:new y({breakpointM:475}),formContainers:[new C({title:e._getText(i(\"ce_setting_dialog_DisplayOptions_txt\")),formElements:[new x({fields:[c,g]})]})]}).addStyleClass(\"sasUiFormNoVerticalSpacing\");return h.attachValueChange=function(e){},h.getFocusDomRef=function(){return e.columnPosInput.getFocusDomRef()},h}})});h.getValueValid=function(){return e.columnPosInput.performValidation(),!e.columnPosInput.getEnabled()||e.columnPosInput.getValueState()===L.ValueState.None};var d=new g({uiConfig:new u({generator:function(n){e.spaceNumberInput=new v({label:e.rb.getText(\"ce_setting_dialog_spaces_txt\"),labelWidth:\"auto\",value:t.tabSize,type:D.InputType.Number,textAlign:L.TextAlign.Center,required:!0}).addStyleClass(\"sasCodeEditorSettingsDialogSpaceNumInput\");var a=new p({minValue:1,maxValue:25,inclusive:!0});e.spaceNumberInput.setValidator(a),e.spaceTab=new s({text:e.rb.getText(\"ce_setting_dialog_SpacesTabs_txt\"),selected:t.tabAsSpace});var o=new S({layout:new y({breakpointM:475}),formContainers:[new C({title:e._getText(i(\"ce_setting_dialog_TabOptions_txt\")),formElements:[new x({fields:[e.spaceNumberInput,e.spaceTab]})]})]});return o.attachValueChange=function(e){},e.spaceNumberInput.setValueState=function(e){d.setValueState(e),Object.getPrototypeOf(this).setValueState.apply(this,arguments)},d.validate=e.spaceNumberInput.performValidation.bind(e.spaceNumberInput),o.getFocusDomRef=function(){return e.spaceNumberInput.getFocusDomRef()},o}}),validator:{required:!0}}),m=[o,l,h,d];n&&!a||m.shift();var _=new c({label:e.rb.getText(\"ce_setting_dialog_General_txt\"),fields:m});return _.resetToDefaults=function(){c.prototype.resetToDefaults&&c.prototype.resetToDefaults.apply(this,arguments),e._resetGeneralSettings(e.defaultSettings),e._resetGeneralUI(e.defaultSettings)},_},_createAppearanceGroup:function(e){var t=this,n=this._getAppearanceSettings(this.settings)[e],a=this._getAppearanceSettings(this.defaultSettings)[e],i=this.appearanceControls,s=i[e]={},r=function(e,t){s[e]=t},l=this._createEditor(e);r(\"editor\",l);var p=function(){var e=t._getThemeList(),n=[{key:\"none\",text:t._getText(\"ce_setting_dialog_theme_none_txt\")}];return $.each(e,function(e,a){var i=t._getText(\"ce_setting_dialog_theme_\"+a+\"_txt\"),s={key:a,text:i};n.push(s)}),n}(),_=new g({label:t.rb.getText(\"ce_setting_dialog_SyntaxTheme_txt\"),labelAlignment:\"left\",value:n.theme,defaultValue:a.theme,dataProvider:p,layoutData:new h({controlSpanS:12,labelSpanS:12,labelSpanM:3})});_.attachValueChange(function(n){var a=n.getParameters(),i=a.newValue;t._changeAppearanceSettings({theme:i}),t._enableTheme(\"none\"!==i,e),\"none\"!==i&&(t._initThemeBackgroundColorPicker(e),t._initFirstElementStyles(e),t._addTheme()),l.setTheme(i),t._applyTheme()}),r(\"syntaxThemeField\",_);var f=new g({label:t.rb.getText(\"ce_setting_dialog_Font_txt\"),uiConfig:new u({generator:function(a){var i=t._prepareFontFamilies(),s=[new o({key:\"6\",text:\"6\"}),new o({key:\"8\",text:\"8\"}),new o({key:\"10\",text:\"10\"}),new o({key:\"11\",text:\"11\"}),new o({key:\"12\",text:\"12\"}),new o({key:\"14\",text:\"14\"}),new o({key:\"16\",text:\"16\"}),new o({key:\"18\",text:\"18\"}),new o({key:\"20\",text:\"20\"}),new o({key:\"22\",text:\"22\"}),new o({key:\"24\",text:\"24\"}),new o({key:\"28\",text:\"28\"})],c=t.getId()+\"_fontSize-select-\"+t.openTime+\"-\"+e,g={id:c,text:t.rb.getText(\"ce_setting_dialog_Font_txt\")},h=new T({items:s,selectedKey:n.fontSize});h.attachChange(function(e){if(t._getSyntaxStyleVisible()){var n=parseInt(this.getSelectedItem().getKey());t._changeAppearanceSettings({fontSize:n}),l.setFontSize(n)}},this),r(\"fontSize\",h),g.onAfterRendering=function(){w.prototype.onAfterRendering&&w.prototype.onAfterRendering.apply(this,arguments),this.$().css(\"display\",\"none\")};var u=new T({items:i,selectedKey:n.fontFamily,ariaLabelledBy:c}).addStyleClass(\"sasUiFormHalfMarginRight\");u.attachChange(function(e){if(t._getSyntaxStyleVisible()){var n=this.getSelectedItem().getKey();t._changeAppearanceSettings({fontFamily:n}),t._updateTheme()}},this),r(\"fontFamily\",u);var d=new b({items:[u,g,h]});return d.attachValueChange=function(e){},d}}),layoutData:new h({controlSpanS:12,labelSpanS:12,labelSpanM:3})}),v=new g({label:t.rb.getText(\"ce_setting_dialog_ColorCoding_txt\"),value:n.syntaxHighlighting,defaultValue:a.syntaxHighlighting,type:g.BOOLEAN_TYPE,selectionType:\"multiple\"});v.attachValueChange(function(n){var a=n.getParameters(),i=a.newValue;t._changeAppearanceSettings({syntaxHighlighting:i}),t._enableSyntaxStyles(e),t.themeMgr.addThemes(t._getThemeData(\"preview\")),t._applyTheme()}),r(\"syntaxHighlighting\",v);var B=[new g({label:t.rb.getText(\"ce_setting_dialog_ThemeBackground_txt\"),uiConfig:new u({generator:function(n){var a=new m({showNoColor:!1,layoutData:new k({spanM:9,spanS:12})});return a.attachColorChange(function(n){t._changeThemeBackgroundColor(t._getLanguageSettings(e).theme,e,n.getParameter(\"newValue\"))}),r(\"themeBackGroundColorPicker\",a),t._initThemeBackgroundColorPicker(e),a.attachValueChange=function(e){},a}}),layoutData:new h({controlSpanS:12,labelSpanS:12,labelSpanM:3})}),v,new g({uiConfig:new u({generator:function(e){var n=new T;n.attachChange(function(e){t._setStylesForElement(this.getSelectedItem().getKey(),t._getElementStyleFields(),t.languageSelected)},this),r(\"elements\",n);var a=new w({text:t.rb.getText(\"ce_setting_dialog_ElementName_txt\"),layoutData:new k({spanM:3,spanS:12})}).addStyleClass(\"sasUiFormElementLabel\");r(\"elementLabel\",a);var i=new b({items:[n],layoutData:new k({spanM:9,spanS:12})}),s=new S({layout:new y({breakpointM:600}),formContainers:[new C({formElements:[new x({fields:[a,i]})]})]}).addStyleClass(\"sasUiFormControlDependency\");return s.attachValueChange=function(e){},s}})}),new g({uiConfig:new u({generator:function(e){var n=new m({showNoColor:!1,layoutData:new F({shrinkFactor:0,minWidth:\"calc(1.5rem + 1px)\"})});n.attachColorChange(function(e){var n=e.getParameter(\"newValue\");t._changeElementTheme({color:n})}),r(\"fontColorPicker\",n);var a=new E({formatting:{isItalic:\"none\",isBold:\"normal\",isUnderLine:\"none\"},showBoldButton:!0,showItalicButton:!0,showUnderLineButton:!0,showColorPicker:!1,showAlignmentButton:!1,showFontFamily:!1,showFontSize:!1,previewText:\"\",showPreview:!1}).addStyleClass(\"sasCodeEditorSettingsDialogFontChooser\");a.attachValueCommit(function(e){if(t._getElementThemeData()){var n=e.getParameters();n&&n&&t._changeElementTheme({\"font-weight\":n.isBold,\"font-style\":n.isItalic,\"text-decoration\":n.isUnderLine})}}),r(\"fontChooser\",a);var i=new w({text:t.rb.getText(\"ce_setting_dialog_TextStyle_txt\"),layoutData:new k({spanM:3,spanS:12})}).addStyleClass(\"sasUiFormElementLabel\");r(\"textStyleLabel\",i);var s=new b({items:[n,a],layoutData:new k({spanM:9,spanS:12})}),o=new S({layout:new y({breakpointM:600}),formContainers:[new C({formElements:[new x({fields:[i,s]})]})]}).addStyleClass(\"sasUiFormControlDependency\");return o.attachValueChange=function(e){},o}})}),new g({uiConfig:new u({generator:function(e){var n=new m({showNoColor:!1,showAutomaticColor:!0,layoutData:new k({spanM:9,spanS:12})});n.attachColorChange(function(e){var n=e.getParameter(\"newValue\");t._changeElementTheme({\"background-color\":n})}),r(\"backGroundColorPicker\",n);var a=new w({text:t.rb.getText(\"ce_setting_dialog_Background_txt\"),layoutData:new k({spanM:3,spanS:12})}).addStyleClass(\"sasUiFormElementLabel\");r(\"backgroundColorLabel\",a);var i=new S({layout:new y({breakpointM:600}),formContainers:[new C({formElements:[new x({fields:[a,n]})]})]}).addStyleClass(\"sasUiFormControlDependency\");return i.attachValueChange=function(e){},i}})}),function(){return new g({label:t.rb.getText(\"ce_setting_dialog_Preview_txt\"),uiConfig:new u({generator:function(e){return l.onAfterRendering=function(){d.prototype.onAfterRendering&&d.prototype.onAfterRendering.apply(this,arguments);var e=t._getLanguageSettings();this.setTheme(e.theme),this.setFontSize(e.fontSize),t._updateTheme()},l.attachValueChange=function(e){},l}}),height:\"10rem\",layoutData:new h({controlSpanM:12,controlSpanS:12,labelSpanM:12,labelSpanS:12})})}()],P=[f];this._getSyntaxStyleVisible()&&(P.unshift(_),P=P.concat(B));var D=\"ce_setting_dialog_Appearance_\"+e+\"_txt\",L=new c({label:t.rb.getText(D),fields:P});return L._editor=l,L._language=e,L.resetToDefaults=function(){if(c.prototype.resetToDefaults&&c.prototype.resetToDefaults.apply(this,arguments),t._getSyntaxStyleVisible()){var e=this._language;t._resetAppearanceSettings(t.defaultSettings,e),t._resetThemeData(t.defaultThemeData,e),t._resetAppearanceUI(e),t._updateTheme()}},L},_recoverInvalidField:function(){this.spaceNumberInput.getValueState()!==L.ValueState.None&&(this.spaceNumberInput.setValue(this.settings.tabSize),this.spaceNumberInput.setValueState(L.ValueState.None)),this.columnPosInput.getEnabled()&&this.columnPosInput.getValueState()!==L.ValueState.None&&(this.columnPosInput.setValue(this.settings.lineLengthGuideColumn),this.columnPosInput.setValueState(L.ValueState.None))},_createUI:function(){this.removeContent(0);var e=this._createGeneralGroup(),t=[e],n=this._getSupportedLanguages(),a=this;$.each(n,function(e,n){var i=a._createAppearanceGroup(e);t.push(i)}),this.formControl=new B({splitterPosition:\"256px\",actionPlacement:V.layout.HAlign.End,displayHeader:!1,labelAlignment:\"left\",width:\"100%\",height:\"100%\",defaultGroup:e,rootGroup:new c({groups:t})}),this.formControl.attachGroupSelected(function(e){var t=e.getParameters().group;if(t&&t._editor){var n=t._editor,i=t._language;\"\"===n.getText()&&sas.ajax({url:sap.ui.require.toUrl(\"sas/hc/ui/commons/codeEditor/sampleCode/\"+i+\".\"+i),dataType:\"text\"}).done(function(e){n.setText(e)}),a.languageSelected=i,a._initFirstElementStyles(i);var s=a._getLanguageSettings(i);a._enableTheme(\"none\"!==s.theme,i),a._recoverInvalidField()}}),this.addContent(this.formControl)},_getLanguageSettings:function(e){return e=e||this.languageSelected,this._getAppearanceSettings()[e]},_getElementsProperty:function(e){return e.elements},_getOptionsProperty:function(e){return e.options},_enableSyntaxStyles:function(e){var t=this.appearanceControls[e],n=this._getLanguageSettings(e),a=\"none\"!==n.theme&&n.syntaxHighlighting;t.elements.setEnabled(a),t.fontColorPicker.setEnabled(a),t.fontChooser.getAggregation(\"boldButton\").setEnabled(a),t.fontChooser.getAggregation(\"italicButton\").setEnabled(a),t.fontChooser.getAggregation(\"underLineButton\").setEnabled(a),t.backGroundColorPicker.setEnabled(a),t.elementLabel.setEnabled(a),t.textStyleLabel.setEnabled(a),t.backgroundColorLabel.setEnabled(a),t.editor.setSyntaxHighlighting(n.syntaxHighlighting)},_enableTheme:function(e,t){this.appearanceControls[t].themeBackGroundColorPicker.setEnabled(e),this._enableSyntaxStyles(t)},_getSyntaxStyleVisible:function(){return this.settings.syntaxStyleVisible},_processElementColor:function(e){var t=this.defaultColorMap,n=this.themeMgr.getElements(),a=this._getKeys(e),i=this;$.each(n,function(n,s){var o=i._getElementsProperty(s);$.each(o,function(s,o){var r=o.use;r&&$.each(a,function(a,o){var l=i._getElementsProperty(e[o]),c=l[n];if(c){var g=c[s];if(g){var h=t[o][n];$.each(r,function(e,t){!g[t]&&h&&(g[t]=h[t])})}}})})})},_initDefaultColorMap:function(){var e=function(e,t){var n=e[t];return n||(n={},e[t]=n),n},t={},n=this,a=this.themeMgr;$.each(this.defaultThemeData,function(i,s){var o=e(t,i),r=n._getElementsProperty(s),l=n.defaultThemeData[i],c=n._getElementsProperty(l);$.each(r,function(t,n){var i=e(o,t);i[\"background-color\"]=l[\"background-color\"];var s=a.getDefault(t);$.each(s,function(e,n){var a=c[t][n];a&&(i[e]=a[e])})})}),this.defaultColorMap=t},_initColor:function(){this._initDefaultColorMap(),this._processElementColor(this.themeData),this._processElementColor(this.defaultThemeData)},_initThemeData:function(){this.themeData=this.themeMgr.getThemeData(),this.defaultThemeData=this.themeMgr.getDefaultThemeData(),this._initColor()},_getElementStyleFields:function(e){e||(e=this.languageSelected);var t=this.appearanceControls[e];return{elementName:t.elements,fontStyle:t.fontChooser,backgroundColor:t.backGroundColorPicker,foregroundColor:t.fontColorPicker}},_addTheme:function(){var e={},t=this;$.each(this._getThemeData(),function(t,n){e[t+\"_preview\"]=n}),this.themeMgr.addThemes(e);var n=this._getSupportedLanguages();n&&$.each(n,function(e,n){var a=t._getLanguageSettings(e).fontFamily;t.themeMgr.addFontTheme(e+\"_preview\",a)})},_applyTheme:function(){var e=this.appearanceControls,t=this,n=this._getAppearanceSettings();$.each(e,function(e,a){var i=a.editor;if(i){var s=i.$().find(\".sce\");if(s.length>0){var o=n[e].theme;$.each(t.themeData,function(e,t){var n=\"sce-\"+e;s.removeClass(n),s.removeClass(\"sce-\"+e+\"_preview\")}),s.addClass(\"sce-\"+o+\"_preview\");var r=\"sce-\"+e+\"_preview\";s.removeClass(r),s.addClass(r)}}})},_updateTheme:function(){this._addTheme(),this._applyTheme()},_getElements:function(e,t){return t?this._getElementsProperty(t)[e]:t},_getThemeDataByName:function(e,t){return t?this.defaultThemeData[e]:this.themeData[e]},_getElement:function(e,t,n,a){var i=this._getElements(e,this._getThemeDataByName(t,a));return i?i[n]:i},_getAutomaticColor:function(e,t,n){if(n)return{hex:m.NO_COLOR};var a=e?_.isHex(e)?e:_.rgbToHex(e):\"\";return{hex:a,ariaLabel:t.findAriaLabel(a),tooltip:t.findToolTip(a)}},_setStylesForElement:function(e,t,n){var a=this,i=t.foregroundColor,s=t.backgroundColor,o=function(e,t){var n=a._getThemeDataByName(e);return n?n[t]:n},r=function(e,t,i){var s=a._getElement(n,e,t,i),r=s?s[\"background-color\"]:s;return r||(r=_.rgbToHex(o(e,\"background-color\"))),r},l=function(e,t,i){var s=a._getElement(n,e,t,i),r=s?s.color:s;return r||(\"dark\"===e?r=o(\"light\",\"background-color\"):\"light\"===g&&(r=o(\"dark\",\"background-color\"))),_.rgbToHex(r)},c=function(e,t,n,o){var c=n?r(e,t,!0):l(e,t,!0);return a._getAutomaticColor(c,n?s:i,o)},g=this._getLanguageSettings(n).theme;t.fontStyle.setFormatting(function(e,t){var i,s=a._getElement(n,e,t);if(s){var o=s[\"font-weight\"];o=o?\"600\"===o?\"bold\":o:\"normal\",i={isBold:o,isItalic:s[\"font-style\"]?s[\"font-style\"]:\"none\",isUnderLine:s[\"text-decoration\"]?s[\"text-decoration\"]:\"none\"}}else i={isBold:\"normal\",isItalic:\"none\",isUnderLine:\"none\"};return i}(g,e)),s.setCurrentColor(r(g,e)),s.setAutomaticColor(c(g,e,!0,!0)),i.setCurrentColor(l(g,e)),i.setAutomaticColor(c(g,e,!1))},_initFirstElementStyles:function(e){var t=this._getElementStyleFields(e),n=t.elementName,a=this.themeMgr.getLanguageElements(e),i=this,s=this.themeMgr.getSelected(e);n&&!n.getFirstItem()&&$.each(a,function(e,t){if(i._isInvisible(t)){var a=i.rb.getText(t.text);n.addItem(new o({key:e,text:a}))}}),n.setSelectedKey(s),this._setStylesForElement(s,t,e)},_getElementThemeData:function(){var e=this.languageSelected;if(this._getLanguageSettings(e)){var t=this._getLanguageSettings(e).theme,n=this.themeData[t],a=this._getElements(e,n);if(a)return[a[this._getElementStyleFields().elementName.getSelectedKey()]]}},_changeAppearanceSettings:function(e,t){var n=this._getLanguageSettings(t);n&&$.each(e,function(e,t){n[e]=t})},_getThemeBackgroundColor:function(e,t){return this._getElement(e,this._getLanguageSettings(e).theme,\"background-color\",t)},_changeThemeBackgroundColor:function(e,t,n){var a=this._getThemeDataByName(e);if(a){var i=this._getElements(t,a);i&&(i[\"background-color\"]=n),this._updateTheme()}},_initThemeBackgroundColorPicker:function(e,t){if(this._getLanguageSettings(e)){t=void 0===t?this._getThemeBackgroundColor(e):t;var n=this.appearanceControls[e].themeBackGroundColorPicker;n.setCurrentColor(_.rgbToHex(t));var a=this._getThemeBackgroundColor(e,!0);n.setAutomaticColor(this._getAutomaticColor(a,n))}},_changeElementTheme:function(e){var t=this._getElementThemeData();t&&($.each(t,function(t,n){n&&$.each(e,function(e,t){n[e]=t})}),this._updateTheme())},_getSettings:function(e){return e||this.settings},_getAppearanceSettings:function(e){return e||(e=this.settings),this._getOptionsProperty(e.appearance)},_resetAppearanceControls:function(e,t){var n=this._getAppearanceSettings(this._getSettings(e));if(n){var a=n[t],i=this.appearanceControls[t];i.fontSize.setSelectedKey(a.fontSize),i.fontFamily.setSelectedKey(a.fontFamily),this._initThemeBackgroundColorPicker(t,this._getThemeBackgroundColor(t));var s=this._getElementStyleFields(t);this._setStylesForElement(this._getElementsProperty(i).getSelectedKey(),s,t);var o=i.editor;o.setTheme(a.theme),o.setFontSize(a.fontSize),this._changeAppearanceSettings(this._cloneObj(a),t)}},_resetGeneralUI:function(e){var t=this._getSettings(e);this.autocomplete.setSelected(t.autoCompleteEnabled),this.indent.setSelected(t.indentEnabled),this.wordWrap.setSelected(t.wordWrapEnabled),this.overtype.setSelected(t.overtypeEnabled),this.blockComments.setSelected(t.blockCommentsEnabled),this.pairQuotations.setSelected(t.pairQuotations),this.pairBrackets.setSelected(t.pairBrackets),this.pairParentheses.setSelected(t.pairParentheses),this.pairBraces.setSelected(t.pairBraces),this.pairSquareBrackets.setSelected(t.pairSquareBrackets),this.pairAngleBrackets.setSelected(t.pairAngleBrackets),this.matchingBrackets.setSelected(t.matchingBrackets),this.allowPlainTextOnly.setSelected(t.allowPlainTextOnly),this._enableBracketsControls(t.pairBrackets),this.codeFolding.setSelected(t.foldingEnabled),this.lineHighlighting.setSelected(t.lineHighlightingVisible),this.indentGuides.setSelected(t.indentGuidesVisible),this.lineLengthGuide.setSelected(t.lineLengthGuideVisible),this.invisibleChars.setSelected(t.invisibleCharsVisible),this.showLineNumber.setSelected(t.lineNumberVisible),this.printLineNumber.setSelected(t.printLineNumber),this.columnPosInput.setEnabled(t.lineLengthGuideVisible),this.columnPosInput.setValue(t.lineLengthGuideColumn),this.spaceNumberInput.setValue(t.tabSize),this.spaceNumberInput.performValidation(),this.spaceTab.setSelected(t.tabAsSpace)},_resetAppearanceUI:function(e){this._cleanPreviewClass(),this._resetAppearanceControls(this.defaultSettings,e)},_isInvisible:function(e){if(!e)return!1;var t=e.hidden;return!1===t||void 0===t},_disableSyntax:function(){var t=this.themeData,n=this,a=this._getAppearanceSettings();return function(){var i=e.extend(!0,{},t);if(a)for(var s=n._getKeys(i),o=0;o<s.length;o++){var r=s[o],l=i[r];if(l&&!e.isEmptyObject(l)){var c=n._getElementsProperty(l),g=n.defaultColorMap[r];c&&g&&$.each(c,function(e,t){var n=g[e],i=a[e];if(n&&i&&!i.syntaxHighlighting){var s=n.color;$.each(t,function(e,t){t&&\"background-color\"!==e&&(t[\"font-style\"]=\"none\",t[\"font-weight\"]=\"normal\",t[\"text-decoration\"]=\"none\",t.color=s,t[\"background-color\"]=\"transparent\")}),\"general\"!==e&&(t[\".sce.sce-\"+e+\" span\"]={color:s})}})}}return i}()},_cleanPreviewClass:function(){var e=this;$.each(this.themeData,function(t,n){e.themeMgr.removeTheme(t+\"_preview\")});var t=this._getSupportedLanguages();t&&$.each(t,function(t,n){e.themeMgr.removeFontTheme(t+\"_preview\")})},_cloneObj:function(t){return e.extend(!0,{},t)},_cloneSettings:function(){this.tmpSettings=this._cloneObj(this.settings)},_cloneThemeData:function(){this.tmpThemeData=this._cloneObj(this.themeData)},_getThemeData:function(e){var t=this._disableSyntax(),n={};return e=void 0===e?\"\":\"_\"+e,$.each(t,function(t,a){n[t+e]=a}),n},_resetAppearanceSettings:function(e,t){var n=this._getAppearanceSettings(e)[t];n&&(this._getAppearanceSettings(this.settings)[t]=this._cloneObj(n))},_resetGeneralSettings:function(e,t){var n=this.settings.appearance;this.settings=this._cloneObj(e),n&&(this.settings.appearance=this._cloneObj(n))},_resetThemeData:function(e,t){var n=this;t?$.each(e,function(e,a){var i=n._getElementsProperty(a);n._getElementsProperty(n.themeData[e])[t]=n._cloneObj(i[t])}):this.themeData=this._cloneObj(e)},_resetData:function(e,t,n){this.settings=this._cloneObj(e),this._resetThemeData(t,n)},_doCancel:function(){if(this._getSyntaxStyleVisible()){this._resetData(this.tmpSettings,this.tmpThemeData),this._cleanPreviewClass();var e=this._getSupportedLanguages(),t=this;$.each(e,function(e,n){t._resetAppearanceControls(t.settings,e)}),this._resetGeneralUI()}this.spaceNumberInput.setValueState(L.ValueState.None)},_getThemeList:function(){return this._getKeys(this.themeData)},_getKeys:function(e){return Object.keys(e)},_getLanguages:function(e,t){var n={},a=this.themeMgr.getElements();if(a){var i=Object.keys(a);$.each(i,function(e,a){(t||!t&&\"general\"!==a)&&(n[a]=a)})}return n},_initLanguages:function(e){var t=this._getLanguages(),n={},a={};e?0===e.length?a=t:$.each(e,function(e,i){i=i.toLowerCase();var s=t[i];s?n[i]=s:a[i]=s}):n=t,this.languages={supported:n,unsupported:a}},_splitLanguages:function(e,t,n){this._initLanguages(e);var a=this,i=this.languages.supported,s=function(e){var t=e.appearance;t||(t={options:{}},e.appearance=t)},o=function(e,t){var n={theme:t.theme,fontSize:t.fontSize,fontFamily:t.fontFamily,syntaxHighlighting:t.syntaxHighlighting};a._getAppearanceSettings(t)[e]=n};s(t),s(n),i&&$.each(i,function(e,a){o(e,t),o(e,n)})},_changeDefaultTheme:function(e,t){var n=this._getAppearanceSettings(e);n&&$.each(n,function(e,n){n.theme=t})},_enableBracketsControls:function(e){this.pairParentheses.setEnabled(e),this.pairBraces.setEnabled(e),this.pairSquareBrackets.setEnabled(e),this.pairAngleBrackets.setEnabled(e)}});return I.prototype._onBeforeClose=function(e){e.getParameter(\"origin\")!==this.getAggregation(\"beginButton\")&&this._applyTheme(!0)},I.prototype._onAfterClose=function(e){if(this.openTime++,e.getParameter(\"origin\")===this.getAggregation(\"beginButton\")){var t=this.settings;t.foldingEnabled=this.codeFolding.getSelected(),t.indentEnabled=this.indent.getSelected(),t.lineHighlightingVisible=this.lineHighlighting.getSelected(),t.indentGuidesVisible=this.indentGuides.getSelected();var n=this.columnPosInput.getRawValue();t.lineLengthGuideVisible=this.lineLengthGuide.getSelected()&&!!n&&this.columnPosInput.getValueState()===L.ValueState.None,t.lineLengthGuideColumn=n||80,t.invisibleCharsVisible=this.invisibleChars.getSelected(),t.autoCompleteEnabled=this.autocomplete.getSelected(),t.wordWrapEnabled=this.wordWrap.getSelected(),t.lineNumberVisible=this.showLineNumber.getSelected(),t.printLineNumber=this.printLineNumber.getSelected(),t.tabSize=parseInt(this.spaceNumberInput.getValue()),t.tabAsSpace=this.spaceTab.getSelected(),t.overtypeEnabled=this.overtype.getSelected(),t.blockCommentsEnabled=this.blockComments.getSelected(),t.pairQuotations=this.pairQuotations.getSelected(),t.pairBrackets=this.pairBrackets.getSelected(),t.pairParentheses=this.pairParentheses.getEnabled()&&this.pairParentheses.getSelected(),t.pairBraces=this.pairBraces.getEnabled()&&this.pairBraces.getSelected(),t.pairSquareBrackets=this.pairSquareBrackets.getEnabled()&&this.pairSquareBrackets.getSelected(),t.pairAngleBrackets=this.pairAngleBrackets.getEnabled()&&this.pairAngleBrackets.getSelected(),t.matchingBrackets=this.matchingBrackets.getSelected(),t.allowPlainTextOnly=this.allowPlainTextOnly.getSelected(),this._cleanPreviewClass(),this.themeMgr.addThemes(this._getThemeData()),this._cloneThemeData(),this._cloneSettings(),this.fireEvent(\"save\",{settings:this._cloneObj(this.getData())})}else this._doCancel()},I.prototype.init=function(){l.prototype.init.call(this),this.attachBeforeClose(this._onBeforeClose),this.attachAfterClose(this._onAfterClose);var e=this;this.setAggregation(\"beginButton\",new i({text:e.rb.getText(\"ce_setting_dialog_SaveButton_txt\"),design:i.Design.Primary,press:function(){e.columnPosInput.getEnabled()&&e.columnPosInput.getValueState()!==L.ValueState.None?e.columnPosInput.focus():e.spaceNumberInput.getValueState()===L.ValueState.None?e.close():e.spaceNumberInput.focus()}})),this.setAggregation(\"endButton\",new i({\ntext:e.rb.getText(\"ce_setting_dialog_CancelButton_txt\"),press:function(){e.close()}})),this.setInitialFocus(this.getEndButton()),this.addStyleClass(\"sasCodeEditorSettingsDialog\")},I.prototype.open=function(){!this.themeData||e.isEmptyObject(this.themeData)?P.error({text:this.rb.getText(\"ce_setting_dialog_unavailable_msg_txt\"),title:this.rb.getText(\"ce_setting_dialog_unavailable_msg_title\")}):(this._checkLanguages(),this._createUI(),l.prototype.open.apply(this,arguments),this._getSyntaxStyleVisible()&&(this._cloneThemeData(),this._cloneSettings(),this._addTheme()),this.openTime++)},I.prototype.destroy=function(){e(this.themeMgr).off(),e(this.appearanceControls).off(),this.detachAfterClose(this._onAfterClose),l.prototype.destroy&&l.prototype.destroy.apply(this,arguments)},I.prototype.getFontFamilies=function(){var e=this.fontFamily;e&&e.getItems()},I.prototype.addFontFamilies=function(e){if(e){var t,n=this.fontFamily;$.each(e,function(e,a){var i=a.key;a.selected&&(t=i),n.addItem(new o({key:i,text:a.text}))}),t&&n.setSelectedKey(t)}},I.prototype.removeFontFamilies=function(e){if(e){var t=this.fontFamily;$.each(e,function(e,n){t.removeItem(n)})}},I.prototype.getData=function(){var e=function(e,t){e.appearance.themes=t};return this._getSyntaxStyleVisible()&&(e(this.settings,this._getThemeData()),e(this.defaultSettings,this.defaultThemeData)),{current:this.settings,default:this.defaultSettings}},I.prototype.setData=function(e){var t=function(e){return e.appearance},n=function(e){delete t(e).themes};if(e){var a=e.current,i=e.default;if(a&&i){this.settings=a,this.defaultSettings=i;var s=t(a).themes,o=t(i).themes;if(s&&o){this.dataReady=!0,this.themeInited=!0,this.themeData=s,this.defaultThemeData=o,n(this.settings),n(this.defaultSettings),this._initColor();var r=a.appearance;r&&this._initLanguages(this._getKeys(this._getOptionsProperty(r))),this.themeMgr.addThemes(s)}}}},I},!0);",
	"sas/hc/ui/commons/codeEditor/Settings.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([],function(){\"use strict\";return function(t){function e(e){\"tabSize\"===e.getParameters().name&&(i=\"\");var r={type:\"settingChanged\"};return r[e.getParameters().name]=e.getParameters().newValue,jQuery(this).triggerHandler(r),t}function r(){for(var t=0;t<this.getTabSize();t++)i+=\" \"}function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}var i=\"\";t.attachEvent(\"_change\",jQuery.proxy(e,this));var a=t.getMetadata().getProperties();for(var u in a)a.hasOwnProperty(u)&&function(e,r){var i=\"get\"+n(r);e[i]=function(){return t?t[i]():a[r].defaultValue}}(this,u);this.getTabText=function(){return\"\"===i&&r.apply(this),i},this.getCustomConfig=function(){var t=this.getCustomMode();if(t)return t;var e=this.getHighlightRules();return e?{highlightRules:e}:null},this.setLineNumberVisible=function(e){return!!t&&t.setLineNumberVisible(e),t},this.setOvertypeEnabled=function(e){return!!t&&t.setProperty(\"overtypeEnabled\",e,!0),t},this.destroy=function(){t=null}}},!0);",
	"sas/hc/ui/commons/codeEditor/ShortcutController.js": "// (c) 2017, SAS Institute Inc.\nsap.ui.define([\"sas/hc/ui/commons/keyboardShortcuts/KeyboardShortcuts\"],function(e){\"use strict\";var t=[\"enter\",\"deletePrevious\",\"deleteNext\",\"pageUp\",\"selectPageUp\",\"pageDown\",\"selectPageDown\",\"lineUp\",\"selectLineUp\",\"lineDown\",\"selectLineDown\",\"lineStart\",\"selectLineStart\",\"lineEnd\",\"selectLineEnd\",\"charPrevious\",\"selectCharPrevious\",\"charNext\",\"selectCharNext\",\"addBlockComment\",\"autoPairSquareBracket\",\"skipClosingSquareBracket\",\"autoPairAngleBracket\",\"skipClosingAngleBracket\",\"autoPairParentheses\",\"skipClosingParenthesis\",\"autoPairBraces\",\"skipClosingBrace\",\"autoPairSingleQuotation\",\"autoPairDblQuotation\",\"noop\"];return function(n){var o={undo:\"undo\",redo:\"redo\",delPreWord:\"deleteWordPrevious\",delNextWord:\"deleteWordNext\",toggleInsertOverwrite:\"toggleOverwriteMode\",indent:\"tab\",outdent:\"shiftTab\",selectAll:\"selectAll\",moveToBeginning:\"textStart\",selectToBeginning:\"selectTextStart\",moveToEnd:\"textEnd\",selectToEnd:\"selectTextEnd\",moveToPreWord:\"wordPrevious\",selectToPreWord:\"selectWordPrevious\",moveToNextWord:\"wordNext\",selectToNextWord:\"selectWordNext\"};this.onKeyDown=function(t){if(!t.defaultPrevented){e.getActionByKeyEvent(t.event).actionList.forEach(function(e){var i=o[e];if(\"string\"==typeof i){if(n.invokeAction(i))return void t.preventDefault()}else if(\"function\"==typeof i&&i())return void t.preventDefault()})}},this.setAction=function(e,t){o[e]=t},this.getActionList=function(){return Object.keys(o)},n.addEventListener(\"KeyDown\",this.onKeyDown),n.getKeyModes()[0]._keyBindings=n.getKeyModes()[0]._keyBindings.filter(function(e){return-1!==t.indexOf(e.actionID)}),this.destroy=function(){n.removeEventListener(\"KeyDown\",this.onKeyDown)}}});",
	"sas/hc/ui/commons/codeEditor/SnippetCompleter.js": "// (c) 2017, SAS Institute Inc.\nsap.ui.define([\"sap/ui/core/Core\",\"sap/ui/events/KeyCodes\",\"sas/hc/ui/core/theme/IconInitialization\",\"./AutoCompleter\",\"./Utils\"],function(t,e,i,s,o){\"use strict\";var n=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\");return s.extend(\"sas.hc.ui.commons.codeEditor.SnippetCompleter\",{constructor:function(){s.prototype.constructor.apply(this,arguments),this._settings={getAutoCompleteEnabled:this._ctrl.settings.getSnippetsAutoCompleteEnabled,getSnippetsReplacementEnabled:this._ctrl.settings.getSnippetsReplacementEnabled}},setConfig:function(t){s.prototype.setConfig.apply(this,arguments),this.list.forEach(function(t){t.icon=sas.icons.HC.AUTOCOMPLETEABBREVIATION,t.text=t.name,t.help||(t.help=\"<pre>\"+t.code+\"</pre>\")})},show:function(t){var e=this._ctrl.editor().getCaretOffset(),i=this._ctrl.editor().getText(e-1,e);if(t||\"@\"===i){var s=this._ctrl.model().toTextPosition(e),o=this.getPrefix(s.line,s.column);this.popup.show(n.getText(\"ce_ac_snippet_abbr_txt\"),this.list,o,o.length)}},commit:function(t){this.popup.hide();var e=this.popup.getSelectedIndex(),i=this.list[e];if(i){var s=this._ctrl.editor(),o=s.getCaretOffset(),n=this._ctrl.model().toTextPosition(o),r=this.getPrefix(n.line,n.column),l=0;r&&(l=r.length);\"@\"===s.getText(o-1-l,o-l)&&++l,s.setText(i.code,o-l,o),s.focus(),\"function\"==typeof this._config.afterCommit&&this._config.afterCommit(this.list[this.popup.getSelectedIndex()])}},onKeyDown:function(t){if(s.prototype.onKeyDown.apply(this,arguments)){if(!this._settings.getAutoCompleteEnabled()&&this._settings.getSnippetsReplacementEnabled()&&this._ctrl.isCursor()&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&(t.keyCode===e.ENTER||t.keyCode===e.TAB)){var i=this._ctrl.editor(),n=this._ctrl.model(),r=i.getCaretOffset(),l=this._ctrl.caretPosition(),c=n.getLine(l.line).slice(0,l.column),p=c.lastIndexOf(\"@\");if(p>=0){c=c.slice(p+1),this._config.caseSensitive||(c=c.toLowerCase());for(var h=this.list.length,a=0;a<h;a++){var f=this.list[a].name;if(this._config.caseSensitive||(f=f.toLowerCase()),f===c)return i.setText(this.list[a].code,r-c.length-1,r),o.stopEvent(t),t.stopImmediatePropagation(),!1}}}return!0}return!1},onCaretMoved:function(){if(this.popup.isDisplayed()){var t=this._ctrl.editor().getCaretOffset();t=this._ctrl.model().toTextPosition(t);var e=this.getPrefix(t.line,t.column),i=this._ctrl.editor().getCaretOffset()-e.length,s=this._ctrl.editor().getText(i-1,i);this.popup.filter(e)&&\"@\"===s?this.popup.update(e.length):this.hide()}}})},!0);",
	"sas/hc/ui/commons/codeEditor/SyntaxChecker.js": "// (c) 2018, SAS Institute Inc.\nsap.ui.define([\"./Utils\",\"sas/hc/ui/core/theme/IconInitialization\"],function(n,t){\"use strict\";return function(t){function e(n){c.length&&t.removeGutterIcons(c),c=[],u=-1,r.getSyntaxCheckEnabled()&&(n.errors.forEach(function(n){\"error\"===n.type&&o(n.row,n.text)}),t.addGutterIcons(c),c.forEach(function(n){n.icons=n.icons.map(function(n){return n.icon})}))}function o(n,t){u===n&&c.pop(),c.push({lineIndex:n,icons:[{icon:sas.icons.HC.ERRORSTATUSNODE_GOJS,tooltip:t}]}),u=n}var i=t.mode().getLanguage(),s=t.mode().getHighlight(),r=t.settings,a=t.model(),c=[],u=-1,f=null;\"xml\"===i?jQuery(s).on(\"parsingStateEvent\",function(t){t.change&&2===t.state&&(f||(f=new Worker(n.getBaseUrl()+\"/sax/sax.js\"),f.onmessage=function(n){e(n.data)}),f.postMessage(a.getAllText()))}):jQuery(s).on(\"syntaxError\",e),this.destroy=function(){f&&f.terminate(),jQuery(s).off()}}});",
	"sas/hc/ui/commons/codeEditor/TextPosition.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([],function(){\"use strict\";var n=function(){0===arguments.length&&(this.line=0,this.column=0),1===arguments.length&&(this.line=arguments[0].line,this.column=arguments[0].column),2===arguments.length&&(this.line=arguments[0],this.column=arguments[1])};return n.prototype.equals=function(n){return this.line===n.line&&this.column===n.column},n.prototype.compareTo=function(n){var t=this.line-n.line;return 0===t?this.column-n.column:t},n.prototype.toString=function(){return\"(\"+this.line+\",\"+this.column+\")\"},n},!0);",
	"sas/hc/ui/commons/codeEditor/TextRange.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([\"./TextPosition\"],function(t){\"use strict\";var n=function(){0===arguments.length&&(this.start=new t,this.end=new t),1===arguments.length&&(this.start=new t(arguments[0].start),this.end=new t(arguments[0].end)),2===arguments.length&&(this.start=arguments[0],this.end=arguments[1])};return n.prototype.isEmpty=function(){return this.start.line===this.end.line&&this.start.column===this.end.column},n.prototype.normalize=function(){return this.start.compareTo(this.end)>0?new n(new t(this.end),new t(this.start)):new n(this)},n.prototype.toString=function(){return this.start.toString()+\"-\"+this.end.toString()},n.prototype.equals=function(t){return this.start.equals(t.start)&&this.end.equals(t.end)},n},!0);",
	"sas/hc/ui/commons/codeEditor/ThemeMgr.js": "// (c) 2017, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"jquery.sap.sjax\",\"./Utils\",\"sas/hc/ui/core/util\",\"sas/hc/m/colorpicker/ColorPicker\",\"sas/hc/ui/core/Core\"],function(e,t,n,r,a,i){\"use strict\";return function(){var t,i,c,o=function(){return{addThemes:function(t,r){if(t){var i=Object.keys(t);if(i&&0!==i.length)for(var c=\"background-color\",o=function(e,t,r,i){var o=t+\"{ \";return $.each(r,function(e,t){t&&t.length>0&&(e===c?a.NO_COLOR!==t&&(t=n.isHex(t)?t:n.rgbToHex(t),i!==t&&(o+=e+\": \"+t+\"; \")):o+=e+\": \"+t+\"; \")}),o+=\"} \"},s=function(e,t,n){return t+e.substring(n,e.length)},u=\".sce \",f=function(e,t,n){var r=e;if(\"general\"===t){var a=\".sce.sce-\"+n+\" \";r=e.startsWith(u)?s(e,a,u.length):s(e,a,0)}else{var a=\".sce.sce-\"+t+\".sce-\"+n+\" \",i=\".sce.sce-\"+t+\" \";e.startsWith(u)?r=s(e,a,u.length):e.startsWith(i)&&(r=s(e,a,i.length))}return r},l=function(e,t,n){var r=e;if(-1===e.indexOf(\",\"))r=f(e,t,n);else{var a=e.split(\",\");$.each(a,function(e,r){r=r.trim(),a[e]=f(r,t,n)}),r=a.join(\", \")}return r},h=function(e,t,r){var a=\"\",i=e[c];return i=n.isHex(i)?i:n.rgbToHex(i),$.each(e,function(e,n){if(c===e)\"general\"!==t&&(a+=\".sce-\"+t+\".sce-\"+r+\"{ background-color: \"+n+\"}\");else{var s=l(e,t,r);a+=o(0,s,n,i)}}),a},d=0;d<i.length;d++){var m=i[d],g=t[m];if(O(m,r),g&&!e.isEmptyObject(g)){var v=j(m,r),p=\"\",y=g.elements;if(y){var k=\".sce-\"+m+\"{ } \";$.each(y,function(e,t){\"general\"!==e&&(k+=h(t,e,m))});var _=y.general;_&&(k+=h(_,\"general\",m)),p+=k}v.innerHTML=p}}}},isDataReady:function(){return f},getThemeData:function(){return s},getDefaultThemeData:function(){return c},resetThemeData:function(){c&&(s=e.extend(!0,{},c),b())},getDefaultThemeName:function(){return u},getCurrentThemeName:function(){var e=T(),t=\"light\";return\"sas_hcb\"===e&&(t=\"dark\"),t},getElements:function(){return l},getLanguageElements:function(e){return D(e,\"elements\")},getDefault:function(e){return D(e,\"default\")},getSelected:function(e){return D(e,\"selected\")},addFontTheme:function(e,t,n){var r=function(e){return e.indexOf(\" \")>-1&&(e=\"'\"+e+\"'\"),\"font-family: \"+e+\", 'Lucida Console', Courier, Monaco, monospace\"},a=function(e){return\"*:lang(\"+e+\"):not([data-sap-ui-icon-content]) .\"+c+\"  *:not([data-sap-ui-icon-content]) {\"+r(t)+\" !important;}\"},i=\"font_\"+e,c=\"sce.sce-\"+e;if(O(i,n),t){var o=j(i,n),s=\".\"+c+\" {\"+r(t)+\";}\";s+=a(\"ar-XX\"),s+=a(\"ja\"),s+=a(\"ko\"),s+=a(\"zh-tw\"),s+=a(\"zh-hk\"),s+=a(\"zh-cn\"),s+=a(\"ZH-CN-pseudo\"),s+=a(\"th\"),o.innerHTML=s}},removeTheme:function(e,t){O(e,t)},removeFontTheme:function(e,t){O(\"font_\"+e,t)}}}(),s={},u=\"light\",f=!1,l={};sas.ajax({url:sap.ui.require.toUrl(\"sas/hc/ui/commons/codeEditor/elements.json\"),async:!1}).done(function(e){l=e});var h=function(e,t){return\"/sas/hc/ui/commons/codeEditor/themes/\"+e+\"/library\"+(t?\"-RTL\":\"\")+\".css\"},d={dark:\"sas_hcb\",light:\"sas_corporate\"},m={dark:h(d.dark),light:h(d.light)},g={dark:h(d.dark,!0),light:h(d.light,!0)},v=m,p=function(e,t,n,r){var a=e[t];a||(a={},e[t]=a);var i=n.style.cssText.split(\";\");$.each(i,function(e,t){if(t=t.trim(),t.length>0){var n=t.split(\":\"),i=n[0].trim(),c=n[1].trim();a[r]||(a[r]={}),a[r][i]=c}})},y=function(e){var t={};try{if(!e||!e.cssRules)return t;for(var n=e.cssRules,r=0;r<n.length;r++){var a=n[r],c=a.selectorText,o=i[c];if(o)if(o.indexOf(\", \")>-1){var s=o.split(\", \");$.each(s,function(e,n){p(t,n.trim(),a,c)})}else p(t,o,a,c)}}catch(e){sas.log.error(e)}return t},k=function(e,n){var r=!1,a=0,i=\"dark\"===e?\"rgb(0, 0, 0)\":\"rgb(255, 255, 255)\",c=function(){a++;var n=document.styleSheets;if(n)for(var c=m[e],o=g[e],u=0;u<n.length;u++){var f=n[u],l=f.href;if(l&&0!==l.length&&l.endsWith){var h=l.endsWith(c),d=l.endsWith(o);if(h||d){if(r=!0,!t){var p=d?o:c;t=l.substring(0,l.indexOf(p))}d&&(v=g);var k={\"background-color\":i};k.elements=y(f),$.each(k.elements,function(e,t){t[\"background-color\"]=i}),s[e]=k;break}}}},o=setInterval(function(){c(),(r||a>=1e4)&&(clearInterval(o),n&&n())},20)},_=function(){c=e.extend(!0,{},s)},b=function(){e(o).triggerHandler({type:\"themeDataReady\",themeData:s,theme:u}),f=!0},x=function(e,n){var r=v[e],a=\"_CE_theme_style_\"+e,i=$(\"#\"+a);i&&i.remove(),i=document.createElement(\"link\"),i.id=a,i.type=\"text/css\",i.rel=\"stylesheet\",i.href=t+r,$(\"head\").prepend($(i)),k(e,function(){var e=$(\"#\"+a);e&&e.length>0&&e.remove(),_(),n&&b()})},T=function(){var e=r.getStyleSheet(\"sas.hc.ui.commons.codeEditor\");if(e){var t=e.href,n=t.split(\"/\");return n[n.length-2]}},E=function(){var e=r.getStyleSheet(\"sas.hc.ui.commons.codeEditor\");if(e){var t=e.href;if(t)return t.substring(0,t.indexOf(\"/sas/hc/ui/commons/codeEditor/\"))}},C=function(){i={},$.each(l,function(e,t){var n=t.elements;$.each(n,function(t,n){var r=i[t];i[t]=r&&r!==e?r+\", \"+e:e})})};!function(){C();var e=T(),n=\"light\",r=!0;if(\"sas_hcb\"===e?u=\"dark\":\"sas_corporate\"===e?n=\"dark\":(n=\"dark\",r=!1),t=E(),r){k(u,function(){x(n,!0)})}else x(u),x(n,!0)}();var O=function(e,t){t||(t=document);var n=t.getElementById(\"_CE_theme_style_\"+e);n&&$(n).remove()},j=function(e,t){t||(t=document);var n=t.head||t.getElementsByTagName(\"head\")[0],r=t.createElement(\"style\");return r.id=\"_CE_theme_style_\"+e,r.type=\"text/css\",n.appendChild(r),r},D=function(e,t){return l[e][t]};return{getInstance:function(){return o}}}()},!0);",
	"sas/hc/ui/commons/codeEditor/Toolbar.js": "// (c) 2018, SAS Institute Inc.\nsap.ui.define([\"sas/hc/m/ResponsiveToolbar\",\"sas/hc/m/Button\",\"sas/hc/m/Select\",\"sas/hc/ui/core/Item\",\"sas/hc/ui/core/theme/IconInitialization\",\"sas/hc/m/MenuButton\",\"sas/hc/m/ToolbarSeparator\",\"sas/hc/m/OverflowToolbarLayoutData\",\"sas/hc/m/ToggleButton\",\"sas/hc/m/HelpPopup\",\"./Mode\",\"sap/ui/core/Core\",\"sap/m/library\"],function(t,o,e,i,r,n,a,l,_,s,c,u,p){\"use strict\";var b=sas.hc.ui.commons.codeEditor.ToolbarAction={Open:\"Open\",New:\"New\",Import:\"Import\",Export:\"Export\",Save:\"Save\",SaveAs:\"SaveAs\",Run:\"Run\",ToggleDebug:\"DebugDATAStep\",Undo:\"Undo\",Redo:\"Redo\",Cut:\"Cut\",Copy:\"Copy\",Paste:\"Paste\",Find:\"FindAndReplace\",Clear:\"Clear\",Print:\"Print\",Settings:\"Settings\",Help:\"Help\",More:\"More\"},d=t.extend(\"sas.hc.ui.commons.codeEditor.Toolbar\",{metadata:{library:\"sas.hc.ui.commons.codeEditor\",properties:{enableDarkTheme:{type:\"boolean\",group:\"Data\",defaultValue:!1}}},renderer:{},constructor:function(o,e){this.rb=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.commons.codeEditor\"),this.actions=this._getActions(),this.basicId=o,this.controls=this._getControls(),e.actions&&(this._setActions(e.actions),delete e.actions),e.content=this.controls,t.apply(this,[o,e]),this._getOverflowButton().setTooltip(this.rb.getText(\"ce_toolbar_more_options_tooltip_txt\")),this.addStyleClass(\"codeEditorToolbar\")},setEnableDarkTheme:function(t){return this.toggleStyleClass(\"sasDark\",t),this.setProperty(\"enableDarkTheme\",t)},exit:function(){jQuery(this.controls).off(),this.editor=null,t.prototype.exit&&t.prototype.exit.apply(this,arguments)},onAfterRendering:function(){t.prototype.onAfterRendering.apply(this,arguments),this.$().attr(\"dir\",\"ltr\").find(\".sapUiIconMirrorInRTL\").removeClass(\"sapUiIconMirrorInRTL\")},_getActions:function(){var t={},o=this,e=function(){},i=function(){},r=function(){},n=function(){},a=function(){},l=function(){},_=function(){},s=function(){var t=o.editor;t&&t.setDebugBarVisible(!t.getDebugBarVisible())},c=function(){o.editor&&o.editor.undo()},u=function(){o.editor&&o.editor.redo()},p=function(){o.editor&&o.editor.cut()},d=function(){o.editor&&o.editor.copy()},x=function(){o.editor&&o.editor.paste()},g=function(){o.editor&&(o.editor.activate(),o.editor.showFindReplaceDialog())},m=function(){o.editor&&o.editor.clear()},T=function(){},f=function(){};return t[b.Open]=e,t[b.New]=i,t[b.Import]=r,t[b.Export]=n,t[b.Save]=a,t[b.SaveAs]=l,t[b.Run]=_,t[b.ToggleDebug]=s,t[b.Undo]=c,t[b.Redo]=u,t[b.Cut]=p,t[b.Copy]=d,t[b.Paste]=x,t[b.Find]=g,t[b.Clear]=m,t[b.Print]=T,t[b.Settings]=f,t},_insertControl:function(t,o){if(!(t<0)){var e=o.name,i=o.control;this._setActionName(i,e),this.controls.splice(t,0,i)}},_equalName:function(t,o){return t._actionName===o},_setActions:function(t){var o=this,e=o.controls,i=function(t){for(var i=0;i<e.length;i++){var r=e[i];if(o._equalName(r,t))return i}return-1};$.each(t,function(t,r){var n=r.name;if(r.control)if(r.before)o._insertControl(i(r.before),r);else if(r.after)o._insertControl(i(r.after)+1,r);else{var a=e.length-1,l=e[a];l&&(o._equalName(l,b.Help)?o._insertControl(a,r):o._insertControl(e.length,r))}else{var _=r.handler;_&&(o.actions[n]=_)}})},_getName:function(t){var o=t.getId();return o.substring(o.lastIndexOf(\"-\")+1,o.length)},_doActionByName:function(t){return this.actions[t]()},_buildControlId:function(t){return this.basicId+\"-\"+t},_setActionName:function(t,o){o=void 0===o?this._getName(t):o,t._actionName=o},_getControls:function(){var t=this.basicId,e=this,i=p.OverflowToolbarPriority,r=[new o({id:e._buildControlId(b.Open),tooltip:e.rb.getText(\"ce_toolbar_open_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_open_tooltip_txt\"),icon:sas.icons.HC.OPEN,layoutData:new l({priority:i.NeverOverflow}),menuItemText:e.rb.getText(\"ce_toolbar_open_menu_txt\"),press:function(){e._doActionByName(b.Open)}}),new o({id:e._buildControlId(b.New),tooltip:e.rb.getText(\"ce_toolbar_new_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_new_tooltip_txt\"),icon:sas.icons.HC.NEWSTARBURST,layoutData:new l({priority:i.NeverOverflow}),menuItemText:e.rb.getText(\"ce_toolbar_new_menu_txt\"),press:function(){e._doActionByName(b.New)}}),new o({id:e._buildControlId(b.Import),tooltip:e.rb.getText(\"ce_toolbar_import_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_import_tooltip_txt\"),icon:sas.icons.HC.IMPORT,layoutData:new l({priority:i.Low}),menuItemText:e.rb.getText(\"ce_toolbar_import_menu_txt\"),press:function(){e._doActionByName(b.Import)}}),new o({id:e._buildControlId(b.Export),tooltip:e.rb.getText(\"ce_toolbar_export_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_export_tooltip_txt\"),icon:sas.icons.HC.EXPORT,layoutData:new l({priority:i.Low}),menuItemText:e.rb.getText(\"ce_toolbar_export_menu_txt\"),press:function(){e._doActionByName(b.Export)}}),new o({id:e._buildControlId(b.Save),tooltip:e.rb.getText(\"ce_toolbar_save_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_save_tooltip_txt\"),icon:sas.icons.HC.SAVE,layoutData:new l({priority:i.NeverOverflow}),menuItemText:e.rb.getText(\"ce_toolbar_save_menu_txt\"),press:function(){e._doActionByName(b.Save)}}),new o({id:e._buildControlId(b.SaveAs),tooltip:e.rb.getText(\"ce_toolbar_saveas_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_saveas_tooltip_txt\"),icon:sas.icons.HC.SAVEAS,layoutData:new l({priority:i.NeverOverflow}),menuItemText:e.rb.getText(\"ce_toolbar_saveas_menu_txt\"),press:function(){e._doActionByName(b.SaveAs)}}),new o({id:e._buildControlId(b.Run),tooltip:e.rb.getText(\"ce_toolbar_run_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_run_tooltip_txt\"),icon:sas.icons.HC.SUBMITSASCODE,layoutData:new l({priority:i.NeverOverflow}),menuItemText:e.rb.getText(\"ce_toolbar_run_menu_txt\"),press:function(){e._doActionByName(b.Run)}}),new _({id:e._buildControlId(b.ToggleDebug),tooltip:e.rb.getText(\"ce_toolbar_debug_data_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_debug_data_tooltip_txt\"),icon:sas.icons.HC.DEBUGGER,layoutData:new l({priority:i.NeverOverflow}),menuItemText:e.rb.getText(\"ce_toolbar_debug_data_menu_txt\"),press:function(){e._doActionByName(b.ToggleDebug)}}),new a({id:t+\"-first\"}),new o({id:e._buildControlId(b.Undo),tooltip:e.rb.getText(\"ce_toolbar_undo_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_undo_tooltip_txt\"),icon:sas.icons.HC.UNDO,layoutData:new l({priority:i.High}),menuItemText:e.rb.getText(\"ce_toolbar_undo_menu_txt\"),press:function(){e._doActionByName(b.Undo)}}),new o({id:e._buildControlId(b.Redo),tooltip:e.rb.getText(\"ce_toolbar_redo_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_redo_tooltip_txt\"),icon:sas.icons.HC.REDO,layoutData:new l({priority:i.High}),menuItemText:e.rb.getText(\"ce_toolbar_redo_menu_txt\"),press:function(){e._doActionByName(b.Redo)}}),new a({id:t+\"-second\"}),new o({id:e._buildControlId(b.Cut),tooltip:e.rb.getText(\"ce_toolbar_cut_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_cut_tooltip_txt\"),icon:sas.icons.HC.CUT,layoutData:new l({priority:i.High}),menuItemText:e.rb.getText(\"ce_toolbar_cut_menu_txt\"),press:function(){e._doActionByName(b.Cut)}}),new o({id:e._buildControlId(b.Copy),tooltip:e.rb.getText(\"ce_toolbar_copy_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_copy_tooltip_txt\"),icon:sas.icons.HC.COPY,layoutData:new l({priority:i.High}),menuItemText:e.rb.getText(\"ce_toolbar_copy_menu_txt\"),press:function(){e._doActionByName(b.Copy)}}),new o({id:e._buildControlId(b.Paste),tooltip:e.rb.getText(\"ce_toolbar_paste_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_paste_tooltip_txt\"),icon:sas.icons.HC.PASTE,layoutData:new l({priority:i.High}),menuItemText:e.rb.getText(\"ce_toolbar_paste_menu_txt\"),press:function(){e._doActionByName(b.Paste)}}),new a({id:t+\"-third\"}),new o({id:e._buildControlId(b.Find),tooltip:e.rb.getText(\"ce_toolbar_find_replace_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_find_replace_tooltip_txt\"),icon:sas.icons.HC.FIND,layoutData:new l({priority:i.Low}),menuItemText:e.rb.getText(\"ce_toolbar_find_replace_menu_txt\"),press:function(){e._doActionByName(b.Find)}}),new o({id:e._buildControlId(b.Clear),tooltip:e.rb.getText(\"ce_toolbar_clear_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_clear_tooltip_txt\"),icon:sas.icons.HC.CLEARALL,layoutData:new l({priority:i.Low}),menuItemText:e.rb.getText(\"ce_toolbar_clear_menu_txt\"),press:function(){e._doActionByName(b.Clear)}}),new o({id:e._buildControlId(b.Print),tooltip:e.rb.getText(\"ce_toolbar_print_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_print_tooltip_txt\"),icon:sas.icons.HC.PRINT,layoutData:new l({priority:i.Low}),menuItemText:e.rb.getText(\"ce_toolbar_print_menu_txt\"),press:function(){e._doActionByName(b.Print)}}),new a({id:t+\"-fourth\"}),new o({id:e._buildControlId(b.Settings),tooltip:e.rb.getText(\"ce_toolbar_settings_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_settings_tooltip_txt\"),icon:sas.icons.HC.SETTINGS,layoutData:new l({priority:i.NeverOverflow}),menuItemText:e.rb.getText(\"ce_toolbar_settings_menu_txt\"),press:function(){e._doActionByName(b.Settings)}}),new s({id:e._buildControlId(b.Help),tooltip:e.rb.getText(\"ce_toolbar_help_tooltip_txt\"),ariaLabel:e.rb.getText(\"ce_toolbar_help_tooltip_txt\"),library:\"\",menuItemText:e.rb.getText(\"ce_toolbar_help_menu_txt\"),layoutData:new l({priority:i.NeverOverflow}),key:\"\"})];return $.each(r,function(t,o){e._setActionName(o)}),r}});return d.prototype.setActionHandler=function(t,o){this.actions[t]=o},d.prototype.setEditor=function(t){if(this.editor=t,t){var o=this.getControlByName(b.ToggleDebug);if(o){var e=t._core.mode().getLanguage()===sas.hc.ui.commons.codeEditor.LanguageMode.SasCode;o.setVisible(e),e&&o.setPressed(t.getDebugBarVisible())}}},d.prototype.getControlByName=function(t){for(var o=0;o<this.controls.length;o++){var e=this.controls[o];if(this._equalName(e,t))return e}},d.prototype.onsapnext=function(){return sap.ui.getCore().getConfiguration().getRTL()?t.prototype.onsapprevious.apply(this,arguments):t.prototype.onsapnext.apply(this,arguments)},d.prototype.onsapprevious=function(){return sap.ui.getCore().getConfiguration().getRTL()?t.prototype.onsapnext.apply(this,arguments):t.prototype.onsapprevious.apply(this,arguments)},d},!0);",
	"sas/hc/ui/commons/codeEditor/Utils.js": "// (c) 2014, SAS Institute Inc.\nsap.ui.define([],function(){\"use strict\";var r=function(){};return r.stopEvent=function(r){return r&&r.preventDefault&&(r.preventDefault(),r.stopPropagation()),!1},r.removePX=function(r){return Math.round(parseFloat(r.slice(0,-2),10))},r.getIndex=function(r,e,t){if(e.length>0){var n,o=r.length,i=new RegExp(e,t?void 0:\"i\");for(n=0;n<o;n++)if(0===r[n].text.search(i))return n}return-1},r.getBaseUrl=function(){return sap.ui.require.toUrl(\"sas/hc/ui/commons/codeEditor\")},r.arrayToMap=function(r){for(var e={},t=r.length,n=0;n<t;n++)e[r[n]]=1;return e},r.indexOfArray=function(r,e,t){var n=0,o=r.length;if(t){for(;n<o;n++)if(r[n]===e)return n}else for(e=e.toUpperCase();n<o;n++)if(r[n].toUpperCase()===e)return n;return-1},r.isHex=function(r){return!!r&&\"#\"===r.trim().charAt(0)},r.rgbToHex=function(r){if(r){var e=function(r){var e=Number(r).toString(16);return e.length<2&&(e=\"0\"+e),e},t=r.toLowerCase();if(t.startsWith(\"rgb(\")){var n=/(.*?)rgb\\((\\d+), (\\d+), (\\d+)\\)/.exec(t),o=parseInt(n[2]),i=parseInt(n[3]),u=parseInt(n[4]);r=\"#\"+e(o)+e(i)+e(u)}return r.toUpperCase()}return r},r},!0);",
	"sas/hc/ui/commons/codeEditor/manifest.json": "{\"_version\":\"1.9.0\",\"sap.app\":{\"_version\":\"1.2.0\",\"id\":\"sas.hc.ui.commons.codeEditor\",\"type\":\"library\",\"applicationVersion\":{\"version\":\"10.1.0-0\"},\"title\":\"The OpenUI5-based library, sas.hc.ui.commons.codeEditor.\"},\"sap.ui5\":{\"_version\":\"1.1.0\",\"dependencies\":{\"libs\":{\"sap.ui.core\":{},\"sap.ui.commons\":{},\"sap.ui.layout\":{},\"sap.ui.ux3\":{},\"sas.hc.ui.layout\":{},\"sas.ltjs.sasicu\":{}}},\"library\":{\"i18n\":\"messagebundle.properties\"}}}"
}, "sas/hc/ui/commons/codeEditor/library-preload");