sap.ui.require.preload({
	"sas/ev/shared/authorization/AuthorizationManager.js": "jQuery.sap.declare(\"sas.ev.shared.authorization.AuthorizationManager\"),jQuery.sap.require(\"sas.hc.m.Panel\"),jQuery.sap.require(\"sas.ev.shared.authorization.util.AuthorizationUtil\"),jQuery.sap.require(\"sas.ev.shared.authorization.services.CASAuthorizationService\"),jQuery.sap.require(\"sas.ev.shared.Utils\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),jQuery.sap.require(\"sap.ui.core.mvc.JSView\"),jQuery.sap.require(\"sap.ui.base.BindingParser\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\"),jQuery.sap.require(\"sas.hc.m.library\"),sas.hc.m.Panel.extend(\"sas.ev.shared.authorization.AuthorizationManager\",{metadata:{properties:{readOnly:{type:\"boolean\",defaultValue:!1},isDirty:{type:\"boolean\",defaultValue:!1},showObjectLabelAndIcon:{type:\"boolean\",defaultValue:!1},showSaveCancelRefreshButtons:{type:\"boolean\",defaultValue:!0},objectInfo:{type:\"object\"}},publicMethods:[\"save\",\"preview\",\"cancel\",\"refresh\"],aggregations:{_basicPermissionsPage:{type:\"sap.ui.core.mvc.JSView\",multiple:!1}},events:{dirty:{enablePreventDefault:!0},saveCompleted:{enablePreventDefault:!0},saveFailed:{enablePreventDefault:!0}}},renderer:\"sas.hc.m.PanelRenderer\",logger:sas.log.getLogger(\"sas.ev.shared.authorization.AuthorizationManager\",sas.log.Level.ERROR),rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),serviceProxy:new sas.ev.shared.authorization.services.CASAuthorizationService,permissionNameList:null,authorizationsExplainedInfoList:null,width:\"100%\",height:\"100%\",init:function(){var e=this;sas.hc.m.Panel.prototype.init&&sas.hc.m.Panel.prototype.init.apply(this,arguments),this.objectInfoDeferred=jQuery.Deferred(),this.showObjectLabelAndIconDeferred=jQuery.Deferred(),this.showSaveCancelRefreshButtonsDeferred=jQuery.Deferred(),$.when(this.objectInfoDeferred,this.showObjectLabelAndIconDeferred,this.showSaveCancelRefreshButtonsDeferred).done(function(s){e._createView()})},setObjectInfo:function(e){e&&(\"trashFolder\"===e.objectType&&(e.isFolder=!0),this.setProperty(\"objectInfo\",e,!0),e.objectType===sas.ev.shared.authorization.util.AuthorizationUtil.CASLIBS?e.objectId=e.caslibId:e.objectType===sas.ev.shared.authorization.util.AuthorizationUtil.TABLES?e.sourceTableName&&e.sourceTableName.length>0?e.objectId=e.sourceTableName:e.objectId=e.tableId:e.objectType===sas.ev.shared.authorization.util.AuthorizationUtil.COLUMNS&&(e.objectId=e.columnId),this.objectInfoDeferred.resolve(e))},setShowSaveCancelRefreshButtons:function(e){this.setProperty(\"showSaveCancelRefreshButtons\",e,!0),this.showSaveCancelRefreshButtonsDeferred.resolve(e)},setShowObjectLabelAndIcon:function(e){this.setProperty(\"showObjectLabelAndIcon\",e,!0),this.showObjectLabelAndIconDeferred.resolve(e)},save:function(){this._basicPermissionsPage.save()},preview:function(){this._basicPermissionsPage.preview()},cancel:function(){this._basicPermissionsPage.cancel()},refresh:function(){this._basicPermissionsPage.refresh()},onAfterRendering:function(){},exit:function(){this.unlockObjectAndCleanupTransaction()},setIsDirty:function(e){this.setProperty(\"isDirty\",e,!0),this.fireDirty({isDirty:e})},_createView:function(){var e=this,s={rows:[],objectType:e.getObjectInfo().objectType};if(e.setModel(new sap.ui.model.json.JSONModel(s),\"authorizationModel\"),this.getObjectInfo().hasOwnProperty(\"objectUri\"))this._basicPermissionsPage=sap.ui.jsview(\"basicPermissionPage_\"+(new Date).getTime(),\"sas.ev.shared.authorization.pet.BasicPermissionsPage\"),this._basicPermissionsPage.setAuthorizationManager(this),this.setAggregation(\"_basicPermissionsPage\",this._basicPermissionsPage),this.addContent(this._basicPermissionsPage);else{jQuery.sap.require(\"sas.ev.shared.SuperuserUtils\");var t=$.Deferred();if(sas.ev.shared.SuperuserUtils.isSuperuserAssumed(e.getObjectInfo().serverId)){var r=function(s,r){e.getObjectInfo().sessionId=s,e.getObjectInfo().superuserAssumed=!0,e.getReadOnly()?(e.getObjectInfo().objectLockDeferred&&e.getObjectInfo().objectLockDeferred.resolve(s),t.resolve(s)):e.startTransactionAndLockObject(e.getObjectInfo(),t)},a=function(s,r,a){e.getObjectInfo().objectLockDeferred&&e.getObjectInfo().objectLockDeferred.reject(s),t.reject(s)};sas.ev.shared.SuperuserUtils.getSuperuserSession(e.getObjectInfo().serverId,r,a)}else e.getReadOnly()?(e.getObjectInfo().objectLockDeferred&&e.getObjectInfo().objectLockDeferred.resolve(),e._basicPermissionsPage=sap.ui.jsview(\"basicPermissionPage_\"+(new Date).getTime(),\"sas.ev.shared.authorization.cas.BasicPermissionsPage\"),e._basicPermissionsPage.setAuthorizationManager(e),e.setAggregation(\"_basicPermissionsPage\",e._basicPermissionsPage),e.addContent(e._basicPermissionsPage)):e.createSessionStartTransactionAndLockObject(e.getObjectInfo(),t);t.done(function(){e._basicPermissionsPage=sap.ui.jsview(\"basicPermissionPage_\"+(new Date).getTime(),\"sas.ev.shared.authorization.cas.BasicPermissionsPage\"),e._basicPermissionsPage.setAuthorizationManager(e),e.setAggregation(\"_basicPermissionsPage\",e._basicPermissionsPage),e.addContent(e._basicPermissionsPage)}).fail(function(s){var t={};t.title=e.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),t.message=t.detail=s,sas.ev.shared.Utils.ajaxErrorMessageHandler(t).open()})}},startTransactionAndLockObject:function(e,s,t){var r=this;r.serviceProxy.setSessionTransactionState(e.serverId,e.sessionId,\"start\").done(function(a){sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/isTransactionStarted\",!0),r.serviceProxy.lockObject(e).done(function(a){r.getObjectInfo().objectLockDeferred&&r.getObjectInfo().objectLockDeferred.resolve(e.sessionId),s&&s.resolve(e.sessionId),t&&r.uiFactory.setEditButtons()}).fail(function(e,s,a){if(r.getObjectInfo().objectLockDeferred&&r.getObjectInfo().objectLockDeferred.reject(e),r.unlockObjectAndCleanupTransaction(),t){var o=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");o.setProperty(\"/isTransactionStarted\",!1),o.setProperty(\"/canEdit\",!1),o.setProperty(\"/readOnly\",!0),r.displayLockError(e)}})}).fail(function(e,s,t){r.getObjectInfo().superuserAssumed||r.deleteSession(),r._displayAjaxError(e,s,t)})},deleteSession:function(){var e=this;!e.getObjectInfo().superuserAssumed&&e.getObjectInfo().sessionId&&(e.serviceProxy.deleteSession(e.getObjectInfo().sessionId,e.getObjectInfo().serverId),delete e.getObjectInfo().sessionId)},unlockObjectAndCleanupTransaction:function(){var e=this;if(!e.getObjectInfo().hasOwnProperty(\"objectUri\"))if(!e.getObjectInfo().superuserAssumed&&e.getObjectInfo().sessionId)e.deleteSession();else{var s=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\"),t=s.getProperty(\"/isTransactionStarted\");e.getObjectInfo().sessionId&&t&&(e.serviceProxy.setSessionTransactionState(e.getObjectInfo().serverId,e.getObjectInfo().sessionId,\"cancel\"),s.setProperty(\"/isTransactionStarted\",!1))}},createSessionStartTransactionAndLockObject:function(e,s,t){var r=this;e.sessionId?r.startTransactionAndLockObject(e,s,t):r.serviceProxy.createSession(e.serverId).done(function(a){e.sessionId=a.id,r.startTransactionAndLockObject(e,s,t)}).fail(function(e,s,t){r._displayAjaxError(e,s,t)})},switchToEdit:function(){var e=this;if(e.setReadOnly(!1),sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/readOnly\",!1),e.getObjectInfo().hasOwnProperty(\"objectUri\"))e.uiFactory.setEditButtons();else{if(sas.ev.shared.SuperuserUtils.isSuperuserAssumed(e.getObjectInfo().serverId)){var s=function(s,t){e.getObjectInfo().sessionId=s,e.getObjectInfo().superuserAssumed=!0,e.startTransactionAndLockObject(e.getObjectInfo(),null,!0)},t=function(s,t,r){e._displayAjaxError(s,t,r)};sas.ev.shared.SuperuserUtils.getSuperuserSession(e.getObjectInfo().serverId,s,t)}else e.createSessionStartTransactionAndLockObject(e.getObjectInfo(),null,!0);e._basicPermissionsPage.reRenderTable()}},displayLockError:function(e){var s=this,t=s.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),r=s.rb.getText(\"Common.dialog.message.objectLocked.fmt.txt\",[s.getObjectInfo().objectName]),a=sap.ui.base.BindingParser.complexParser.escape(e.responseText);sas.hc.m.MessageDialog.error({text:r,title:t,detailText:a,buttonActions:[{text:sas.hc.m.MessageDialogAction.Cancel,initialFocus:!0,defaultButton:!0}]})},_displayAjaxError:function(e,s,t){var r=this,a={};a.title=r.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),a.message=a.detail=e,sas.ev.shared.Utils.ajaxErrorMessageHandler(a).open()}});",
	"sas/ev/shared/authorization/AuthorizationUIFactory.js": "// Copyright (c) 2015, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\n!function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.authorization.AuthorizationUIFactory\"),jQuery.sap.require(\"sas.ev.shared.authorization.AuthorizationManager\"),jQuery.sap.require(\"sas.ev.shared.Utils\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),jQuery.sap.require(\"sas.hc.ui.core.util.UserInfo\"),jQuery.sap.require(\"sas.hc.m.library\"),jQuery.sap.require(\"sap.ui.base.BindingParser\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\"),jQuery.sap.require(\"sap.ui.core.InvisibleText\"),jQuery.sap.require(\"sas.hc.m.Dialog\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sap.ui.model.BindingMode\"),sas.ev.shared.authorization.AuthorizationUIFactory={rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),createMainPanel:function(t,e){var a=\"folder\"===t.objectType||\"myFolder\"===t.objectType||\"userFolder\"===t.objectType||\"userRoot\"===t.objectType||\"applicationDataFolder\"===t.objectType||\"historyFolder\"===t.objectType||\"favoritesFolder\"===t.objectType||\"hiddenFolder\"===t.objectType;return t.isFolder=a,this.objectAuthMgr=new sas.ev.shared.authorization.AuthorizationManager({objectInfo:t,readOnly:e,showObjectLabelAndIcon:!0,showSaveCancelRefreshButtons:!0,dirty:function(t){}}),this.objectAuthMgr},displayAuthorizationDialog:function(t,e){var a=this;sas.ev.shared.Utils.isGuestModeEnabled().done(function(o){sas.config.get(sas.config.appId)?sas.config.get(sas.config.appId).isGuest=o:sas.config[sas.config.appId]={isGuest:o},a._displayAuthorizationDialog(t,e)}).fail(function(t,e,o){a._displayAjaxError(t,e,o)})},_displayAuthorizationDialog:function(t,e){var a=this,o={isDirty:!1,isTransactionChangesPending:!1,readOnly:e,canEdit:!1},i=new sap.ui.model.json.JSONModel(o);sap.ui.getCore().setModel(i,\"SASEV-AuthorizationManagerModel\");var s=!t.hasOwnProperty(\"objectUri\");if(t.isCasObject=s,s){var n=\"(\"+sas.hc.ui.core.util.UserInfo.instance.id+\")\",r=\"CASUSER\"+n,c=\"CASUSERHDFS\"+n,l=this.rb.getText(\"AuthorizationUIFactory.Dialog.viewAuth.title.txt\");e||(l=this.rb.getText(\"AuthorizationUIFactory.Dialog.editAuth.title.txt\"));var u=this.rb.getText(\"AuthorizationUIFactory.PersonalLib.Info.Dialog.txt\"),g=this.rb.getText(\"AuthorizationUIFactory.PersonalLib.Table.Info.Dialog.txt\");if(\"caslibs\"===t.objectType&&(t.objectName===r||t.objectName===c))return void sas.hc.m.MessageDialog.information({text:u,title:l,buttonActions:[{text:sas.hc.m.MessageDialogAction.Close,initialFocus:!0,defaultButton:!0}]});if(\"tables\"===t.objectType&&(t.caslibId===r||t.caslibId===c))return void sas.hc.m.MessageDialog.information({text:g,title:l,buttonActions:[{text:sas.hc.m.MessageDialogAction.Close,initialFocus:!0,defaultButton:!0}]})}var h,a=this,d=$.Deferred();t.hasOwnProperty(\"objectUri\")?d.resolve(t):t.objectLockDeferred=d,h=this.createMainPanel(t,e),d.done(function(o){a._createAndDisplayAuthDialog(h,t,e)}).fail(function(e){h.destroy(),a.objectAuthMgr=null;var o,i,s=null;if(e&&e.responseText){e.responseText.indexOf(\"12509\")>=0?(o=a.rb.getText(\"Common.dialog.title.objectLocked.txt\"),i=a.rb.getText(\"Common.dialog.message.objectLocked.fmt.txt\",[t.objectName])):(o=a.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),i=a.rb.getText(\"AuthorizationUIFactory.UnableLockObject.ErrDialog.message.fmt.txt\",[t.objectName]));var s=sap.ui.base.BindingParser.complexParser.escape(e.responseText)}else o=a.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),i=a.rb.getText(\"AuthorizationUIFactory.UnableLockObject.ErrDialog.message.fmt.txt\",[t.objectName]);a.displayObjectLockedWarningMessageDialog(t,o,i,s)})},displayObjectLockedWarningMessageDialog:function(t,e,a,o){var i=this,s=i.rb.getText(\"Common.button.label.viewAuthorization.txt\");o?sas.hc.m.MessageDialog.error({text:a,title:e,detailText:o,buttonActions:[{text:s,initialFocus:!0,defaultButton:!0},sas.hc.m.MessageDialogAction.Cancel]}).attachButtonPress(function(e){if(e.getParameter(\"origin\").getText()===s){t.superuserAssumed||(t.sessionId=null);var a=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");a.setProperty(\"/readOnly\",!0),a.setProperty(\"/isLockedByOthers\",!0);var o=i.createMainPanel(t,!0);i._createAndDisplayAuthDialog(o,t,!0)}}):sas.hc.m.MessageDialog.error({text:a,title:e,buttonActions:[{text:s,initialFocus:!0,defaultButton:!0},sas.hc.m.MessageDialogAction.Cancel]}).attachButtonPress(function(e){if(e.getParameter(\"origin\").getText()===s){t.superuserAssumed||(t.sessionId=null);var a=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");a.setProperty(\"/readOnly\",!0),a.setProperty(\"/isLockedByOthers\",!0);var o=i.createMainPanel(t,!0);i._createAndDisplayAuthDialog(o,t,!0)}})},_createAndDisplayAuthDialog:function(t,e,a){var o,i=this;o=a?i.rb.getText(\"AuthorizationUIFactory.Dialog.viewAuth.title.txt\"):i.rb.getText(\"AuthorizationUIFactory.Dialog.editAuth.title.txt\");var s=new sap.ui.core.InvisibleText({text:e.objectName}).toStatic(),n=new sas.hc.m.Dialog({id:\"sas-ev-shared-authorization-AuthorizationUIFactory-authDialog\",title:o,height:\"100%\",content:[t],stretch:jQuery.device.is.phone,resizable:!1,ariaLabelledBy:s,endButton:h});void 0===window.showIndividualPermissions&&(window.showIndividualPermissions=!0);var r;e.isCasObject?(window.showIndividualPermissions?(n.setContentWidth(\"73rem\"),\"caslibs\"===e.objectType&&n.setContentWidth(\"85.375rem\")):n.setContentWidth(\"45rem\"),r=\"SASEV-AuthorizationManagerModel>/isDirty\"):(e.isFolder?n.setContentWidth(\"60rem\"):n.setContentWidth(\"50rem\"),r=\"SASEV-AuthorizationManagerModel>/isPreviewDirty\"),this.dialog=n,t.dialog=n,t.uiFactory=i;var c=new sas.hc.m.Button({text:i.rb.getText(\"Common.button.label.Preview.txt\"),enabled:{path:r},press:function(e){t.preview()}});this.previewButton=c;var l=new sas.hc.m.Button({text:i.rb.getText(\"Common.button.label.Save.txt\"),enabled:{parts:[{path:\"SASEV-AuthorizationManagerModel>/isDirty\"},{path:\"SASEV-AuthorizationManagerModel>/isTransactionChangesPending\"}],formatter:function(t,e){return t||e},mode:sap.ui.model.BindingMode.OneWay},press:function(e){t.save()}});this.saveButton=l;var u=new sas.hc.m.Button({text:i.rb.getText(\"common.button.label.Cancel.txt\"),press:function(e){var a=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\"),o=a.getProperty(\"/isDirty\"),s=a.getProperty(\"/isTransactionChangesPending\");o||s?i.showUnsavedCASChangesWarning():(t.unlockObjectAndCleanupTransaction(),n.close(),n.destroy())}});this.cancelButton=u;var g=new sas.hc.m.Button({text:i.rb.getText(\"common.button.label.Edit.txt\"),enabled:{parts:[{path:\"SASEV-AuthorizationManagerModel>/canEdit\"},{path:\"SASEV-AuthorizationManagerModel>/isLockedByOthers\"}],formatter:function(t,e){return t&&!e},mode:sap.ui.model.BindingMode.OneWay},press:function(e){t.switchToEdit()}});this.editButton=g;var h=new sas.hc.m.Button({text:i.rb.getText(\"Common.button.label.Close.txt\"),press:function(t){i.objectAuthMgr.getIsDirty()?i.showUnsavedChangeWarning():(n.close(),n.destroy())}});this.closeButton=h,a?(n.setBeginButton(g),n.setEndButton(h)):(n.setBeginButton(c),n.setMiddleButton(l),n.setEndButton(u)),n.addStyleClass(\"evAuthorizationDialog\"),n.attachAfterOpen(function(){jQuery.sap.require(\"sas.hc.ui.core.Narrator\"),sas.hc.ui.core.Narrator.addTextNow(e.objectName)}),n.attachAfterClose(function(){n.destroy()}),this.showUnsavedChangeWarning=function(){var e=this.rb.getText(\"AuthorizationManagerFactory.CloseAction.ConfirmMsg.txt\");sas.hc.m.MessageDialog.warning({text:e,title:i.rb.getText(\"AuthorizationManagerFactory.CloseAction.ConfirmMsg.Title.txt\"),buttonActions:[sas.hc.m.MessageDialogAction.Save,sas.hc.m.MessageDialogAction.DontSave,{text:sas.hc.m.MessageDialogAction.Cancel,initialFocus:!0,defaultButton:!0}],buttonPress:function(e){var a=e.getParameter(\"origin\");a.getMessageDialogAction()===sas.hc.m.MessageDialogAction.Save?(t.save(),n.close(),n.destroy()):a.getMessageDialogAction()===sas.hc.m.MessageDialogAction.DontSave?(n.close(),n.destroy()):(a.getMessageDialogAction(),sas.hc.m.MessageDialogAction.Cancel)}})},this.showUnsavedCASChangesWarning=function(){var e=this.rb.getText(\"AuthorizationManagerFactory.CloseAction.ConfirmMsg.txt\");sas.hc.m.MessageDialog.warning({text:e,title:i.rb.getText(\"AuthorizationManagerFactory.CloseAction.ConfirmMsg.Title.txt\"),buttonActions:[sas.hc.m.MessageDialogAction.Save,sas.hc.m.MessageDialogAction.DontSave,{text:sas.hc.m.MessageDialogAction.Cancel,initialFocus:!0,defaultButton:!0}],buttonPress:function(e){var a=e.getParameter(\"origin\");a.getMessageDialogAction()===sas.hc.m.MessageDialogAction.Save?t.save():a.getMessageDialogAction()===sas.hc.m.MessageDialogAction.DontSave?(t.unlockObjectAndCleanupTransaction(),n.close(),n.destroy()):(a.getMessageDialogAction(),sas.hc.m.MessageDialogAction.Cancel)}})}},setEditButtons:function(){this.dialog.setBeginButton(this.previewButton),this.dialog.setMiddleButton(this.saveButton),this.dialog.setEndButton(this.cancelButton),this.dialog.setTitle(this.rb.getText(\"AuthorizationUIFactory.Dialog.editAuth.title.txt\"))},announceMessage:function(t){jQuery.sap.require(\"sas.hc.ui.core.Narrator\"),sas.hc.ui.core.Narrator.addTextNow(t)},_displayAjaxError:function(t,e,a){var o=this,i={};i.title=o.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),i.message=i.detail=t,sas.ev.shared.Utils.ajaxErrorMessageHandler(i).open()}}}();",
	"sas/ev/shared/authorization/cas/BasicPermissionsPage.controller.js": "// Copyright (c) 2015, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\njQuery.sap.require(\"sas.ev.shared.authorization.util.AuthorizationUtil\"),jQuery.sap.require(\"sas.ev.shared.authorization.services.CASAuthorizationService\"),jQuery.sap.require(\"sas.ev.shared.IdentitySelect\"),jQuery.sap.require(\"sas.ev.shared.IdentityTypes\"),jQuery.sap.require(\"sas.hc.ui.layout.form.Form\"),jQuery.sap.require(\"sap.ui.core.mvc.Controller\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.ev.shared.SuperuserUtils\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),jQuery.sap.require(\"sas.hc.m.MessageToast\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.m.slider.HorizontalSlider\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.m.library\"),jQuery.sap.require(\"sas.hc.m.HelpPopup\"),jQuery.sap.require(\"sas.hc.ui.layout.SplitterLayoutData\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.m.Text\"),jQuery.sap.require(\"sas.hc.m.VBox\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.ui.commons.HorizontalDivider\"),jQuery.sap.require(\"sas.hc.m.List\"),jQuery.sap.require(\"sas.hc.m.StandardListItem\"),jQuery.sap.require(\"sap.ui.model.BindingMode\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.hc.ui.layout.form.ResponsiveGridLayout\"),jQuery.sap.require(\"sas.hc.ui.layout.form.FormContainer\"),jQuery.sap.require(\"sas.hc.ui.layout.form.FormElement\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sas.hc.ui.core.util.UserInfo\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.TextArea\"),jQuery.sap.require(\"sas.ev.shared.Utils\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\"),jQuery.sap.require(\"sas.hc.m.Dialog\"),jQuery.sap.require(\"sas.ev.shared.ui.HelpLabel\");var Dialog=sas.hc.m.Dialog,HelpLabel=sas.ev.shared.ui.HelpLabel;sap.ui.controller(\"sas.ev.shared.authorization.cas.BasicPermissionsPage\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),_targetIdentityList:[],_stdDialog:null,_identityInput:null,logger:sas.log.getLogger(\"sas.ev.shared.authorization.cas.BasicPermissionsPage\",sas.log.Level.ERROR),serviceProxy:new sas.ev.shared.authorization.services.CASAuthorizationService,_permInspectorTable:null,_authorizationsExplainedInfoList:[],_addedIdentitiesMap:{},_removedIdentitiesMap:{},permissionDisplayNames:{},permissionDisplayNamesAbb:{},onInit:function(){void 0===window.showIndividualPermissions&&(window.showIndividualPermissions=!0)},getIsWriteable:function(){var e=this,t=this.getView()._authorizationManager;(sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\").setBusy(!0),sas.ev.shared.SuperuserUtils.isSuperuserAssumed(this._serverId)&&this._sessionId)?sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/canEdit\",!0):this.serviceProxy.getIsWriteable(t.getObjectInfo()).done(function(e){var t=\"grant\"===e.type;sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/canEdit\",t)}).fail(function(t,i,s){e._displayAjaxError(t,i,s)})},getApplicablePermissions:function(){var e=this;this.authorizationManager=this.getView()._authorizationManager,this._objectInfo=this.authorizationManager.getObjectInfo();var t=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");t&&t.setBusy(!0),sas.ev.shared.authorization.util.AuthorizationUtil.openBusyDialog(),this.serviceProxy.getApplicablePermissions(this._objectInfo.objectType).done(function(t){var i=sas.ev.shared.authorization.util.AuthorizationUtil.reorderPermissions(t.items);$.each(i,function(t,i){var s=e.rb.getText(\"Permission.DisplayName.\"+i.replace(/\\s/g,\"_\")+\".txt\");e.permissionDisplayNames[i]=s||i});var s={columnLabels:e.permissionDisplayNames},a=new sap.ui.model.json.JSONModel;a.setData(s),e.getView().setModel(a,\"authTableColumnLabelsModel\"),e.getView().setPermissionNames(i),e._getAuthorizationsOnObject(!1,!1)}).fail(function(i,s,a){e._displayAjaxError(i,s,a),e.authorizationManager.dialog.destroy(),t&&t.setBusy(!1),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog()})},_getAuthorizationsOnObject:function(e,t){var i=this,s=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");s&&s.setBusy(!0),t?i._getAuthorizationsExplained(e,t,[],!1):this.serviceProxy.getRelevantPrincipals(this._objectInfo.objectType,this._objectInfo.serverId,this._objectInfo.caslibId,this._objectInfo.objectId,this._objectInfo.sessionId).done(function(s){var a,o=s.items;o&&(a=$.grep(o,function(e,t){return\"*\"===e.identity&&\"group\"===e.identityType})),a&&a.length>0||o.push({identity:\"*\",identityType:\"group\"});var r=$.map(o,function(e){return{id:e.identity,type:e.identityType}});i._getAuthorizationsExplained(e,t,r,!1)}).fail(function(e,t,a){i._displayAjaxError(e,t,a),s&&s.setBusy(!1),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog(),i.authorizationManager&&i.authorizationManager.dialog&&i.authorizationManager.dialog.destroy()})},_getAuthorizationsExplained:function(e,t,i,s,a){var o=this,r=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");r&&r.setBusy(!0),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog(),\"columns\"===this._objectType?this.serviceProxy.getAuthorizationsOnColumnObj(i,this._objectInfo.objectType,this._objectInfo.serverId,this._objectInfo.caslibId,this._objectInfo.tableId,this._objectInfo_objectId,\"all\",this._objectInfo.sessionId).done(function(t){var i=t.items;$.each(i,function(e,t){var i=sas.ev.shared.authorization.util.AuthorizationUtil.getAccessLevel(t,o._objectInfo.objectType);t.accessLevel=i}),i=o.reorderIdentitites(i),o._authorizationsExplainedInfoList=$.extend(!0,[],i);var s=[{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.custom.txt\"),Id:\"custom\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.none.txt\"),Id:\"none\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.read.txt\"),Id:\"read\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.full.txt\"),Id:\"full\"}],a=new sap.ui.model.json.JSONModel({accessLevelsLabelsData:s});o.getView().setModel(a),o.getView().getAuthorizationManager().getModel(\"authorizationModel\").setProperty(\"/rows\",i),o.getView()._authorizationManager.dialog.open(),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog(),e&&sas.hc.m.MessageToast.show(o.rb.getText(\"Common.sas.ev.successful.refresh.txt\"))}).fail(function(e,t,i){o._displayAjaxError(e,t,i),o.authorizationManager.dialog.destroy()}).always(function(){r&&r.setBusy(!1)}):this.serviceProxy.getAuthorizationsOnObj(\"effective\",i,this._objectInfo.objectType,this._objectInfo.serverId,this._objectInfo.caslibId,this._objectInfo.objectId,\"all\",s,this._objectInfo.sessionId).done(function(i){var r=i.items;o.getIdentitiesInfoAndUpdateTable(r,s,e,t,a)}).fail(function(e,i,s){if(t){var a=o.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),n=o.rb.getText(\"BasicPermissionPage.errorAccessingAuthInfo.txt\"),l=o.rb.getText(\"common.button.label.Cancel.txt\");sas.hc.m.MessageDialog.error({text:n,title:a,buttonActions:[{text:l,initialFocus:!0,defaultButton:!0}]}).attachButtonPress(function(e){e.getParameter(\"origin\").getText()===l&&(o.getView()._authorizationManager.unlockObjectAndCleanupTransaction(),o.getView()._authorizationManager.dialog.destroy())})}else o._displayAjaxError(e,i,s),o.authorizationManager.dialog.destroy();r&&r.setBusy(!1)}).always(function(){r&&r.setBusy(!1)})},getIdentitiesInfoAndUpdateTable:function(e,t,i,s,a){var o=this,r=!1;$.each(e,function(e,t){\"guest\"===t.identityType&&(r=!0),t.hasOwnProperty(\"tableFilter\")&&t.select===sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_INHERITED_FILTERED&&delete t.tableFilter});var n=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");a&&n.setProperty(\"/enableAddGuestMenuItem\",!1),s&&!r?n.setProperty(\"/enableAddGuestMenuItem\",!0):t||n.setProperty(\"/enableAddGuestMenuItem\",!r),e=o.reorderIdentitites(e);var l=[],u=[];if($.each(e,function(e,t){var i=sas.ev.shared.authorization.util.AuthorizationUtil.getAccessLevel(t,o._objectInfo.objectType);t.accessLevel=i,\"*\"===t.identity&&\"group\"===t.identityType&&(t.identityName=o.rb.getText(\"BasicPermissionPage.authenticatedUser.txt\")),\"user\"===t.identityType?l.push(t.identity):u.push(t.identity)}),l.length>0&&u.length>0){var d=o.serviceProxy.getIdentitiesInfo(\"users\",l),c=o.serviceProxy.getIdentitiesInfo(\"groups\",u);$.when(d,c).done(function(a,r){a&&o.addDisplaynames(e,a),r&&o.addDisplaynames(e,r),e.sort(sas.ev.shared.authorization.util.AuthorizationUtil.compareCasAuthList);var n=o.getView().getAuthorizationManager().getModel(\"authorizationModel\");if(t){var l=$.extend(!0,[],e);o._authorizationsExplainedInfoList=$.merge(o._authorizationsExplainedInfoList,l);var u=n.getProperty(\"/rows\"),d=$.merge(u,e);n.setProperty(\"/rows\",d),i&&sas.hc.m.MessageToast.show(o.rb.getText(\"Common.sas.ev.successful.refresh.txt\")),s&&sas.hc.m.MessageToast.show(o.rb.getText(\"Common.sas.ev.successful.preview.txt\"))}else{o._authorizationsExplainedInfoList=$.extend(!0,[],e),n.setProperty(\"/rows\",e),o.getView()._authorizationManager.dialog.open(),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog(),i&&sas.hc.m.MessageToast.show(o.rb.getText(\"Common.sas.ev.successful.refresh.txt\")),s&&sas.hc.m.MessageToast.show(o.rb.getText(\"Common.sas.ev.successful.preview.txt\"));var c=[{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.custom.txt\"),Id:\"custom\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.none.txt\"),Id:\"none\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.read.txt\"),Id:\"read\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.write.txt\"),Id:\"write\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.full.txt\"),Id:\"full\"}],g=new sap.ui.model.json.JSONModel({accessLevelsLabelsData:c});o.getView().setModel(g)}})}else if(l.length>0){var d=o.serviceProxy.getIdentitiesInfo(\"users\",l);$.when(d).done(function(a){a&&o.addDisplaynames(e,a),e.sort(sas.ev.shared.authorization.util.AuthorizationUtil.compareCasAuthList);var r=o.getView().getAuthorizationManager().getModel(\"authorizationModel\");if(t){var n=$.extend(!0,[],e);o._authorizationsExplainedInfoList=$.merge(o._authorizationsExplainedInfoList,n);var l=r.getProperty(\"/rows\"),u=$.merge(l,e);r.setProperty(\"/rows\",u)}else{o._authorizationsExplainedInfoList=$.extend(!0,[],e),r.setProperty(\"/rows\",e),o.getView()._authorizationManager.dialog.open(),o.announceMessage(\"Authorization dialog for JP\"),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog(),i&&sas.hc.m.MessageToast.show(o.rb.getText(\"Common.sas.ev.successful.refresh.txt\")),s&&sas.hc.m.MessageToast.show(o.rb.getText(\"Common.sas.ev.successful.preview.txt\"));var d=[{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.custom.txt\"),Id:\"custom\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.none.txt\"),Id:\"none\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.read.txt\"),Id:\"read\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.write.txt\"),Id:\"write\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.full.txt\"),Id:\"full\"}],c=new sap.ui.model.json.JSONModel({accessLevelsLabelsData:d});o.getView().setModel(c)}})}else if(u.length>0){var c=o.serviceProxy.getIdentitiesInfo(\"groups\",u);$.when(c).done(function(a){a&&o.addDisplaynames(e,a),e.sort(sas.ev.shared.authorization.util.AuthorizationUtil.compareCasAuthList);var r=o.getView().getAuthorizationManager().getModel(\"authorizationModel\");if(t){var n=$.extend(!0,[],e);o._authorizationsExplainedInfoList=$.merge(o._authorizationsExplainedInfoList,n);var l=r.getProperty(\"/rows\"),u=$.merge(l,e);r.setProperty(\"/rows\",u)}else{o._authorizationsExplainedInfoList=$.extend(!0,[],e),r.setProperty(\"/rows\",e),o.getView()._authorizationManager.dialog.open(),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog(),i&&sas.hc.m.MessageToast.show(o.rb.getText(\"Common.sas.ev.successful.refresh.txt\")),s&&sas.hc.m.MessageToast.show(o.rb.getText(\"Common.sas.ev.successful.preview.txt\"));var d=[{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.custom.txt\"),Id:\"custom\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.none.txt\"),Id:\"none\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.read.txt\"),Id:\"read\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.write.txt\"),Id:\"write\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.full.txt\"),Id:\"full\"}],c=new sap.ui.model.json.JSONModel({accessLevelsLabelsData:d});o.getView().setModel(c)}})}else{$.each(e,function(e,t){t.providerId=\"ldap\"}),e.sort(sas.ev.shared.authorization.util.AuthorizationUtil.compareCasAuthList);var g=o.getView().getAuthorizationManager().getModel(\"authorizationModel\");if(!identitiesArray||0===identitiesArray.length){o._authorizationsExplainedInfoList=$.extend(!0,[],e),g.setProperty(\"/rows\",e),o.getView()._authorizationManager.dialog.open(),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog();var h=[{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.custom.txt\"),Id:\"custom\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.none.txt\"),Id:\"none\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.read.txt\"),Id:\"read\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.write.txt\"),Id:\"write\"},{Name:o.rb.getText(\"BasicPermissionPage.accesssLevel.detail.full.txt\"),Id:\"full\"}],p=new sap.ui.model.json.JSONModel({accessLevelsLabelsData:h});o.getView().setModel(p)}}},addDisplaynames:function(e,t){var i=$.isArray(t)?t[0].items:t.items;$.each(i,function(t,i){$.each(e,function(e,t){if(t.identity===i.id&&t.identityType===i.type)return t.identityName=i.name,t.providerId=i.providerId,!1})})},getIcon:function(e){return\"UserGroup\"===e||\"152\"===e?sas.icons.HC.USERGROUP:\"Role\"===e||\"148\"===e?sas.icons.HC.USERSROLE:sas.icons.HC.USER},setPermission:function(e,t,i,s,a){jQuery.sap.require(\"sas.ev.shared.authorization.util.AuthorizationUtil\");var o,r=this,n=r.getView().getAuthorizationManager().getModel(\"authorizationModel\"),l=n.getProperty(\"/rows\"),u=sas.ev.shared.authorization.util.AuthorizationUtil.getIndexOfIdentity(l,t,i),d=a||\"\";switch(s){case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT:o=sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT;break;case sas.ev.shared.authorization.util.AuthorizationUtil.ROW_LEVEL_GRANT:o=sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT_FILTERED;break;case sas.ev.shared.authorization.util.AuthorizationUtil.DENY:o=sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT;break;default:var c,g=sas.ev.shared.authorization.util.AuthorizationUtil.getIndexOfIdentity(r._authorizationsExplainedInfoList,t,i);-1!==g&&(c=r._authorizationsExplainedInfoList[g][e]),o=c&&c!==sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT&&c!==sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT_FILTERED&&c!==sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT?c:sas.ev.shared.authorization.util.AuthorizationUtil.NO_DECISION}e===sas.ev.shared.authorization.util.AuthorizationUtil.SELECT&&n.setProperty(\"/rows/\"+u+\"/tableFilter\",d),n.setProperty(\"/rows/\"+u+\"/\"+e,o),n.setProperty(\"/rows/\"+u+\"/\"+e+\"IsDirty\",\"true\");var h=n.getProperty(\"/rows/\"+u),p=sas.ev.shared.authorization.util.AuthorizationUtil.getAccessLevel(h,r._objectInfo.objectType);n.setProperty(\"/rows/\"+u+\"/accessLevel\",p),sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/isDirty\",!0);var m=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");m.getRows()[u]&&m.getRows()[u].rerender(),r.getView()._authorizationManager.setIsDirty(!0)},onAccessLevelChange:function(e){var t=this,i=e.getSource(),s=i.getCustomData()[0].getProperty(\"value\"),a=i.getCustomData()[1].getProperty(\"value\");if(s||a){var o=t.getView().getAuthorizationManager().getModel(\"authorizationModel\"),r=0;i instanceof sas.hc.m.slider.HorizontalSlider?r=i.getValues()[0]:i instanceof sas.hc.m.Select&&(r=i.getSelectedIndex()-1,i.setVisible(!1),i.getParent().getItems()[0].setValues([r]),i.getParent().getItems()[0].setVisible(!0)),sas.ev.shared.authorization.util.AuthorizationUtil.setAccessLevelPermissions(o,s,a,r),t.getView()._authorizationManager.setIsDirty(!0);sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/isDirty\",!0)}},refresh:function(e,t){var i=this,s=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");if(s.getProperty(\"/isDirty\")||s.getProperty(\"/isTransactionChangesPending\")){var a=i.rb.getText(\"BasicPermissionPage.RefreshAction.ConfirmMsg.txt\");sas.hc.m.MessageDialog.warning({text:a,title:i.rb.getText(\"BasicPermissionPage.RefreshAction.ConfirmDlg.title.txt\"),buttonActions:[sas.hc.m.MessageDialogAction.Yes,{text:sas.hc.m.MessageDialogAction.Cancel,initialFocus:!0,defaultButton:!0}],buttonPress:function(e){var t=e.getParameter(\"origin\");t.getMessageDialogAction()===sas.hc.m.MessageDialogAction.Yes?i.discardCurrentChangesAndRefresh():(t.getMessageDialogAction(),sas.hc.m.MessageDialogAction.Cancel)}})}else i._refreshAuthorizationView(e,t),i.getView()._authorizationManager.setIsDirty(!1),s.setProperty(\"/isDirty\",!1),s.setProperty(\"/isTransactionChangesPending\",!1)},_refreshAuthorizationView:function(e,t){var i=this;if(sas.ev.shared.SuperuserUtils.isSuperuserAssumed(i.getView()._authorizationManager.getObjectInfo().serverId)&&e){var s=function(s,a){i.getView()._authorizationManager.getObjectInfo().sessionId=s,i._sessionId=s,i._getAuthorizationsOnObject(e,t)},a=function(e,t,s){i._displayAjaxError(e,t,s),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog()};sas.ev.shared.SuperuserUtils.getSuperuserSession(i.getView()._authorizationManager.getObjectInfo().serverId,s,a)}else i.getView()._authorizationManager.getReadOnly()?i._getAuthorizationsOnObject(e,t):this.serviceProxy.getIsWriteable(i.getView()._authorizationManager.getObjectInfo()).done(function(s){sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/canEdit\",\"grant\"===s.type),i._getAuthorizationsOnObject(e,t)}).fail(function(e,t,s){i._displayAjaxError(e,t,s)})},refreshView:function(e,t){var i=this,s=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");sas.ev.shared.SuperuserUtils.isSuperuserAssumed(i._serverId)&&i._sessionId?(s.setProperty(\"/canEdit\",!0),i._getAuthorizationsOnObject(e)):this.serviceProxy.getIsWriteable(authorizationManager.getObjectInfo()).done(function(e){s.setProperty(\"/canEdit\",\"grant\"===e.type),i.getApplicablePermissions()}).fail(function(e,t,s){i._displayAjaxError(e,t,s)})},showOrigins:function(e,t,i,s,a){var o=this;this.serviceProxy.getAuthorizationsOnObj(\"origin\",[{id:t,type:i}],this._objectInfo.objectType,this._objectInfo.serverId,this._objectInfo.caslibId,this._objectInfo.objectId,\"all\",!1,this._objectInfo.sessionId).done(function(t){var i=t.items;i=i.filter(function(e){return e.permission===s});var a=o.getView().getAuthorizationManager().getModel(\"authorizationModel\").getProperty(\"/rows\");i=i.map(function(e){return $.each(a,function(t,i){if(i.identity===e.identity)return e.identityDisplayname=i.identityName,e.identityProviderId=i.providerId,!1}),e});var r,n=new sas.hc.m.HelpPopup({library:\"sas.ev.shared.authorization\",key:\"casorigins\"}),l=new sas.hc.ui.layout.SplitterLayoutData({size:\"auto\"}),u=new sas.hc.m.ResponsiveToolbar({id:o.getView().getId()+\"-authOriginsToolbar\",layoutData:l,content:[new sas.hc.m.ToolbarSpacer,n]});if(0===i.length){var d=sas.icons.pool.createControlByURI({src:sas.icons.HC.ZEROSTATETABLE,tooltip:o.rb.getText(\"Permission.origins.no.origins.info.txt\")});zeroStateText=new sas.hc.m.Text({text:o.rb.getText(\"Permission.origins.no.origins.info.txt\")}),r=new sas.hc.m.VBox({height:\"100%\",width:\"100%\",items:[u,d,zeroStateText]})}else if(i[0].origin&&\"default\"===i[0].origin)zeroStateText=new sas.hc.m.Text({text:o.rb.getText(\"Permission.origins.default.info.txt\")}),r=new sas.hc.m.VBox({height:\"100%\",width:\"100%\",items:[u,zeroStateText]});else{var c=new sas.hc.ui.layout.form.Form({layout:new sas.hc.ui.layout.form.ResponsiveGridLayout({labelSpanS:12,labelSpanM:12,labelSpanL:12,labelSpanXL:12}),formContainers:[new sas.hc.ui.layout.form.FormContainer({formElements:[new sas.hc.ui.layout.form.FormElement({label:new sas.hc.m.Label({text:o.rb.getText(\"Permission.origins.source.object.label.txt\")}),fields:[new sas.hc.m.Label({text:i[0].objectName,textAlign:\"Left\",icon:sas.ev.shared.authorization.util.AuthorizationUtil.getCasObjectIcon(i[0].objectType)})]})]})]}),g=new sas.hc.m.Label({text:o.rb.getText(\"Permission.origins.principals.label.txt\")}).addStyleClass(\"sapUiTinyMarginBottom\"),h=(new sas.hc.ui.commons.HorizontalDivider).addStyleClass(\"sapUiNoMargin\"),p={principals:i},m=(new sas.hc.m.List).addStyleClass(\"sapUiTinyMarginTop\"),y=new sas.hc.m.StandardListItem({icon:{parts:[{path:\"identityType\"},{path:\"identity\"},{path:\"identityProviderId\"}],formatter:function(e,t,i){return o.getView().getIdentityIcon(e,t,i)}},title:{parts:[{path:\"identityType\"},{path:\"identity\"},{path:\"identityDisplayname\"}],formatter:function(e,t,i){return o.getDisplayname(e,t,i)},mode:sap.ui.model.BindingMode.OneWay},tooltip:{parts:[{path:\"identityType\"},{path:\"identity\"},{path:\"identityProviderId\"}],formatter:function(e,t,i){return\"guest\"===e?o.rb.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"):\"*\"===t?o.rb.getText(\"BasicPermissionPage.authenticatedUser.txt\"):void 0===i?o.rb.getText(\"BasicPermissionPage.identityColumn.identityNotFound.txt\"):t},mode:sap.ui.model.BindingMode.OneWay},type:sap.m.ListType.Active}),f=new sap.ui.model.json.JSONModel(p);m.setModel(f),m.bindAggregation(\"items\",\"/principals\",y),r=new sas.hc.m.VBox({height:\"100%\",width:\"100%\",items:[u,c,g,h,m]})}o.showOriginsDialog(e,r)})},showOriginsDialog:function(e,t){var i,s=new sas.hc.m.Button({text:this.rb.getText(\"Common.button.label.Close.txt\"),press:function(){i.close()}});i=new Dialog({title:this.rb.getText(\"Common.permissionSetting.OriginsPopOver.title.txt\"),resizable:!1,content:[t],buttons:[s],afterClose:[function(){this.destroy()},i]}),i.addStyleClass(\"sasEVConditionDialog\"),i.open()},getDisplayname:function(e,t,i){var s=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\");return\"guest\"===e?s.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"):\"*\"===t?s.getText(\"BasicPermissionPage.authenticatedUser.txt\"):i&&i.length>0?i:t},addIdentity:function(){var e=this,t=e.getView().getAuthorizationManager().getModel(\"authorizationModel\"),i=t.getProperty(\"/rows\"),s=[];$.each(i,function(e,t){var i=t.identity;i&&(i=i.replace(/'/g,\"''\")),s.push({id:i,type:t.identityType.toLowerCase()})}),sas.ev.shared.IdentitySelect.getControl($.proxy(this._addSelectedIdentity,this),!0,{items:s},[],[],this.rb.getText(\"BasicPermissionPage.identitySelect.addIdentities.title\"),sas.ev.shared.IdentityTypes.CUSTOM_GROUP)},addGuest:function(){this._addSelectedIdentity({items:[{type:\"guest\"}]},!0)},_addSelectedIdentity:function(e,t){var i=this,s=e.items;i._getAuthorizationsExplained(!1,!1,s,!0,t)},displayFilterDialog:function(e,t,i){var s=this,a=this.getView()._authorizationManager,o=t.getProperty(\"tableFilter\")||\"\",r=new sas.hc.ui.layout.form.Form({layout:new sas.hc.ui.layout.form.ResponsiveGridLayout({columnsL:1,labelSpanS:12,labelSpanM:3,labelSpanL:3}),formContainers:[new sas.hc.ui.layout.form.FormContainer({formElements:[new sas.hc.ui.layout.form.FormElement({label:new HelpLabel({text:this.rb.getText(\"BasicPermissionPage.Filter.Text.control.txt\"),library:\"sas.ev.shared.authorization\",key:\"casrlp\"}).addStyleClass(\"evHelpPopupLabel\"),fields:[new sas.hc.m.TextArea(\"FilterExpressionText\",{value:o,placeholder:this.rb.getText(\"BasicPermissionPage.Filter.Text.placeholder.txt\"),editable:!a.getProperty(\"readOnly\"),autoExpandable:!0})]})]})]}),n=new sas.hc.m.Button({text:this.rb.getText(\"common.button.label.OK.txt\"),press:[{sPermName:e,authorizationManager:a,oBindingContext:t,sPermType:i},s._okFilterDialog,s]}),l=new sas.hc.m.Button({text:this.rb.getText(\"common.button.label.Cancel.txt\"),press:[this._cancelFilterDialog,s]});this.filterDialog=new Dialog({title:this.rb.getText(\"BasicPermissionPage.Filter.Dialog.title.txt\"),resizable:!1,content:[r],buttons:[n,l],afterClose:[function(){this.destroy()},this.filterDialog]}),this.filterDialog.setBindingContext(t,\"authorizationModel\"),this.filterDialog.addStyleClass(\"sasEVConditionDialog\"),this.filterDialog.open()},_cancelFilterDialog:function(e){null!==this.filterDialog&&(this.filterDialog.close(),this.filterDialog.destroy())},_okFilterDialog:function(e,t){var i=t.oBindingContext.getProperty().hasOwnProperty(\"tableFilter\")?t.oBindingContext.getProperty(\"tableFilter\"):\"\",s=sap.ui.getCore().byId(\"FilterExpressionText\").getValue().trim();i!==s&&(\"\"===s?this.setPermission(t.sPermName,t.oBindingContext.getProperty(\"identity\"),t.oBindingContext.getProperty(\"identityType\"),t.sPermType):this.setPermission(t.sPermName,t.oBindingContext.getProperty(\"identity\"),t.oBindingContext.getProperty(\"identityType\"),sas.ev.shared.authorization.util.AuthorizationUtil.ROW_LEVEL_GRANT,s)),this._cancelFilterDialog()},_addOrRemoveIdentities:function(e,t){if(void 0!==e&&0!==e.length){var i=this,s=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");s.setBusy(!0);var a=this.oModelContext.getProperty(\"data/id\"),o=$.map(e,function(e){return null===e.objectID?e.identityId:e.objectID}),r=this._contextRoot+\"/identitiesOnObject\";sas.ajax({url:r,type:\"POST\",data:{type:t,objectId:a,identityObjectIdsArray:o},sas:{authenticate:!0}}).done(function(s){\"ADD\"===t?$.each(e,function(e,t){t.id in i._removedIdentitiesMap&&delete i._removedIdentitiesMap[t.id],t.id in i._addedIdentitiesMap||(i._addedIdentitiesMap[t.id]=t)}):$.each(e,function(e,t){t.id in i._addedIdentitiesMap&&delete i._addedIdentitiesMap[t.id],t.id in i._removedIdentitiesMap||(i._removedIdentitiesMap[t.id]=t)}),i._createAndSetAuthorizationsData(s),i.setDirty(!0)}).fail(function(e,t,s){i._displayAjaxError(e,t,s)}).always(function(){s.setBusy(!1)})}},removeIdentity:function(e){var t=this,i=sas.ev.shared.authorization.util.AuthorizationUtil.getSelectedItems(e,\"authorizationModel\",\"rows\"),s=i,a=this.rb.getText(\"BasicPermissionPage.RmvIdentitiesAction.ConfirmMsg.txt\");s.length!==i.length&&(a=this.rb.getText(\"BasicPermissionPage.RmvIdentitiesAction.InheritedORACTIdentity.WarningMsg.txt\")),sas.hc.m.MessageDialog.warning({text:a,title:this.rb.getText(\"BasicPermissionPage.RmvIdentitiesAction.ConfirmMsg.Title.txt\"),buttonActions:[sas.hc.m.MessageDialogAction.Yes,{text:sas.hc.m.MessageDialogAction.No,initialFocus:!0,defaultButton:!0}],buttonPress:function(e){var i=e.getParameter(\"origin\");if(i.getMessageDialogAction()===sas.hc.m.MessageDialogAction.Yes){sas.ev.shared.authorization.util.AuthorizationUtil.removeExlicitPermissions(s,t._objectType);var a=sap.ui.getCore().byId(t.getView().getId()+\"--permissionsTable\"),o=a.getModel(\"authorizationModel\"),r=o.getProperty(\"/rows\");o.setProperty(\"/rows\",r),t.getView()._authorizationManager.setIsDirty(!0);sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/isDirty\",!0)}else i.getMessageDialogAction(),sas.hc.m.MessageDialogAction.No}})},onInheritanceOverrides:function(e){sas.ev.shared.authorization.util.AuthorizationUtil.getSelectedItems(e,\"authorizationModel\",\"rows\")[0].identity},onShowIndividualPermissions:function(e){var t=this,i=e.getSource(),s=i.getSelected();window.showIndividualPermissions=s;var a=sap.ui.getCore().byId(this.getView().getId()+\"_showHorizontalLabelCheckBox\");a.setVisible(s),sap.ui.getCore().byId(this.getView().getId()+\"_showHorizontalLabelCheckBoxDivider\").setVisible(s);var o=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\"),r=o.getColumns();a.getSelected()?(a.setSelected(!1),o.addStyleClass(\"evTableRotateColumnHeaders\"),o.setColumnHeaderHeight(140),$.each(r,function(e,t){t.getId().indexOf(\"permissionsTable_identities_col\")<0&&t.getId().indexOf(\"permissionsTable_simplifiedAccess_col\")<0&&(t.setWidth(\"36px\"),t.getLabel().setTextAlign(sap.ui.core.TextAlign.Begin),t.setVisible(s))})):$.each(r,function(e,t){t.getId().indexOf(\"permissionsTable_identities_col\")<0&&t.getId().indexOf(\"permissionsTable_simplifiedAccess_col\")<0&&(t.setVisible(s),t.getLabel().setTextAlign(sap.ui.core.TextAlign.Begin))}),s?(t.getView()._authorizationManager.dialog.setContentWidth(\"75rem\"),\"caslibs\"===t._objectInfo.objectType&&t.getView()._authorizationManager.dialog.setContentWidth(\"85.375rem\")):t.getView()._authorizationManager.dialog.setContentWidth(\"45rem\")},onShowHorizontalLabelCheckBox:function(e){var t=e.getSource(),i=t.getSelected();window.showHorizontalLabel=i;var s=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\"),a=s.getColumns();i?(s.removeStyleClass(\"evTableRotateColumnHeaders\"),s.setColumnHeaderHeight(36),$.each(a,function(e,t){t.getId().indexOf(\"permissionsTable_identities_col\")<0&&t.getId().indexOf(\"permissionsTable_simplifiedAccess_col\")<0&&(t.setWidth(\"120px\"),t.getLabel().setTextAlign(sap.ui.core.TextAlign.Center))})):(s.addStyleClass(\"evTableRotateColumnHeaders\"),s.setColumnHeaderHeight(140),$.each(a,function(e,t){t.getId().indexOf(\"_permissionsTable_identities_col\")<0&&t.getId().indexOf(\"permissionsTable_simplifiedAccess_col\")<0&&(t.setWidth(\"36px\"),t.getLabel().setTextAlign(sap.ui.core.TextAlign.Begin))}))},cancel:function(){var e=this,t=$.extend(!0,[],e._authorizationsExplainedInfoList);e.getView().getAuthorizationManager().getModel(\"authorizationModel\").setProperty(\"/rows\",t),e.getView()._authorizationManager.setIsDirty(!1),e.getView().getAuthorizationManager().getModel(\"authorizationModel\").setProperty(\"/isDirty\",!1)},save:function(){var e=this;sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").getProperty(\"/isDirty\")?this.postChangesToTransaction(!0):e.checkPermissionsAndWarn(e._objectInfo,!0)},preview:function(){this.postChangesToTransaction(!1)},announceMessage:function(e){jQuery.sap.require(\"sas.hc.ui.core.Narrator\"),sas.hc.ui.core.Narrator.addTextNow(e)},postChangesToTransaction:function(e){var t=this,i=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");i.setBusy(!0);var s,a=t.getView().getAuthorizationManager().getModel(\"authorizationModel\"),o=a.getProperty(\"/rows\"),r=[];s=t._objectInfo.objectType===sas.ev.shared.authorization.util.AuthorizationUtil.CASLIBS?sas.ev.shared.authorization.util.AuthorizationUtil.CASLIB_FULL_CONTROL_PERMISSION_SET:t._objectInfo.objectType===sas.ev.shared.authorization.util.AuthorizationUtil.TABLES?sas.ev.shared.authorization.util.AuthorizationUtil.TABLE_FULL_CONTROL_PERMISSION_SET:sas.ev.shared.authorization.util.AuthorizationUtil.COLUMN_FULL_CONTROL_PERMISSION_SET,$.each(o,function(e,t){$.each(s,function(e,i){if(t[i]){var s={type:sas.ev.shared.authorization.util.AuthorizationUtil.GRANT,permission:i,identityType:t.identityType,identity:t.identity};switch(t[i]){case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT:case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT_FILTERED:t.tableFilter&&(s.tableFilter=t.tableFilter),r.push(s);break;case sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT:s.type=sas.ev.shared.authorization.util.AuthorizationUtil.DENY,r.push(s)}}})}),t.serviceProxy.setAuthorizationsOnObj(r,t._objectInfo).done(function(){var i=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");i.setProperty(\"/isDirty\",!1),i.setProperty(\"/isTransactionChangesPending\",!0),t.checkPermissionsAndWarn(t._objectInfo,e)}).fail(function(e,s,a){i.setBusy(!1),t._displayAjaxError(e,s,a)})},checkPermissionsAndWarn:function(e,t){var i=this,s=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");s&&s.setBusy(!0),this.serviceProxy.getAuthorizationsOnObj(\"effective\",[],e.objectType,e.serverId,e.caslibId,e.objectId,\"all\",!1,e.sessionId).done(function(s){var a=s.items,o=sas.hc.ui.core.util.UserInfo.instance.id,r=$.grep(a,function(e,t){\nreturn e.identity===o}),n=r[0],l=n.readInfo.indexOf(\"deny\")>-1,u=n.manageAccess.indexOf(\"deny\")>-1;l&&!e.superuserAssumed?i.handleDenySelfReadInfoOrManageAccessPermission(a,t,!0):u&&!e.superuserAssumed?i.handleDenySelfReadInfoOrManageAccessPermission(a,t,!1):t?i.commitChanges(e):i.getIdentitiesInfoAndUpdateTable(a,!1,!1,!0)}).fail(function(e,a,o){if(t)i._displayAjaxError(e,a,o);else{var r=i.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),n=i.rb.getText(\"BasicPermissionPage.errorAccessingAuthInfo.txt\"),l=i.rb.getText(\"common.button.label.Cancel.txt\");sas.hc.m.MessageDialog.error({text:n,title:r,buttonActions:[{text:l,initialFocus:!0,defaultButton:!0}]}).attachButtonPress(function(e){e.getParameter(\"origin\").getText()===l&&(i.getView()._authorizationManager.unlockObjectAndCleanupTransaction(),i.getView()._authorizationManager.dialog.destroy())})}s&&s.setBusy(!1)}).always(function(){s&&s.setBusy(!1),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog()})},handleDenySelfReadInfoOrManageAccessPermission:function(e,t,i){var s,a=this,o=a.rb.getText(\"Common.button.label.Discard.txt\"),r=a.rb.getText(\"Common.button.label.Preview.txt\"),n=a.rb.getText(\"Common.button.label.Save.txt\"),l=[{text:o,initialFocus:!0,defaultButton:!0}];t?(l.push({text:n,press:function(){}}),s=i?a.rb.getText(\"BasicPermissionPage.save.noReadInfo.permission.warning.txt\"):a.rb.getText(\"BasicPermissionPage.save.noManageAccess.permission.warning.txt\")):(l.push({text:r}),s=i?a.rb.getText(\"BasicPermissionPage.preview.noReadInfo.permission.warning.txt\"):a.rb.getText(\"BasicPermissionPage.preview.noManageAccess.permission.warning.txt\")),sas.hc.m.MessageDialog.warning({text:s,title:t?n:r,buttonActions:l}).attachButtonPress(function(i){var s=i.getParameter(\"origin\");if(s.getText()===o)a.discardCurrentChangesAndRefresh();else if(s.getText()===n)a.commitChanges(a._objectInfo);else{a.getIdentitiesInfoAndUpdateTable(e,!1,!t),a._getAuthorizationsOnObject(!1,!0);var r=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");r.setProperty(\"/canEdit\",!1)}})},discardCurrentChangesAndRefresh:function(){var e=this;e.serviceProxy.setSessionTransactionState(e._objectInfo.serverId,e._objectInfo.sessionId,\"cancel\").done(function(t){e.serviceProxy.setSessionTransactionState(e._objectInfo.serverId,e._objectInfo.sessionId,\"start\").done(function(t){sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/isTransactionStarted\",!0),e.serviceProxy.lockObject(e._objectInfo).done(function(t){var i=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");e.getView()._authorizationManager.setReadOnly(!1),i.setProperty(\"/canEdit\",!0),i.setProperty(\"/isDirty\",!1),i.setProperty(\"/isTransactionChangesPending\",!1),e._getAuthorizationsOnObject(!0,!1)}).fail(function(t,i,s){e.serviceProxy.setSessionTransactionState(e._objectInfo.serverId,e._objectInfo.sessionId,\"cancel\").done(function(e,t,i){sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/isTransactionStarted\",!1)}).fail(function(t,i,s){e._displayAjaxError(t,i,s)})})}).fail(function(t,i,s){e._displayAjaxError(t,i,s)})}).fail(function(t,i,s){e._displayAjaxError(t,i,s)})},commitChanges:function(e){var t=this;t.serviceProxy.setSessionTransactionState(e.serverId,e.sessionId,\"commit\").done(function(){t.getView()._authorizationManager.fireSaveCompleted({success:!0}),sap.ui.getCore().getEventBus().publish(\"sasevCASAuthorization\",\"updated\",t),e.superuserAssumed||(t.serviceProxy.deleteSession(e.sessionId,e.serverId),delete e.sessionId),t.getView()._authorizationManager.dialog.destroy(),t.announceMessage(\"Save completed\")}).fail(function(e,i,s){t._displayAjaxError(e,i,s)})},reorderIdentitites:function(e){var t=this,s=[];return t._authorizationsExplainedInfoList&&t._authorizationsExplainedInfoList.length>0?($.each(t._authorizationsExplainedInfoList,function(t,a){var o=!1;for(i=0;i<e.length&&!o;)a.identityType===e[i].identityType&&a.identity===e[i].identity&&(s.push(e[i]),e.splice(i,1),o=!0),i++}),e.length>0&&s.push.apply(s,e),s):e},_displayAjaxError:function(e,t,i){var s=this,a={};a.title=s.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),a.message=a.detail=e,sas.ev.shared.Utils.ajaxErrorMessageHandler(a).open()}});",
	"sas/ev/shared/authorization/cas/BasicPermissionsPage.view.js": "// Copyright (c) 2015, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\njQuery.sap.require(\"sas.hc.m.Image\"),jQuery.sap.require(\"sap.ui.core.mvc.JSView\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.table.Table\"),jQuery.sap.require(\"sas.hc.ui.table.library\"),jQuery.sap.require(\"sap.ui.commons.Label\"),jQuery.sap.require(\"sap.ui.model.BindingMode\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sas.hc.ui.table.Column\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.ui.core.Item\"),jQuery.sap.require(\"sas.ev.shared.authorization.util.AuthorizationUtil\"),jQuery.sap.require(\"sas.hc.m.VBox\"),jQuery.sap.require(\"sap.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.CheckBox\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.m.MenuItem\"),jQuery.sap.require(\"sas.hc.m.Menu\"),jQuery.sap.require(\"sas.hc.m.MenuButton\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.ToolbarSeparator\"),jQuery.sap.require(\"sas.hc.m.HelpPopup\"),jQuery.sap.require(\"sas.hc.ui.layout.SplitterLayoutData\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.m.MessageStrip\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.ui.core.Icon\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),jQuery.sap.require(\"sap.m.SelectList\"),jQuery.sap.require(\"sas.hc.m.HBox\"),jQuery.sap.require(\"sap.ui.commons.TextView\"),jQuery.sap.require(\"sap.ui.commons.HorizontalDivider\"),jQuery.sap.require(\"sas.hc.m.ResponsivePopover\"),jQuery.sap.require(\"sap.m.library\"),sap.ui.jsview(\"sas.ev.shared.authorization.cas.BasicPermissionsPage\",{getControllerName:function(){return\"sas.ev.shared.authorization.cas.BasicPermissionsPage\"},permissionNames:[],_authorizationManager:null,setPermissionNames:function(e){this.permissionNames=e,this.createPermissionColumns(e,this.controller)},controller:null,createContent:function(e){var t=this;this.controller=e,void 0===window.showIndividualPermissions&&(window.showIndividualPermissions=!0);var i=!!document.documentMode,a=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),s=new sas.hc.ui.table.Table(this.createId(\"permissionsTable\"),{fixedColumnCount:2,selectionMode:sas.hc.ui.table.SelectionMode.MultiToggle,rowSelectionChange:function(){t._enableToolBarButtons()},enableColumnFreeze:!1,showSelectionControls:!1,showTableOptions:!1});s.bindRows(\"authorizationModel>/rows\"),s.addStyleClass(\"sasEVCASContentAuthTable\"),s.addStyleClass(\"evTableRotateColumnHeaders\"),this.permissionTable=s;var o=new sas.hc.m.Label({text:{parts:[{path:\"authorizationModel>identityType\"},{path:\"authorizationModel>identity\"},{path:\"authorizationModel>identityName\"}],formatter:function(e,i,a){return t.getDisplayname(e,i,a)},mode:sap.ui.model.BindingMode.OneWay},icon:{parts:[{path:\"authorizationModel>identityType\"},{path:\"authorizationModel>identity\"},{path:\"authorizationModel>providerId\"}],formatter:function(e,i,a){return t.getIdentityIcon(e,i,a)},mode:sap.ui.model.BindingMode.OneWay},tooltip:{parts:[{path:\"authorizationModel>identityType\"},{path:\"authorizationModel>identity\"},{path:\"authorizationModel>providerId\"}],formatter:function(e,t,i){return\"guest\"===e?a.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"):\"*\"===t?a.getText(\"BasicPermissionPage.authenticatedUser.txt\"):void 0===i?a.getText(\"BasicPermissionPage.identityColumn.identityNotFound.txt\"):t},mode:sap.ui.model.BindingMode.OneWay},customData:[{Type:\"sap.ui.core.CustomData\",key:\"id\",value:\"{objectId}\"},{Type:\"sap.ui.core.CustomData\",key:\"type\",value:\"{objectType}\"},{Type:\"sap.ui.core.CustomData\",key:\"identityInfo\",value:{path:\"authorizationModel>identity\"}}]});o.attachBrowserEvent(\"dblclick\",function(e){});var n=new sas.hc.m.Label({text:a.getText(\"BasicPermissionPage.identityColumn.txt\"),tooltip:a.getText(\"BasicPermissionPage.identityColumn.txt\")}),r=new sas.hc.ui.table.Column(this.getId()+\"_permissionsTable_identities_col\",{label:n,width:\"250px\",template:o,sortProperty:\"identityName\"});i&&(r.width=void 0),s.addColumn(r);var l=new sas.hc.m.Select({width:\"235px\",items:{path:\"/accessLevelsLabelsData\",template:new sas.hc.ui.core.Item({key:\"{Id}\",text:\"{Name}\"}),templateShareable:!1},enabled:{parts:[{path:\"SASEV-AuthorizationManagerModel>/readOnly\"},{path:\"SASEV-AuthorizationManagerModel>/canEdit\"}],formatter:function(e,t){return!e&&t}},selectedItem:{path:\"authorizationModel>accessLevel\",formatter:function(e){return e===sas.ev.shared.authorization.util.AuthorizationUtil.ACCESS_LEVEL_CUSTOM?0:e+1}},visible:{path:\"authorizationModel>accessLevel\",formatter:function(e){return e===sas.ev.shared.authorization.util.AuthorizationUtil.ACCESS_LEVEL_CUSTOM?this.setSelectedIndex(0):this.setSelectedIndex(e+1),e===sas.ev.shared.authorization.util.AuthorizationUtil.ACCESS_LEVEL_CUSTOM}},change:[e.onAccessLevelChange,e],customData:[{Type:\"sap.ui.core.CustomData\",key:\"identity\",value:{path:\"authorizationModel>identity\"}},{Type:\"sap.ui.core.CustomData\",key:\"identityType\",value:{path:\"authorizationModel>identityType\"}}]});l.addStyleClass(\"sapUiTinyMargin\"),jQuery.sap.require(\"sas.hc.m.slider.HorizontalSlider\");var u=new sas.hc.m.slider.HorizontalSlider(this.createId(\"_accessSlider\"),{min:0,max:{path:\"authorizationModel>/objectType\",formatter:function(e){return e===sas.ev.shared.authorization.util.AuthorizationUtil.COLUMNS?2:3}},thumbs:1,showStepLabels:!1,showInput:!1,totalUnits:{path:\"authorizationModel>/objectType\",formatter:function(e){return e===sas.ev.shared.authorization.util.AuthorizationUtil.COLUMNS?2:3}},values:{path:\"authorizationModel>accessLevel\",formatter:function(e){return[e]}},formatCallback:function(e){var i=t._authorizationManager.getObjectInfo().objectType;return sas.ev.shared.authorization.util.AuthorizationUtil.getFormatedAccessLevelString(e,i)},visible:{path:\"authorizationModel>accessLevel\",formatter:function(e){return e!==sas.ev.shared.authorization.util.AuthorizationUtil.ACCESS_LEVEL_CUSTOM}},enabled:{parts:[{path:\"SASEV-AuthorizationManagerModel>/readOnly\"},{path:\"SASEV-AuthorizationManagerModel>/canEdit\"}],formatter:function(e,t){return!e&&t}},liveChange:[e.onAccessLevelChange,e],customData:[{Type:\"sap.ui.core.CustomData\",key:\"identity\",value:{path:\"authorizationModel>identity\"}},{Type:\"sap.ui.core.CustomData\",key:\"identityType\",value:{path:\"authorizationModel>identityType\"}}],width:\"240px\"});s.attachAfterColumnsDialogClose(function(e){t.columnsDialogJustClosed=!0});var h=new sas.hc.m.VBox({alignItems:\"Center\",width:\"100%\",layoutData:new sap.m.FlexItemData({growFactor:1}),items:[u,l]});h.addStyleClass(\"sapUiSmallMarginBottom\"),h.attachBrowserEvent(\"keydown\",function(e){27===e.keyCode&&(s.focus(),e.stopPropagation())});var d=new sas.hc.m.Label({text:a.getText(\"BasicPermissionPage.accesssColumn.txt\")}),c=new sas.hc.ui.table.Column(this.getId()+\"_permissionsTable_simplifiedAccess_col\",{label:d,width:\"260px\",template:h});i&&(c.width=void 0),s.addColumn(c);var p=new sas.hc.m.CheckBox({id:this.getId()+\"_showIndividualPermissionsCheckBox\",text:a.getText(\"BasicPermissionPage.ShowIndividualPermissions.Checkbox.label.txt\"),selected:window.showIndividualPermissions,select:[e.onShowIndividualPermissions,e]});p.addStyleClass(\"evAuthorizationCheckBox\");var m,y;if(sas.config.get(sas.config.appId)?y=sas.config.get(sas.config.appId).isGuest:sas.config[sas.config.appId]&&(y=sas.config[sas.config.appId].isGuest),y){var g=new sas.hc.m.MenuItem({id:\"sasev_add_identity_menuitem\",text:a.getText(\"Common.AddIdentites.txt\"),press:function(){e.addIdentity()}}),T=new sas.hc.m.MenuItem({id:\"sasev_add_guest_menuitem\",text:a.getText(\"BasicPermissionPage.addGuest.menuItem.txt\"),enabled:{path:\"SASEV-AuthorizationManagerModel>/enableAddGuestMenuItem\"},press:function(){e.addGuest()}}),C=new sas.hc.m.Menu(this.getId()+\"_addPrincipalsButton\",{});C.addItem(g),C.addItem(T),m=new sas.hc.m.MenuButton({id:\"sasev_add_principals_button\",icon:sas.icons.HC.USER,tooltip:a.getText(\"BasicPermissionPage.addButton.tip\"),menu:C})}else m=new sas.hc.m.Button(this.getId()+\"_addIdentityButton\",{icon:sas.icons.HC.USER,enabled:!0,tooltip:a.getText(\"BasicPermissionPage.addButton.tip\"),press:function(){e.addIdentity()}});var v=new sas.hc.m.CheckBox({id:this.getId()+\"_showHorizontalLabelCheckBox\",text:a.getText(\"BasicPermissionPage.ShowHorizontalLabel.Checkbox.label.txt\"),selected:!1,visible:!0,select:[e.onShowHorizontalLabelCheckBox,e]}),I=new sas.hc.m.ToolbarSeparator({id:this.getId()+\"_showHorizontalLabelCheckBoxDivider\"});this.removeIdentityButton=new sas.hc.m.Button(this.getId()+\"_removeIdentityButton\",{enabled:!1,icon:sas.icons.HC.CLEARALL,tooltip:a.getText(\"BasicPermissionPage.removeButton.tip\"),press:function(){e.removeIdentity(s)}});var x=new sas.hc.m.Button(this.getId()+\"permissionsInspectorButton\",{icon:sas.icons.HC.PERMISSIONSINSPECTOR,enabled:!1,visible:!1,tooltip:a.getText(\"Permissions.Inspector.tooltip.txt\"),press:function(){e.showPermissionInspector()}}),b=new sas.hc.m.Button(this.getId()+\"inheritanceOverridesButton\",{icon:sas.icons.HC.LISTVIEW,enabled:!1,visible:!1,tooltip:a.getText(\"Permissions.InheritanceOverride.tooltip.txt\"),press:function(){e.onInheritanceOverrides(s)}});this.refreshButton=new sas.hc.m.Button({icon:sas.icons.HC.REFRESH,tooltip:a.getText(\"BasicPermissionPage.refreshButton.tip\"),press:function(){e.refresh(!0)}}),this.helpButton=new sas.hc.m.HelpPopup({library:\"sas.ev.shared.authorization\",key:\"casauthzgrid\"});var z=new sas.hc.ui.layout.SplitterLayoutData({size:\"auto\"}),S=new sas.hc.m.ResponsiveToolbar({id:this.getId()+\"-authTableToolbar\",layoutData:z,content:[p,new sas.hc.m.ToolbarSpacer,v,I,m,this.removeIdentityButton,this.refreshButton,b,x,this.helpButton]});S.addStyleClass(\"evTableToolbar\");var w=new sas.hc.m.VBox({height:\"100%\",width:\"100%\"});return t.titleLabel=new sas.hc.m.Label({text:\"\",textAlign:\"Left\",icon:{path:\"authorizationModel>/objectType\",formatter:function(e){return sas.ev.shared.authorization.util.AuthorizationUtil.getCasObjectIcon(e)}}}),t.titleLabel.addStyleClass(\"evObjectTitleLbl\"),t.warningLabel=new sas.hc.m.MessageStrip({text:a.getText(\"BasicPermissionPage.membershipImpact.warning.txt\"),showIcon:!0,type:\"Warning\",showCloseButton:!1,visible:{path:\"SASEV-AuthorizationManagerModel>/isDirty\"}}),w.addItem(t.titleLabel),w.addItem(t.warningLabel),w.addItem(S),w.addItem(s),w},getIdentityIcon:function(e,t,i){return\"guest\"===e?sas.icons.HC.USER:void 0!==i&&null!==i||\"*\"===t?\"group\"===e?\"local\"===i?sas.icons.HC.CUSTOMGROUP:sas.icons.HC.USERGROUP:\"user\"===e?sas.icons.HC.USER:sas.icons.HC.USERGROUP:sas.icons.HC.ALERT},getDisplayname:function(e,t,i){var a=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\");return\"guest\"===e?a.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"):\"*\"===t?a.getText(\"BasicPermissionPage.authenticatedUser.txt\"):i&&i.length>0?i:t},getEffectivePermission:function(e){var t=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\");switch(e){case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT:case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_INHERITED:return t.getText(\"Permission.Cell.Authorized.Tooltip.txt\");case sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT:case sas.ev.shared.authorization.util.AuthorizationUtil.DENY_INHERITED:return t.getText(\"Permission.Cell.NotAuthorized.Tooltip.txt\");case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT_FILTERED:case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_INHERITED_FILTERED:return t.getText(\"Permission.Cell.Row-level.Tooltip.txt\");default:return t.getText(\"Permission.Cell.Unknown.Tooltip.txt\")}},createPermissionColumns:function(e,t){var i=this,a=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),s=this.getId(),o=sap.ui.getCore().byId(s+\"--permissionsTable\");i._authorizationManager.getObjectInfo().objectType!==sas.ev.shared.authorization.util.AuthorizationUtil.COLUMNS&&o.setColumnHeaderHeight(140),$.each(e,function(e,n){var r=a.getText(\"Permission.DisplayName.\"+n+\".txt\"),l=new sas.hc.m.FlexBox({alignItems:\"Center\",justifyContent:\"Center\",customData:[{Type:\"sap.ui.core.CustomData\",key:\"identity\",value:\"{authorizationModel>identity}\"},{Type:\"sap.ui.core.CustomData\",key:\"identityType\",value:\"{authorizationModel>identityType}\"},{Type:\"sap.ui.core.CustomData\",key:\"permissionName\",value:n},{Type:\"sap.ui.core.CustomData\",key:\"permissionDisplayName\",value:r},{Type:\"sap.ui.core.CustomData\",key:\"permissionValue\",value:{path:\"authorizationModel>\"+n}},{Type:\"sap.ui.core.CustomData\",key:\"permissionType\",value:{path:\"authorizationModel>\"+n}},{Type:\"sap.ui.core.CustomData\",key:\"providerId\",value:{path:\"authorizationModel>providerId\"}},{Type:\"sap.ui.core.CustomData\",key:\"identityName\",value:{path:\"authorizationModel>identityName\"}}],items:[new sas.hc.m.Image({width:\"16px\",height:\"16px\",src:{path:\"authorizationModel>\"+n,mode:sap.ui.model.BindingMode.OneWay,formatter:function(e){switch(e){case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT:case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_INHERITED:return this.setWidth(\"16px\"),this.setHeight(\"16px\"),this.setTooltip(a.getText(\"Permission.Cell.Authorized.Tooltip.txt\")),sas.icons.HC.COMPLETESTATUS;case sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT:case sas.ev.shared.authorization.util.AuthorizationUtil.DENY_INHERITED:return this.setWidth(\"16px\"),this.setHeight(\"16px\"),this.setTooltip(a.getText(\"Permission.Cell.NotAuthorized.Tooltip.txt\")),sas.icons.HC.INVALIDSTATUS;case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT_FILTERED:case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_INHERITED_FILTERED:return this.setWidth(\"16px\"),this.setHeight(\"16px\"),this.setTooltip(a.getText(\"Permission.Cell.Row-level.Tooltip.txt\")),sas.icons.HC.REVIEWSTATUS;default:return this.setTooltip(a.getText(\"Permission.Cell.Unknown.Tooltip.txt\")),sas.icons.HC.NEUTRALSTATUS}}}}),new sas.hc.ui.core.Icon({src:{path:\"authorizationModel>\"+n,mode:sap.ui.model.BindingMode.OneWay,formatter:function(e){switch(e){case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT:case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT_FILTERED:case sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT:return this.setTooltip(a.getText(\"Permission.Cell.Explicit.Tooltip.txt\")),sas.icons.HC.CONDITIONALHIGHLIGHTINGDIAMOND;default:return sas.icons.HC.BLANK}}}}).addStyleClass(\"evAuthorizationIcon\")]});l.attachBrowserEvent(\"click\",function(e){i.openPermissionCellPopup(this,t,null),e.stopPropagation()}),l.addStyleClass(\"evAuthTableIconFlexBox\"),o.attachDefaultAction(function(e){i.openPermissionCellPopup(null,t,e)});var u=new sas.hc.m.Label({text:{path:\"authTableColumnLabelsModel>/columnLabels/\"+n,mode:sap.ui.model.BindingMode.OneWay},tooltip:r}),h=new sas.hc.ui.table.Column(s+\"_permissionsTable_col_\"+n.replace(/\\s+/g,\"\"),{label:u,template:l});h.setVisible(window.showIndividualPermissions),o.addColumn(h)})},openPermissionCellPopup:function(e,t,i){var a,s=this,o=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\");if(e)a=e.getParent();else{var n=i.getParameter(\"rowIndex\"),r=i.getParameter(\"columnIndex\");a=sap.ui.getCore().byId(s.getId()+\"--permissionsTable\").getRows()[n],e=a.getCells()[r]}var l=e.data(\"permissionName\");if(l){var u=a.getBindingContext(\"authorizationModel\");if(u){var h=u.getProperty(\"/objectType\"),d=u.getProperty(\"identity\"),c=u.getProperty(\"identityType\"),p=e.data(\"permissionDisplayName\"),m=e.data(\"permissionValue\"),y=e.data(\"permissionType\"),g=e.data(\"providerId\"),T=e.data(\"identityName\"),o=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),C=[{Type:o.getText(\"Common.permissionType.Grant.txt\"),Key:sas.ev.shared.authorization.util.AuthorizationUtil.GRANT},{Type:o.getText(\"Common.permissionType.Deny.txt\"),Key:sas.ev.shared.authorization.util.AuthorizationUtil.DENY},{Type:o.getText(\"Common.permissionSetting.noExplicitControl.txt\"),Key:sas.ev.shared.authorization.util.AuthorizationUtil.NO_SETTING}];\"select\"===l&&\"tables\"===h&&C.splice(1,0,{Type:o.getText(\"Common.permissionType.rowLevel.grant.txt\"),Key:sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT_FILTERED});var v=new sap.ui.model.json.JSONModel({permissionSettingChoices:C}),I=new sas.hc.m.Select({width:\"200px\",autoAdjustWidth:!1,enabled:{parts:[{path:\"SASEV-AuthorizationManagerModel>/readOnly\"},{path:\"SASEV-AuthorizationManagerModel>/canEdit\"}],formatter:function(e,t){return!e&&t}},items:{path:\"/permissionSettingChoices\",template:new sas.hc.ui.core.Item({key:\"{Key}\",text:\"{Type}\"}),templateShareable:!1},change:function(){I.getSelectedItem().getKey()===sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT_FILTERED?t.displayFilterDialog(l,u,y):t.setPermission(l,d,c,I.getSelectedItem().getKey()),M.close()}});I.setModel(v);var x=I.getList();x.addEventDelegate({onmousedown:function(e){sap.m.SelectList.prototype.ontap.apply(x,arguments)}});var b=!1,z=!1;if(\"select\"!==l)switch(m){case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT:I.setSelectedIndex(0);break;case sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT:I.setSelectedIndex(1);break;default:I.setSelectedIndex(2)}else switch(\"tables\"===h&&(z=!0),m){case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT:I.setSelectedIndex(0);break;case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT_FILTERED:I.setSelectedIndex(1),\"tables\"===h&&(b=!0);break;case sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT:I.setSelectedIndex(2);break;default:I.setSelectedIndex(3)}var S=new sas.hc.m.Button({icon:sas.icons.HC.FILTER,tooltip:o.getText(\"Common.permissionSetting.filterButton.tooltip.txt\"),press:function(){t.displayFilterDialog(l,u)},enabled:b,visible:z}),w=new sas.hc.m.HBox({width:\"100%\",items:[I,S]}),A=new sas.hc.m.HBox({width:\"100%\",items:[new sap.ui.commons.Label({text:o.getText(\"permission.origins.principal.header.title\")+\":\"}).addStyleClass(\"sasPermissionCellPopupLabel\"),new sap.ui.commons.TextView({text:\"\"}),new sap.ui.commons.Label({text:s.getDisplayname(c,d,T),icon:s.getIdentityIcon(c,d,g)}).addStyleClass(\"sasPermissionCellPopupLabelValue\")]}),f=new sas.hc.m.HBox({width:\"100%\",items:[new sap.ui.commons.Label({text:o.getText(\"Common.Effective.Access.txt\")+\": \"}).addStyleClass(\"sasPermissionCellPopupLabel\"),new sap.ui.commons.TextView({text:\"\"}),new sap.ui.commons.Label({text:s.getEffectivePermission(m)}).addStyleClass(\"sasPermissionCellPopupLabelValue\"),new sap.ui.commons.TextView({text:\"\"}),new sas.hc.m.Button({enabled:!sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").getProperty(\"/isDirty\"),icon:sas.icons.HC.INFORMATION,tooltip:o.getText(\"Common.permissionSetting.showOrigins.txt\"),press:function(){t.showOrigins(this,d,c,l,p)}})]}),E=new sas.hc.m.VBox({width:\"100%\",items:[A,f,new sap.ui.commons.HorizontalDivider,new sap.ui.commons.Label({text:o.getText(\"Common.Direct.Setting.txt\")}).addStyleClass(\"sasPermissionCellPopupLabel\"),w]});E.addStyleClass(\"sapUiSmallMarginBottom\"),E.addStyleClass(\"sapUiSmallMarginBegin\"),E.addStyleClass(\"sapUiSmallMarginEnd\");var M=new sas.hc.m.ResponsivePopover({title:p,placement:sap.m.PlacementType.Auto,modal:!1,content:E});M.addStyleClass(\"evMPopover\"),M.openBy(e)}}},getAuthorizationManager:function(){return this._authorizationManager},setAuthorizationManager:function(e){this._authorizationManager=e,e.attachDirty($.proxy(function(e){this._enableToolBarButtons()}),this);var t=e.getObjectInfo().objectName;this.titleLabel.setText(t),this.titleLabel.setVisible(e.getShowObjectLabelAndIcon());var i=e.getShowSaveCancelRefreshButtons();this.refreshButton.setVisible(i),this.controller.getIsWriteable(),this.controller.getApplicablePermissions()},save:function(){this.controller.save()},preview:function(){this.controller.preview()},cancel:function(){this.controller.cancel()},refresh:function(){this.controller.refresh()},_enableToolBarButtons:function(e){var t=sap.ui.getCore().byId(this.getId()+\"--permissionsTable\"),i=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").getProperty(\"/canEdit\"),a=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").getProperty(\"/readOnly\");this.removeIdentityButton.setEnabled(t.getSelectedIndices().length>0&&!a&&i)},reRenderTable:function(){sap.ui.getCore().byId(this.getId()+\"--permissionsTable\").rerender()},exit:function(){}});",
	"sas/ev/shared/authorization/pet/AuthRulesTable.js": "// (c) 2018, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sas/hc/ui/table/Table\",\"sas/hc/ui/table/Column\",\"sas/hc/m/Label\",\"sap/ui/commons/Label\",\"sas/hc/m/Text\",\"sap/ui/model/type/String\",\"sap/ui/model/BindingMode\",\"sas/ev/shared/authorization/util/AuthorizationUtil\",\"sap/ui/core/Core\",\"sas/hc/ui/table/library\",\"sas/hc/ui/core/theme/IconInitialization\"],function(t,e,i,n,o,r,a,s,p){\"use strict\";var d=e.extend(\"sas.ev.shared.authorization.pet.AuthRulesTable\",{metadata:{properties:{},aggregations:{},events:{}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),renderer:\"sas.hc.ui.table.TableRenderer\",constructor:function(){e.apply(this,arguments)}});return d.prototype.init=function(){e.prototype.init&&e.prototype.init.apply(this,arguments),this.setVisibleRowCountMode(sas.hc.ui.table.VisibleRowCountMode.Auto),this._addColumns(),this.setSelectionBehavior(sas.hc.ui.table.SelectionBehavior.RowOnly),this.setSelectionMode(sas.hc.ui.table.SelectionMode.Single),this.setNoData(this.rb.getText(\"ContributingRules.NoData.txt\")),this.setEnablePixelScrolling(!1)},d.prototype._addColumns=function(){var e=this.rb,a=this,d=a.getId().split(/[_]+/).pop();window.columnsArray||(window.columnsArray=[\"principal\",\"type\",\"setting\",\"targetName\",\"objectUri\",\"containerUri\",\"condition\",\"description\",\"mediaType\",\"id\"]),t.each(window.columnsArray,function(t,l){switch(l){case\"type\":a.addColumn(new i({id:a.getId()+\"-type\",label:new n({text:a.rb.getText(\"permission.origins.ruleType.header.title\")}),visible:window.columnsVisibilityMap[d+\"-type\"],width:\"80px\",template:new r({wrapping:!1,width:\"100%\",text:{path:\"type\",formatter:function(t){return t?p.titleCase(t):\"\"}},tooltip:{path:\"type\",formatter:function(t){return t?p.titleCase(t):\"\"}}}),sortProperty:\"type\"}));break;case\"principal\":var c=new o({text:{parts:[{path:\"displayname\"},{path:\"principal\"},{path:\"principalType\"}],formatter:function(t,i,n){return t||(i||(\"authenticatedUsers\"===n?e.getText(\"BasicPermissionPage.identityColumn.authenticated.users.txt\"):\"guest\"===n?e.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"):e.getText(\"BasicPermissionPage.identityColumn.everyone.txt\")))},mode:s.OneWay},icon:{parts:[{path:\"principalType\"},{path:\"providerId\"}],formatter:function(t,e){return a.getIdentityIcon(t,e)},mode:s.OneWay},tooltip:{parts:[{path:\"principal\"},{path:\"principalType\"},{path:\"providerId\"}],formatter:function(t,i,n){return\"authenticatedUsers\"===i?e.getText(\"BasicPermissionPage.identityColumn.authenticated.users.txt\"):n?t||\"\":e.getText(\"BasicPermissionPage.identityColumn.identityNotFound.txt\")}}}),u=new n({text:e.getText(\"permission.origins.principal.header.title\"),textAlign:\"Left\",tooltip:e.getText(\"permission.origins.principal.header.title\")}),m=new i({id:a.getId()+\"-principal\",visible:window.columnsVisibilityMap[d+\"-principal\"],label:u,width:\"180px\",template:c,sortProperty:\"displayname\"});a.addColumn(m);break;case\"setting\":var h=new n({text:{parts:[{path:\"type\"},{path:\"condition\"}],formatter:function(t,i){return\"grant\"===t?i&&i.length>0?e.getText(\"Common.permissionType.GrantWithCondition.txt\"):e.getText(\"Common.permissionType.Grant.txt\"):i&&i.length>0?e.getText(\"Common.permissionType.ProhibitWithCondition.txt\"):e.getText(\"Common.permissionType.Prohibit.txt\")},mode:s.OneWay},width:\"100%\"});a.addColumn(new i({id:a.getId()+\"-setting\",label:new n({width:\"100%\",text:a.rb.getText(\"permission.origins.setting.header.title\")}),visible:window.columnsVisibilityMap[d+\"-setting\"],width:\"225px\",template:h,sortProperty:\"type\"}));break;case\"targetName\":a.addColumn(new i({id:a.getId()+\"-targetName\",label:new n({width:\"100%\",text:a.rb.getText(\"permission.origins.targetName.header.title\")}),visible:window.columnsVisibilityMap[d+\"-targetName\"],width:\"200px\",template:new r({width:\"100%\",wrapping:!1,text:\"{targetName}\",tooltip:\"{targetName}\"}),sortProperty:\"targetName\"}));break;case\"condition\":a.addColumn(new i({id:a.getId()+\"-condition\",width:\"150px\",label:new n({text:a.rb.getText(\"permission.origins.condition.header.title\")}),visible:window.columnsVisibilityMap[d+\"-condition\"],template:new r({wrapping:!1,text:\"{condition}\",tooltip:\"{condition}\"}),sortProperty:\"condition\"}));break;case\"objectUri\":a.addColumn(new i({id:a.getId()+\"-objectUri\",label:new n({text:a.rb.getText(\"permission.origins.objectUri.header.title\")}),visible:window.columnsVisibilityMap[d+\"-objectUri\"],width:\"150px\",template:new r({wrapping:!1,width:\"100%\",text:\"{objectUri}\"}),sortProperty:\"objectUri\"}));break;case\"containerUri\":a.addColumn(new i({id:a.getId()+\"-containerUri\",label:new n({text:a.rb.getText(\"permission.origins.containerUri.header.title\")}),visible:window.columnsVisibilityMap[d+\"-containerUri\"],width:\"150px\",template:new r({wrapping:!1,width:\"100%\",text:\"{containerUri}\"}),sortProperty:\"containerUri\"}));break;case\"description\":a.addColumn(new i({id:a.getId()+\"-description\",label:new n({text:a.rb.getText(\"permission.origins.description.header.title\")}),visible:window.columnsVisibilityMap[d+\"-description\"],width:\"200px\",template:new r({wrapping:!1,width:\"100%\",text:\"{description}\",tooltip:\"{description}\"}),sortProperty:\"description\"}));break;case\"mediaType\":a.addColumn(new i({id:a.getId()+\"-mediaType\",label:new n({text:a.rb.getText(\"permission.origins.mediaType.header.title\")}),visible:window.columnsVisibilityMap[d+\"-mediaType\"],width:\"150px\",template:new r({wrapping:!1,width:\"100%\",text:\"{mediaType}\"}),sortProperty:\"mediaType\"}));break;case\"id\":a.addColumn(new i({id:a.getId()+\"-id\",label:new n({text:a.rb.getText(\"permission.origins.ruleid.header.title\")}),visible:window.columnsVisibilityMap[d+\"-id\"],width:\"172px\",template:new r({wrapping:!1,width:\"100%\",text:\"{id}\"}),sortProperty:\"id\"}))}})},d.prototype.exit=function(){e.prototype.exit&&e.prototype.exit.apply(this,arguments);var i=this.getColumns();t.each(i,function(t,e){var i=e.getId().split(/[_]+/).pop();window.columnsVisibilityMap[i]=e.getVisible()})},d.prototype._adjustRows=function(){var t=!1;return!1===this.hasOwnProperty(\"_iAdjustRowsCount\")&&(this._iAdjustRowsCount=0),this._iAdjustRowsCount++,this._iAdjustRowsCount<4&&(t=e.prototype._adjustRows.apply(this,arguments)),t||delete this._iAdjustRowsCount,t},d.prototype.getIdentityIcon=function(t,e){sas.icons.HC.ALERT;return e||\"authenticatedUsers\"===t||\"guest\"===t||\"everyone\"===t?\"group\"===t?e&&\"local\"===e?sas.icons.HC.CUSTOMGROUP:sas.icons.HC.USERGROUP:\"user\"===t||\"guest\"===t?sas.icons.HC.USER:sas.icons.HC.USERGROUP:sas.icons.HC.ALERT},d});",
	"sas/ev/shared/authorization/pet/BasicPermissionsPage.controller.js": "// Copyright (c) 2015, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\njQuery.sap.require(\"sas.ev.shared.authorization.util.AuthorizationUtil\"),jQuery.sap.require(\"sas.ev.shared.authorization.services.PetAuthorizationService\"),jQuery.sap.require(\"sas.ev.shared.IdentitySelect\"),jQuery.sap.require(\"sas.ev.shared.IdentityTypes\"),jQuery.sap.require(\"sas.ev.shared.Utils\"),jQuery.sap.require(\"sas.ev.shared.ConditionDialog\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\"),jQuery.sap.require(\"sap.ui.core.mvc.Controller\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.m.library\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sas.hc.ui.core.util.UserInfo\"),jQuery.sap.require(\"sas.hc.m.MessageToast\");var ConditionDialog=sas.ev.shared.ConditionDialog;sap.ui.controller(\"sas.ev.shared.authorization.pet.BasicPermissionsPage\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),_targetIdentityList:[],_stdDialog:null,_identityInput:null,logger:sas.log.getLogger(\"sas.ev.shared.authorization.cas.BasicPermissionsPage\",sas.log.Level.ERROR),serviceProxy:new sas.ev.shared.authorization.services.PetAuthorizationService,_permInspectorTable:null,_authorizationsExplainedInfoList:[],_savedDirectRulesMap:{},_directRulesMap:{},_addedIdentities:[],_removedIdentitiesMap:{},permissionDisplayNames:{},permissionDisplayNamesAbb:{},onInit:function(){this.authorizationManager=this.getView().authorizationManager,void 0===window.showIndividualPermissions&&(window.showIndividualPermissions=!0)},getIsWriteable:function(){sas.ev.shared.authorization.util.AuthorizationUtil.openBusyDialog();var e=this,t=this.getView()._authorizationManager;this._objectUri=t.getObjectInfo().objectUri,sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\").setBusy(!0);var i=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");sas.ev.shared.authorization.util.AuthorizationUtil.getSharingConfiguration().then(function(e){var t=e.properties;t?$.each(t,function(e,t){\"sas.authorization.share.reshare.enabled\"===t.name?i.setProperty(\"/reshareEnabled\",\"true\"===t.value):\"sas.authorization.share.enabled\"===t.name&&i.setProperty(\"/shareEnabled\",\"true\"===t.value)}):(i.setProperty(\"/shareEnabled\",\"true\"===e[\"sas.authorization.share.enabled\"]),i.setProperty(\"/reshareEnabled\",\"true\"===e[\"sas.authorization.share.reshare.enabled\"]))}),this.serviceProxy.getIsCurrentUserAuthorizedOnObject(this._objectUri,\"secure\").done(function(t){i.setProperty(\"/canEdit\",t),e.getView().createPermissionColumns(e),e._getAuthorizationsOnObject()}).fail(function(t,i,a){e.logger.error(\"Error loading getting manageAccess permission\"),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog();var r={};r.title=e.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),r.message=r.detail=t,sas.ev.shared.Utils.ajaxErrorMessageHandler(r).open(),e.getView()._authorizationManager.dialog.destroy()}).always(function(){e.getAllDirectRulesOnObject()})},_getAuthorizationsOnObject:function(e){var t=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");t&&t.setBusy(!0);var i=this,a=this.getView()._authorizationManager;this._objectUri=a.getObjectInfo().objectUri,this.serviceProxy.getAuthorizationsOnObject(i._objectUri).done(function(t){var r=t.explanations[i._objectUri];a.getObjectInfo().isFolder&&(r=i.adeptTableModel(r)),i.getIdentitiesInfoAndUpdateTable(r,e,!1)}).fail(function(e,t,a){var r={};r.title=i.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),r.message=r.detail=e,sas.ev.shared.Utils.ajaxErrorMessageHandler(r).open()}).always(function(){t&&t.setBusy(!1),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog()})},addDisplaynames:function(e,t){var i=$.isArray(t)?t[0].items:t.items;$.each(i,function(t,i){$.each(e,function(e,t){if(t.principal.name===i.id&&t.principal.type===i.type)return t.principal.displayname=i.name,t.principal.providerId=i.providerId,!1})}),$.each(e,function(e,t){t.principal.displayname||(t.principal.displayname=t.principal.name)})},adeptTableModel:function(e){var t=this,a=[\"read\",\"update\",\"delete\",\"secure\",\"add\",\"remove\"];$.each(e,function(e,t){$.each(a,function(e,i){t[i+\"-conveyed\"]=t[i].conveyedExplanation})});var r=[];return t._authorizationsExplainedInfoList&&t._authorizationsExplainedInfoList.length>0?($.each(t._authorizationsExplainedInfoList,function(t,a){var s=!1;for(i=0;i<e.length&&!s;)a.principal.name===e[i].principal.name&&a.principal.type===e[i].principal.type&&(r.push(e[i]),e.splice(i,1),s=!0),i++}),e.length>0&&r.push.apply(r,e),r):e},getAllDirectRulesOnObject:function(){var e=this,t=this.getView()._authorizationManager.getObjectInfo().isFolder,i=t?this._objectUri:null;this.serviceProxy.getAllDirectRulesOnObject(this._objectUri,i).done(function(t){e._directRulesMap={},$.each(t.items,function(t,i){i.mode=\"NO_CHANGE\";var a=i.principal+i.principalType,r=e._directRulesMap[a];r?r.push(i):(r=[i],e._directRulesMap[a]=r)}),e._savedDirectRulesMap=jQuery.extend(!0,{},e._directRulesMap)}).fail(function(t,i,a){var r={};r.title=e.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),r.message=r.detail=t,sas.ev.shared.Utils.ajaxErrorMessageHandler(r).open()}).always(function(){})},getIcon:function(e){return\"UserGroup\"===e||\"152\"===e?sas.icons.HC.USERGROUP:\"Role\"===e||\"148\"===e?sas.icons.HC.USERSROLE:sas.icons.HC.USER},getDirectRulesForIdentity:function(e,t){null!==e&&\"\"!==e||(e=void 0);var i=this._directRulesMap[e+t];return i?jQuery.grep(i,function(e){return\"delete\"!==e.mode}):null},getDirectRuleForIdentityAndPermission:function(e,t,i,a){var r,s=this;null!==e&&\"\"!==e||(e=void 0);var o=s.getDirectRulesForIdentity(e,t);if(o){var n=jQuery.grep(o,function(e){var t=e.permissions,r=!1;return $.each(t,function(t,o){if(o===i&&(a&&e.containerUri===s._objectUri||!a&&(e.objectUri===s._objectUri||e.objectUri===s._objectUri+\"/**\")))return r=!0,!1}),r});n&&n.length>0&&(r=n[0])}return r},setPermission:function(e,t,i,a,r){jQuery.sap.require(\"sas.ev.shared.authorization.util.AuthorizationUtil\");var s,o=this,n=o.getView().getAuthorizationManager().getModel(\"authorizationModel\"),l=n.getProperty(\"/rows\"),c=sas.ev.shared.authorization.util.AuthorizationUtil.getIdentityIndex(l,t,i),u=n.getProperty(\"/rows/\"+c+\"/\"+e)||{},d=sas.ev.shared.authorization.util.AuthorizationUtil.getIdentityIndex(o._authorizationsExplainedInfoList,t,i);if(-1!==d&&(s=o._authorizationsExplainedInfoList[d][e]),u=null,!r)switch(a){case sas.ev.shared.authorization.util.AuthorizationUtil.PROHIBIT:u={result:\"prohibit\",prohibitFactor:{direct:!0}};break;case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT:if(s.result===sas.ev.shared.authorization.util.AuthorizationUtil.CONDITIONAL)break;u=s.result===sas.ev.shared.authorization.util.AuthorizationUtil.GRANT?{result:\"grant\",grantFactor:{direct:!0}}:s.prohibitFactor?{result:\"prohibit\",prohibitFactor:{direct:!1}}:{result:\"grant\",grantFactor:{direct:!0}}}n.setProperty(\"/rows/\"+c+\"/\"+e,u);var p=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");p.setProperty(\"/isDirty\",!0),p.setProperty(\"/isPreviewDirty\",!0),o.getView()._authorizationManager.setIsDirty(!0),this.updateDirectRules(e,t,i,a,r)},updateDirectRules:function(e,t,i,a,r){var s=this,o=!1,n=e,l=e.indexOf(\"-conveyed\");-1!==l&&(o=!0,n=e.substring(0,l)),null!==t&&\"\"!==t||(t=void 0);var c=this.getDirectRulesForIdentity(t,i),u=this.getDirectRuleForIdentityAndPermission(t,i,n,o);if(u)if(u.permissions.length>1){var d=u.permissions.indexOf(n);if(d>-1&&u.permissions.splice(d,1),u.mode&&\"create\"!==u.mode){u.mode=\"update\";var p;o&&u.objectUri&&(p=s.createDirectRule(n,t,i,u.type,!1,u.condition),c.push(p)),!o&&u.containerUri&&(p=s.createDirectRule(n,t,i,u.type,!0,u.condition),c.push(p)),a!==sas.ev.shared.authorization.util.AuthorizationUtil.NO_SETTING&&(p=s.createDirectRule(n,t,i,a,o,r),c.push(p)),s._directRulesMap[t+i]=c}}else if(a!==sas.ev.shared.authorization.util.AuthorizationUtil.NO_SETTING){if(o&&u.objectUri){delete u.containerUri;var p=s.createDirectRule(n,t,i,a,o,r);c.push(p),s._directRulesMap[t+i]=c}else if(!o&&u.containerUri){delete u.objectUri;var p=s.createDirectRule(n,t,i,a,o,r);c.push(p),s._directRulesMap[t+i]=c}else u.type=a,u.condition=r;u.mode&&\"create\"!==u.mode&&(u.mode=\"update\")}else if(o&&u.objectUri)delete u.containerUri,u.mode&&\"create\"!==u.mode&&(u.mode=\"update\");else if(!o&&u.containerUri)delete u.objectUri,u.mode&&\"create\"!==u.mode&&(u.mode=\"update\");else if(u.mode&&\"create\"!==u.mode)u.mode=\"delete\";else{var d=s.getIndexOfRuleForIdentityPermission(t,i,n,o);d>-1&&(c.splice(d,1),s._directRulesMap[t+i]=c)}else if(s._directRulesMap[t+i])if(c){var g=!1;if($.each(c,function(e,t){if((o&&t.containerUri===s._objectUri||!o&&(t.objectUri===s._objectUri||t.objectUri===s._objectUri+\"/**\"))&&t.type===a&&t.condition===r&&!(t.objectUri&&t.objectUri.length>0&&t.containerUri&&t.containerUri.length>0))return t.permissions.push(n),\"create\"!==t.mode&&(t.mode=\"update\"),g=!0,!1}),!g){var p=s.createDirectRule(n,t,i,a,o,r);s._directRulesMap[t+i].push(p)}}else{var p=s.createDirectRule(n,t,i,a,o,r);s._directRulesMap[t+i].push(p)}else{var p=s.createDirectRule(n,t,i,a,o,r);s._directRulesMap[t+i]=[p]}},getIndexOfRuleForIdentityPermission:function(e,t,i,a){var r=this,s=r.getDirectRulesForIdentity(e,t),o=-1;return s&&$.each(s,function(e,t){var s=t.permissions;if($.each(s,function(s,n){if(n===i&&(a&&t.containerUri===r._objectUri||!a&&(t.objectUri===r._objectUri||t.objectUri===r._objectUri+\"/**\")))return o=e,!1}),-1!==o)return!1}),o},createDirectRule:function(e,t,i,a,r,s){var o={type:a,permissions:[e],principal:t,principalType:i,mode:\"create\"};return r?o.containerUri=this._objectUri:o.objectUri=this._objectUri+\"/**\",s&&(o.condition=s),o},refresh:function(e){var t=this,i=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");if(i.getProperty(\"/isDirty\")){var a=t.rb.getText(\"BasicPermissionPage.RefreshAction.ConfirmMsg.txt\");sas.hc.m.MessageDialog.warning({text:a,title:t.rb.getText(\"BasicPermissionPage.RefreshAction.ConfirmDlg.title.txt\"),buttonActions:[sas.hc.m.MessageDialogAction.Yes,{text:sas.hc.m.MessageDialogAction.Cancel,initialFocus:!0,defaultButton:!0}],buttonPress:function(a){var r=a.getParameter(\"origin\");r.getMessageDialogAction()===sas.hc.m.MessageDialogAction.Yes?(t.refreshView(e),t.getView()._authorizationManager.setIsDirty(!1),i.setProperty(\"/isDirty\",!1),i.setProperty(\"/isPreviewDirty\",!1)):(r.getMessageDialogAction(),sas.hc.m.MessageDialogAction.Cancel)}})}else t.refreshView(e),t.getView()._authorizationManager.setIsDirty(!1),i.setProperty(\"/isDirty\",!1),i.setProperty(\"/isPreviewDirty\",!1)},refreshView:function(e){var t=this,i=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");this.serviceProxy.getIsCurrentUserAuthorizedOnObject(t._objectUri,\"secure\").done(function(a){i.setProperty(\"/canEdit\",a),t.getView()._authorizationManager.setReadOnly(!a),t._getAuthorizationsOnObject(e)}).fail(function(e,i){t.logger.error(\"Error loading getting manageAccess permission\"),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog();var a={};a.title=t.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),a.message=a.detail=xhr,sas.ev.shared.Utils.ajaxErrorMessageHandler(a).open()}).always(function(){t.getAllDirectRulesOnObject()})},refreshContributingRules:function(e,t,a){var r=this,s=a.getProperty(t),o=[],n=s.grantFactor,l=s.prohibitFactor;if(n?(o=n.contributingRules,l&&(o=o.concat(l.contributingRules))):l&&(o=l.contributingRules),o&&0!==o.length){e.setBusy(!0);var c=\"/authorization/rules?filter=in(id,\";$.each(o,function(e,t){var i=t.href.lastIndexOf(\"/\");-1!==i&&(c+=\"'\"+t.href.substr(i+1)+\"'\"),e!==o.length-1&&(c+=\",\")}),c+=\")\";var u=r.getView().getAuthorizationManager().getModel(\"authorizationModel\"),d=u.getProperty(\"/rows\");r.serviceProxy.getRules(c).done(function(t){var a,s=[],o=t.items;$.each(o,function(e,t){if(\"authenticatedUsers\"===t.principalType)t.principal=r.rb.getText(\"BasicPermissionPage.identityColumn.authenticated.users.txt\"),t.principalType=\"group\",t.providerId=\"ldap\",t.displayname=r.rb.getText(\"BasicPermissionPage.identityColumn.authenticated.users.txt\");else if(\"guest\"===t.principalType)t.principal=r.rb.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"),t.principalType=\"user\",t.providerId=\"ldap\",t.displayname=r.rb.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\");else if(\"everyone\"===t.principalType)t.principal=r.rb.getText(\"BasicPermissionPage.identityColumn.everyone.txt\"),t.principalType=\"group\",t.providerId=\"ldap\",t.displayname=r.rb.getText(\"BasicPermissionPage.identityColumn.everyone.txt\");else for(i=0;i<d.length;i++)if(d[i].principal.name===t.principal){t.providerId=d[i].principal.providerId,t.displayname=d[i].principal.displayname;break}a=sas.ev.shared.authorization.util.AuthorizationUtil.getRuleTargetName(t),s.push(a)}),$.when.apply($,s).done(function(){var t=[].slice.call(arguments,0);$.each(t,function(e,t){var i=$.map(o,function(e,i){if(e.id===t.rule.id)return i}),e=-1;if(i.length>0&&(e=i[0]),t.valid){if(t.hasOwnProperty(\"content\")){var a=t.content;a.hasOwnProperty(\"path\")?e>-1&&(o[e].targetName=t.content.path):e>-1&&(o[e].targetName=null)}}else e>-1&&(o[e].targetName=null)});var i=e.getModel();i?i.setData({rules:o}):e.setModel(new sap.ui.model.json.JSONModel({rules:o}))})}).fail(function(e,t){r.logger.error(\"Error getting contributing rules\"+e);var i={};i.title=r.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),i.message=i.detail=xhr,sas.ev.shared.Utils.ajaxErrorMessageHandler(i).open()}).always(function(){e.setBusy(!1)})}},refreshContributingShares:function(e,t,a){var r=this;if(a){var s=a.getProperty(\"shares\");if(s){var o=[];\"read\"!==t&&\"read-conveyed\"!==t&&\"secure\"!==t&&\"secure-conveyed\"!==t?(s.readEdit&&(o=o.concat(s.readEdit)),s.readEditShare&&(o=o.concat(s.readEditShare))):(s.read&&(o=o.concat(s.read)),s.readShare&&(o=o.concat(s.readShare)),s.readEdit&&(o=o.concat(s.readEdit)),s.readEditShare&&(o=o.concat(s.readEditShare)));var n=r.getView().getAuthorizationManager().getModel(\"authorizationModel\"),l=n.getProperty(\"/rows\");$.each(o,function(e,t){for(i=0;i<l.length;i++)if(l[i].principal.name===t.sharedWith){t.sharedWithProviderId=l[i].principal.providerId,t.sharedWithDisplayname=l[i].principal.displayname,t.sharedWithType=l[i].principal.type;break}for(i=0;i<l.length;i++)if(l[i].principal.name===t.sharedBy){t.sharedByProviderId=l[i].principal.providerId,t.sharedByDisplayname=l[i].principal.displayname,t.sharedByType=l[i].principal.type;break}});var c=e.getModel();c?c.setData({shares:o}):e.setModel(new sap.ui.model.json.JSONModel({shares:o}))}}},addIdentity:function(){var e=this,t=e.getView().getAuthorizationManager().getModel(\"authorizationModel\"),i=t.getProperty(\"/rows\"),a=[];$.each(i,function(e,t){var i=t.principal.name;i&&(i=i.replace(/'/g,\"''\")),a.push({id:i,type:t.principal.type.toLowerCase()})}),sas.ev.shared.IdentitySelect.getControl($.proxy(this._addSelectedIdentity,this),!0,{items:a},[],[],this.rb.getText(\"BasicPermissionPage.identitySelect.addIdentities.title\"),sas.ev.shared.IdentityTypes.CUSTOM_GROUP)},addGuest:function(){this._addSelectedIdentity({items:[{type:\"guest\"}]})},_addSelectedIdentity:function(e){var t=this,i=e.items,a=!1;if(1===i.length&&\"guest\"===i[0].type){a=!0;var r=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");r.setProperty(\"/enableAddGuestMenuItem\",!1)}var s=sap.ui.getCore().byId(t.getView().getId()+\"--permissionsTable\");s.setBusy(!0);var o=t.getView()._authorizationManager;this._objectUri=o.getObjectInfo().objectUri;var n,l=[],r=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");if(r.getProperty(\"/isDirty\")){var c=t._getNewAndModifiedRules(),u=t._getHypotheticalPatchObject(c);n=t.serviceProxy.getHypotheticalDecisionExplanation(u,i)}else n=this.serviceProxy.getAuthorizationsOnObject(t._objectUri,i);n.done(function(e){var r=e.explanations[t._objectUri],s=[\"read\",\"update\",\"delete\",\"secure\",\"add\",\"remove\"];$.each(r,function(e,t){t.principal.name&&t.principal.type?$.each(i,function(e,i){t.principal.name===i.id&&t.principal.type===i.type&&(jQuery.extend(t.principal,i),i.displayName?t.principal.displayname=i.displayName:t.principal.displayname=i.id,i.url&&(t.principal.url=i.url),o.getObjectInfo().isFolder&&$.each(s,function(e,i){t[i+\"-conveyed\"]=t[i].conveyedExplanation}),l.push(t))}):\"guest\"===t.principal.type&&a&&(o.getObjectInfo().isFolder&&$.each(s,function(e,i){t[i+\"-conveyed\"]=t[i].conveyedExplanation}),l.push(t))});var n=t.getView().getAuthorizationManager().getModel(\"authorizationModel\"),c=n.getProperty(\"/rows\");Array.prototype.push.apply(c,l),l=$.extend(!0,[],l),Array.prototype.push.apply(t._authorizationsExplainedInfoList,l),n.setProperty(\"/rows\",c),n.setProperty(\"/count\",c.length)}).fail(function(e,i,a){var r={};r.title=t.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),r.message=r.detail=e,sas.ev.shared.Utils.ajaxErrorMessageHandler(r).open()}).always(function(){s.setBusy(!1),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog()})},displayPermissionConditionDialog:function(e,t,i){var a=this,r=!1,s=e,o=e.indexOf(\"-conveyed\");-1!==o&&(r=!0,s=e.substring(0,o));var n=this.getView()._authorizationManager,l=t.getProperty(\"principal\"),c=\"\";if(!i){var u=a.getDirectRuleForIdentityAndPermission(l.name,l.type,s,r);u&&(c=u.condition,i=u.type)}c&&(c=c.trim());var d=new ConditionDialog;d.setCondition(c),d.getMiddleButton().attachPress({permName:e,authorizationManager:n,oBindingContext:t,sPermType:i,oConditionDialog:d},this._okconditionDialog,this),d.open()},_okconditionDialog:function(e,t){var i=t.oConditionDialog,a=i.getCondition();if(\"true\"===i.validateCondition(a).valid){var r=t.oBindingContext.getProperty(\"principal\"),s=t.permName,o=t.sPermType;this.setPermission(s,r.name,r.type,o,a),i.closeConditionDialog()}},reorderIdentities:function(e){var t=this,i=$.grep(e,function(e,i){return e.identity.objectID in t._addedIdentitiesMap}),a=$.grep(e,function(e,i){return!(e.identity.objectID in t._addedIdentitiesMap)}),r=$.grep(a,function(e,i){return!(e.identity.objectID in t._removedIdentitiesMap)});return r.sort(function(e,t){var i=e.identity,a=t.identity;return sas.ev.shared.authorization.util.AuthorizationUtil.compareIdentities(i,a)}),r.concat(i)},removeIdentity:function(e){var t=this,i=sas.ev.shared.authorization.util.AuthorizationUtil.getSelectedItems(e,\"authorizationModel\",\"rows\"),a=this.rb.getText(\"BasicPermissionPage.RmvIdentitiesAction.ConfirmMsg.txt\");sas.hc.m.MessageDialog.warning({text:a,title:this.rb.getText(\"BasicPermissionPage.RmvIdentitiesAction.ConfirmMsg.Title.txt\"),buttonActions:[sas.hc.m.MessageDialogAction.Yes,{text:sas.hc.m.MessageDialogAction.No,initialFocus:!0,defaultButton:!0}],buttonPress:function(e){var a=e.getParameter(\"origin\");if(a.getMessageDialogAction()===sas.hc.m.MessageDialogAction.Yes){$.each(i,function(e,i){var a=t._savedDirectRulesMap[i.principal.name+i.principal.type],r=$.extend(!0,[],a);$.each(r,function(e,t){t.mode=\"delete\"}),t._directRulesMap[i.principal.name+i.principal.type]=r;var s=Object.keys(i);$.each(s,function(e,t){\"principal\"!==t&&(i[t]=null)})});var r=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");r.setProperty(\"/isDirty\",!0),r.setProperty(\"/isPreviewDirty\",!0),t.getView()._authorizationManager.setIsDirty(!0)}else a.getMessageDialogAction(),sas.hc.m.MessageDialogAction.No}})},onInheritanceOverrides:function(e){},onShowIndividualPermissions:function(e){var t=e.getSource(),i=t.getSelected();window.showIndividualPermissions=i;var a=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\"),r=a.getColumns();$.each(r,function(e,t){t.getId().indexOf(\"permissionsTable_identities_col\")<0&&t.getId().indexOf(\"permissionsTable_simplifiedAccess_col\")<0&&t.setVisible(i)})},onShowHorizontalLabelCheckBox:function(e){var t=e.getSource(),i=t.getSelected();window.showHorizontalLabel=i;var a=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\"),r=a.getColumns();i?(a.removeStyleClass(\"evTableRotateColumnHeaders\"),a.setColumnHeaderHeight(36),$.each(r,function(e,t){t.getId().indexOf(\"permissionsTable_identities_col\")<0&&t.getId().indexOf(\"permissionsTable_simplifiedAccess_col\")<0&&(t.setWidth(\"120px\"),t.getLabel().setTextAlign(sap.ui.core.TextAlign.Center))})):(a.addStyleClass(\"evTableRotateColumnHeaders\"),a.setColumnHeaderHeight(140),$.each(r,function(e,t){t.getId().indexOf(\"_permissionsTable_identities_col\")<0&&t.getId().indexOf(\"permissionsTable_simplifiedAccess_col\")<0&&(t.setWidth(\"36px\"),t.getLabel().setTextAlign(sap.ui.core.TextAlign.Begin))}))},cancel:function(){var e=this;sas.ev.shared.authorization.util.AuthorizationUtil.openBusyDialog();var t=$.extend(!0,[],e._authorizationsExplainedInfoList),i=e.getView().getAuthorizationManager().getModel(\"authorizationModel\");i.setProperty(\"/rows\",t),i.setProperty(\"/count\",t.length);var a=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");a.setProperty(\"/isDirty\",!1),a.setProperty(\"/isPreviewDirty\",!1),e._directRulesMap=jQuery.extend(!0,{},e._savedDirectRulesMap),sas.ev.shared.authorization.util.AuthorizationUtil.closeBusyDialog(),e.getView()._authorizationManager.setIsDirty(!1)},announceMessage:function(e){jQuery.sap.require(\"sas.hc.ui.core.Narrator\"),sas.hc.ui.core.Narrator.addTextNow(e)},save:function(){this.getHypotheticalDecisionExplanation(!0)},saveRulesOnObj:function(){var e=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");e.setBusy(!0);var t=this,i=!1,a=t._getNewAndModifiedRules(),r=t._getRuleActionArray(a),s={actions:r};this.serviceProxy.saveRulesOnObj(s).done(function(a){function r(a){t.statusAvailable&&clearInterval(s),t.serviceProxy.getActionStatus(a).done(function(a){if(\"running\"===a.status);else if(\"completedSuccess\"===a.status){t.statusAvailable=!0,e.setBusy(!1),t.getView()._authorizationManager.setIsDirty(!1);var r=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");r.setProperty(\"/isDirty\",!1),r.setProperty(\"/isPreviewDirty\",!1),t.getView()._authorizationManager.fireSaveCompleted({success:!0}),t.getView()._authorizationManager.dialog.destroy()}else if(\"completedErrors\"===a.status){if(t.statusAvailable=!0,!i){i=!0;var s=t.rb.getText(\"common.error.txt\"),o=t.rb.getText(\"BasicPermissionPage.errorBulkSavingRules.txt\");sas.ev.shared.authorization.util.AuthorizationUtil.showErrorMessage(o,s)}e.setBusy(!1)}}).fail(function(a,r,s){t.statusAvailable=!0,e.setBusy(!1);var o={};o.title=t.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),o.message=o.detail=a,i||(i=!0,sas.ev.shared.Utils.ajaxErrorMessageHandler(o).open())})}t.statusAvailable=!1;var s=setInterval(function(){r(a)},2e3)}).fail(function(i,a,r){var s={};s.title=t.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),s.message=s.detail=i,sas.ev.shared.Utils.ajaxErrorMessageHandler(s).open(),e.setBusy(!1)}).always(function(){t.announceMessage(\"Save completed\")})},_getNewAndModifiedRules:function(){var e=this,t=[],i=Object.keys(this._directRulesMap);return $.each(i,function(i,a){t=t.concat(e._directRulesMap[a])}),$.grep(t,function(e){return!(!e||\"NO_CHANGE\"===e.mode)})},_getRuleActionArray:function(e){var t=[];return $.each(e,function(e,i){var a={type:i.type,permissions:i.permissions,principal:i.principal,principalType:i.principalType};i.objectUri&&(a.objectUri=i.objectUri),i.containerUri&&(a.containerUri=i.containerUri),i.condition&&(a.condition=i.condition),i.description&&(a.description=i.description),i.reason&&(a.reason=i.reason);var r={rule:a,type:i.mode};switch(i.mode){case\"delete\":r.rule.id=i.id,r.priority=1;break;case\"update\":r.rule.id=i.id,r.priority=2;break;case\"create\":r.priority=3}t.push(r)}),t},preview:function(){this.getHypotheticalDecisionExplanation(!1)},getHypotheticalDecisionExplanation:function(e){var t=this,i=sap.ui.getCore().byId(this.getView().getId()+\"--permissionsTable\");i.setBusy(!0);var a=t._getNewAndModifiedRules(),r=t._getHypotheticalPatchObject(a),s=this.getView()._authorizationManager;this._objectUri=s.getObjectInfo().objectUri,this.serviceProxy.getHypotheticalDecisionExplanation(r).done(function(i){var a=i.explanations[t._objectUri];s.getObjectInfo().isFolder&&!e&&(a=t.adeptTableModel(a)),t.checkPermissionsAndWarn(a,e)}).fail(function(e,a,r){var s={};s.title=t.rb.getText(\"AuthorizationManagerFactory.AuthDialog.title.txt\"),s.message=s.detail=e,sas.ev.shared.Utils.ajaxErrorMessageHandler(s).open(),i&&i.setBusy(!1)}).always(function(){})},_getHypotheticalPatchObject:function(e){var t=this,i=[];return $.each(e,function(e,t){var a={type:t.type,permissions:t.permissions,principal:t.principal,principalType:t.principalType};t.objectUri&&(a.objectUri=t.objectUri),t.containerUri&&(a.containerUri=t.containerUri),t.condition&&(a.condition=t.condition),t.description&&(a.description=t.description),t.reason&&(a.reason=t.reason);var r=\"replace\",s=\"/authorization/rules\";switch(t.mode){case\"delete\":r=\"remove\",s=s+\"/\"+t.id;break;case\"update\":r=\"replace\",s=s+\"/\"+t.id;break;case\"create\":r=\"add\"}var o={op:r,path:s,value:a};i.push(o)}),{version:1,patch:i,uris:[t.getView()._authorizationManager.getObjectInfo().objectUri]}},checkPermissionsAndWarn:function(e,t){var i=this,a=sas.hc.ui.core.util.UserInfo.instance.id,r=$.grep(e,function(e,t){return e.principal.name===a}),s=r[0],o=s.read.result.indexOf(\"prohibit\")>-1,n=s.secure.result.indexOf(\"prohibit\")>-1;o?i.handleDenySelfReadInfoOrManageAccessPermission(e,t,!0):n?i.handleDenySelfReadInfoOrManageAccessPermission(e,t,!1):t?i.saveRulesOnObj():i.getIdentitiesInfoAndUpdateTable(e,!1,!0)},handleDenySelfReadInfoOrManageAccessPermission:function(e,t,i){var a,r=this,s=r.rb.getText(\"Common.button.label.Discard.txt\"),o=r.rb.getText(\"Common.button.label.Preview.txt\"),n=r.rb.getText(\"Common.button.label.Save.txt\"),l=[{text:s,initialFocus:!0,defaultButton:!0}];t?(l.push({text:n,press:function(){}}),a=i?r.rb.getText(\"BasicPermissionPage.save.noReadInfo.permission.warning.txt\"):r.rb.getText(\"BasicPermissionPage.save.noManageAccess.permission.warning.txt\")):(l.push({text:o}),a=i?r.rb.getText(\"BasicPermissionPage.preview.noReadInfo.permission.warning.txt\"):r.rb.getText(\"BasicPermissionPage.preview.noManageAccess.permission.warning.txt\")),sas.hc.m.MessageDialog.warning({text:a,title:t?n:o,buttonActions:l}).attachButtonPress(function(t){var i=t.getParameter(\"origin\");if(i.getText()===s){r.refreshView(!1),r.getView()._authorizationManager.setIsDirty(!1);var a=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");a.setProperty(\"/isDirty\",!1),a.setProperty(\"/isPreviewDirty\",!1),r.getAllDirectRulesOnObject()}else i.getText()===n?r.saveRulesOnObj():r.getIdentitiesInfoAndUpdateTable(e,!1,!0)})},getIdentitiesInfoAndUpdateTable:function(e,t,i){var a=this,r=[],s=[],o=!0;if($.each(e,function(e,t){t.principal.name||(\"authenticatedUsers\"===t.principal.type?t.principal.displayname=a.rb.getText(\"BasicPermissionPage.identityColumn.authenticated.users.txt\"):\"guest\"===t.principal.type?(t.principal.displayname=a.rb.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"),o=!1):t.principal.displayname=a.rb.getText(\"BasicPermissionPage.identityColumn.everyone.txt\")),\"user\"===t.principal.type?r.push(t.principal.name):\"group\"===t.principal.type&&s.push(t.principal.name)}),sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/enableAddGuestMenuItem\",o),r.length>0&&s.length>0){var n=a.serviceProxy.getIdentitiesInfo(\"users\",r),l=a.serviceProxy.getIdentitiesInfo(\"groups\",s);$.when(n,l).done(function(r,s){r&&a.addDisplaynames(e,r),s&&a.addDisplaynames(e,s),e.sort(sas.ev.shared.authorization.util.AuthorizationUtil.comparePetAuthList);var o=a.getView().getAuthorizationManager().getModel(\"authorizationModel\");a._authorizationsExplainedInfoList=$.extend(!0,[],e),o.setProperty(\"/rows\",e),o.setProperty(\"/count\",e.length),sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/isPreviewDirty\",!1);var n=sap.ui.getCore().byId(a.getView().getId()+\"--permissionsTable\");n.setBusy(!1),a.getView()._authorizationManager.dialog.open(),t?sas.hc.m.MessageToast.show(a.rb.getText(\"Common.sas.ev.successful.refresh.txt\")):i&&sas.hc.m.MessageToast.show(a.rb.getText(\"Common.sas.ev.successful.preview.txt\")),o.refresh(!0),n.invalidate()})}else if(r.length>0){var n=a.serviceProxy.getIdentitiesInfo(\"users\",r);$.when(n).done(function(r){r&&a.addDisplaynames(e,r),e.sort(sas.ev.shared.authorization.util.AuthorizationUtil.comparePetAuthList);var s=a.getView().getAuthorizationManager().getModel(\"authorizationModel\");a._authorizationsExplainedInfoList=$.extend(!0,[],e),s.setProperty(\"/rows\",e),s.setProperty(\"/count\",e.length),sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/isPreviewDirty\",!1);var o=sap.ui.getCore().byId(a.getView().getId()+\"--permissionsTable\");o.setBusy(!1),a.getView()._authorizationManager.dialog.open(),t?sas.hc.m.MessageToast.show(a.rb.getText(\"Common.sas.ev.successful.refresh.txt\")):i&&sas.hc.m.MessageToast.show(a.rb.getText(\"Common.sas.ev.successful.preview.txt\")),s.refresh(!0),o.invalidate()})}else if(s.length>0){var l=a.serviceProxy.getIdentitiesInfo(\"groups\",s);$.when(l).done(function(r){r&&a.addDisplaynames(e,r),e.sort(sas.ev.shared.authorization.util.AuthorizationUtil.comparePetAuthList);var s=a.getView().getAuthorizationManager().getModel(\"authorizationModel\");a._authorizationsExplainedInfoList=$.extend(!0,[],e),s.setProperty(\"/rows\",e),s.setProperty(\"/count\",e.length),sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").setProperty(\"/isPreviewDirty\",!1);var o=sap.ui.getCore().byId(a.getView().getId()+\"--permissionsTable\");o.setBusy(!1),a.getView()._authorizationManager.dialog.open(),t?sas.hc.m.MessageToast.show(a.rb.getText(\"Common.sas.ev.successful.refresh.txt\")):i&&sas.hc.m.MessageToast.show(a.rb.getText(\"Common.sas.ev.successful.preview.txt\")),s.refresh(!0),o.invalidate()})}}});",
	"sas/ev/shared/authorization/pet/BasicPermissionsPage.view.js": "// Copyright (c) 2015, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\njQuery.sap.require(\"sas.ev.shared.authorization.pet.PermissionInfoPopover\"),jQuery.sap.require(\"sas.hc.m.MessageStrip\"),jQuery.sap.require(\"sas.hc.m.Image\"),jQuery.sap.require(\"sap.ui.core.mvc.JSView\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.table.Table\"),jQuery.sap.require(\"sas.hc.ui.table.library\"),jQuery.sap.require(\"sap.ui.model.type.String\"),jQuery.sap.require(\"sap.ui.model.BindingMode\"),jQuery.sap.require(\"sas.ev.shared.authorization.util.AuthorizationUtil\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.ui.table.Column\"),jQuery.sap.require(\"sas.hc.m.SearchField\"),jQuery.sap.require(\"sas.hc.m.CheckBox\"),jQuery.sap.require(\"sas.hc.m.ToolbarSeparator\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.m.MenuItem\"),jQuery.sap.require(\"sas.hc.m.Menu\"),jQuery.sap.require(\"sas.hc.m.MenuButton\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.ui.layout.SplitterLayoutData\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.m.VBox\"),jQuery.sap.require(\"sas.hc.m.HelpPopup\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.ui.core.Icon\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sap.ui.model.Filter\"),jQuery.sap.require(\"sap.ui.model.FilterOperator\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),sap.ui.jsview(\"sas.ev.shared.authorization.pet.BasicPermissionsPage\",{getControllerName:function(){return\"sas.ev.shared.authorization.pet.BasicPermissionsPage\"},permissionNames:[\"read\",\"update\",\"delete\",\"secure\",\"add\",\"remove\",\"read-conveyed\",\"update-conveyed\",\"delete-conveyed\",\"secure-conveyed\",\"add-conveyed\",\"remove-conveyed\"],_authorizationManager:null,controller:null,createContent:function(e){var t=this;this.controller=e;var i=!!document.documentMode,o=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),s=new sas.hc.ui.table.Table(this.createId(\"permissionsTable\"),{fixedColumnCount:1,selectionMode:sas.hc.ui.table.SelectionMode.MultiToggle,rowSelectionChange:function(){t._enableToolBarButtons()},enableColumnFreeze:!1,showSelectionControls:!1,showTableOptions:!1});s.addStyleClass(\"sasEVContentAuthTable\"),s.addStyleClass(\"evTableRotateColumnHeaders\"),s.bindRows(\"authorizationModel>/rows\");var a=new sas.hc.m.Label({text:{parts:[{path:\"authorizationModel>principal/displayname\",type:new sap.ui.model.type.String},{path:\"authorizationModel>principal/name\",type:new sap.ui.model.type.String},{path:\"authorizationModel>principal/type\",type:new sap.ui.model.type.String}],formatter:function(e,t,i){return e||(t||(\"authenticatedUsers\"===i?o.getText(\"BasicPermissionPage.identityColumn.authenticated.users.txt\"):\"guest\"===i?o.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"):o.getText(\"BasicPermissionPage.identityColumn.everyone.txt\")))},mode:sap.ui.model.BindingMode.OneWay},icon:{parts:[{path:\"authorizationModel>principal\"}],formatter:function(e){return sas.ev.shared.authorization.util.AuthorizationUtil.getIdentityIcon(e)},mode:sap.ui.model.BindingMode.OneWay},tooltip:{parts:[{path:\"authorizationModel>principal\"}],formatter:function(e){if(null!==e&&void 0!==e)return e.name?e.providerId||e.url?e.name:o.getText(\"BasicPermissionPage.identityColumn.identityNotFound.txt\"):e.providerId||\"authenticatedUsers\"===e.type||\"guest\"===e.type||\"everyone\"===e.type?\"authenticatedUsers\"===e.type?o.getText(\"BasicPermissionPage.identityColumn.authenticated.users.txt\"):\"guest\"===e.type?o.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"):o.getText(\"BasicPermissionPage.identityColumn.everyone.txt\"):o.getText(\"BasicPermissionPage.identityColumn.identityNotFound.txt\")},mode:sap.ui.model.BindingMode.OneWay},customData:[{Type:\"sap.ui.core.CustomData\",key:\"id\",value:\"{objectUri}\"},{Type:\"sap.ui.core.CustomData\",key:\"type\",value:\"{objectType}\"},{Type:\"sap.ui.core.CustomData\",key:\"identityInfo\",value:{path:\"authorizationModel>identity\"}}]}),r=new sas.hc.m.Label({text:o.getText(\"BasicPermissionPage.identityColumn.txt\"),tooltip:o.getText(\"BasicPermissionPage.identityColumn.txt\")}),n=new sas.hc.ui.table.Column(this.getId()+\"_permissionsTable_identities_col\",{label:r,width:\"200px\",template:a,sortProperty:\"principal/displayname\"});i&&(n.width=void 0),s.addColumn(n);var l,u,c=new sas.hc.m.SearchField(this.getId()+\"-searchField\",{width:\"250px\",filterMode:!0,visible:{path:\"authorizationModel>/count\",formatter:function(e){return e>8}},liveChange:function(e){t._filterAuthTable(e,this.getValue())}}),p=new sas.hc.m.CheckBox({id:this.getId()+\"_showHorizontalLabelCheckBox\",text:o.getText(\"BasicPermissionPage.ShowHorizontalLabel.Checkbox.label.txt\"),selected:!1,visible:!0,select:[e.onShowHorizontalLabelCheckBox,e]}),d=new sas.hc.m.ToolbarSeparator({id:this.getId()+\"_showHorizontalLabelCheckBoxDivider\"});if(sas.config.get(sas.config.appId)?u=sas.config.get(sas.config.appId).isGuest:sas.config[sas.config.appId]&&(u=sas.config[sas.config.appId].isGuest),u){var h=new sas.hc.m.MenuItem({id:\"sasev_add_identity_menuitem\",text:o.getText(\"Common.AddIdentites.txt\"),press:function(){e.addIdentity()}}),m=new sas.hc.m.MenuItem({id:\"sasev_add_guest_menuitem\",text:o.getText(\"BasicPermissionPage.addGuest.menuItem.txt\"),enabled:{path:\"SASEV-AuthorizationManagerModel>/enableAddGuestMenuItem\"},press:function(){e.addGuest()}}),g=new sas.hc.m.Menu(this.getId()+\"_addPrincipalsButton\",{});g.addItem(h),g.addItem(m),l=new sas.hc.m.MenuButton({id:\"sasev_add_principals_button\",icon:sas.icons.HC.USER,tooltip:o.getText(\"BasicPermissionPage.addButton.tip\"),menu:g})}else l=new sas.hc.m.Button(this.getId()+\"_addIdentityButton\",{icon:sas.icons.HC.USER,enabled:!0,tooltip:o.getText(\"BasicPermissionPage.addButton.tip\"),press:function(){e.addIdentity()}});this.removeIdentityButton=new sas.hc.m.Button(this.getId()+\"_removeIdentityButton\",{enabled:!1,icon:sas.icons.HC.CLEARALL,tooltip:o.getText(\"BasicPermissionPage.removeButton.tip\"),press:function(){e.removeIdentity(s)}}),this.saveButton=new sas.hc.m.Button({enabled:!1,icon:sas.icons.HC.SAVE,tooltip:o.getText(\"BasicPermissionPage.saveButton.tip\"),press:function(){e.save()}}),this.directRulesButton=new sas.hc.m.Button({enabled:!0,icon:sas.icons.HC.LISTVIEW,tooltip:o.getText(\"BasicPermissionPage.directRulesButton.tip\"),press:function(){t.openRulesDialog()}}),this.cancelButton=new sas.hc.m.Button({enabled:!1,icon:sas.icons.HC.CANCEL,tooltip:o.getText(\"BasicPermissionPage.cancelButton.tip\"),press:function(){e.cancel()}}),this.refreshButton=new sas.hc.m.Button({icon:sas.icons.HC.REFRESH,tooltip:o.getText(\"BasicPermissionPage.refreshButton.tip\"),press:function(){e.refresh(!0)}});var y=new sas.hc.ui.layout.SplitterLayoutData({size:\"auto\"});this.toolbar=new sas.hc.m.ResponsiveToolbar({id:this.getId()+\"-authTableToolbar\",layoutData:y,content:[c,new sas.hc.m.ToolbarSpacer,p,d,l,this.refreshButton]}),this.toolbar.addStyleClass(\"evTableToolbar\");var T=new sas.hc.m.VBox({height:\"100%\",width:\"100%\"});return t.titleLabel=new sas.hc.m.Label({text:{path:\"authorizationModel>/objectName\"},icon:{path:\"authorizationModel>/objectType\",formatter:function(e){return\"trashFolder\"===e?sas.icons.HC.DELETE:sas.icons.getObjectTypeIcon(e,sas.icons.OBJECTTYPES.GENERICKNOWNOBJECT_OBJ)}},textAlign:\"Left\"}),t.titleLabel.addStyleClass(\"evObjectTitleLbl\"),t.infoConveyLabel=new sas.hc.m.MessageStrip({text:o.getText(\"BasicPermissionPage.conveyedPermissionInfoText.txt\"),showIcon:!0,type:\"Information\",showCloseButton:!1,visible:{path:\"authorizationModel>/objectType\",formatter:function(e){return\"folder\"===e||\"myFolder\"===e||\"userFolder\"===e||\"userRoot\"===e||\"applicationDataFolder\"===e||\"historyFolder\"===e||\"favoritesFolder\"===e}}}),t.infoConveyLabel.addStyleClass(\"evInfoLabel\"),t.infoConveyLabel.addStyleClass(\"sapUiSmallMarginBottom\"),t.warningLabel=new sas.hc.m.MessageStrip({text:o.getText(\"BasicPermissionPage.membershipImpact.warning.txt\"),showIcon:!0,type:\"Warning\",showCloseButton:!1,visible:!1}),t.warningLabel.addStyleClass(\"evWarningLbl\"),T.addItem(t.infoConveyLabel),T.addItem(t.titleLabel),T.addItem(t.warningLabel),T.addItem(this.toolbar),T.addItem(s),T},createPermissionColumns:function(e){var t=this,i=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),o=t._authorizationManager.getObjectInfo().isFolder,s=o?\"genauthzgridfolder2\":\"genauthzgrid\";this.helpButton=new sas.hc.m.HelpPopup({library:\"sas.ev.shared.authorization\",key:s}),this.toolbar.addContent(this.helpButton);var a=this.getId(),r=sap.ui.getCore().byId(a+\"--permissionsTable\"),n=t.permissionNames.filter(function(e){return!!t._authorizationManager.getObjectInfo().isFolder||-1===e.indexOf(\"add\")&&-1===e.indexOf(\"remove\")&&-1===e.indexOf(\"-conveyed\")});$.each(n,function(s,n){var l=i.getText(\"Permission.DisplayName.\"+n+\".txt\"),u=\"authorizationModel>\"+n,c=new sas.hc.m.FlexBox({alignItems:\"Center\",justifyContent:\"Center\",customData:[{Type:\"sap.ui.core.CustomData\",key:\"identityName\",value:\"{authorizationModel>principal/name}\"},{Type:\"sap.ui.core.CustomData\",key:\"identityDisplayname\",value:\"{authorizationModel>principal/displayname}\"},{Type:\"sap.ui.core.CustomData\",key:\"identityType\",value:\"{authorizationModel>principal/type}\"},{Type:\"sap.ui.core.CustomData\",key:\"permissionName\",value:n},{Type:\"sap.ui.core.CustomData\",key:\"permissionDisplayName\",value:l},{Type:\"sap.ui.core.CustomData\",key:\"grantFactor\",value:{path:u+\"/grantFactor\"}},{Type:\"sap.ui.core.CustomData\",key:\"prohibitFactor\",value:{path:u+\"/prohibitFactor\"}},{Type:\"sap.ui.core.CustomData\",key:\"result\",value:{path:u+\"/result\"}},{Type:\"sap.ui.core.CustomData\",key:\"identity\",value:\"{authorizationModel>principal}\"}],items:[new sas.hc.m.Image({width:\"16px\",height:\"16px\",src:{parts:[{path:u},{path:\"authorizationModel>shares\"}],mode:sap.ui.model.BindingMode.OneWay,formatter:function(e,i){return t.getEffectivePermissionIcon(this,n,e,i)}}}),new sas.hc.ui.core.Icon({src:{parts:[{path:u},{path:\"authorizationModel>shares\"}],formatter:function(e,i){return t.getDirectIcon(this,n,e,i)}}}).addStyleClass(\"evAuthorizationIcon\")]});c.attachBrowserEvent(\"click\",function(i){t.openPermissionCellPopup(this,e),i.stopPropagation()}),c.addStyleClass(\"evAuthTableIconFlexBox\");var p=l;\"add\"===n&&(p=i.getText(\"Permission.add.Tooltip.txt\")),\"remove\"===n&&(p=i.getText(\"Permission.remove.Tooltip.txt\"));var d=new sas.hc.m.Label({text:l,tooltip:p});o||d.setTextAlign(sap.ui.core.TextAlign.Center);var h=new sas.hc.ui.table.Column(a+\"_permissionsTable_col_\"+n.replace(/\\s+/g,\"\"),{label:d,template:c,width:o?\"100%\":\"110px\"});r.addColumn(h)})},openPermissionCellPopup:function(e,t){var i=this,o={cellTemplate:e,controller:t};if(this.permissonPopOver)return this.permissonPopOver.oPopup?this.permissonPopOver.close():this.permissonPopOver.destroy(),void(this.permissonPopOver=null);i.permissonPopOver=new sas.ev.shared.authorization.pet.PermissionInfoPopover({placement:sap.m.PlacementType.Auto,permissionCellInfo:o,contentWidth:\"50rem\",contentHeight:\"20rem\",autoClose:!1}),i.permissonPopOver.openBy(e)},getAuthorizationManager:function(){return this._authorizationManager},setAuthorizationManager:function(e){this._authorizationManager=e;var t=this._authorizationManager.getObjectInfo().isFolder,i=sap.ui.getCore().byId(this.getId()+\"--permissionsTable\");sap.ui.getCore().byId(this.getId()+\"_showHorizontalLabelCheckBox\").setVisible(t),sap.ui.getCore().byId(this.getId()+\"_showHorizontalLabelCheckBoxDivider\").setVisible(t),t?i.setColumnHeaderHeight(140):(i.removeStyleClass(\"sasEVContentAuthTable\"),i.removeStyleClass(\"evTableRotateColumnHeaders\")),e.attachDirty($.proxy(function(e){this._enableToolBarButtons()}),this),this.titleLabel.setVisible(e.getShowObjectLabelAndIcon());var o=e.getShowSaveCancelRefreshButtons();this.refreshButton.setVisible(o),this.cancelButton.setVisible(o),this.saveButton.setVisible(o),this.directRulesButton.setVisible(o);var s=this._authorizationManager.getModel(\"authorizationModel\");s.setProperty(\"/objectUri\",e.getObjectInfo().objectUri),s.setProperty(\"/objectName\",e.getObjectInfo().hasOwnProperty(\"objectName\")?e.getObjectInfo().objectName:e.getObjectInfo().objectUri),this.controller.getIsWriteable()},getRuleForPermission:function(e,t){var i;return $.each(e,function(e,o){if(o.permissions.indexOf(t)>-1)return i=o,!1}),i},getDirectIcon:function(e,t,i,o){var s=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\");if(!i||!i.result)return sas.icons.HC.BLANK;if(\"conditional\"===i.result){if(i.prohibitFactor)return i.prohibitFactor.direct?(e.setTooltip(s.getText(\"Permission.Cell.Explicit.Tooltip.txt\")),sas.icons.HC.CONDITIONALHIGHLIGHTINGDIAMOND):(e.setTooltip(s.getText(\"Permission.Cell.Indirect.Tooltip.txt\")),sas.icons.HC.BLANK);if(i.grantFactor)return i.grantFactor.direct?(e.setTooltip(s.getText(\"Permission.Cell.Explicit.Tooltip.txt\")),sas.icons.HC.CONDITIONALHIGHLIGHTINGDIAMOND):(e.setTooltip(s.getText(\"Permission.Cell.Indirect.Tooltip.txt\")),sas.icons.HC.BLANK)}return\"grant\"===i.result&&i.grantFactor?i.grantFactor.direct?(e.setTooltip(s.getText(\"Permission.Cell.Explicit.Tooltip.txt\")),sas.icons.HC.CONDITIONALHIGHLIGHTINGDIAMOND):(e.setTooltip(s.getText(\"Permission.Cell.Indirect.Tooltip.txt\")),sas.icons.HC.BLANK):\"prohibit\"===i.result&&i.prohibitFactor?i.prohibitFactor.direct?(e.setTooltip(s.getText(\"Permission.Cell.Explicit.Tooltip.txt\")),sas.icons.HC.CONDITIONALHIGHLIGHTINGDIAMOND):(e.setTooltip(s.getText(\"Permission.Cell.Indirect.Tooltip.txt\")),sas.icons.HC.BLANK):(e.setTooltip(s.getText(\"Permission.Cell.Implicit.Tooltip.txt\")),sas.icons.HC.BLANK)},getEffectivePermissionIcon:function(e,t,i,o){var s=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),a=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");if(!i)return e.setTooltip(s.getText(\"Permission.Cell.Unknown.Tooltip.txt\")),sas.icons.HC.NEUTRALSTATUS;switch(i.result){case sas.ev.shared.authorization.util.AuthorizationUtil.GRANT:return e.setWidth(\"16px\"),e.setHeight(\"16px\"),e.setTooltip(s.getText(\"Permission.Cell.Authorized.Tooltip.txt\")),sas.icons.HC.COMPLETESTATUS;case sas.ev.shared.authorization.util.AuthorizationUtil.PROHIBIT:e.setWidth(\"16px\"),e.setHeight(\"16px\");var r=sas.icons.HC.INVALIDSTATUS;return i.prohibitFactor?e.setTooltip(s.getText(\"Permission.Cell.NotAuthorized.Tooltip.txt\")):(\"secure\"===t||\"secure-conveyed\"===t)&&o&&a.getProperty(\"/reshareEnabled\")?(e.setTooltip(s.getText(\"Permission.Cell.Can.Share.Tooltip.txt\")),r=sas.icons.HC.SHARESVG):e.setTooltip(s.getText(\"Permission.Cell.NotAuthorized.Implicit.Tooltip.txt\")),r;case sas.ev.shared.authorization.util.AuthorizationUtil.CONDITIONAL:return e.setWidth(\"16px\"),e.setHeight(\"16px\"),e.setTooltip(s.getText(\"Permission.Cell.Conditional.Tooltip.txt\")),sas.icons.HC.EMBEDDEDSTATUS;default:return e.setTooltip(s.getText(\"Permission.Cell.Unknown.Tooltip.txt\")),sas.icons.HC.NEUTRALSTATUS}},save:function(){this.controller.save()},preview:function(){this.controller.preview()},cancel:function(){this.controller.cancel()},refresh:function(){this.controller.refresh(!0)},openRulesDialog:function(){},_enableToolBarButtons:function(e){this.saveButton.setEnabled(this._authorizationManager.getIsDirty());var t=sap.ui.getCore().byId(this.getId()+\"--permissionsTable\"),i=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\").getProperty(\"/canEdit\");this.removeIdentityButton.setEnabled(t.getSelectedIndices().length>0&&i),this.cancelButton.setEnabled(this._authorizationManager.getIsDirty())},_filterAuthTable:function(e,t){var i=[],o=this.getId(),s=sap.ui.getCore().byId(o+\"--permissionsTable\");if(t)i.push(new sap.ui.model.Filter(\"principal/name\",sap.ui.model.FilterOperator.Contains,t)),i.push(new sap.ui.model.Filter(\"principal/displayname\",sap.ui.model.FilterOperator.Contains,t)),s.getBinding().filter(new sap.ui.model.Filter(i,!1));else{s.getBinding().aFilters=null;var a=s.getModel(\"authorizationModel\").getData(),r=new sap.ui.model.json.JSONModel(a);s.setModel(r,\"authorizationModel\")}},exit:function(){}});",
	"sas/ev/shared/authorization/pet/PermissionInfoPopover.js": "// (c) 2018, SAS Institute Inc.\nsap.ui.define([\"sas/hc/m/Button\",\"sas/hc/m/Label\",\"sas/hc/m/ResponsivePopover\",\"sas/hc/m/IconTabBar\",\"sas/hc/m/IconTabFilter\",\"sap/ui/model/json/JSONModel\",\"sas/hc/m/Select\",\"sas/ev/shared/authorization/util/AuthorizationUtil\",\"sas/hc/m/MessageDialog\",\"sas/hc/m/HBox\",\"sas/hc/m/VBox\",\"sas/hc/m/HelpPopup\",\"sas/hc/ui/layout/SplitterLayoutData\",\"sas/hc/m/ResponsiveToolbar\",\"sas/hc/m/ToolbarSpacer\",\"sas/ev/shared/authorization/pet/AuthRulesTable\",\"sas/ev/shared/authorization/pet/SharesInfoTable\",\"sas/hc/m/FlexBox\",\"sas/hc/ui/core/Item\",\"sap/m/SelectList\",\"sas/hc/ui/layout/form/Form\",\"sas/hc/ui/layout/form/ResponsiveGridLayout\",\"sas/hc/ui/layout/form/FormContainer\",\"sas/hc/ui/layout/form/FormElement\",\"sap/ui/commons/Label\",\"sas/hc/m/FlexItemData\",\"sas/hc/m/library\",\"sas/hc/ui/core/theme/IconInitialization\",\"sas/hc/ui/table/library\",\"sap/ui/core/Core\"],function(e,t,i,o,s,n,a,r,l,h,c,u,g,d,m,b,p,T,I,y,C,P,w,x,f,v){\"use strict\";return i.extend(\"sas.ev.shared.authorization.pet.PermissionInfoPopover\",{metadata:{properties:{permissionCellInfo:{type:\"object\",multiple:!1,defaultValue:null}},aggregations:{},events:{}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),renderer:{},setPermissionCellInfo:function(e){this.setProperty(\"permissionCellInfo\",e);var t=this.getPermissionCellInfo().cellTemplate,i=this.getPermissionCellInfo().controller;this._basicPropertyPanel=this._createBasicPropertyPanel(t,i),this._oPropertyTab.addItem(this._basicPropertyPanel),this._setContributingRulesCount(t,i),this._setContributingSharesCount(t,i);var o=t.data(\"permissionName\"),s=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");s.getProperty(\"/shareEnabled\")?\"secure\"===o||\"secure-conveyed\"===o?this._oIconTabShares.setVisible(s.getProperty(\"/reshareEnabled\")):this._oIconTabShares.setVisible(!0):this._oIconTabShares.setVisible(!1),i.getView().getParent().getParent().attachBrowserEvent(\"click\",this.mouseClickHandler.bind(this))},init:function(){var e=this;i.prototype.init&&i.prototype.init.apply(this,arguments),this.addStyleClass(\"evAuthorizationPopover\"),this._oIconTabBar=new o({firstTabClosable:!1,showOverflowPopOver:!1,stretchContentHeight:!0}),this._oPropertyTab=new T({id:e.getId()+\"-propertyFlexBox\",direction:\"Column\",width:\"100%\",height:\"100%\"}),this._oIconTabProperty=new s({id:e.getId()+\"propertiesTab\",text:this.rb.getText(\"PermissionInfoPopover.tabs.property.txt\"),closable:!1}),this._oIconTabProperty.addContent(this._oPropertyTab),this._oIconTabBar.addItem(this._oIconTabProperty),this._oIconTabContributingRules=new s({id:e.getId()+\"contributingRulesTab\",text:this.rb.getText(\"PermissionInfoPopover.tabs.contributingRules.txt\"),enabled:{path:\"SASEV-AuthorizationManagerModel>/isDirty\",formatter:function(e){return!e}},closable:!1,count:0}),this._contributingRulesPanel=this._createContributingRulesPanel(),this._oIconTabContributingRules.addContent(this._contributingRulesPanel),this._oIconTabBar.addItem(this._oIconTabContributingRules),this._oIconTabShares=new s({id:e.getId()+\"contributingSharesTab\",text:this.rb.getText(\"PermissionInfoPopover.tabs.shares.txt\"),closable:!1,visible:!1,count:0}),this._sharesPanel=this._createContributingSharesPanel(),this._oIconTabShares.addContent(this._oSharesTab),this._oIconTabBar.addItem(this._oIconTabShares),this.addContent(this._oIconTabBar),this._oIconTabBar.attachTabChanging(function(t){var i=t.getParameter(\"newTab\").getId();if(i===e.getId()+\"contributingRulesTab\"){var o=e.getPermissionCellInfo().controller,s=e.getPermissionCellInfo().cellTemplate;if(o){var n=s.getParent(),a=s.data(\"permissionName\"),r=n.getBindingContext(\"authorizationModel\");o.refreshContributingRules(e._rulesTable,a,r)}}else if(i===e.getId()+\"contributingSharesTab\"){var o=e.getPermissionCellInfo().controller,s=e.getPermissionCellInfo().cellTemplate;if(o){var n=s.getParent(),a=s.data(\"permissionName\"),r=n.getBindingContext(\"authorizationModel\");o.refreshContributingShares(e._sharesTable,a,r)}}}),this.attachAfterClose(function(){this.destroy()})},_createBasicPropertyPanel:function(t,i){var o=this,s=this.rb,c=t.getParent(),u=t.data(\"permissionName\");if(u){var g=c.getBindingContext(\"authorizationModel\");if(g){var d=t.data(\"identity\"),m=d.name,b=d.displayname,p=d.type,T=t.data(\"permissionDisplayName\"),v=t.data(\"result\");this.setTitle(T);var _=!1,S=u,M=u.indexOf(\"-conveyed\");-1!==M&&(_=!0,S=u.substring(0,M));var R=[{Type:s.getText(\"Common.permissionType.Grant.txt\"),Key:r.GRANT},{Type:s.getText(\"Common.permissionType.GrantWithCondition.txt\"),Key:r.GRANT_WITH_CONDITION},{Type:s.getText(\"Common.permissionType.Prohibit.txt\"),Key:r.PROHIBIT},{Type:s.getText(\"Common.permissionType.ProhibitWithCondition.txt\"),Key:r.PROHIBIT_WITH_CONDITION},{Type:s.getText(\"Common.permissionSetting.noExplicitControl.txt\"),Key:r.NO_SETTING}],V=new e({icon:sas.icons.HC.CONDITIONALHIGHLIGHTINGRULES,tooltip:s.getText(\"Common.permissionSetting.conditionButton.tooltip.txt\"),enabled:!1,press:function(){i.displayPermissionConditionDialog(u,g),o.close(),o.getPermissionCellInfo().controller.getView().permissonPopOver=null}}),B=new n({permissionSettingChoices:R}),A=new a({width:\"200px\",autoAdjustWidth:!1,enabled:{parts:[{path:\"SASEV-AuthorizationManagerModel>/readOnly\"},{path:\"SASEV-AuthorizationManagerModel>/canEdit\"}],formatter:function(e,t){return!e&&t}},items:{path:\"/permissionSettingChoices\",template:new I({key:\"{Key}\",text:\"{Type}\"})},change:function(){var e=A.getSelectedItem().getKey();if(e===r.PROHIBIT||e===r.PROHIBIT_WITH_CONDITION){var t=\"\";\"authenticatedUsers\"===p?t=s.getText(\"BasicPermissionPage.prohibit.authenticated.users.warning.fmt.txt\",[T]):\"user\"===p||\"guest\"===p?(\"guest\"===p&&(b=s.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\")),t=s.getText(\"BasicPermissionPage.prohibit.user.warning.fmt.txt\",[b,T])):t=s.getText(\"BasicPermissionPage.prohibit.group.warning.fmt.txt\",[b,T]),l.warning({text:t,title:s.getText(\"AuthorizationManagerFactory.CloseAction.ConfirmMsg.Title.txt\"),buttonActions:[sas.hc.m.MessageDialogAction.Yes,{text:sas.hc.m.MessageDialogAction.No,initialFocus:!0,defaultButton:!0}],buttonPress:function(t){var o=t.getParameter(\"origin\");if(o.getMessageDialogAction()===sas.hc.m.MessageDialogAction.Yes)e===r.PROHIBIT?i.setPermission(u,m,p,e):i.displayPermissionConditionDialog(u,g,r.PROHIBIT);else if(o.getMessageDialogAction()===sas.hc.m.MessageDialogAction.No)return}})}e===r.GRANT||e===r.NO_SETTING?i.setPermission(u,m,p,e):e===r.GRANT_WITH_CONDITION&&i.displayPermissionConditionDialog(u,g,r.GRANT),o.close(),o.getPermissionCellInfo().controller.getView().permissonPopOver=null}});A.setModel(B);var N=A.getList();N.addEventDelegate({onmousedown:function(e){y.prototype.ontap.apply(N,arguments)}});var O=i.getDirectRuleForIdentityAndPermission(m,p,S,_);if(O){var z=O.type,D=O.condition;D&&D.length>0?V.setEnabled(!0):V.setEnabled(!1),z===r.GRANT?D&&D.length>0?A.setSelectedIndex(1):A.setSelectedIndex(0):z===r.PROHIBIT&&(D&&D.length>0?A.setSelectedIndex(3):A.setSelectedIndex(2))}else A.setSelectedIndex(4),V.setEnabled(!1);var E,H=new h({width:\"100%\",items:[A,V]});E=\"authenticatedUsers\"===p?s.getText(\"BasicPermissionPage.authenticatedUser.txt\"):\"guest\"===p?s.getText(\"BasicPermissionPage.identityColumn.guest.users.txt\"):b||m;var F,G=g.getProperty(\"shares\"),L=sap.ui.getCore().getModel(\"SASEV-AuthorizationManagerModel\");F=v===r.GRANT?s.getText(\"Permission.Cell.Authorized.Tooltip.txt\"):v===r.PROHIBIT?t.data(\"prohibitFactor\")?s.getText(\"Permission.Cell.NotAuthorized.Tooltip.txt\"):(\"secure\"===u||\"secure-conveyed\"===u)&&G&&L.getProperty(\"/reshareEnabled\")?s.getText(\"Permission.Cell.Can.Share.Tooltip.txt\"):s.getText(\"Permission.Cell.NotAuthorized.Tooltip.txt\"):v===r.CONDITIONAL?s.getText(\"Permission.Cell.Conditional.Tooltip.txt\"):s.getText(\"Permission.Cell.Unknown.Tooltip.txt\");return new C({layout:new P({}),formContainers:[new w({formElements:[new x({label:s.getText(\"permission.origins.principal.label.txt\"),fields:[new f({text:E,icon:r.getIdentityIcon(d)})]}),new x({label:s.getText(\"permission.origins.effective.access.label.txt\"),fields:[new f({text:F})]}),new x({label:s.getText(\"permission.origins.direct.setting.label.txt\"),fields:[H]})]})]})}}},_setContributingRulesCount:function(e,t){var i=e.getParent(),o=e.data(\"permissionName\");if(o){var s=i.getBindingContext(\"authorizationModel\");if(s){var n=s.getProperty(o),a=[];if(n){var r=n.grantFactor,l=n.prohibitFactor;r?(a=r.contributingRules,l&&(a=a.concat(l.contributingRules))):l&&(a=l.contributingRules),a&&this._oIconTabContributingRules.setCount(a.length)}}}},_setContributingSharesCount:function(e,t){var i=e.getParent(),o=e.data(\"permissionName\"),s=i.getBindingContext(\"authorizationModel\");if(s){var n=s.getProperty(\"shares\");if(!n)return void this._oIconTabShares.setCount(0);var a=0,r=0,l=0;n.read&&(r+=n.read.length),n.readShare&&(r+=n.readShare.length),n.readEdit&&(l+=n.readEdit.length),n.readEditShare&&(l+=n.readEditShare.length),a=\"read\"===o||\"read-conveyed\"===o||\"secure\"===o||\"secure-conveyed\"===o?r+l:l,this._oIconTabShares.setCount(a)}},_createContributingRulesPanel:function(){var e=this;e.initializeColumnVisibilityMap(\"ContributingRulesTable\"),this._rulesTable=new b(this.getId()+\"_ContributingRulesTable\",{layoutData:new v({growFactor:1}),visibleRowCountMode:sas.hc.ui.table.VisibleRowCountMode.Auto}),this._rulesTable.bindRows(\"/rules\");var t=new u({library:\"sas.ev.shared.authorization\",key:\"genorigins\"}),i=new v({shrinkFactor:0}),o=new d({id:this.getId()+\"-authTableContributingRulesToolbar\",layoutData:i,content:[new m,t]});return this._oSharesTab=new T({id:e.getId()+\"-contributingRulesFlexBox\",direction:\"Column\",width:\"100%\",height:\"100%\",items:[o,this._rulesTable]}),this._oSharesTab},_createContributingSharesPanel:function(){var e=this;e.initializeColumnVisibilityMap(\"SharesTable\"),this._sharesTable=new p(this.getId()+\"_SharesTable\",{layoutData:new v({growFactor:1}),visibleRowCountMode:sas.hc.ui.table.VisibleRowCountMode.Auto}),this._sharesTable.bindRows(\"/shares\");var t=new u({library:\"sas.ev.shared.authorization\",key:\"shares\"}),i=new v({shrinkFactor:0}),o=new d({id:this.getId()+\"-authTableSharesToolbar\",layoutData:i,content:[new m,t]});return this._oSharesTab=new T({id:e.getId()+\"-sharesFlexBox\",direction:\"Column\",width:\"100%\",height:\"100%\",items:[o,this._sharesTable]}),this._oSharesTab},initializeColumnVisibilityMap:function(e){window.columnsVisibilityMap||(window.columnsVisibilityMap={}),window.columnsVisibilityMap[e+\"-principal\"]||(window.columnsVisibilityMap[e+\"-principal\"]=!0,window.columnsVisibilityMap[e+\"-type\"]=!1,window.columnsVisibilityMap[e+\"-setting\"]=!0,window.columnsVisibilityMap[e+\"-targetName\"]=!0,window.columnsVisibilityMap[e+\"-objectUri\"]=!0,window.columnsVisibilityMap[e+\"-containerUri\"]=!0,window.columnsVisibilityMap[e+\"-condition\"]=!1,window.columnsVisibilityMap[e+\"-description\"]=!1,window.columnsVisibilityMap[e+\"-mediaType\"]=!1,window.columnsVisibilityMap[e+\"-id\"]=!1,window.columnsVisibilityMap[e+\"-shareLevel\"]=!0,window.columnsVisibilityMap[e+\"-sharedWith\"]=!0,window.columnsVisibilityMap[e+\"-sharedBy\"]=!0,window.columnsVisibilityMap[e+\"-Target\"]=!0,window.columnsVisibilityMap[e+\"-Date\"]=!0)},mouseClickHandler:function(e){this.getPermissionCellInfo().controller.getView().permissonPopOver&&this.getPermissionCellInfo().controller.getView().permissonPopOver.close(),this.getPermissionCellInfo().controller.getView().permissonPopOver=null},exit:function(){this.getPermissionCellInfo().controller.getView()&&this.getPermissionCellInfo().controller.getView().getParent()&&this.getPermissionCellInfo().controller.getView().getParent().getParent().detachBrowserEvent(\"click\",this.mouseClickHandler)}})});",
	"sas/ev/shared/authorization/pet/SharesInfoTable.js": "// (c) 2018, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sas/hc/ui/table/Table\",\"sas/hc/ui/table/Column\",\"sas/hc/m/Label\",\"sas/hc/m/Text\",\"sap/ui/commons/Label\",\"sap/ui/model/type/String\",\"sap/ui/model/BindingMode\",\"sap/ui/core/format/DateFormat\",\"sap/ui/core/Core\",\"sas/hc/ui/core/theme/IconInitialization\",\"sas/hc/ui/table/library\"],function(e,t,a,r,i,s,o,n,h){\"use strict\";var l=t.extend(\"sas.ev.shared.authorization.pet.SharesInfoTable\",{metadata:{properties:{},aggregations:{},events:{}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\"),renderer:\"sas.hc.ui.table.TableRenderer\",constructor:function(){t.apply(this,arguments)}});return l.prototype.init=function(){t.prototype.init&&t.prototype.init.apply(this,arguments),this.setVisibleRowCountMode(sas.hc.ui.table.VisibleRowCountMode.Auto),this._addColumns(),this.setSelectionBehavior(sas.hc.ui.table.SelectionBehavior.RowOnly),this.setSelectionMode(sas.hc.ui.table.SelectionMode.Single),this.setNoData(this.rb.getText(\"SharesInfoTable.NoData.txt\")),this.setEnablePixelScrolling(!1)},l.prototype._addColumns=function(){var t=this.rb,o=this,l=o.getId().split(/[_]+/).pop();window.sharesColumnsArray||(window.sharesColumnsArray=[\"shareLevel\",\"sharedWith\",\"sharedBy\",\"Target\",\"Date\",\"shareType\"]),e.each(window.sharesColumnsArray,function(e,d){switch(d){case\"shareLevel\":o.addColumn(new a({id:o.getId()+\"-shareLevel\",label:new r({text:o.rb.getText(\"SharesInfoTable.shareLevel.header.title\")}),visible:window.columnsVisibilityMap[l+\"-shareLevel\"],width:\"120px\",template:new i({wrapping:!1,width:\"100%\",text:{path:\"type\",formatter:function(e){return e?\"read\"===e||\"readShare\"===e?o.rb.getText(\"SharesInfoTable.shareLevel.read.txt\"):o.rb.getText(\"SharesInfoTable.shareLevel.readEdit.txt\"):\"\"}},tooltip:{path:\"type\",formatter:function(e){return e?\"read\"===e||\"readShare\"===e?o.rb.getText(\"SharesInfoTable.shareLevel.read.txt\"):o.rb.getText(\"SharesInfoTable.shareLevel.readEdit.txt\"):\"\"}}}),sortProperty:\"type\"}));break;case\"sharedWith\":var p=new s({text:{parts:[{path:\"sharedWithDisplayname\"}],formatter:function(e){return e},mode:n.OneWay},icon:{parts:[{path:\"sharedWithType\"},{path:\"sharedWithProviderId\"}],formatter:function(e,t){return o.getIdentityIcon(e,t)},mode:n.OneWay},tooltip:{parts:[{path:\"sharedWith\"}],formatter:function(e){return e}}}),u=new r({text:t.getText(\"SharesInfoTable.shareWith.header.title\"),textAlign:\"Left\",tooltip:t.getText(\"SharesInfoTable.shareWith.header.title\")}),c=new a({id:o.getId()+\"-sharedWith\",visible:window.columnsVisibilityMap[l+\"-sharedWith\"],label:u,width:\"160px\",template:p,sortProperty:\"sharedWith\"});o.addColumn(c);break;case\"sharedBy\":var p=new s({text:{parts:[{path:\"sharedByDisplayname\"},{path:\"sharedBy\"}],formatter:function(e,t){return e||t},mode:n.OneWay},icon:sas.icons.HC.USER,tooltip:{parts:[{path:\"sharedBy\"}],formatter:function(e){return e}}}),u=new r({text:t.getText(\"SharesInfoTable.shareBy.header.title\"),textAlign:\"Left\",tooltip:t.getText(\"SharesInfoTable.shareBy.header.title\")}),c=new a({id:o.getId()+\"-sharedBy\",visible:window.columnsVisibilityMap[l+\"-sharedBy\"],label:u,width:\"160px\",template:p,sortProperty:\"sharedBy\"});o.addColumn(c);break;case\"Target\":o.addColumn(new a({id:o.getId()+\"-Target\",label:new r({text:o.rb.getText(\"SharesInfoTable.target.header.title\")}),visible:window.columnsVisibilityMap[l+\"-Target\"],width:\"160px\",template:new i({wrapping:!1,text:\"{resourceUri}\",tooltip:\"{resourceUri}\"}),sortProperty:\"resourceUri\"}));break;case\"Date\":o.addColumn(new a({id:o.getId()+\"-Date\",label:new r({text:o.rb.getText(\"SharesInfoTable.date.header.title\")}),width:\"190px\",visible:window.columnsVisibilityMap[l+\"-Date\"],template:new i({wrapping:!1,text:{path:\"modifiedTimeStamp\",formatter:function(e){return e?h.getDateTimeInstance().format(new Date(e),!1):\"\"}},tooltip:{path:\"modifiedTimeStamp\",formatter:function(e){return e?h.getDateTimeInstance().format(new Date(e),!1):\"\"}}}),sortProperty:\"modifiedTimeStampn\"}));break;case\"shareType\":o.addColumn(new a({id:o.getId()+\"-shareType\",label:new r({text:o.rb.getText(\"SharesInfoTable.shareType.header.title\")}),visible:!1,width:\"150px\",template:new i({wrapping:!1,width:\"100%\",text:\"{type}\",tooltip:\"{type}\"}),sortProperty:\"type\"}))}})},l.prototype.exit=function(){t.prototype.exit&&t.prototype.exit.apply(this,arguments);var a=this.getColumns();e.each(a,function(e,t){var a=t.getId().split(/[_]+/).pop();window.columnsVisibilityMap[a]=t.getVisible()})},l.prototype._adjustRows=function(){var e=!1;return!1===this.hasOwnProperty(\"_iAdjustRowsCount\")&&(this._iAdjustRowsCount=0),this._iAdjustRowsCount++,this._iAdjustRowsCount<4&&(e=t.prototype._adjustRows.apply(this,arguments)),e||delete this._iAdjustRowsCount,e},l.prototype.getIdentityIcon=function(e,t){sas.icons.HC.ALERT;return t||\"authenticatedUsers\"===e||\"guest\"===e||\"everyone\"===e?\"group\"===e?t&&\"local\"===t?sas.icons.HC.CUSTOMGROUP:sas.icons.HC.USERGROUP:\"user\"===e||\"guest\"===e?sas.icons.HC.USER:sas.icons.HC.USERGROUP:sas.icons.HC.ALERT},l});",
	"sas/ev/shared/authorization/services/CASAuthorizationService.js": "/*\n * Copyright 2015 SAS Institute Inc.\n * All Rights Reserved.\n */\njQuery.sap.declare(\"sas.ev.shared.authorization.services.CASAuthorizationService\"),jQuery.sap.require(\"sas.hc.ui.services.RestService\"),jQuery.sap.require(\"sas.ev.shared.authorization.util.AuthorizationUtil\"),function(){sas.hc.ui.services.RestService.extend(\"sas.ev.shared.authorization.services.CASAuthorizationService\",{baseUrl:\"/casAccessManagement\",defaultTimeout:3e4,metadata:{publicMethods:[\"getApplicablePermissions\",\"getAuthorizationsOnObj\"]},constructor:function(){var e={crossDomain:!1,authenticate:!0};sas.hc.ui.services.RestService.apply(this,[e])}}),sas.ev.shared.authorization.services.CASAuthorizationService.prototype.getApplicablePermissions=function(e){var o={url:this.baseUrl+\"/enums/permissions/\"+e};return this.get(o)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.getIdentitiesInfo=function(e,o){var t=o.length,s=\"/identities/\"+e+\"?limit=\"+t,n=\"in(id\";$.each(o,function(e,o){o&&(o=o.replace(/'/g,\"''\")),n=n+\", '\"+encodeURIComponent(o)+\"'\"});var a={url:s,data:n+\")\",headers:{accept:\"application/vnd.sas.collection+json\",contentType:\"text/plain\"},accept:\"application/vnd.sas.collection+json\",contentType:\"text/plain\"};return this.post(a)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.getAuthorizationsOnObj=function(e,o,t,s,n,a,i,r,c){var d,l=this.baseUrl+\"/servers/\"+encodeURIComponent(s)+\"/\";switch(t){case\"caslibs\":l=l+\"caslibControls/\"+encodeURIComponent(n),d=\"application/vnd.sas.collection+json\";break;case\"tables\":a=sas.ev.shared.authorization.util.AuthorizationUtil.decodePathSegments(a),l=l+\"caslibs/\"+encodeURIComponent(n)+\"/tableControls/\"+encodeURIComponent(a),d=\"application/vnd.sas.collection+json\";break;default:l+=encodeURIComponent(a)}l=l+\"?accessControlType=\"+e;var p,u,h=!0,v=!0,I=!1;o&&o.length>0&&$.each(o,function(e,o){\"user\"===o.type?(h||(p+=\"|\"),p=p?p+o.id:o.id,h=!1):\"group\"===o.type?(v||(u+=\"|\"),u=u?u+o.id:o.id,v=!1):\"guest\"===o.type&&(I=!0)}),p?(l+=\"&user=\"+encodeURIComponent(p),\"origin\"===e||r||(l+=encodeURIComponent(\"|@currentUser\"))):\"origin\"===e||r||(l+=\"&user=@currentUser\"),u&&(l+=\"&group=\"+encodeURIComponent(u)),c&&(l+=\"&sessionId=\"+encodeURIComponent(c)),I&&(l+=\"&guest=true\");var m={url:l,headers:{accept:d},accept:d};return this.get(m)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.getAuthorizationsOnColumnObj=function(e,o,t,s,n,a,i,r){var c=this.baseUrl+\"/servers/\"+encodeURIComponent(t)+\"/caslibs/\"+encodeURIComponent(s)+\"/tables/\"+encodeURIComponent(n)+\"/columnControls/\"+encodeURIComponent(a);c+=\"?accessControlType=effective\",r&&(c+=\"&sessionId=\"+encodeURIComponent(r));var d={url:c,headers:{accept:\"application/vnd.sas.collection+json\"},accept:\"application/vnd.sas.collection+json\"};return this.get(d)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.getRelevantPrincipals=function(e,o,t,s,n){var a,i=this.baseUrl+\"/servers/\"+encodeURIComponent(o)+\"/\";switch(e){case\"caslibs\":i=i+\"caslibPrincipals/\"+encodeURIComponent(t),a=\"application/vnd.sas.collection+json\";break;case\"tables\":s=sas.ev.shared.authorization.util.AuthorizationUtil.decodePathSegments(s),i=i+\"caslibs/\"+encodeURIComponent(t)+\"/tablePrincipals/\"+encodeURIComponent(s),a=\"application/vnd.sas.collection+json\"}n&&(i+=\"?sessionId=\"+encodeURIComponent(n));var r={url:i,headers:{accept:a},accept:a};return this.get(r)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.getIsWriteable=function(e){return this.getUserPermission(e,\"manageAccess\")},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.getCanReadObject=function(e){return this.getUserPermission(e,\"readInfo\")},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.getUserPermission=function(e,o){var t=this.baseUrl+\"/servers/\"+encodeURIComponent(e.serverId)+\"/\";switch(e.objectType){case\"caslibs\":t=t+\"caslibControls/\"+encodeURIComponent(e.caslibId);break;case\"tables\":var s=sas.ev.shared.authorization.util.AuthorizationUtil.decodePathSegments(e.objectId);t=t+\"caslibs/\"+encodeURIComponent(e.caslibId)+\"/tableControls/\"+encodeURIComponent(s);break;case\"columns\":t=t+\"caslibs/\"+encodeURIComponent(e.caslibId)+\"/tables/\"+encodeURIComponent(e.tableId)+\"/columnControls/\"+encodeURIComponent(e.objectId);break;default:t+=encodeURIComponent(s)}t=t+\"/authorization?permissionType=\"+o+\"&fields=type\",e.sessionId&&(t+=\"&sessionId=\"+encodeURIComponent(e.sessionId));var n={url:t,accept:\"application/vnd.sas.cas.access.control+json\"};return this.get(n)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.getObjectLockStatus=function(e){var o=this.baseUrl+\"/servers/\"+encodeURIComponent(e.serverId)+\"/\";switch(e.objectType){case\"caslibs\":o=o+\"caslibControls/\"+encodeURIComponent(e.caslibId);break;case\"tables\":var t=sas.ev.shared.authorization.util.AuthorizationUtil.decodePathSegments(e.objectId);o=o+\"caslibs/\"+encodeURIComponent(e.caslibId)+\"/tableControls/\"+encodeURIComponent(t);break;case\"columns\":o=o+\"caslibs/\"+encodeURIComponent(e.caslibId)+\"/tables/\"+encodeURIComponent(e.tableId)+\"/columnControls/\"+encodeURIComponent(e.objectId);break;default:o+=encodeURIComponent(t)}o+=\"/locks\",e.sessionId&&(o+=\"?sessionId=\"+encodeURIComponent(e.sessionId));var s={url:o,accept:\"text/plain\"};return this.get(s)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.setAuthorizationsOnObj=function(e,o){var t=this.baseUrl+\"/servers/\"+encodeURIComponent(o.serverId)+\"/\";switch(o.objectType){case\"caslibs\":t=t+\"caslibControls/\"+encodeURIComponent(o.caslibId);break;case\"tables\":var s=sas.ev.shared.authorization.util.AuthorizationUtil.decodePathSegments(o.objectId);t=t+\"caslibs/\"+encodeURIComponent(o.caslibId)+\"/tableControls/\"+encodeURIComponent(s);break;case\"columns\":t=t+\"caslibs/\"+encodeURIComponent(o.caslibId)+\"/tables/\"+encodeURIComponent(o.tableId)+\"/columnControls/\"+encodeURIComponent(o.columnId)}o.sessionId&&(t=t+\"?sessionId=\"+encodeURIComponent(o.sessionId));var n=JSON.stringify(e),a={url:t,contentType:\"application/vnd.sas.cas.access.controls+json\",dataType:\"text\",data:n};return 0===e.length?this.del(a):this.put(a)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.createSession=function(e){var o=this,t=encodeURIComponent(e),s={url:\"/casManagement/servers/\"+t+\"/sessions\",headers:{\"Content-Type\":\"application/vnd.sas.cas.session+json\"},data:{name:\"Authorization Manager\",timeOut:900},timeout:o.defaultTimeout};return o.post(s)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.deleteSession=function(e,o){var t=this,s=encodeURIComponent(o),n={url:\"/casManagement/servers/\"+s+\"/sessions/\"+encodeURIComponent(e),dataType:\"text\",timeout:t.defaultTimeout};return this.del(n)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.setSessionTransactionState=function(e,o,t){var s=this,n=\"/casManagement/servers/\"+encodeURIComponent(e)+\"/sessions/\"+encodeURIComponent(o);n+=\"?action=\"+t;var a={url:n,dataType:\"text\"};return s.post(a)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.lockObject=function(e){var o=this.baseUrl+\"/servers/\"+encodeURIComponent(e.serverId)+\"/\";switch(e.objectType){case\"caslibs\":o=o+\"caslibControls/\"+encodeURIComponent(e.caslibId);break;case\"tables\":var t=sas.ev.shared.authorization.util.AuthorizationUtil.decodePathSegments(e.objectId);o=o+\"caslibs/\"+encodeURIComponent(e.caslibId)+\"/tableControls/\"+encodeURIComponent(t);break;case\"columns\":o=o+\"caslibs/\"+encodeURIComponent(e.caslibId)+\"/tables/\"+encodeURIComponent(e.tableId)+\"/columnControls/\"+encodeURIComponent(e.columnId)}o+=\"/lock\",e.sessionId&&(o=o+\"?sessionId=\"+encodeURIComponent(e.sessionId)+\"&checkOutParent=true\");var s={url:o,dataType:\"text\"};return this.post(s)},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.get=function(e){return this._send(e,\"GET\")},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.post=function(e){return this._send(e,\"POST\")},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.del=function(e){return this._send(e,\"DELETE\")},sas.ev.shared.authorization.services.CASAuthorizationService.prototype.put=function(e){return this._send(e,\"PUT\")}}();",
	"sas/ev/shared/authorization/services/PetAuthorizationService.js": "/*\n * Copyright 2015 SAS Institute Inc.\n * All Rights Reserved.\n */\njQuery.sap.declare(\"sas.ev.shared.authorization.services.PetAuthorizationService\"),jQuery.sap.require(\"sas.hc.ui.services.RestService\"),jQuery.sap.require(\"sas.hc.ui.core.util.UserInfo\"),function(){sas.hc.ui.services.RestService.extend(\"sas.ev.shared.authorization.services.PetAuthorizationService\",{baseUrl:\"/authorization\",metadata:{publicMethods:[\"getApplicablePermissions\",\"getRulesOnObj\"]},constructor:function(){var e={crossDomain:!1,authenticate:!0};sas.hc.ui.services.RestService.apply(this,[e])}}),sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getIsWriteable=function(e){return!0},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getAllRules=function(){var e={url:this.baseUrl+\"/rules\"};return this.get(e)},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getAllDirectRulesOnObject=function(e,t){var i;i=t?this.baseUrl+\"/rules?filter=and( eq(isShare, false), or( eq(objectUri, '\"+e+\"'), eq(objectUri, '\"+e+\"/**'), eq(containerUri,'\"+t+\"')))\":this.baseUrl+\"/rules?filter=and( eq(isShare, false), or( eq(objectUri, '\"+e+\"'), eq(objectUri, '\"+e+\"/**')))\";var n={url:i,accept:\"application/vnd.sas.collection+json;version=1\"};return this.get(n)},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getRules=function(e){var t={url:e,accept:\"application/vnd.sas.collection+json;version=1\"};return this.get(t)},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getDirectRulesOnObjectForIdentity=function(e,t,i){var n=this.baseUrl+\"/rules?filter= and ( eq(objectUri, '\"+e+\"'),  eq(principal, '\"+t+\"' ) )\",r={url:n,accept:\"application/vnd.sas.collection+json;version=1\"};return this.get(r)},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getAuthorizationsOnObject=function(e,t){var i=this.baseUrl+\"/decision?includeShares=true\",n=t?t.slice():void 0,r=sas.hc.ui.core.util.UserInfo.instance.id;n?this.containsCurrentUser(n)||n.push({type:\"user\",id:r}):n=[{type:\"user\",id:r}],n&&n.length>0&&$.each(n,function(e,t){i+=\"&\",\"user\"===t.type?i=i+\"additionalUser=\"+encodeURIComponent(t.id):\"group\"===t.type?i=i+\"additionalGroup=\"+encodeURIComponent(t.id):\"guest\"===t.type&&(i+=\"includeGuest=true\")});var s={type:\"POST\",url:i,headers:{accept:\"application/vnd.sas.authorization.explanations+json\",contentType:\"application/vnd.sas.uriarray+json; version=1\"},accept:\"application/vnd.sas.authorization.explanations+json\",contentType:\"application/vnd.sas.uriarray+json; version=1\",data:JSON.stringify([e])};return this.post(s)},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getIdentitiesInfo=function(e,t){var i=t.length,n=\"/identities/\"+e+\"?limit=\"+i,r=\"in(id\";$.each(t,function(e,t){t&&(t=t.replace(/'/g,\"''\")),r=r+\", '\"+encodeURIComponent(t)+\"'\"});var s={url:n,data:r+\")\",headers:{accept:\"application/vnd.sas.collection+json\",contentType:\"text/plain\"},accept:\"application/vnd.sas.collection+json\",contentType:\"text/plain\"};return this.post(s)},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getIsCurrentUserAuthorizedOnObject=function(e,t){var i=this,n=e.lastIndexOf(\"/\"),r=e.substring(0,n),s=r.slice(r.lastIndexOf(\"/\")+1,n-1),a=i.baseUrl+\"/decision\";return s?this.get({url:e}).then(function(n){var r;switch(s){case\"folder\":r={folder:n};break;case\"file\":r={file:n};break;case\"report\":r={report:n};break;case\"plan\":r={plan:n};break;default:r={}}var o={type:\"POST\",url:a,headers:{accept:\"application/vnd.sas.authorization.direct.decision+json;version=1\",contentType:\"application/vnd.sas.authorization.context+json;version=2\"},accept:\"application/vnd.sas.authorization.direct.decision+json;version=1\",contentType:\"application/vnd.sas.authorization.context+json;version=2\",data:JSON.stringify({request:{uri:e},permission:t,parameters:r})};return i.post(o)}):i.post({type:\"POST\",url:a,headers:{accept:\"application/vnd.sas.authorization.direct.decision+json;version=1\",contentType:\"application/vnd.sas.authorization.context+json;version=2\"},accept:\"application/vnd.sas.authorization.direct.decision+json;version=1\",contentType:\"application/vnd.sas.authorization.context+json;version=2\",data:JSON.stringify({request:{uri:e},permission:t})})},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.saveRulesOnObj=function(e){var t=this.baseUrl+\"/rules/bulkAction\",i=JSON.stringify(e),n={url:t,contentType:\"application/json\",dataType:\"text\",data:i};return this.post(n)},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getActionStatus=function(e){var t=this.baseUrl+\"/rules/bulkAction/\"+e,i={url:t};return this.get(i)},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.containsGuest=function(e){if(!e||0===e.length)return!1;var t=$.grep(e,function(e,t){return\"guest\"===e.type});return t&&t.length>0},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.containsCurrentUser=function(e){if(!e||0===e.length)return!1;var t=$.grep(e,function(e,t){return e.id===sas.hc.ui.core.util.UserInfo.instance.id});return t&&t.length>0},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.getHypotheticalDecisionExplanation=function(e,t){var i=t?t.slice():void 0,n=this.baseUrl+\"/decision?includeShares=true\",r=sas.hc.ui.core.util.UserInfo.instance.id;i?this.containsCurrentUser(i)||i.push({type:\"user\",id:r}):i=[{type:\"user\",id:r}],i&&i.length>0&&$.each(i,function(e,t){n+=\"&\",\"user\"===t.type?n=n+\"additionalUser=\"+encodeURIComponent(t.id):\"group\"===t.type?n=n+\"additionalGroup=\"+encodeURIComponent(t.id):\"guest\"===t.type&&(n+=\"includeGuest=true\")});var s={type:\"POST\",url:n,headers:{accept:\"application/vnd.sas.authorization.explanations+json\",contentType:\"application/vnd.sas.authorization.explanation.hypothetical+json\"},accept:\"application/vnd.sas.authorization.explanations+json\",contentType:\"application/vnd.sas.authorization.explanation.hypothetical+json\",data:JSON.stringify(e)};return this.post(s)},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.get=function(e){return this._send(e,\"GET\")},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.post=function(e){return this._send(e,\"POST\")},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.del=function(e){return this._send(e,\"DELETE\")},sas.ev.shared.authorization.services.PetAuthorizationService.prototype.put=function(e){return this._send(e,\"PUT\")}}();",
	"sas/ev/shared/authorization/util/AuthorizationUtil.js": "/*\n * Copyright 2015 SAS Institute Inc.\n * All Rights Reserved.\n */\n!function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.authorization.util.AuthorizationUtil\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.m.BusyDialog\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\"),jQuery.sap.require(\"sas.hc.m.library\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\");var e=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.authorization\");sas.ev.shared.authorization.util.AuthorizationUtil={USER:\"user\",GROUP:\"group\",ANONYMOUS:\"Anonymous\",COLUMNS:\"columns\",CASLIBS:\"caslibs\",TABLES:\"tables\",COLUMN:\"Column\",CASLIB:\"Caslib\",TABLE:\"Table\",SELECT:\"select\",DIRECT:\"direct\",INHERITED:\"inherited\",EXPLICT_ON_PARENT:\"EXPLICT_ON_PARENT\",GROUP_ON_PARENT:\"GROUP_ON_PARENT\",ACT_ON_PARENT:\"ACT_ON_PARENT\",REPOSITORY_DEFAULT_ACT:\"REPOSITORY_DEFAULT_ACT\",HIDDEN_PARENT:\"HIDDEN_PARENT\",DENY:\"deny\",GRANT:\"grant\",GRANT_WITH_CONDITION:\"grantWithCondition\",PROHIBIT:\"prohibit\",PROHIBIT_WITH_CONDITION:\"prohibitWithCondition\",CONDITIONAL:\"conditional\",ROW_LEVEL_GRANT:\"Row-Level Grant\",EXPLICIT_GRANT:\"explicit-grant\",IMPLICIT_GRANT:\"implicit-grant\",EXPLICIT_DENY:\"explicit-deny\",IMPLICIT_DENY:\"implicit-deny\",NO_SETTING:\"no-settings\",NO_DECISION:\"noDecision\",DENY_DIRECT:\"denyDirect\",DENY_INHERITED:\"denyInherited\",GRANT_DIRECT:\"grantDirect\",GRANT_DIRECT_FILTERED:\"grantDirectFiltered\",GRANT_INHERITED:\"grantInherited\",GRANT_INHERITED_FILTERED:\"grantInheritedFiltered\",CAS_PERMISSIONS_SET:[\"noDecision\",\"denyDirect\",\"denyInherited\",\"grantDirect\",\"grantDirectFiltered\",\"grantInherited\",\"grantInheritedFiltered\"],CONDITIONAL_GRANT:\"CONDITIONAL GRANT\",REMOVE:\"remove\",READ_PERMISSION_SET:[\"readInfo\",\"select\"],CASLIB_FULL_CONTROL_PERMISSION_SET:[\"alterCaslib\",\"alterTable\",\"createTable\",\"delete\",\"dropTable\",\"deleteSource\",\"insert\",\"manageAccess\",\"promote\",\"readInfo\",\"select\",\"limitedPromote\",\"update\"],CASLIB_WRITE_PERMISSION_SET:[\"createTable\",\"alterTable\",\"delete\",\"dropTable\",\"deleteSource\",\"insert\",\"promote\",\"readInfo\",\"select\",\"limitedPromote\",\"update\"],CASLIB_WRITE_DENY_PERMISSION_SET:[\"alterCaslib\",\"manageAccess\"],CASLIB_READ_DENY_PERMISSION_SET:[\"alterCaslib\",\"alterTable\",\"createTable\",\"delete\",\"dropTable\",\"insert\",\"manageAccess\",\"promote\",\"update\",\"limitedPromote\",\"deleteSource\"],TABLE_FULL_CONTROL_PERMISSION_SET:[\"alterTable\",\"createTable\",\"delete\",\"dropTable\",\"insert\",\"manageAccess\",\"readInfo\",\"select\",\"update\",\"limitedPromote\",\"deleteSource\"],TABLE_WRITE_PERMISSION_SET:[\"alterTable\",\"createTable\",\"delete\",\"dropTable\",\"insert\",\"readInfo\",\"select\",\"update\",\"limitedPromote\",\"deleteSource\"],TABLE_WRITE_DENY_PERMISSION_SET:[\"manageAccess\"],TABLE_READ_DENY_PERMISSION_SET:[\"alterTable\",\"createTable\",\"delete\",\"dropTable\",\"insert\",\"manageAccess\",\"update\",\"limitedPromote\",\"deleteSource\"],COLUMN_FULL_CONTROL_PERMISSION_SET:[\"manageAccess\",\"readInfo\",\"select\"],COLUMN_READ_DENY_PERMISSION_SET:[\"manageAccess\"],NO_ACCESS_PERMISSION_SET:[\"readInfo\"],ACCESS_LEVEL_FULL_CONTROL:3,ACCESS_LEVEL_WRITE:2,ACCESS_LEVEL_READ:1,ACCESS_LEVEL_NONE:0,ACCESS_LEVEL_CUSTOM:5,ACCESS_LEVEL_COLUMN_FULL_CONTROL:2,TABLE_LIB_FORMATED_LEVELS:[e.getText(\"BasicPermissionPage.accesssLevel.detail.none.txt\"),e.getText(\"BasicPermissionPage.accesssLevel.detail.read.txt\"),e.getText(\"BasicPermissionPage.accesssLevel.detail.write.txt\"),e.getText(\"BasicPermissionPage.accesssLevel.detail.full.txt\")],COLUMN_FORMATED_LEVELS:[e.getText(\"BasicPermissionPage.accesssLevel.detail.none.txt\"),e.getText(\"BasicPermissionPage.accesssLevel.detail.read.txt\"),e.getText(\"BasicPermissionPage.accesssLevel.detail.full.txt\")],getPermissionIcon:function(e){return e.permissionType===this.GRANT?(e.isConditionalGrant,sas.icons.HC.COMPLETESTATUS):sas.icons.HC.INVALIDSTATUS},getSelectedItems:function(e,t,i){var s,a,r,n,o=[],l=e.getBindingInfo(i).path,h=e.getSelectedIndices();if(h.length>0){var c=[];for(s=0;s<h.length;s++)a=h[s],e.isIndexSelected(a)&&(r=e.getContextByIndex(a),n=r.getPath(),c.push(n.replace(l+\"/\",\"\")));var u=e.getModel(t).getProperty(l);jQuery.each(c,function(e,t){o.push(u[t])})}return o},isConditionalGrant:function(e){return(\"Read\"===e.permission||\"Select\"===e.permission)&&(e.permissionType===sas.ev.shared.authorization.util.AuthorizationUtill.GRANT&&null!==e.permissionCondition&&e.permissionCondition.length>0)},getIcon:function(e){if(\"SAS Folders\"===e.name)return sas.icons.OBJECTTYPES.ROOTFOLDER_OBJ;var t=sas.icons.getObjectTypeIcon(e.type);return null===t&&(t=sas.icons.HC.GENERICSASOBJECT),t},getIdentityIcon:function(e){var t=null;return null!==e&&void 0!==e&&(e.icon?t=e.icon:e.providerId||\"authenticatedUsers\"===e.type||\"guest\"===e.type||\"everyone\"===e.type?\"group\"===e.type?e.providerId?t=\"local\"===e.providerId?sas.icons.HC.CUSTOMGROUP:sas.icons.HC.USERGROUP:e.itype&&(t=\"cg\"===e.itype?sas.icons.HC.CUSTOMGROUP:sas.icons.HC.USERGROUP):t=\"user\"===e.type||\"guest\"===e.type?sas.icons.HC.USER:sas.icons.HC.USERGROUP:t=sas.icons.HC.ALERT),t},getCasObjectIcon:function(e){switch(e){case this.CASLIBS:case this.CASLIB:return sas.icons.HC.LIBRARY;case this.TABLES:case this.TABLE:return sas.icons.OBJECTTYPES.TABLE_OBJ;case this.COLUMNS:case this.COLUMN:return sas.icons.OBJECTTYPES.COLUMN_OBJ;default:return sas.icons.HC.GENERICSASOBJECT}},decodePathSegments:function(e){if(!e)return e;var t=e;return(t.indexOf(\"/\")>-1||t.indexOf(\"\\\\\")>-1||t.indexOf(\";\")>-1||t.indexOf(\"~\")>-1)&&(t=t.replace(/\\//g,\"~fs~\").replace(/\\\\/g,\"~bs~\").replace(/;/g,\"~sc~\").replace(/~/g,\"~~\")),t},titleCase:function(e){var t=/(^|\\s)[a-z]/g;return e.replace(t,function(e){return e.toUpperCase()})},openBusyDialog:function(){var e=sap.ui.getCore().byId(\"sas.ev.shared.authorization.util.contentBusy\");void 0===e&&(e=new sas.hc.m.BusyDialog(\"sas.ev.shared.authorization.util.contentBusy\")),e.open()},closeBusyDialog:function(){var e=sap.ui.getCore().byId(\"sas.ev.shared.authorization.util.contentBusy\");e&&e.close()},compareIdentities:function(e,t,i,s){var a=sap.ui.getCore().getConfiguration().getLanguage();return t>s?1:t<s?-1:e.localeCompare(i,a)},compareCasAuthList:function(e,t){var i=e.identityName?e.identityName:e.identity,s=t.identityName?t.identityName:t.identity;return sas.ev.shared.authorization.util.AuthorizationUtil.compareIdentities(i,e.identityType,s,t.identityType)},comparePetAuthList:function(e,t){return sas.ev.shared.authorization.util.AuthorizationUtil.compareIdentities(e.principal.displayname,e.principal.type,t.principal.displayname,t.principal.type)},reorderPermissions:function(e){var t=[],i=e.indexOf(\"readInfo\");return-1!==i&&(e.splice(i,1),t.push(\"readInfo\")),i=e.indexOf(\"select\"),-1!==i&&(e.splice(i,1),t.push(\"select\")),i=e.indexOf(\"limitedPromote\"),-1!==i&&(e.splice(i,1),t.push(\"limitedPromote\")),i=e.indexOf(\"promote\"),-1!==i&&(e.splice(i,1),t.push(\"promote\")),i=e.indexOf(\"createTable\"),-1!==i&&(e.splice(i,1),t.push(\"createTable\")),i=e.indexOf(\"dropTable\"),-1!==i&&(e.splice(i,1),t.push(\"dropTable\")),i=e.indexOf(\"deleteSource\"),-1!==i&&(e.splice(i,1),t.push(\"deleteSource\")),i=e.indexOf(\"insert\"),-1!==i&&(e.splice(i,1),t.push(\"insert\")),i=e.indexOf(\"update\"),-1!==i&&(e.splice(i,1),t.push(\"update\")),i=e.indexOf(\"delete\"),-1!==i&&(e.splice(i,1),t.push(\"delete\")),i=e.indexOf(\"alterTable\"),-1!==i&&(e.splice(i,1),t.push(\"alterTable\")),i=e.indexOf(\"alterCaslib\"),-1!==i&&(e.splice(i,1),t.push(\"alterCaslib\")),i=e.indexOf(\"manageAccess\"),-1!==i&&(e.splice(i,1),t.push(\"manageAccess\")),e.length>1&&e.sort(),e=t.concat(e),t},sortPermissions:function(e){var t=[];$.each(e,function(e,i){t.push(i.permission)});var i=[];sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"ReadMetadata\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"WriteMetadata\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"WriteMemberMetadata\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"ManageMemberMetadata\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"ManageCredentialsMetadata\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"CheckInMetadata\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Read\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Write\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Create\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Delete\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Insert\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Update\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Select\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Create Table\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Drop Table\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Alter Table\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Execute\"),sas.ev.shared.authorization.util.AuthorizationUtil.addPermission(i,e,t,\"Administer\");var s=e.sort(function(e,t){return e.permission-t.permission});return i.concat(s)},addPermission:function(e,t,i,s){var a=i.indexOf(s);if(-1!==a){var r=t[a];t.splice(a,1),i.splice(a,1),e.push(r)}},intersection:function(e,t){return e.filter(function(e){return-1!==t.indexOf(e)})},showErrorMessage:function(e,t){sas.hc.m.MessageDialog.error({text:e,title:t,buttonActions:[{text:sas.hc.m.MessageDialogAction.Close,initialFocus:!0,defaultButton:!0}]})},isSubset:function(e,t){return e.length===this.intersection(e,t).length},getAccessLevel:function(e,t){if(this.hasUnknownPermission(e,t))return this.ACCESS_LEVEL_CUSTOM;var i=this.getGrantPermissions(e);if(0===i.length)return this.ACCESS_LEVEL_NONE;switch(t){case this.CASLIBS:return i.length===this.CASLIB_FULL_CONTROL_PERMISSION_SET.length&&this.isSubset(i,this.CASLIB_FULL_CONTROL_PERMISSION_SET)?this.ACCESS_LEVEL_FULL_CONTROL:i.length===this.CASLIB_WRITE_PERMISSION_SET.length&&this.isSubset(i,this.CASLIB_WRITE_PERMISSION_SET)?this.ACCESS_LEVEL_WRITE:i.length===this.READ_PERMISSION_SET.length&&this.isSubset(i,this.READ_PERMISSION_SET)?this.ACCESS_LEVEL_READ:this.ACCESS_LEVEL_CUSTOM;case this.TABLES:return i.length===this.TABLE_FULL_CONTROL_PERMISSION_SET.length&&this.isSubset(i,this.TABLE_FULL_CONTROL_PERMISSION_SET)?this.ACCESS_LEVEL_FULL_CONTROL:i.length===this.TABLE_WRITE_PERMISSION_SET.length&&this.isSubset(i,this.TABLE_WRITE_PERMISSION_SET)?this.ACCESS_LEVEL_WRITE:i.length===this.READ_PERMISSION_SET.length&&this.isSubset(i,this.READ_PERMISSION_SET)?this.ACCESS_LEVEL_READ:this.ACCESS_LEVEL_CUSTOM;case this.COLUMNS:if(i.length===this.COLUMN_FULL_CONTROL_PERMISSION_SET.length&&this.isSubset(i,this.COLUMN_FULL_CONTROL_PERMISSION_SET))return this.ACCESS_LEVEL_COLUMN_FULL_CONTROL;if(i.length===this.READ_PERMISSION_SET.length&&this.isSubset(i,this.READ_PERMISSION_SET))return this.ACCESS_LEVEL_READ}return this.ACCESS_LEVEL_CUSTOM},getGrantPermissions:function(e){if(!e)return[];var t=jQuery.extend(!0,{},e);delete t.identity,delete t.identityType,delete t.version,delete t.accessLevel;var i;for(i in t)t[i].indexOf(sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT)<0&&t[i].indexOf(sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_INHERITED)<0&&delete t[i];return Object.keys(t)},hasUnknownPermission:function(e,t){var i,s=this,a=!1;switch(t){case this.CASLIBS:i=this.CASLIB_FULL_CONTROL_PERMISSION_SET;break;case this.TABLES:i=this.TABLE_FULL_CONTROL_PERMISSION_SET;break;case this.COLUMNS:i=this.COLUMN_FULL_CONTROL_PERMISSION_SET;break;default:i=this.CASLIB_FULL_CONTROL_PERMISSION_SET}return $.each(i,function(t,i){if(!e[i]||e[i].indexOf(\"Filtered\")>-1||e[i].indexOf(s.NO_DECISION)>-1)return a=!0,!1}),a},getIndexOfIdentity:function(e,t,i){var s=-1;return $.each(e,function(e,a){return\"guest\"===i&&\"guest\"===a.identityType?(s=e,!1):t===a.identity&&i===a.identityType?(s=e,!1):void 0}),s},getIdentityIndex:function(e,t,i){var s=-1;return $.each(e,function(e,a){if(t===a.principal.name&&i===a.principal.type||\"authenticatedUsers\"===i&&\"authenticatedUsers\"===a.principal.type)return s=e,!1}),s},getFormatedAccessLevelString:function(e,t){return t===this.COLUMNS?this.COLUMN_FORMATED_LEVELS[e]:this.TABLE_LIB_FORMATED_LEVELS[e]},removeExlicitPermissions:function(e,t){var i=this;$.each(e,function(e,s){$.each(i.CASLIB_FULL_CONTROL_PERMISSION_SET,function(e,t){s[t]&&-1!==s[t].indexOf(\"Direct\")&&delete s[t]});var a=i.getAccessLevel(s,t);s.accessLevel=a})},getRuleTargetName:function(e){var t,i=this,s=jQuery.Deferred(),a={rule:e,property:\"objectUri\",valid:!0,content:{}};if(e.hasOwnProperty(\"objectUri\")?t=e.objectUri:e.hasOwnProperty(\"containerUri\")&&(t=e.containerUri),null===t||\"\"===t||void 0===t)return s.resolve(a);var r=new RegExp(\"(^/.+)*(/[*]+)$\"),n=r.exec(t);null!==n&&3===n.length||(n=[]);var o=t;return 3===n.length&&(o=n[1]),sas.ajax({type:\"GET\",url:o,aObjectUriParts:n,oResponse:a,oDeferredResult:s,accept:\"application/json\"}).done(function(e,t,s){if(e.hasOwnProperty(\"links\")){var a=[{method:\"GET\",rel:\"ancestors\",href:\"/folders/ancestors?childUri=\"+this.url,uri:\"/folders/ancestors?childUri=\"+this.url,responseType:\"application/vnd.sas.content.folder.ancestor\"}],r={acceptSuffix:\"+json\",oResponse:this.oResponse,aObjectUriParts:n,objectData:e,oDeferredResult:this.oDeferredResult};i.ajaxLink(\"ancestors\",a,r).done(function(t,s,a){if(this.oResponse.valid=!0,204!==a.status){var r=\"\";3===this.aObjectUriParts.length&&(r=n[2]);var o=i._generateUsableName(this.objectData,t.ancestors,r);this.oResponse.valid=!0,this.oResponse.content.data=e,this.oResponse.content.textStatus=s,this.oResponse.content.jqXHR=a,this.oResponse.content.path=o}this.oDeferredResult.resolve(this.oResponse)}).fail(function(e,t,i){this.oResponse.valid=!0,this.oDeferredResult.resolve(this.oResponse)})}else this.oDeferredResult.resolve(this.oResponse)}).fail(function(){this.oDeferredResult.resolve(a)}),s},_generateUsableName:function(e,t,i){var s=\"/\";return t.length?(t=t.reverse(),jQuery.each(t,function(e,t){var i=0===e?t.name:\"/\"+t.name;s+=i}),e.hasOwnProperty(\"name\")&&(s=s+\"/\"+e.name)):e.hasOwnProperty(\"name\")&&(s+=e.name),i.length>0&&(s+=i),e.hasOwnProperty(\"type\")&&(s=s+\" (\"+e.type+\")\"),s},ajaxLink:function(e,t,i){var s={},a=i||{};void 0!==e&&null!==e&&jQuery.each(t,function(t,i){e.toUpperCase()===i.rel.toUpperCase()&&(i.hasOwnProperty(\"method\")&&(s.type=i.method),i.hasOwnProperty(\"href\")&&(a.hasOwnProperty(\"hrefSuffix\")?s.url=i.href+a.hrefSuffix:s.url=i.href),i.hasOwnProperty(\"type\")&&(s.hasOwnProperty(\"headers\")||(s.headers={}),s.headers[\"content-type\"]=i.type),i.hasOwnProperty(\"responseType\")&&(s.hasOwnProperty(\"headers\")||(s.headers={}),s.headers.accept=i.responseType,a.hasOwnProperty(\"acceptSuffix\")&&(s.headers.accept=s.headers.accept+a.acceptSuffix)))}),a.hasOwnProperty(\"acceptSuffix\")&&delete a.acceptSuffix,a.hasOwnProperty(\"hrefSuffix\")&&delete a.hrefSuffix;var r=jQuery.extend(!0,{},s,a);return sas.ajax(r)},getSharingConfiguration:function(){var e={type:\"GET\",url:\"/authorization/shares/configuration\"};return sas.ajax(e)},setAccessLevelPermissions:function(e,t,i,s){var a=this.getIndexOfIdentity(e.getProperty(\"/rows\"),t,i),r=e.getProperty(\"/objectType\"),n=e.getProperty(\"/rows/\"+a),o=[],l=[];switch(s){case 0:r===this.COLUMNS?l=this.COLUMN_FULL_CONTROL_PERMISSION_SET:r===this.CASLIBS?l=this.CASLIB_FULL_CONTROL_PERMISSION_SET:r===this.TABLES&&(l=this.TABLE_FULL_CONTROL_PERMISSION_SET);break;case 1:o=this.READ_PERMISSION_SET,r===this.COLUMNS?l=this.COLUMN_READ_DENY_PERMISSION_SET:r===this.CASLIBS?l=this.CASLIB_READ_DENY_PERMISSION_SET:r===this.TABLES&&(l=this.TABLE_READ_DENY_PERMISSION_SET);break;case 2:r===this.COLUMNS?o=this.COLUMN_FULL_CONTROL_PERMISSION_SET:r===this.CASLIBS?(o=this.CASLIB_WRITE_PERMISSION_SET,l=this.CASLIB_WRITE_DENY_PERMISSION_SET):r===this.TABLES&&(o=this.TABLE_WRITE_PERMISSION_SET,l=this.TABLE_WRITE_DENY_PERMISSION_SET);break;case 3:r===this.CASLIBS?o=this.CASLIB_FULL_CONTROL_PERMISSION_SET:r===this.TABLES&&(o=this.TABLE_FULL_CONTROL_PERMISSION_SET)}$.each(o,function(e,t){n[t]?-1!==n[t].indexOf(\"grant\")&&-1===n[t].indexOf(\"Filtered\")||(n[t]=sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT):n[t]=sas.ev.shared.authorization.util.AuthorizationUtil.GRANT_DIRECT}),$.each(l,function(e,t){n[t]?-1!==n[t].indexOf(\"deny\")&&-1===n[t].indexOf(\"Filtered\")||(n[t]=sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT):n[t]=sas.ev.shared.authorization.util.AuthorizationUtil.DENY_DIRECT}),n.tableFilter&&delete n.tableFilter,n.accessLevel=s,e.setProperty(\"/rows/\"+a,n)}}}();",
	"sas/ev/shared/casdata/enums/DataTransferMode.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(a){\"use strict\";return a.sap.declare(\"sas.ev.shared.casdata.enums.DataTransferMode\"),sas.ev.shared.casdata.enums.DataTransferMode={PARALLEL:\"parallel\",SERIAL:\"serial\",AUTO:\"auto\"}});",
	"sas/ev/shared/casdata/enums/DBTypes.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.casdata.enums.DBTypes\"),sas.ev.shared.casdata.enums.DBTypes={DB2:\"DB2\",GREENPLUM:\"Greenplum\",HADOOP:\"Hadoop\",ORACLE:\"Oracle\",IMPALA:\"Impala\",ODBC:\"ODBC\",PCFILE:\"PCFile\",POSTGRES:\"Postgres\",TERADATA:\"Teradata\",\"SAP HANA\":\"SAP HANA\",MySQL:\"MySQL\",\"Amazon Redshift\":\"Amazon Redshift\",licenses:[{name:\"Data Con Accel Hadoop\",uid:1203,hexuid:\"4b3\",mode:\"parallel\",type:\"Hadoop\",expired:!1},{name:\"Data Con Accel Teradata\",uid:1204,hexuid:\"4b4\",mode:\"parallel\",type:\"Teradata\",expired:!1},{name:\"Data Connector to Hadoop\",uid:1206,hexuid:\"4b6\",mode:\"serial\",type:\"Hadoop\",expired:!1},{name:\"Data Connector to Impala\",uid:1207,hexuid:\"4b7\",mode:\"serial\",type:\"Impala\",expired:!1},{name:\"Data Connector to Oracle\",uid:1209,hexuid:\"4b9\",mode:\"serial\",type:\"Oracle\",expired:!1},{name:\"Data Connector to PostgreSQL\",uid:1211,hexuid:\"4bb\",mode:\"serial\",type:\"Postgres\",expired:!1},{name:\"Data Connector to Teradata\",uid:1214,hexuid:\"4be\",mode:\"serial\",type:\"Teradata\",expired:!1},{name:\"Data Connector to ODBC\",uid:1208,hexuid:\"4b8\",mode:\"Serial\",type:\"ODBC\"},{name:\"Data Connector to DB2\",uid:1201,hexuid:\"4b1\",mode:\"Serial\",type:\"DB2\",expired:!1},{name:\"Data Connector to SAP HANA\",uid:1232,hexuid:\"4d0\",mode:\"Serial\",type:\"SAP HANA\",expired:!1},{name:\"Data Con Accel to SAP HANA\",uid:1233,hexuid:\"4d1\",mode:\"Parallel\",type:\"SAP HANA\",expired:!1},{name:\"Data Connector to MySQL\",uid:1234,hexuid:\"4d2\",mode:\"Serial\",type:\"MySQL\",expired:!1},{name:\"Data Connector to Amazon Redshift\",uid:1236,hexuid:\"4d4\",mode:\"Serial\",type:\"Amazon Redshift\",expired:!1}],availablelicenses:[{name:\"Data Connector SAS Data Sets\",uid:1200,hexuid:\"4b0\",mode:\"serial\",type:\"SAS Data Sets\"},{name:\"Data Connector to DB2\",uid:1201,hexuid:\"4b1\",mode:\"Serial\",type:\"DB2\"},{name:\"Data Con Accel Greenplum\",uid:1202,hexuid:\"4b2\",mode:\"Parallel\",type:\"Greenplum\"},{name:\"Data Con Accel Hive\",uid:1203,hexuid:\"4b3\",mode:\"Parallel\",type:\"Hive\"},{name:\"Data Con Accel Teradata\",uid:1204,hexuid:\"4b4\",mode:\"Parallel\",type:\"Teradata\"},{name:\"Data Connector to Greenplum\",uid:1205,hexuid:\"4b5\",mode:\"Serial\",type:\"Greenplum\"},{name:\"Data Connector to Hive\",uid:1206,hexuid:\"4b6\",mode:\"Serial\",type:\"Hive\"},{name:\"Data Connector to Impala\",uid:1207,hexuid:\"4b7\",mode:\"Serial\",type:\"Impala\"},{name:\"Data Connector to ODBC\",uid:1208,hexuid:\"4b8\",mode:\"Serial\",type:\"ODBC\"},{name:\"Data Connector to Oracle\",uid:1209,hexuid:\"4b9\",mode:\"Serial\",type:\"Oracle\"},{name:\"Data Connector to PC Files\",uid:1210,hexuid:\"4ba\",mode:\"Serial\",type:\"PC Files\"},{name:\"Data Connector to PostgreSQL\",uid:1211,hexuid:\"4bb\",mode:\"Serial\",type:\"Postgres\"},{name:\"Data Con Accel to Switch\",uid:1212,hexuid:\"4bc\",mode:\"Parallel\",type:\"Switch\"},{name:\"Data Connector to TK Extensions\",uid:1213,hexuid:\"4bd\",mode:\"Serial\",type:\"TK Extensions\"},{name:\"Data Connector to Teradata\",uid:1214,hexuid:\"4be\",mode:\"Serial\",type:\"Teradata\"},{uid:1216,name:\"TK Ext for Impala\",mode:\"Serial\"},{uid:1219,name:\"TK Ext for Oracle\",mode:\"Serial\"},{uid:1221,name:\"TK Ext for HadoopHive\",expired:!1},{uid:1225,name:\"TK Ext for Teradata\",mode:\"Serial\"},{uid:1228,name:\"TK Ext for PostgreSQL\",mode:\"Serial\"},{uid:1229,name:\"TK Ext for ODBC\",mode:\"Serial\"},{uid:1231,name:\"CAS Web Media Data Feeder\",mode:\"Serial\",type:\"\"},{name:\"Data Connector to SAP HANA\",uid:1232,hexuid:\"4d0\",mode:\"Serial\",type:\"SAP HANA\"},{name:\"Data Con Accel to SAP HANA\",uid:1233,hexuid:\"4d1\",mode:\"Parallel\",type:\"SAP HANA\"},{name:\"Data Connector to MySQL\",uid:1234,hexuid:\"4d2\",mode:\"Serial\",type:\"MySQL\"},{name:\"Data Connector to Amazon Redshift\",uid:1236,hexuid:\"4d4\",mode:\"Serial\",type:\"Amazon Redshift\"}]}});",
	"sas/ev/shared/casdata/enums/DomainTypes.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(a){\"use strict\";return a.sap.declare(\"sas.ev.shared.casdata.enums.DomainTypes\"),sas.ev.shared.casdata.enums.DomainTypes={AUTHENTICATION:\"authenticationDomain\",ENCRYPTION:\"encryptionDomain\",AUTHENTICATION_TYPE:\"password\",ENCRYPTION_TYPE:\"encryption\"}});",
	"sas/ev/shared/casdata/enums/TableType.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(a){\"use strict\";return a.sap.declare(\"sas.ev.shared.casdata.enums.TableType\"),sas.ev.shared.casdata.enums.TableType={COLUMN:\"Column\",ROW:\"row\"}});",
	"sas/ev/shared/casdata/utils/CASDataUtils.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\n!function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.casdata.utils.CASDataUtils\"),jQuery.sap.require(\"sas.ev.shared.casdata.enums.DomainTypes\"),jQuery.sap.require(\"sas.ev.shared.DomainDialog\"),jQuery.sap.require(\"sas.ev.shared.enums.Permission\"),jQuery.sap.require(\"sas.ev.shared.Utils\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),jQuery.sap.require(\"sas.ev.shared.DomainUtil\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.ui.core.Item\"),jQuery.sap.require(\"sas.hc.ui.layout.GridData\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.ui.layout.form.FormElement\"),jQuery.sap.require(\"sap.ui.layout.ResponsiveFlowLayoutData\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\"),jQuery.sap.require(\"sas.hc.m.library\"),sas.ev.shared.casdata.utils.CASDataUtils={defaultTimeout:3e4,resources:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.casdata\"),logger:sas.log.getLogger(\"sas.ev.shared.casdata.utils.CASDataUtils\"),domainType:sas.ev.shared.casdata.enums.DomainTypes.ENCRYPTION,loadAuthDomains:function(e){var a=this;return sas.ajax({url:\"/credentials/domains?limit=1000000\",type:\"GET\",headers:{Accept:\"application/vnd.sas.collection+json\",\"Content-Type\":\"application/vnd.sas.collection+json\"}}).done(function(s){\"domains\"===s.name&&(a.domainData=s.items,e.domainData=s.items,e.resolve(a.domainData))}).fail(function(a){sas.ev.shared.casdata.utils.CASDataUtils.logger.warning(a.statusText),void 0!==a.responseText&&sas.ev.shared.casdata.utils.CASDataUtils.logger.warning(a.responseText),e.error=a,e.resolve(a)}),e},createAuthDomainContent:function(e){void 0!==e&&(this.domainType=e),this.oModel=sap.ui.getCore().getModel(\"LibraryDataSourceModel\"),void 0===this.oModel&&(this.oModel=new sap.ui.model.json.JSONModel,sap.ui.getCore().setModel(this.oModel,\"LibraryDataSourceModel\"));var a,s=this,t=sap.ui.getCore().byId(\"sasev_newLib_domainField\"),i=sap.ui.getCore().byId(\"sasev_newLib_newdomainButton\"),o=function(e){var s={domains:[{key:\"\",id:\"\",label:sas.ev.shared.casdata.utils.CASDataUtils.resources.getText(\"sas.ev.shared.casdata.library.domain.select.txt\"),description:\"\",type:\"\",links:\"\",enabled:!0}]},t={domains:[]},i=$.Deferred();sas.ev.shared.casdata.utils.CASDataUtils.loadAuthDomains(i).done(function(o){if(void 0!==i.domainData&&i.domainData.length>0){$.each(o,function(e,a){if(sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE===a.type||sas.ev.shared.DomainUtil.CONNECTION_TYPE===a.type){var i=void 0!==a.label&&null!==a.label&&a.label.length>0?a.label:a.id;s.domains.push({key:a.id,id:a.id,label:i,description:a.description,type:a.type,links:a.links,enabled:!0})}else if(sas.ev.shared.DomainUtil.ENCRYPTION_TYPE===a.type){var i=void 0!==a.label&&null!==a.label&&a.label.length>0?a.label:a.id;t.domains.push({key:a.id,id:a.id,label:i,description:a.description,type:a.type,links:a.links,enabled:!0})}});var r=sap.ui.getCore().getModel(\"sasevAuthDomainsModel\");void 0===r?(r=new sap.ui.model.json.JSONModel(s),sap.ui.getCore().setModel(r,\"sasevAuthDomainsModel\")):r.setData(s);var d=sap.ui.getCore().getModel(\"sasevEncrypDomainsModel\");void 0===d?(d=new sap.ui.model.json.JSONModel(t),sap.ui.getCore().setModel(d,\"sasevEncrypDomainsModel\")):d.setData(t),sas.ev.shared.casdata.enums.DomainTypes.AUTHENTICATION===e?(a.setModel(r),void 0!==s.domains&&s.domains.length>0&&void 0!==s.domains[0].key&&s.domains[0].key.length>0&&n(s.domains[0].key)):sas.ev.shared.casdata.enums.DomainTypes.ENCRYPTION===e&&(a.setModel(d),void 0!==t.domains&&t.domains.length>0&&void 0!==t.domains[0].key&&t.domains[0].key.length>0&&n(t.domains[0].key))}})},n=function(e){if(!a.getBindingPath(\"selectedKey\")){var t=s.oModel.getProperty(\"/Properties\"),i=0;t?i=t.length:s.oModel.setProperty(\"/Properties\",[]);var o={};o.Name=s.domainType,o.DefaultValue=e,o.PropertyName=s.domainType,o.PropertyType=sap.m.InputType.Text,s.oModel.setProperty(\"/Properties/\"+i,o),a.bindProperty(\"selectedKey\",{path:\"LibraryDataSourceModel>/Properties/\"+i+\"/DefaultValue\"})}};void 0!==t?(a=t,a.unbindProperty(\"selectedKey\"),o(s.domainType)):(a=new sas.hc.m.Select({id:\"sasev_newLib_domainField\",width:\"auto\",displayListItemIcon:!1,items:{path:\"/domains\",template:new sas.hc.ui.core.Item({key:\"{id}\",text:\"{label}\",enabled:\"{enabled}\"})},change:function(e){var a=e.getSource().getSelectedKey();if(!this.getBindingPath(\"selectedKey\")){var t=s.oModel.getProperty(\"/Properties\"),i=0;t?i=t.length:s.oModel.setProperty(\"/Properties\",[]);var o={};o.Name=s.domainType,o.DefaultValue=a,o.PropertyName=s.domainType,o.PropertyType=sap.m.InputType.Text,s.oModel.setProperty(\"/Properties/\"+i,o),this.bindProperty(\"selectedKey\",{path:\"LibraryDataSourceModel>/Properties/\"+i+\"/DefaultValue\"})}sas.ev.shared.casdata.utils.CASDataUtils.validateDomainField()},layoutData:new sas.hc.ui.layout.GridData({span:\"L4 M7 S10\"})}),o(s.domainType)),void 0!==i&&i.destroy(),this.newDomainButton=new sas.hc.m.Button({id:\"sasev_newLib_newdomainButton\",enabled:!0,icon:sas.icons.HC.NEWSTARBURST,tooltip:s.resources.getText(\"sas.ev.shared.casdata.new.domain.txt\"),press:function(){var e;sas.ev.shared.casdata.enums.DomainTypes.AUTHENTICATION===s.domainType?e=[sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE,sas.ev.shared.DomainUtil.CONNECTION_TYPE]:sas.ev.shared.casdata.enums.DomainTypes.ENCRYPTION===s.domainType&&(e=sas.ev.shared.DomainUtil.ENCRYPTION_TYPE);var a={type:e};sas.ev.shared.DomainDialog.getControl(a,d,l,u)},layoutData:new sas.hc.ui.layout.GridData({span:\"L1 M1 S1\"})}),s.checkingUserIsAdmin();var r=function(e){var s=e.domainType,t={domains:[{key:\"\",id:\"\",label:sas.ev.shared.casdata.utils.CASDataUtils.resources.getText(\"sas.ev.shared.casdata.library.domain.select.txt\"),description:\"\",type:\"\",links:\"\",enabled:!0}]},i={domains:[]},o=$.Deferred();sas.ev.shared.casdata.utils.CASDataUtils.loadAuthDomains(o).done(function(e){if(void 0!==e&&e.length>0){$.each(e,function(e,a){if(sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE===a.type||sas.ev.shared.DomainUtil.CONNECTION_TYPE===a.type){var s=void 0!==a.label&&null!==a.label&&a.label.length>0?a.label:a.id;t.domains.push({key:a.id,id:a.id,label:s,description:a.description,type:a.type,links:a.links,enabled:!0})}else if(sas.ev.shared.DomainUtil.ENCRYPTION_TYPE===a.type){var s=void 0!==a.label&&null!==a.label&&a.label.length>0?a.label:a.id;i.domains.push({key:a.id,id:a.id,label:s,description:a.description,type:a.type,links:a.links,enabled:!0})}});var o=sap.ui.getCore().getModel(\"sasevAuthDomainsModel\");void 0===o?(o=new sap.ui.model.json.JSONModel(t),sap.ui.getCore().setModel(o,\"sasevAuthDomainsModel\")):o.setData(t);var r=sap.ui.getCore().getModel(\"sasevEncrypDomainsModel\");void 0===r?(r=new sap.ui.model.json.JSONModel(i),sap.ui.getCore().setModel(r,\"sasevEncrypDomainsModel\")):r.setData(i),sas.ev.shared.casdata.enums.DomainTypes.AUTHENTICATION===s?(a.setModel(o),void 0!==t.domains&&t.domains.length>0&&void 0!==t.domains[0].key&&t.domains[0].key.length>0&&n(t.domains[0].key)):sas.ev.shared.casdata.enums.DomainTypes.ENCRYPTION===s&&(a.setModel(r),void 0!==i.domains&&i.domains.length>0&&void 0!==i.domains[0].key&&i.domains[0].key.length>0&&n(i.domains[0].key))}})},d=function(e){var s,t=e.type;t===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE||t===sas.ev.shared.DomainUtil.CONNECTION_TYPE?s=sas.ev.shared.casdata.enums.DomainTypes.AUTHENTICATION:t===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE&&(s=sas.ev.shared.casdata.enums.DomainTypes.ENCRYPTION);var i={domains:[{key:\"\",id:\"\",label:sas.ev.shared.casdata.utils.CASDataUtils.resources.getText(\"sas.ev.shared.casdata.library.domain.select.txt\"),description:\"\",type:\"\",links:\"\",enabled:!0}]},o={domains:[]},r=$.Deferred();sas.ev.shared.casdata.utils.CASDataUtils.loadAuthDomains(r).done(function(t){if(void 0!==t&&t.length>0){$.each(t,function(e,a){if(sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE===a.type||sas.ev.shared.DomainUtil.CONNECTION_TYPE===a.type){var s=void 0!==a.label&&null!==a.label&&a.label.length>0?a.label:a.id;i.domains.push({key:a.id,id:a.id,label:s,description:a.description,type:a.type,links:a.links,enabled:!0})}else if(sas.ev.shared.DomainUtil.ENCRYPTION_TYPE===a.type){var s=void 0!==a.label&&null!==a.label&&a.label.length>0?a.label:a.id;o.domains.push({key:a.id,id:a.id,label:s,description:a.description,type:a.type,links:a.links,enabled:!0})}});var r=sap.ui.getCore().getModel(\"sasevAuthDomainsModel\");void 0===r?(r=new sap.ui.model.json.JSONModel(i),sap.ui.getCore().setModel(r,\"sasevAuthDomainsModel\")):r.setData(i);var d=sap.ui.getCore().getModel(\"sasevEncrypDomainsModel\");void 0===d?(d=new sap.ui.model.json.JSONModel(o),sap.ui.getCore().setModel(d,\"sasevEncrypDomainsModel\")):d.setData(o),sas.ev.shared.casdata.enums.DomainTypes.AUTHENTICATION===s?(a.setModel(r),void 0!==i.domains&&i.domains.length>0&&void 0!==i.domains[0].key&&i.domains[0].key.length>0&&n(i.domains[0].key)):sas.ev.shared.casdata.enums.DomainTypes.ENCRYPTION===s&&(a.setModel(d),void 0!==o.domains&&o.domains.length>0&&void 0!==o.domains[0].key&&o.domains[0].key.length>0&&n(o.domains[0].key)),a.setSelectedKey(e.id,!0),sas.ev.shared.casdata.utils.CASDataUtils.validateDomainField()}})},l=function(e){},u=function(e){sas.ev.shared.Utils.ajaxErrorMessageHandler({title:sas.ev.shared.casdata.utils.CASDataUtils.resources.getText(\"sas.ev.shared.casdata.add.domain.txt\"),message:e,detail:e}).open()};sap.ui.getCore().getEventBus().subscribe(\"sasevDomainList\",\"EVDomainListRefresh\",function(e,a,s){r(s)});var p,c=\"sas.ev.shared.casdata.library.\",m=sap.ui.getCore().byId(\"sasev_newLib_domainFormElement\"),h=s.resources.getText(c.concat(s.domainType).concat(\".label.txt\")),y=new sas.hc.m.Label({text:h,required:!0});return void 0!==m?(p=m,p.setLabel(y),p.removeAllFields()):p=new sas.hc.ui.layout.form.FormElement({id:\"sasev_newLib_domainFormElement\",label:y,layoutData:new sap.ui.layout.ResponsiveFlowLayoutData({linebreak:!0})}),p.addField(a),p.addField(this.newDomainButton),p},checkDataSource:function(e){var a={isValid:!0,inValidateObject:[]};return e&&jQuery.each(e.findElements(!0),function(e,s){if(\"sas.hc.m.Input\"===s.getMetadata().getName()){var t=s.getType();if(!0===s.getRequired()){var i=s.getValue();void 0!==i&&i.hasOwnProperty(\"length\")&&i.length>0?t===sap.m.InputType.Tel?$.isNumeric(i)?s.setValueState(sap.ui.core.ValueState.None):s.setValueState(sap.ui.core.ValueState.Error):s.setValueState(sap.ui.core.ValueState.None):s.setValueState(sap.ui.core.ValueState.Error)}s.getValueState()!==sap.ui.core.ValueState.None&&(a.isValid=!1,a.inValidateObject.push(s.getPlaceholder()))}}),a},checkDomainField:function(){var e=!1,a=sap.ui.getCore().byId(\"sasev_newLib_domainFormElement\"),s=sap.ui.getCore().byId(\"sasev_newLib_domainField\");if(void 0!==a&&void 0!==s)if(!0===a.getVisible()){var t=s.getSelectedItem(),i=s.getSelectedKey();null!==t&&void 0!==i&&i.hasOwnProperty(\"length\")&&i.length>0&&(e=!0)}else e=!0;return e},validateDomainField:function(){var e=!1,a=sap.ui.getCore().byId(\"sasev_newLib_domainFormElement\"),s=sap.ui.getCore().byId(\"sasev_newLib_domainField\");if(void 0!==a&&void 0!==s)if(!0===a.getVisible()){var t=s.getSelectedItem(),i=s.getSelectedKey();null!==t&&void 0!==i&&i.hasOwnProperty(\"length\")&&i.length>0&&(e=!0)}else e=!0;var o=sap.ui.getCore().byId(\"sasev_caslib_newlib_ok_button\");if(!0===e){var n=sap.ui.getCore().getModel(\"sasevNewcaslibDataModel\");if(void 0!==n){var r=n.getData(),d=r.newcaslibController;if(null!==d.serverIdField.getSelectedItem()&&!0===d.pathValid&&!0===d.nameValid){var e=sas.ev.shared.casdata.utils.CASDataUtils.checkDataSource(d.options);!0===e.isValid?o.setEnabled(!0):o.setEnabled(!1)}else o.setEnabled(!1)}}else o.setEnabled(!1);return e},checkingUserIsAdmin:function(){var e=this;sas.ajax({type:\"GET\",url:\"/authorization/\",accept:\"application/json\"}).done(function(a,s,t){if(e.isRelation(\"authorize\",a.links)){var i={headers:{accept:\"application/vnd.sas.authorization.direct.decision+json\"},data:{permission:sas.ev.shared.enums.Permission.CREATE,uri:\"/credentials/domains/\"}};e.ajaxLink(\"authorize\",a.links,i).done(function(e,a,s){var t=sap.ui.getCore().byId(\"sasev_newLib_newdomainButton\");void 0!==t&&(e?t.setEnabled(!0):t.setEnabled(!1))}).fail(function(e,a,s){sas.log.debug(\"authorized request failed: Will not enable new Domain\");var t=sap.ui.getCore().byId(\"sasev_newLib_newdomainButton\");void 0!==t&&t.setEnabled(!1)})}})},ajaxLink:function(e,a,s){var t={},i=s||{};void 0!==e&&null!==e&&jQuery.each(a,function(a,s){e.toUpperCase()===s.rel.toUpperCase()&&(s.hasOwnProperty(\"method\")&&(t.type=s.method),s.hasOwnProperty(\"href\")&&(i.hasOwnProperty(\"hrefSuffix\")?t.url=s.href+i.hrefSuffix:t.url=s.href),s.hasOwnProperty(\"type\")&&(t.hasOwnProperty(\"headers\")||(t.headers={}),t.headers[\"content-type\"]=s.type),s.hasOwnProperty(\"responseType\")&&(t.hasOwnProperty(\"headers\")||(t.headers={}),t.headers.accept=s.responseType,i.hasOwnProperty(\"acceptSuffix\")&&(t.headers.accept=t.headers.accept+i.acceptSuffix)))}),i.hasOwnProperty(\"acceptSuffix\")&&delete i.acceptSuffix,i.hasOwnProperty(\"hrefSuffix\")&&delete i.hrefSuffix;var o=jQuery.extend({},t,i);return sas.ajax(o)},isRelation:function(e,a){var s=!1;return void 0!==e&&null!==e&&void 0!==a&&(e instanceof Array?(s={},jQuery.each(e,function(e,t){s[t]=!1,jQuery.each(a,function(e,a){if(t.toUpperCase()===a.rel.toUpperCase())return s[t]=!0,!1})})):jQuery.each(a,function(a,t){if(e.toUpperCase()===t.rel.toUpperCase())return s=!0,!1})),s},showCASError:function(e,a,s){var t,i=this,o=i.resources.getText(\"sas.ev.shared.casdata.genericError.fmt.txt\",a);if(void 0===s&&(s=i.resources.getText(\"sas.ev.shared.casdata.application.dialog.title.txt\")),e.hasOwnProperty(\"responseJSON\")){if(e.responseJSON.hasOwnProperty(\"details\")&&null!==e.responseJSON.details){var n=\"\";if(e.responseJSON.details.length>3)for(var r=3;r<e.responseJSON.details.length;r++)n+=e.responseJSON.details[r].concat(\"\\n\");else for(var r=0;r<e.responseJSON.details.length;r++)n+=e.responseJSON.details[r].concat(\"\\n\");t=n.toString()}e.responseJSON.hasOwnProperty(\"message\")&&null!==e.responseJSON.message&&e.responseJSON.message.length>0&&(o=e.responseJSON.message);new sas.hc.m.MessageDialog({title:s,type:sas.hc.m.MessageDialogType.Error,text:o,contentWidth:\"auto\",detailText:t,buttonActions:[{text:sas.hc.m.MessageDialogAction.Close,initialFocus:!0,defaultButton:!0}]}).open()}else{sas.ev.shared.Utils.ajaxErrorMessageHandler({title:s,message:o,detail:e}).open()}}}}();",
	"sas/ev/shared/ConditionDialog.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sas/hc/m/Dialog\",\"sas/hc/m/Button\",\"sas/hc/ui/layout/form/Form\",\"sas/hc/ui/layout/form/FormElement\",\"sas/hc/ui/layout/form/ResponsiveGridLayout\",\"sas/ev/shared/ui/HelpLabel\",\"sas/ev/shared/Utils\",\"sas/ev/shared/authorization/util/AuthorizationUtil\",\"sas/hc/ui/layout/form/FormContainer\",\"sas/hc/m/TextArea\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sap/ui/core/library\"],function(e,t,a,o,i,n,s,r,l,d,u){\"use strict\";var g=t.extend(\"sas.ev.shared.ConditionDialog\",{metadata:{properties:{condition:{type:\"string\",defaultValue:\"\"},OKHandler:{type:\"string\",defaultValue:\"\"}},aggregations:{},publicMethods:[\"validateCondtion\",\"closeConditionDialog\"],events:{},library:\"sas.custom\"},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),logger:sas.log.getLogger(\"sas.ev.shared.ConditionDialog\",sas.log.Level.DEBUG),renderer:\"sas.hc.m.DialogRenderer\",constructor:function(){t.apply(this,arguments)}});return g.prototype.init=function(){var e=this;t.prototype.init&&t.prototype.init.apply(this,arguments);var r=new o({layout:new n({columnsL:1,labelSpanS:12,labelSpanM:3,labelSpanL:3}),formContainers:[new d({formElements:[new i({label:new s({text:this.rb.getText(\"sas.ev.shared.condition.control.label\"),library:\"sas.custom.pet.authorization\",key:\"genconditions\"}).addStyleClass(\"evHelpPopupLabel\"),fields:[new u(\"RulesConditionText\",{value:this.getProperty(\"condition\"),placeholder:this.rb.getText(\"sas.ev.shared.condition.placeholder.txt\"),autoExpandable:!0,maxLength:5120,liveChange:this._conditionLiveChangeHandler})]})]})]}),l=new a({id:\"RulesConditionDialogOKButton\",text:this.rb.getText(\"sas.ev.shared.ok.txt\"),enabled:!1}),g=new a({text:this.rb.getText(\"sas.ev.shared.cancel.txt\"),press:[this.closeConditionDialog,this]}),h=new a({id:\"RulesConditionDialogValidateButton\",text:this.rb.getText(\"sas.ev.shared.button.label.Validate.txt\"),press:[function(){var t=sap.ui.getCore().byId(\"RulesConditionText\"),a=t.getValue();\"true\"===e.validateCondition(a).valid&&this.setEnabled(!1)}],enabled:!1});this.setTitle(this.rb.getText(\"sas.ev.shared.condition.header.title\")),this.addContent(r),this.setLeftButton(h),this.setMiddleButton(l),this.setRightButton(g),this.addStyleClass(\"sasEVConditionDialog\")},g.prototype._invalidConditionHandler=function(){var e=sap.ui.getCore().byId(\"RulesConditionText\");e.setValueState(sap.ui.core.ValueState.Error),e.setValueStateText(this.rb.getText(\"sas.ev.shared.condition.valuestate.error.txt\")),sap.ui.getCore().byId(\"RulesConditionDialogValidateButton\").setEnabled(!1),sap.ui.getCore().byId(\"RulesConditionDialogOKButton\").setEnabled(!1)},g.prototype._conditionLiveChangeHandler=function(e){var t=e.getParameter(\"value\");sap.ui.getCore().byId(\"RulesConditionDialogValidateButton\").setEnabled(t.trim().length>0),sap.ui.getCore().byId(\"RulesConditionDialogOKButton\").setEnabled(!0),e.getSource().setValueState(sap.ui.core.ValueState.None)},g.prototype.closeConditionDialog=function(){this.close(),this.destroy()},g.prototype.validateCondition=function(t){var a=this,o={valid:\"true\",reason:\"\"};if(\"\"===t)return o;l.openBusyDialog();var i={\"Content-Type\":\"application/json\"};return sas.ajax({type:\"POST\",async:!1,url:\"/authorization/commons/validations/conditions\",data:t,dataType:\"text\",headers:i}).done(function(t,i,n){if(void 0!==t){var s=e.parseJSON(t);if(s.hasOwnProperty(\"valid\")&&(o.valid=s.valid?\"true\":\"false\",\"true\"!==o.valid)){var l=s.hasOwnProperty(\"error\")?s.error.message:\"unknown\";a.logger.debug(\"Rule condition invalid. Reason: \"+l),o.reason=l,a._invalidConditionHandler()}}else{o.valid=\"unknown\";var d={};d.title=a.rb.getText(\"sas.ev.shared.condition.validation.error.title.txt\"),d.message=a.rb.getText(\"sas.ev.shared.condition.validation.error.msg.txt\"),d.detail=n,r.ajaxErrorMessageHandler(d).open()}}).fail(function(e,t,i){o.valid=\"unknown\";var n={};n.title=a.rb.getText(\"sas.ev.shared.condition.validation.error.title.txt\"),n.message=a.rb.getText(\"sas.ev.shared.condition.validation.error.msg.txt\"),n.detail=e,r.ajaxErrorMessageHandler(n).open()}),l.closeBusyDialog(),o},g.prototype.setCondition=function(e){return sap.ui.getCore().byId(\"RulesConditionText\").setValue(e),this},g.prototype.getCondition=function(){return sap.ui.getCore().byId(\"RulesConditionText\").getValue().trim()},g});",
	"sas/ev/shared/DomainDialog.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\njQuery.sap.require(\"sas/ev/shared/DomainUtil\"),jQuery.sap.require(\"sas/ev/shared/IdentitySelect\"),jQuery.sap.require(\"sas/hc/m/HelpPopup\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.ui.core.Item\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.m.TextArea\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.m.StandardListItem\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.ui.commons.HorizontalDivider\"),jQuery.sap.require(\"sas.hc.m.List\"),jQuery.sap.require(\"sas.hc.m.ScrollContainer\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.Dialog\"),jQuery.sap.require(\"sap.ui.core.library\"),function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.DomainDialog\"),sas.ev.shared.DomainDialog={AUTHENTICATION_TYPE:sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE,ENCRYPTION_TYPE:sas.ev.shared.DomainUtil.ENCRYPTION_TYPE,getControl:function(e,t,s,i,a,n,r){var d=this,l=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\");this.bIDSet=void 0!==e&&null!==e&&void 0!==e.id,this.strOriginalID=this.bIDSet?e.id:\"\";var o=void 0!==e&&null!==e&&void 0!==e.desc;this.bTypeSet=void 0!==e&&null!==e&&void 0!==e.type,this.strOriginalType=this.bTypeSet&&!jQuery.isArray(e.type)?e.type:\"\",this.dtaIdentities={items:[]},this.aryDomains=[];var h=function(){},u=function(e){for(var t=0;t<e.items.length;t++)d.aryDomains.push(e.items[t].id)};sas.ev.shared.DomainUtil.getDomains(u,h),this.btnSave=new sas.hc.m.Button({text:l.getText(\"sas.ev.shared.domain.save.txt\"),enabled:!1,press:function(){var e=[],l=d.arySelectedIdentities;if(void 0!==l)for(var o=0;o<l.length;o++)for(var h=0;h<d.dtaIdentities.items.length;h++){if(l[o].trim()===d.dtaIdentities.items[h].displayName.trim()){e.push({id:d.dtaIdentities.items[h].id,icon:d.dtaIdentities.items[h].icon,displayName:d.dtaIdentities.items[h].displayName,url:d.dtaIdentities.items[h].url,type:d.dtaIdentities.items[h].type,itype:d.dtaIdentities.items[h].itype});break}if(l[o].trim()===d.dtaIdentities.items[h].id.trim()){e.push({id:d.dtaIdentities.items[h].id,type:d.dtaIdentities.items[h].type,icon:d.dtaIdentities.items[h].icon,displayName:d.dtaIdentities.items[h].displayName});break}}var u=null;d.selType.getSelectedKey()!==sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE&&d.selType.getSelectedKey()!==sas.ev.shared.DomainUtil.CONNECTION_TYPE||(u=d.txtUserID.getValue());var c=null;d.selType.getSelectedKey()===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE&&(c=d.txtPassword.getValue()),d.selType.getSelectedKey()===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE&&(c=d.txtEncrKey.getValue());var m={domainId:d.txtID.getValue().trim(),desc:d.txtDesc.getValue().trim(),type:d.selType.getSelectedKey(),userId:u,secret:c,identities:{items:e}};d.onSave(m,t,s,i,a,n,r),d.dialog.close()}});var c=new sas.hc.m.Button({text:l.getText(\"sas.ev.shared.cancel.txt\"),enabled:!0,press:function(){d.dialog.close()}}),m=new sas.hc.m.Label({labelFor:\"txtID\",text:l.getText(\"sas.ev.shared.domain.id.lbl.txt\"),required:!0,textAlign:\"Center\"});if(this.txtID=new sas.hc.m.Input({id:\"txtID\",required:!0,maxLength:100,change:function(t){d.validate(e)},liveChange:function(t){d.validate(e)}}),this.bIDSet){this.txtID.setValue(e.id);var y=function(){},v=function(e){d.txtID.setEditable(0===e.items.length)};sas.ev.shared.DomainUtil.getCredentials(e.id,v,y)}var p=new sas.hc.m.Label({labelFor:\"selType\",text:l.getText(\"sas.ev.shared.domain.type.lbl.txt\"),textAlign:\"Center\"}),x=[],I=new sas.hc.ui.core.Item({key:sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE,text:l.getText(\"sas.ev.shared.domain.authentication.txt\")}),g=new sas.hc.ui.core.Item({key:sas.ev.shared.DomainUtil.CONNECTION_TYPE,text:l.getText(\"sas.ev.shared.domain.connection.txt\")}),T=new sas.hc.ui.core.Item({key:sas.ev.shared.DomainUtil.ENCRYPTION_TYPE,text:l.getText(\"sas.ev.shared.domain.encryption.txt\")});if(this.bTypeSet)if(jQuery.isArray(e.type))for(var b=0;b<e.type.length;b++)e.type[b]===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE?x[x.length]=I:e.type[b]===sas.ev.shared.DomainUtil.CONNECTION_TYPE?x[x.length]=g:e.type[b]===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE&&(x[x.length]=T);else e.type===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE?x[x.length]=I:e.type===sas.ev.shared.DomainUtil.CONNECTION_TYPE?x[x.length]=g:e.type===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE&&(x[x.length]=T);else x[x.length]=I,x[x.length]=g,x[x.length]=T;this.selType=new sas.hc.m.Select({id:\"selType\",items:x,enabled:x.length>1,change:function(t){d.enableTypeFields(),d.validate(e)}});var E=new sas.hc.m.Label({labelFor:\"txtDesc\",text:l.getText(\"sas.ev.shared.domain.desc.lbl.txt\"),textAlign:\"Center\"});this.txtDesc=new sas.hc.m.TextArea({rows:3,maxLength:1e3,liveChange:function(t){d.validate(e)}}),this.txtDesc.addStyleClass(\"sapUiSmallMarginBottom\"),o&&this.txtDesc.setValue(e.desc),this.lblIdentities=new sas.hc.m.Label({text:l.getText(\"sas.ev.shared.domain.identities.lbl.txt\"),textAlign:\"Center\"});var D=new sas.hc.m.Button({tooltip:l.getText(\"sas.ev.domain.chooseIdentities.label\"),icon:sas.icons.HC.USER,press:function(){var t=function(t){d.dtaIdentities=t,d.arySelectedIdentities=[],d.lstIdentities.removeAllItems();for(var s=0;s<t.items.length;s++){d.arySelectedIdentities.push(t.items[s].displayName);var i=new sas.hc.m.StandardListItem({icon:t.items[s].icon,title:t.items[s].displayName,type:sap.m.ListType.Active});d.lstIdentities.addItem(i)}d.enableTypeFields(),d.validate(e)},s=[],i=d.arySelectedIdentities;if(void 0!==i)for(var a=0;a<i.length;a++)for(var n=0;n<d.dtaIdentities.items.length;n++){if(i[a].trim()===d.dtaIdentities.items[n].displayName.trim()){s.push({id:d.dtaIdentities.items[n].id,icon:d.dtaIdentities.items[n].icon,displayName:d.dtaIdentities.items[n].displayName,url:d.dtaIdentities.items[n].url,type:d.dtaIdentities.items[n].type,itype:d.dtaIdentities.items[n].itype});break}if(i[a].trim()===d.dtaIdentities.items[n].id.trim()){s.push({id:d.dtaIdentities.items[n].id,type:d.dtaIdentities.items[n].type,icon:d.dtaIdentities.items[n].icon,displayName:d.dtaIdentities.items[n].displayName});break}}s=sas.ev.shared.IdentitySelect.getIdentitiesData({items:s}),sas.ev.shared.IdentitySelect.getControl(t,!0,s,this)}}),S=new sas.hc.m.HelpPopup({library:\"sas.custom\",key:\"identities\"});this.barIdentities=new sas.hc.m.ResponsiveToolbar({content:[this.lblIdentities,new sas.hc.m.ToolbarSpacer,D,S]}),this.dvdIdentities=new sas.hc.ui.commons.HorizontalDivider,this.dvdIdentities.addStyleClass(\"sapUiNoMarginTop\"),this.dvdIdentities.addStyleClass(\"sapUiNoMarginBottom\"),this.lstIdentities=new sas.hc.m.List({width:\"100%\",noDataText:l.getText(\"sas.ev.shared.domain.identities.zeroState.txt\")}),this.sclIdentities=new sas.hc.m.ScrollContainer({content:this.lstIdentities,width:\"100%\",height:\"100px\",vertical:!0}),this.sclIdentities.addStyleClass(\"sapUiSmallMarginBottom\"),this.lblUserID=new sas.hc.m.Label({labelFor:\"txtUserID\",text:l.getText(\"sas.ev.shared.domain.userid.lbl.txt\"),visible:!1,textAlign:\"Center\"}),this.txtUserID=new sas.hc.m.Input({id:\"txtUserID\",visible:!1,maxLength:2048,change:function(t){d.validate(e)},liveChange:function(t){d.validate(e)}}),this.lblPassword=new sas.hc.m.Label({labelFor:\"txtPassword\",text:l.getText(\"sas.ev.shared.domain.password.lbl.txt\"),textAlign:\"Center\",visible:!1}),this.txtPassword=new sas.hc.m.Input({id:\"txtPassword\",type:sap.m.InputType.Password,visible:!1,maxLength:32768,change:function(t){d.validate(e)},liveChange:function(t){d.validate(e)}}),this.lblConfPassword=new sas.hc.m.Label({labelFor:\"txtConfPassword\",text:l.getText(\"sas.ev.shared.domain.confpassword.lbl.txt\"),textAlign:\"Center\",visible:!1}),this.txtConfPassword=new sas.hc.m.Input({id:\"txtConfPassword\",type:sap.m.InputType.Password,visible:!1,maxLength:32768,change:function(t){d.validate(e)},liveChange:function(t){d.validate(e)}}),this.lblEncrKey=new sas.hc.m.Label({labelFor:\"txtEncrKey\",text:l.getText(\"sas.ev.shared.domain.encrkey.lbl.txt\"),textAlign:\"Center\",visible:!1}),this.txtEncrKey=new sas.hc.m.Input({id:\"txtEncrKey\",type:sap.m.InputType.Password,visible:!1,maxLength:32768,change:function(t){d.validate(e)},liveChange:function(t){d.validate(e)}}),this.lblConfEncrKey=new sas.hc.m.Label({labelFor:\"txtConfEncrKey\",text:l.getText(\"sas.ev.shared.domain.confencrkey.lbl.txt\"),textAlign:\"Center\",visible:!1}),this.txtConfEncrKey=new sas.hc.m.Input({id:\"txtConfEncrKey\",type:sap.m.InputType.Password,visible:!1,maxLength:32768,change:function(t){d.validate(e)},liveChange:function(t){d.validate(e)}});var C=new sas.hc.m.FlexBox({width:\"100%\",direction:\"Column\",items:[m,this.txtID,p,this.selType,E,this.txtDesc,this.barIdentities,this.dvdIdentities,this.sclIdentities,this.lblUserID,this.txtUserID,this.lblPassword,this.txtPassword,this.lblConfPassword,this.txtConfPassword,this.lblEncrKey,this.txtEncrKey,this.lblConfEncrKey,this.txtConfEncrKey]});this.dialog=new sas.hc.m.Dialog({title:this.bIDSet?l.getText(\"sas.ev.shared.domain.editDomain.title.txt\"):l.getText(\"sas.ev.shared.domain.newDomain.title.txt\"),content:[C],contentHeight:this.bIDSet?\"435px\":\"795px\",verticalScrolling:!0,beginButton:this.btnSave,endButton:c,beforeOpen:function(){d.enableTypeFields()},afterClose:function(){d.cleanUp()}}),this.dialog.addStyleClass(\"evDomainDialog\"),this.dialog.open()},enableTypeFields:function(){var e=this.strOriginalType.length>0?this.strOriginalType:this.selType.getSelectedKey(),t=e===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE;this.lblIdentities.setRequired(t);var s=this.bIDSet&&this.bTypeSet;this.barIdentities.setVisible(!s),this.dvdIdentities.setVisible(!s),this.sclIdentities.setVisible(!s);var i=this.dtaIdentities.items.length>0&&(e===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE||e===sas.ev.shared.DomainUtil.CONNECTION_TYPE),a=this.bIDSet&&this.bTypeSet&&(e===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE||e===sas.ev.shared.DomainUtil.CONNECTION_TYPE);this.lblUserID.setVisible(i&&!a),this.lblUserID.setRequired(i&&!a),this.txtUserID.setVisible(i&&!a),this.txtUserID.setRequired(i&&!a);var n=this.dtaIdentities.items.length>0&&e===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE,r=this.bIDSet&&this.bTypeSet&&e===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE;this.lblPassword.setVisible(n&&!r),this.lblPassword.setRequired(n&&!r),this.txtPassword.setVisible(n&&!r),this.txtPassword.setRequired(n&&!r),this.lblConfPassword.setVisible(n&&!r),this.lblConfPassword.setRequired(n&&!r),this.txtConfPassword.setVisible(n&&!r),this.txtConfPassword.setRequired(n&&!r);var d=this.dtaIdentities.items.length>0&&e===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE,l=this.bIDSet&&this.bTypeSet&&e===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE;this.lblEncrKey.setVisible(d&&!l),this.lblEncrKey.setRequired(d&&!l),this.txtEncrKey.setVisible(d&&!l),this.txtEncrKey.setRequired(d&&!l),this.lblConfEncrKey.setVisible(d&&!l),this.lblConfEncrKey.setRequired(d&&!l),this.txtConfEncrKey.setVisible(d&&!l),this.txtConfEncrKey.setRequired(d&&!l)},validate:function(e){var t=this.strOriginalType.length>0?this.strOriginalType:this.selType.getSelectedKey();this.validateDomain(e)&&(t!==sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE&&t!==sas.ev.shared.DomainUtil.CONNECTION_TYPE||this.validateCredential(e),t===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE&&this.validateEncryption(e))},validateDomain:function(e){var t=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\");if(!this.bIDSet||this.bIDSet&&e.id!==this.txtID.getValue().trim()){if(0===this.txtID.getValue().trim().length)return this.txtID.setValueState(sap.ui.core.ValueState.Error),this.txtID.setValueStateText(t.getText(\"sas.ev.shared.domain.id.required.txt\")),this.btnSave.setEnabled(!1),!1;if(this.txtID.getValue().trim().length>100)return this.txtID.setValueState(sap.ui.core.ValueState.Error),this.txtID.setValueStateText(t.getText(\"sas.ev.shared.domain.id.exceed.txt\")),this.btnSave.setEnabled(!1),!1;if(this.txtID.getValue().replace(/\\s/g,\"\").trim()!==encodeURIComponent(this.txtID.getValue().replace(/\\s/g,\"\").trim())||-1!==this.txtID.getValue().trim().indexOf(\"~\"))return this.txtID.setValueState(sap.ui.core.ValueState.Error),this.txtID.setValueStateText(t.getText(\"sas.ev.shared.domain.id.invalid.txt\")),this.btnSave.setEnabled(!1),!1;if(!this.bIDSet&&this.aryDomains.indexOf(this.txtID.getValue().trim())>=0)return this.txtID.setValueState(sap.ui.core.ValueState.Error),this.txtID.setValueStateText(t.getText(\"sas.ev.shared.domain.alreadyExists.txt\")),this.btnSave.setEnabled(!1),!1}if(this.txtID.setValueState(sap.ui.core.ValueState.None),this.bIDSet){if(!this.valuesChanged(e,void 0!==this.strEncryptionKey?this.strEncryptionKey:sas.ev.shared.DomainUtil.OBSCURE_PASSWORD))return this.btnSave.setEnabled(!1),!1}return this.btnSave.setEnabled(!0),!0},validateCredential:function(e){var t=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),s=this.strOriginalType.length>0?this.strOriginalType:this.selType.getSelectedKey();if(!this.bIDSet&&this.dtaIdentities.items.length>0){if(0===this.txtUserID.getValue().trim().length)return this.txtUserID.setValueState(sap.ui.core.ValueState.Error),this.txtUserID.setValueStateText(t.getText(\"sas.ev.shared.domain.userid.required.txt\")),this.btnSave.setEnabled(!1),!1;if(this.txtUserID.setValueState(sap.ui.core.ValueState.None),s===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE){if(0===this.txtPassword.getValue().trim().length)return this.txtPassword.setValueState(sap.ui.core.ValueState.Error),this.txtPassword.setValueStateText(t.getText(\"sas.ev.shared.domain.password.required.txt\")),this.btnSave.setEnabled(!1),!1;for(var i=this.txtPassword.getValue().trim(),a=0;a<i.length;a++)if(i.charCodeAt(a)>255)return this.txtPassword.setValueState(sap.ui.core.ValueState.Error),this.txtPassword.setValueStateText(t.getText(\"sas.ev.shared.domain.password.invalid.txt\")),this.btnSave.setEnabled(!1),!1;if(this.txtPassword.setValueState(sap.ui.core.ValueState.None),this.txtConfPassword.getValue().trim()!==this.txtPassword.getValue().trim())return this.txtConfPassword.setValueState(sap.ui.core.ValueState.Error),this.txtConfPassword.setValueStateText(t.getText(\"sas.ev.shared.domain.password.confirm.txt\")),this.btnSave.setEnabled(!1),!1;this.txtConfPassword.setValueState(sap.ui.core.ValueState.None)}}if(this.bIDSet){if(!this.valuesChanged(e,void 0!==this.strEncryptionKey?this.strEncryptionKey:sas.ev.shared.DomainUtil.OBSCURE_PASSWORD))return this.btnSave.setEnabled(!1),!1}return this.btnSave.setEnabled(!0),!0},validateEncryption:function(e){var t=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),s=this.strOriginalType.length>0?this.strOriginalType:this.selType.getSelectedKey();if(!this.bIDSet&&this.dtaIdentities.items.length>0&&(void 0===this.strEncryptionKey||0===this.strEncryptionKey.length||this.strEncryptionKey.length>0&&this.strEncryptionKey!==this.txtEncrKey.getValue().trim())){var i=this.bIDSet&&this.bTypeSet&&s===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE;if(0===this.txtEncrKey.getValue().trim().length)return this.txtEncrKey.setValueState(sap.ui.core.ValueState.Error),this.txtEncrKey.setValueStateText(t.getText(\"sas.ev.shared.domain.encrkey.required.txt\")),i&&void 0===this.strEncryptionKey||this.btnSave.setEnabled(!1),!1;for(var a=this.txtEncrKey.getValue().trim(),n=0;n<a.length;n++)if(a.charCodeAt(n)>255)return this.txtEncrKey.setValueState(sap.ui.core.ValueState.Error),this.txtEncrKey.setValueStateText(t.getText(\"sas.ev.shared.domain.encrkey.invalid.txt\")),i&&void 0===this.strEncryptionKey||this.btnSave.setEnabled(!1),!1;if(this.txtEncrKey.setValueState(sap.ui.core.ValueState.None),!i&&this.txtConfEncrKey.getValue().trim()!==this.txtEncrKey.getValue().trim())return this.txtConfEncrKey.setValueState(sap.ui.core.ValueState.Error),this.txtConfEncrKey.setValueStateText(t.getText(\"sas.ev.shared.domain.encrkey.confirm.txt\")),this.btnSave.setEnabled(!1),!1;this.txtConfEncrKey.setValueState(sap.ui.core.ValueState.None)}if(this.bIDSet){if(!this.valuesChanged(e,void 0!==this.strEncryptionKey?this.strEncryptionKey:sas.ev.shared.DomainUtil.OBSCURE_PASSWORD))return this.btnSave.setEnabled(!1),!1}return this.btnSave.setEnabled(!0),!0},onSave:function(e,t,s,i,a,n,r){var d=this,l=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),o=e.secret;e.type===sas.ev.shared.DomainUtil.AUTHENTICATION_TYPE&&(o=btoa(o)),e.type===sas.ev.shared.DomainUtil.ENCRYPTION_TYPE&&(void 0===this.strEncryptionKey||0===this.strEncryptionKey.length||this.strEncryptionKey.length>0&&this.strEncryptionKey!==o)&&(o=btoa(d.txtEncrKey.getValue()));var h=function(e){r(e)},u=function(e){sap.ui.getCore().getEventBus().publish(\"sasevCredentialview\",\"EVCredentialsRefresh\",d),s(e)},c=function(s){if(void 0!==e.identities)for(var i=0;i<e.identities.items.length;i++){var a=e.identities.items[i].id,n=e.identities.items[i].type;sas.ev.shared.DomainUtil.addCredential(e.domainId,e.type,a,n,e.userId,o,u,h)}var r=sap.ui.getCore().getEventBus();r.publish(\"sasevDomainsview\",\"EVDomainsRefresh\",d),r.publish(\"sasevCredentialview\",\"EVCredentialsRefresh\",d),t(s)},m=function(e){i(e)},y=function(e){a(e)},v=function(t){if(t.exists){var s={responseJSON:{message:l.getText(\"sas.ev.shared.domain.alreadyExists.txt\")}};r(s)}else sas.ev.shared.DomainUtil.addDomain(e.domainId,e.desc,e.type,c,h)};this.bIDSet?this.strOriginalID!==e.domainId?(sas.ev.shared.DomainUtil.deleteDomain(this.strOriginalID,y,h),sas.ev.shared.DomainUtil.addDomain(e.domainId,e.desc,e.type,c,h)):sas.ev.shared.DomainUtil.updateDomain(e.domainId,e.desc,e.type,m,h):sas.ev.shared.DomainUtil.doesDomainExist(e.domainId,v,h)},valuesChanged:function(e,t){return e.id!==this.txtID.getValue().trim()||(e.type!==this.selType.getSelectedKey()||e.desc!==this.txtDesc.getValue().trim())},cleanUp:function(){var e=sap.ui.getCore().byId(\"txtID\");void 0!==e&&e.destroy();var t=sap.ui.getCore().byId(\"selType\");void 0!==t&&t.destroy();var s=sap.ui.getCore().byId(\"txtUserID\");void 0!==s&&s.destroy();var i=sap.ui.getCore().byId(\"txtPassword\");void 0!==i&&i.destroy();var a=sap.ui.getCore().byId(\"txtConfPassword\");void 0!==a&&a.destroy();var n=sap.ui.getCore().byId(\"txtEncrKey\");void 0!==n&&n.destroy();var r=sap.ui.getCore().byId(\"txtConfEncrKey\");void 0!==r&&r.destroy(),this.dialog.destroy()}}}();",
	"sas/ev/shared/DomainUtil.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\n!function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.DomainUtil\"),jQuery.sap.require(\"sas/ev/shared/IdentityUtils\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.ev.shared.Utils\"),sas.ev.shared.DomainUtil={logger:sas.log.getLogger(\"sas.ev.shared.DomainUtil\"),AUTHENTICATION_TYPE:\"password\",CONNECTION_TYPE:\"connection\",ENCRYPTION_TYPE:\"cryptDomain\",OBSCURE_PASSWORD:\"********\",getDomains:function(e,n){sas.ajax({url:\"/credentials/domains?limit=\"+1e6,type:\"GET\",headers:{\"Content-Type\":\"application/vnd.sas.collection+json\"}}).done(function(n){e(n)}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1)),n(e)})},doesDomainExist:function(e,n,t){var s=\"/credentials/domains/\"+encodeURIComponent(e);sas.ajax({url:s,type:\"HEAD\"}).done(function(){n({exists:!0})}).fail(function(e){404===e.status?n({exists:!1}):(sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1)),t(e))})},addDomain:function(e,n,t,s,i){this.writeDomain(e,n,t,s,i)},updateDomain:function(e,n,t,s,i){this.writeDomain(e,n,t,s,i)},writeDomain:function(e,n,t,s,i){var a=\"/credentials/domains/\"+encodeURIComponent(e),r=JSON.stringify({id:e,description:n,type:t});sas.ajax({url:a,type:\"PUT\",headers:{\"Content-Type\":\"application/vnd.sas.credential.domain+json\"},dataType:\"json\",contentType:\"application/json\",data:r}).done(function(e){s(e)}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1)),i(e)})},deleteDomain:function(e,n,t){var s=\"/credentials/domains/\"+encodeURIComponent(e)+\"?includeCredentials=true\";sas.ajax({url:s,type:\"DELETE\"}).done(function(){n({domainId:e})}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1)),t(e)})},getDomainType:function(e){var n=\"/credentials/domains/\"+encodeURIComponent(e),t=void 0;return sas.ajax({url:n,async:!1,type:\"GET\",headers:{\"Content-Type\":\"application/vnd.sas.credential.domain+json\"}}).done(function(e){t=e.type}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1))}),t},addCredential:function(e,n,t,s,i,a,r,o){this.writeCredential(e,n,t,s,i,a,r,o)},updateCredential:function(e,n,t,s,i,a,r,o){this.writeCredential(e,n,t,s,i,a,r,o)},writeCredential:function(e,n,t,s,i,a,r,o){var d=\"/credentials/domains/\"+encodeURIComponent(e)+\"/\",l=d;s===sas.ev.shared.IdentityUtils.USER_IDENTITY_TYPE?l+=\"users/\"+sas.ev.shared.Utils.encodeIdentityID(t):s!==sas.ev.shared.IdentityUtils.GROUP_IDENTITY_TYPE&&s!==sas.ev.shared.IdentityUtils.CUSTOM_GROUP_IDENTITY_TYPE||(l+=\"groups/\"+sas.ev.shared.Utils.encodeIdentityID(t));var c=\"\";n===this.AUTHENTICATION_TYPE||n===this.CONNECTION_TYPE?c=JSON.stringify({domainId:e,domainType:n,identityId:t,identityType:s===sas.ev.shared.IdentityUtils.CUSTOM_GROUP_IDENTITY_TYPE?sas.ev.shared.IdentityUtils.GROUP_IDENTITY_TYPE:s,properties:void 0!==i&&null!==i&&i.length>0?{userId:i}:{},secrets:void 0!==a&&null!==a&&a.length>0?{password:a}:{}}):n===this.ENCRYPTION_TYPE&&(c=JSON.stringify({domainId:e,domainType:n,identityId:t,identityType:s===sas.ev.shared.IdentityUtils.CUSTOM_GROUP_IDENTITY_TYPE?sas.ev.shared.IdentityUtils.GROUP_IDENTITY_TYPE:s,properties:void 0!==i&&null!==i&&i.length>0?{userId:i}:{},secrets:void 0!==a&&null!==a&&a.length>0?{encryptkey:a}:{}})),sas.ajax({url:l,type:\"PUT\",headers:{\"Content-Type\":\"application/vnd.sas.credential+json\"},dataType:\"json\",contentType:\"application/json\",data:c}).done(function(e){r(e)}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1)),o(e)})},getSecret:function(e){var n=\"/credentials/domains/\"+encodeURIComponent(e)+\"/secrets?lookupInGroup=true\",t=void 0;return sas.ajax({url:n,async:!1,type:\"GET\",headers:{\"Content-Type\":\"application/vnd.sas.credential+json\"}}).done(function(e){void 0!==e.secrets.password&&e.secrets.password.length>0&&(t=e.secrets.password),void 0!==e.secrets.encryptkey&&e.secrets.encryptkey.length>0&&(t=e.secrets.encryptkey)}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1))}),t},getSecretForUserID:function(e,n){var t=\"/credentials/domains/\"+encodeURIComponent(e)+\"/secrets?lookupInGroup=true\",s=void 0;return sas.ajax({url:t,async:!1,type:\"GET\",headers:{\"Content-Type\":\"application/vnd.sas.credential+json\"}}).done(function(e){void 0!==e.secrets.password&&e.secrets.password.length>0&&e.properties.userId===n&&(s=e.secrets.password),void 0!==e.secrets.encryptkey&&e.secrets.encryptkey.length>0&&e.properties.userId===n&&(s=e.secrets.encryptkey)}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1))}),s},getCredentials:function(e,n,t){var s=\"/credentials/domains/\"+encodeURIComponent(e)+\"/credentials?limit=1000000\";sas.ajax({url:s,type:\"GET\",headers:{\"Content-Type\":\"application/vnd.sas.collection+json\"}}).done(function(e){n(e)}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1)),t(e)})},getCredentialsForUserID:function(e,n,t,s){var i=function(e){for(var s=[],i=0;i<e.items.length;i++){var a=e.items[i];a.properties.userId===n&&s.push(a)}t({items:s})};this.getCredentials(e,i,s)},getCredentialCount:function(e){var n=\"/credentials/domains/\"+encodeURIComponent(e)+\"/credentials?limit=1000000\",t=0;return sas.ajax({url:n,async:!1,type:\"GET\",headers:{\"Content-Type\":\"application/vnd.sas.collection+json\"}}).done(function(e){t=e.items.length}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1))}),t},getAllCredentials:function(e,n){var t=this,s=0,i=0,a=[],r=function(n){i++,a=a.concat(n.items),i===s&&e({items:a})},o=function(e){for(var i=0;i<e.items.length;i++){s++;var a=e.items[i].id;t.getCredentials(a,r,n)}};this.getDomains(o,n)},getCurrentUserCredential:function(e){var n=\"/credentials/domains/\"+encodeURIComponent(e)+\"/users/@currentUser\",t=void 0;return sas.ajax({url:n,async:!1,type:\"GET\",headers:{\"Content-Type\":\"application/vnd.sas.credential+json\"}}).done(function(e){t=e}).fail(function(e){}),t},deleteCredential:function(e,n,t,s,i){var a=\"/credentials/domains/\"+encodeURIComponent(e)+\"/\",r=a;\"user\"===t?r+=\"users/\"+sas.ev.shared.Utils.encodeIdentityID(n):\"group\"!==t&&\"customGroup\"!==t||(r+=\"groups/\"+sas.ev.shared.Utils.encodeIdentityID(n)),sas.ajax({url:r,type:\"DELETE\"}).done(function(){s({identityId:n})}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1)),i(e)})},hasClientCredentials:function(e){var n=\"/credentials/domains/\"+encodeURIComponent(e)+\"/credentials?limit=1000000\",t=!1;return sas.ajax({url:n,async:!1,type:\"GET\",headers:{\"Content-Type\":\"application/vnd.sas.collection+json\"}}).done(function(e){for(var n=0;n<e.items.length;n++)if(e.items[n].identityType===sas.ev.shared.IdentityUtils.CLIENT_IDENTITY_TYPE){t=!0;break}}).fail(function(e){sas.ev.shared.DomainUtil.logger.error(JSON.stringify(e,null,1))}),t},getIdentityDisplayName:function(e,n){return sas.ev.shared.IdentityUtils.getIdentityProperties(e,n).displayName}}}();",
	"sas/ev/shared/enums/AuthorizationRuleType.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.enums.AuthorizationRuleType\"),sas.ev.shared.enums.AuthorizationRuleType={GRANT:\"grant\",PROHIBIT:\"prohibit\"},sas.ev.shared.enums.AuthorizationRuleType});",
	"sas/ev/shared/enums/ModelConstants.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"jquery.sap.global\"],function(E){\"use strict\";return E.sap.declare(\"sas.ev.shared.enums.ModelConstants\"),sas.ev.shared.enums.ModelConstants={CODE_SHORT_LENGTH:3,CODE_MEDIUM_LENGTH:10,CODE_LONG_LENGTH:20,COUNT_PRECISION:6,COUNT_LARGE_PRECISION:12,DESCRIPTION_LENGTH:100,DESCRIPTION_LONG_LENGTH:1e3,FLAG_LENGTH:1,ID_SHORT_LENGTH:10,ID_MEDIUM_LENGTH:20,ID_LONG_LENGTH:36,CURRENCY_SAS_PRECISION:15,CURRENCY_SAS_SCALE:3,CURRENCY_STANDARD__PRECISION:18,CURRENCY_STANDARD_SCALE:5,NAME_SHORT_LENGTH:40,NAME_MEDIUM_LENGTH:100,NAME_LONG_LENGTH:250,NUMBER_PRECISION:10,PERCENT_PRECISION:9,PERCENT_SCALE:4,QUANTITY_PRECISION:10,RATE_PRECISION:9,RATE_SCALE:4,RETAINED_SURROGATE_KEY_PRECISION:10,RETAINED_SURROGATE_KEY_LONG_PRECISION:15,SURROGATE_KEY_PRECISION:10,TEXT_SHORT_LENGTH:100,TEXT_MEDIUM_LENGTH:500,TEXT_LONG_LENGTH:1e3},sas.ev.shared.enums.ModelConstants});",
	"sas/ev/shared/enums/Permission.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.enums.Permission\"),sas.ev.shared.enums.Permission={READ:\"read\",CREATE:\"create\",UPDATE:\"update\",DELETE:\"delete\",ADD:\"add\",SECURE:\"secure\",REMOVE:\"remove\"},sas.ev.shared.enums.Permission});",
	"sas/ev/shared/enums/PrincipalType.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.enums.PrincipalType\"),sas.ev.shared.enums.PrincipalType={USER:\"user\",AUTHENTICATED_USERS:\"authenticatedUsers\",GROUP:\"group\",EVERYONE:\"everyone\",GUEST:\"guest\"},sas.ev.shared.enums.PrincipalType});",
	"sas/ev/shared/enums/TypeConstants.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.enums.TypeConstants\"),sas.ev.shared.enums.TypeConstants={FOLDERS:\"folder\",REPORTS:\"report\",JOBS:\"application/vnd.sas.jobdefinition\",RECIPES:\"recipes\",HIDDEN_FOLDER:\"hiddenFolder\",FAVORITES_FOLDER:\"favoritesFolder\",HISTORY_FOLDER:\"historyFolder\",USER_ROOT:\"userRoot\",USER_FOLDER:\"userFolder\",MY_FOLDER:\"myFolder\",APPLICATION_DATA_FOLDER:\"applicationDataFolder\",Query:\"query\"},sas.ev.shared.enums.TypeConstants});",
	"sas/ev/shared/IdentityDetails.js": "// Copyright (c) 2016-18, SAS Institute Inc., Cary, NC, USA, All Rights Reserved\njQuery.sap.require(\"sas.ev.shared.IdentitySearch\"),jQuery.sap.require(\"sas.ev.shared.IdentitySelect\"),jQuery.sap.require(\"sas.ev.shared.IdentityTreeUtils\"),jQuery.sap.require(\"sas.ev.shared.IdentityTypes\"),jQuery.sap.require(\"sas.ev.shared.Utils\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.Dialog\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.Heading\"),jQuery.sap.require(\"sas.hc.m.HelpPopup\"),jQuery.sap.require(\"sas.hc.m.IconTabBar\"),jQuery.sap.require(\"sas.hc.m.IconTabFilter\"),jQuery.sap.require(\"sas.hc.m.Image\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Menu\"),jQuery.sap.require(\"sas.hc.m.MenuButton\"),jQuery.sap.require(\"sas.hc.m.MenuItem\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\"),jQuery.sap.require(\"sas.hc.m.MessageStrip\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.m.Text\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.m.ZeroState\"),jQuery.sap.require(\"sas.hc.ui.commons.Tree\"),jQuery.sap.require(\"sas.hc.ui.core.ListItem\"),jQuery.sap.require(\"sas.hc.ui.layout.form.Form\"),jQuery.sap.require(\"sas.hc.ui.layout.form.FormContainer\"),jQuery.sap.require(\"sas.hc.ui.layout.form.FormElement\"),jQuery.sap.require(\"sas.hc.ui.layout.form.ResponsiveGridLayout\"),jQuery.sap.require(\"sas.hc.ui.table.Column\"),jQuery.sap.require(\"sas.hc.ui.table.Table\"),jQuery.sap.require(\"sas.hc.ui.unified.FileUploader\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.CalendarUtil\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.SASFormatterUtil\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.ev.shared.IdentityProperties\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),jQuery.sap.require(\"sas.hc.ui.table.library\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sas.hc.m.library\"),function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.IdentityDetails\"),sas.ev.shared.IdentityDetails={logger:sas.log.getLogger(\"sas.ev.shared.IdentityDetails\"),getControl:function(e,t,s){var a=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),r=new sas.hc.m.ResponsiveToolbar({id:e+\"_Toolbar\",layoutData:new sas.hc.m.FlexItemData({shrinkFactor:0})}).addStyleClass(\"sasEVUsersDetailsToolbar\"),i=new sas.hc.m.Select({id:e+\"_RecentList\",enabled:!1,displayListItemIcon:!0,items:[new sas.hc.ui.core.ListItem({key:\"empty\",text:a.getText(\"sas.ev.shared.identity.recently_viewed.empty.txt\"),icon:sas.icons.HC.BLANK})],change:function(){for(var s,a=this.getSelectedKey(),r=this.getSelectedItem().getCustomData(),i=0;i<r.length;i++)\"url\"===r[i].getKey()&&(s=r[i].getValue());var o=sas.ev.shared.IdentityTreeUtils.getTypeFromIcon(this.getSelectedItem().getIcon());sas.ev.shared.IdentityDetails.refreshDetails(e,a,s,o,!0,t)}});Boolean(s)?i.setWidth(\"19rem\"):i.setWidth(\"13rem\");var o=new sas.hc.m.Label({text:a.getText(\"sas.ev.shared.identity.recently_viewed.txt\"),textAlign:\"End\",labelFor:i});r.addContent(new sas.hc.m.ToolbarSpacer),r.addContent(o),r.addContent(i);var n=new sas.hc.m.FlexBox({id:e+\"_PropertiesLayout\",busyIndicatorDelay:0,direction:\"Column\",layoutData:new sas.hc.m.FlexItemData({shrinkFactor:0}),visible:!1}),d=new sas.hc.m.ResponsiveToolbar({id:e+\"_PropertiesToolbar\"});n.addItem(d);var l=new sas.hc.m.Heading({id:e+\"_PropertiesHeading\",text:\"{/name}\",level:2});d.addContent(l);var m=function(e,t,s){var r=H.getModel(),o=r.getProperty(\"/url\"),n={id:t,name:e,description:s};sas.ajax({type:\"PUT\",url:o,data:n,headers:{\"Content-Type\":\"application/vnd.sas.identity.group+json\",Accept:\"application/vnd.sas.identity.group+json\"}}).done(function(){if(r.getProperty(\"/name\")!==e){r.setProperty(\"/name\",e),sas.ev.shared.IdentitySearch.identityRefresh(\"ev_identity_table\",\"ev_identity_column\",\"ev_identity_typeFilter\",!1);for(var a=r.getProperty(\"/type\"),o=sas.ev.shared.IdentityTreeUtils.getIconFromType(a),n=!1,d=i.getItems(),l=0;l<d.length&&!n;l++)d[l].getKey()===t&&d[l].getIcon()===o&&(n=!0,d[l].setText(e))}r.setProperty(\"/description\",s)}).fail(function(e){sas.ev.shared.IdentityDetails.logger.error(JSON.stringify(e,null,1)),sas.ev.shared.Utils.ajaxErrorMessageHandler({title:a.getText(\"sas.ev.shared.identity.edit_group.title.txt\"),message:a.getText(\"sas.ev.shared.identity.basic_properties.error.txt\"),detail:e}).open()})},u=new sas.hc.m.Button({id:e+\"_PropertiesEditButton\",visible:!1,icon:sas.icons.HC.EDIT,tooltip:a.getText(\"sas.ev.shared.tooltip.edit.txt\"),press:function(){var e=H.getModel(),t=e.getProperty(\"/id\"),s=e.getProperty(\"/name\"),a=e.getProperty(\"/description\");sas.ev.shared.IdentityProperties.getControl(m,!0,s,t,a)}});d.addContent(new sas.hc.m.ToolbarSpacer),d.addContent(u);var y=new sas.hc.m.FlexBox({id:e+\"_PropertiesContent\",direction:\"Row\",layoutData:new sas.hc.m.FlexItemData});n.addItem(y);var c=new sas.hc.m.FlexBox({id:e+\"_AvatarLayout\",renderType:sap.m.FlexRendertype.Bare,direction:\"Column\",layoutData:new sas.hc.m.FlexItemData({shrinkFactor:0})}).addStyleClass(\"sasEVUsersDetailsAvatarLayout\");y.addItem(c);var h=new sas.hc.m.Image({id:e+\"_AvatarImage\",height:\"5rem\",width:\"5rem\",layoutData:new sas.hc.m.FlexItemData({shrinkFactor:0})}).addStyleClass(\"sasEVUsersDetailsAvatarImage\");c.addItem(h);var g=new sas.hc.m.FlexBox({id:e+\"_AvatarHoverLayout\",height:\"5rem\",alignItems:sap.m.FlexAlignItems.Center,justifyContent:sap.m.FlexJustifyContent.Center,layoutData:new sas.hc.m.FlexItemData}).addStyleClass(\"sasFillSpace\");c.addItem(g);var p=new sas.hc.m.Button({id:e+\"_AvatarEditButton\",icon:sas.icons.HC.EDIT,press:function(){sas.ev.shared.IdentityDetails.editAvatar(e)}});g.addItem(p);var v=new sas.hc.m.FlexBox({width:\"100%\",direction:\"Column\",layoutData:new sas.hc.m.FlexItemData({growFactor:1})});y.addItem(v);var b=new sas.hc.ui.layout.form.FormContainer,x=new sas.hc.ui.layout.form.Form({formContainers:[b],layout:new sas.hc.ui.layout.form.ResponsiveGridLayout({columnsL:1,labelSpanS:12,labelSpanM:3,labelSpanL:3,breakpointM:250})}).addStyleClass(\"sasUiFormNoVerticalSpacing\");v.addItem(x);var T=new sas.hc.m.Text({id:e+\"_IDField\",text:\"{/id}\"}),I=new sas.hc.ui.layout.form.FormElement({id:e+\"_IDElement\",label:new sas.hc.m.Label({text:a.getText(\"sas.ev.shared.identity.id.field.txt\")}),fields:[T]});b.addFormElement(I);var f=new sas.hc.m.Text({id:e+\"_TitleField\",text:\"{/title}\"}),C=new sas.hc.ui.layout.form.FormElement({id:e+\"_TitleElement\",visible:!1,label:new sas.hc.m.Label({text:a.getText(\"sas.ev.shared.identity.title.field.txt\")}),fields:[f]});b.addFormElement(C);var w=new sas.hc.m.Text({id:e+\"_DescriptionField\",text:\"{/description}\"}),S=new sas.hc.ui.layout.form.FormElement({id:e+\"_DescriptionElement\",label:new sas.hc.m.Label({text:a.getText(\"sas.ev.shared.identity.description.field.txt\")}),fields:[w]});b.addFormElement(S);var D=new sas.hc.m.FlexBox({id:e+\"_TabLayout\",direction:\"Column\",height:\"100%\",layoutData:new sas.hc.m.FlexItemData({growFactor:1}),visible:!1}).addStyleClass(\"sasEVUsersDetailsTabLayout\"),F=new sas.hc.m.IconTabBar({id:e+\"_TabBar\",enableDarkTheme:!1});D.addItem(F);var E=new sas.hc.m.IconTabFilter({id:e+\"_ContactTab\",key:\"contact\",text:a.getText(\"sas.ev.shared.identity.section.contact_information.txt\"),visible:!1});F.addItem(E);var U=new sas.hc.m.IconTabFilter({id:e+\"_MembersTab\",key:\"members\",text:a.getText(\"sas.ev.shared.identity.section.members.txt\")});F.addItem(U);var _=new sas.hc.m.IconTabFilter({id:e+\"_MemberOfTab\",key:\"memberOf\",text:a.getText(\"sas.ev.shared.identity.section.member_of.txt\")});F.addItem(_);var M=new sas.hc.m.IconTabFilter({id:e+\"_AdvancedTab\",key:\"advanced\",text:a.getText(\"sas.ev.shared.identity.section.advanced.txt\")});F.addItem(M);var B=new sas.hc.m.FlexBox({id:e+\"_AdvancedLayout\",busyIndicatorDelay:0,direction:\"Column\",height:\"100%\"}).addStyleClass(\"sasEVUsersDetailsTabWithoutToolbar\");M.addContent(B);var L=new sas.hc.ui.layout.form.FormContainer,j=new sas.hc.ui.layout.form.Form({formContainers:[L],layout:new sas.hc.ui.layout.form.ResponsiveGridLayout({columnsL:1,labelSpanS:12,labelSpanM:3,labelSpanL:3,breakpointM:250})}).addStyleClass(\"sasUiFormNoVerticalSpacing\");B.addItem(j);var R=new sas.hc.m.Text({id:e+\"_StateField\",text:\"{/state}\"}),P=new sas.hc.ui.layout.form.FormElement({id:e+\"_StateElement\",visible:!1,label:new sas.hc.m.Label({text:a.getText(\"sas.ev.shared.identity.state.field.txt\")}),fields:[R]});L.addFormElement(P);var A=new sas.hc.m.Text({id:e+\"_CreationField\"}).bindProperty(\"text\",{path:\"/creationTimeStamp\",formatter:function(e){return sas.ltjs.sasicu.util.SASFormatterUtil.format(sas.ltjs.sasicu.util.CalendarUtil.jsDateToSASDateTime(new Date(e)),\"DATETIME\")}}),Q=new sas.hc.ui.layout.form.FormElement({id:e+\"_CreationElement\",label:new sas.hc.m.Label({text:a.getText(\"sas.ev.shared.identity.created.field.txt\")}),fields:[A]});L.addFormElement(Q);var q=new sas.hc.m.Text({id:e+\"_ModifiedField\"}).bindProperty(\"text\",{path:\"/modifiedTimeStamp\",formatter:function(e){return sas.ltjs.sasicu.util.SASFormatterUtil.format(sas.ltjs.sasicu.util.CalendarUtil.jsDateToSASDateTime(new Date(e)),\"DATETIME\")}}),V=new sas.hc.ui.layout.form.FormElement({id:e+\"_ModifiedElement\",label:new sas.hc.m.Label({text:a.getText(\"sas.ev.shared.identity.modified.field.txt\")}),fields:[q]});L.addFormElement(V);var O=new sas.hc.m.ZeroState({id:e+\"_ZeroState\",icon:sas.icons.HC.ZEROSTATEMEMBERS,text:a.getText(\"sas.ev.shared.identity.zero_state.message.txt\"),layoutData:new sas.hc.m.FlexItemData({growFactor:1})}),N=new sas.hc.m.FlexBox({id:e+\"_ZeroStateLayout\",direction:\"Column\",height:\"100%\",items:[O]}).addStyleClass(\"evUsersDetailsZeroStateLayout\"),H=new sas.hc.m.FlexBox({id:e,direction:\"Column\",height:\"100%\",width:\"100%\",items:[r,n,D,N]}).addStyleClass(\"sasEVUsersDetailsLayout sasEvContentRight\");return H},refreshDetails:function(e,t,s,a,r,i){var o=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),n=sap.ui.getCore().byId(e),d=sap.ui.getCore().byId(e+\"_RecentList\"),l=sap.ui.getCore().byId(e+\"_PropertiesLayout\"),m=sap.ui.getCore().byId(e+\"_PropertiesEditButton\"),u=sap.ui.getCore().byId(e+\"_AvatarImage\"),y=sap.ui.getCore().byId(e+\"_AvatarEditButton\"),c=sap.ui.getCore().byId(e+\"_TitleElement\"),h=sap.ui.getCore().byId(e+\"_TabLayout\"),g=sap.ui.getCore().byId(e+\"_ContactTab\"),p=sap.ui.getCore().byId(e+\"_MembersTab\"),v=sap.ui.getCore().byId(e+\"_MemberOfTab\"),b=sap.ui.getCore().byId(e+\"_AdvancedLayout\"),x=sap.ui.getCore().byId(e+\"_StateElement\"),T=sap.ui.getCore().byId(e+\"_ZeroStateLayout\");if(a===sas.ev.shared.IdentityTypes.USER?(g.setVisible(!0),c.setVisible(!0),x.setVisible(!0),p.setVisible(!1)):(p.setVisible(!0),g.setVisible(!1),c.setVisible(!1),x.setVisible(!1)),v.destroyContent(),p.destroyContent(),g.destroyContent(),y.setVisible(Boolean(i)),l.setVisible(!0),h.setVisible(!0),T.setVisible(!1),\"\"!==t){Boolean(n.loadingDetails)||(n.loadingDetails=!0,l.setBusy(!0),b.setBusy(!0),v.setText(o.getText(\"sas.ev.shared.identity.section.member_of.txt\")),a!==sas.ev.shared.IdentityTypes.USER&&p.setText(o.getText(\"sas.ev.shared.identity.section.members.txt\")),sas.ajax({type:\"GET\",url:s,dataType:\"json\"}).done(function(y){y.url=s,y.type=a;var c=new sap.ui.model.json.JSONModel;if(c.setData(y),n.setModel(c),a===sas.ev.shared.IdentityTypes.CUSTOM_GROUP&&Boolean(i)?m.setVisible(!0):m.setVisible(!1),u.setSrc(s+\"/avatar/content?\"+(new Date).getTime()),l.setBusy(!1),b.setBusy(!1),a===sas.ev.shared.IdentityTypes.USER){var h=new sas.hc.m.FlexBox({id:e+\"_ContactLayout\",busyIndicatorDelay:0,direction:\"Column\",height:\"100%\"}).addStyleClass(\"sasEVUsersDetailsContactLayout\");g.addContent(h);var x=new sas.hc.ui.layout.form.Form({id:e+\"_ContactForm\",layout:new sas.hc.ui.layout.form.ResponsiveGridLayout({columnsL:1,labelSpanS:12,labelSpanM:2,labelSpanL:2,breakpointM:250})}).addStyleClass(\"sasUiFormNoVerticalSpacing\");h.addItem(x);var T=new sas.hc.ui.layout.form.FormContainer({id:e+\"_EmailFormContainer\",title:o.getText(\"sas.ev.shared.identity.email.title.txt\")});if(x.addFormContainer(T),void 0!==y.emailAddresses&&y.emailAddresses.length>0)for(var I=0;I<y.emailAddresses.length;I++)T.addFormElement(new sas.hc.ui.layout.form.FormElement({label:new sas.hc.m.Label({text:y.emailAddresses[I].type+\":\"}),fields:[new sas.hc.m.Text({text:y.emailAddresses[I].value})]}));else T.addFormElement(new sas.hc.ui.layout.form.FormElement({fields:[new sas.hc.m.Text({text:o.getText(\"sas.ev.shared.noInformation.txt\")})]}));var f=new sas.hc.ui.layout.form.FormContainer({id:e+\"_PhoneFormContainer\",title:o.getText(\"sas.ev.shared.identity.phone.title.txt\")});if(x.addFormContainer(f),void 0!==y.phoneNumbers&&y.phoneNumbers.length>0)for(var I=0;I<y.phoneNumbers.length;I++)f.addFormElement(new sas.hc.ui.layout.form.FormElement({label:new sas.hc.m.Label({text:y.phoneNumbers[I].type+\":\"}),fields:[new sas.hc.m.Text({text:y.phoneNumbers[I].value})]}));else f.addFormElement(new sas.hc.ui.layout.form.FormElement({fields:[new sas.hc.m.Text({text:o.getText(\"sas.ev.shared.noInformation.txt\")})]}));var C=new sas.hc.ui.layout.form.FormContainer({id:e+\"_AddressFormContainer\",title:o.getText(\"sas.ev.shared.identity.address.title.txt\")});x.addFormContainer(C);var w=new sas.hc.ui.table.Table({id:e+\"_AddressTable\",showTableOptions:!1,enableColumnFreeze:!1,selectionBehavior:sas.hc.ui.table.SelectionBehavior.None,visibleRowCountMode:sas.hc.ui.table.VisibleRowCountMode.Fixed,visibleRowCount:3,enablePixelScrolling:!1});w.bindRows(\"/addresses\"),h.addItem(w),w.addColumn(new sas.hc.ui.table.Column({showFilterMenuEntry:!1,label:new sas.hc.m.Label({text:o.getText(\"sas.ev.shared.identity.address.locality.column.txt\")}),template:new sas.hc.m.Text({wrapping:!1,text:\"{locality}\"}),sortProperty:\"locality\",filterProperty:\"locality\"})),w.addColumn(new sas.hc.ui.table.Column({showFilterMenuEntry:!1,label:new sas.hc.m.Label({text:o.getText(\"sas.ev.shared.identity.address.region.column.txt\")}),template:new sas.hc.m.Text({wrapping:!1,text:\"{region}\"}),sortProperty:\"region\",filterProperty:\"region\"})),w.addColumn(new sas.hc.ui.table.Column({showFilterMenuEntry:!1,label:new sas.hc.m.Label({text:o.getText(\"sas.ev.shared.identity.address.postalCode.column.txt\")}),template:new sas.hc.m.Text({wrapping:!1,text:\"{postalCode}\"}),sortProperty:\"postalCode\",filterProperty:\"postalCode\"})),w.addColumn(new sas.hc.ui.table.Column({showFilterMenuEntry:!1,label:new sas.hc.m.Label({text:o.getText(\"sas.ev.shared.identity.address.country.column.txt\")}),template:new sas.hc.m.Text({wrapping:!1,text:\"{country}\"}),sortProperty:\"country\",filterProperty:\"country\"}))}if(!Boolean(r)){Boolean(d.getEnabled())||(d.destroyItems(),d.setEnabled(!0));for(var S=d.getItems(),D=sas.ev.shared.IdentityTreeUtils.getIconFromType(a),F=!1,E=!0,I=0;I<S.length&&!F;I++)S[I].getKey()===y.id&&S[I].getIcon()===D&&(F=!0,0===I?E=!1:d.removeItem(S[I]));if(E){var U;U=void 0===y.name||\"\"===y.name?y.id:y.name;var _=new sas.hc.ui.core.ListItem({key:t,text:U,tooltip:t,icon:D,customData:[{Type:\"sap.ui.core.CustomData\",key:\"url\",value:s},{Type:\"sap.ui.core.CustomData\",key:\"type\",value:a}]});d.getItems().length>0?d.insertItem(_,0):d.addItem(_),d.setSelectedKey(y.id)}}var M=new sas.hc.m.FlexBox({id:e+\"_MemberOfLayout\",busyIndicatorDelay:0,direction:\"Column\",height:\"100%\"}).addStyleClass(\"sasEVUsersDetailsTabWithoutToolbar\");M.setBusy(!0),v.addContent(M);var B=new sas.hc.ui.commons.Tree({id:e+\"_MemberOfTree\",showHeader:!1,width:\"100%\"}).attachBrowserEvent(\"dblclick\",function(){if(void 0!==this.getSelection()){var t=sas.ev.shared.IdentityTreeUtils.getNodeID(this.getSelection()),s=sas.ev.shared.IdentityTreeUtils.getNodeURL(this.getSelection()),a=sas.ev.shared.IdentityTreeUtils.getTypeFromIcon(this.getSelection().getIcon());sas.ev.shared.IdentityDetails.refreshDetails(e,t,s,a,!1,i)}});if(M.addItem(B),sas.ev.shared.IdentityDetails.loadMemberOf(e,t,s,a,B),a===sas.ev.shared.IdentityTypes.GROUP||a===sas.ev.shared.IdentityTypes.CUSTOM_GROUP){var L=new sas.hc.m.FlexBox({id:e+\"_MembersLayout\",busyIndicatorDelay:0,direction:\"Column\",height:\"100%\"});if(L.setBusy(!0),p.addContent(L),a===sas.ev.shared.IdentityTypes.CUSTOM_GROUP&&Boolean(i)){var j=new sas.hc.m.ResponsiveToolbar({id:e+\"_MembersToolbar\"});L.addItem(j);var R=new sas.hc.m.HelpPopup({library:\"sas.custom\",key:\"editmembers\"});j.addContent(new sas.hc.m.ToolbarSpacer),j.addContent(R);var P=new sas.hc.m.Button({id:e+\"_MembersEditButton\",icon:sas.icons.HC.EDIT,tooltip:o.getText(\"sas.ev.shared.tooltip.edit.txt\"),press:function(t){sas.ev.shared.IdentityDetails.editMembers(e)}});j.addContent(P),L.addStyleClass(\"sasEVUsersDetailsTabWithToolbar\")}else L.addStyleClass(\"sasEVUsersDetailsTabWithoutToolbar\");var A=new sas.hc.ui.commons.Tree({id:e+\"_MembersTree\",showHeader:!1,width:\"100%\"}).attachBrowserEvent(\"dblclick\",function(){if(void 0!==this.getSelection()){var t=sas.ev.shared.IdentityTreeUtils.getNodeID(this.getSelection()),s=sas.ev.shared.IdentityTreeUtils.getNodeURL(this.getSelection()),a=sas.ev.shared.IdentityTreeUtils.getTypeFromIcon(this.getSelection().getIcon());sas.ev.shared.IdentityDetails.refreshDetails(e,t,s,a,!1,i)}});L.addItem(A),sas.ev.shared.IdentityDetails.loadMembers(e,t,s,A)}}).fail(function(e){sas.ev.shared.IdentityDetails.logger.error(JSON.stringify(e,null,1)),l.setBusy(!1),b.setBusy(!1);var s;s=a===sas.ev.shared.IdentityTypes.USER?o.getText(\"sas.ev.shared.identity.details.error.users.title.txt\"):a===sas.ev.shared.IdentityTypes.GROUP?o.getText(\"sas.ev.shared.identity.details.error.groups.title.txt\"):o.getText(\"sas.ev.shared.identity.details.error.custom_groups.title.txt\"),sas.ev.shared.Utils.ajaxErrorMessageHandler({title:s,message:o.getText(\"sas.ev.shared.identity.details.error.fmt.txt\",[t]),detail:e}).open()}).always(function(){n.loadingDetails=!1}))}},loadMemberOf:function(e,t,s,a,r){var i=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),o=sap.ui.getCore().byId(e+\"_MemberOfTab\"),n=sap.ui.getCore().byId(e+\"_MemberOfLayout\");sas.ajax({type:\"GET\",url:s+\"/memberships\",data:{depth:-1,showDuplicates:!0,limit:1e6,sortBy:\"name\"},dataType:\"json\"}).done(function(e){sas.ev.shared.IdentityTreeUtils.addChildNodes(e,r),n.setBusy(!1),o.setText(i.getText(\"sas.ev.shared.identity.section.member_ofWithCount.fmt.txt\",[e.count]))}).fail(function(e){sas.ev.shared.IdentityDetails.logger.error(JSON.stringify(e,null,1)),n.setBusy(!1),o.setText(i.getText(\"sas.ev.shared.identity.section.member_ofWithCount.fmt.txt\",[0])),sas.ev.shared.Utils.ajaxErrorMessageHandler({title:i.getText(\"sas.ev.shared.identity.section.member_of.txt\"),message:i.getText(\"sas.ev.shared.identity.details.member_of.error.txt\"),detail:e}).open()})},loadMembers:function(e,t,s,a){var r=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),i=sap.ui.getCore().byId(e+\"_MembersTab\"),o=sap.ui.getCore().byId(e+\"_MembersLayout\");sas.ajax({type:\"GET\",url:s+\"/members\",data:{depth:-1,showDuplicates:!0,limit:1e6,sortBy:\"name\"},dataType:\"json\"}).done(function(e){sas.ev.shared.IdentityTreeUtils.addChildNodes(e,a),o.setBusy(!1),i.setText(r.getText(\"sas.ev.shared.identity.section.membersWithCount.fmt.txt\",[e.count]))}).fail(function(e){sas.ev.shared.IdentityDetails.logger.error(JSON.stringify(e,null,1)),o.setBusy(!1),i.setText(r.getText(\"sas.ev.shared.identity.section.membersWithCount.fmt.txt\",[0])),sas.ev.shared.Utils.ajaxErrorMessageHandler({title:r.getText(\"sas.ev.shared.identity.section.members.txt\"),message:r.getText(\"sas.ev.shared.identity.details.members.error.txt\"),detail:e}).open()})},editMembers:function(e){for(var t=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),s=sap.ui.getCore().byId(e),a=sap.ui.getCore().byId(e+\"_MembersLayout\"),r=sap.ui.getCore().byId(e+\"_MembersTree\"),i={items:[]},o=r.getNodes(),n=0;n<o.length;n++){var d,l,m=sas.ev.shared.IdentityTreeUtils.getNodeID(o[n]),u=sas.ev.shared.IdentityTreeUtils.getNodeURL(o[n]),y=o[n].getText(),c=o[n].getIcon();c===sas.icons.HC.USER?(d=\"user\",l=sas.ev.shared.IdentityTypes.USER):c===sas.icons.HC.USERGROUP?(d=\"group\",l=sas.ev.shared.IdentityTypes.GROUP):c===sas.icons.HC.CUSTOMGROUP&&(d=\"group\",l=sas.ev.shared.IdentityTypes.CUSTOM_GROUP),i.items.push({displayName:y,icon:c,id:m,url:u,type:d,itype:l})}var h=s.getModel(),g=h.getProperty(\"/id\"),p=h.getProperty(\"/name\"),v=h.getProperty(\"/url\"),b={items:[{id:g,type:\"group\"}]},x=function(t){a.setBusy(!0);for(var s=r.getNodes(),i=[],o=0;o<t.items.length;o++){for(var n=!1,d=0;d<s.length&&!n;d++)t.items[o].id===sas.ev.shared.IdentityTreeUtils.getNodeID(s[d])&&(n=!0);if(!n){var l;\"group\"===t.items[o].type?l=v+\"/groupMembers/\"+encodeURIComponent(sas.ev.shared.Utils.encodeIdentityID(t.items[o].id)):\"user\"===t.items[o].type&&(l=v+\"/userMembers/\"+encodeURIComponent(sas.ev.shared.Utils.encodeIdentityID(t.items[o].id))),i.push(sas.ajax({type:\"PUT\",dataType:\"text\",url:l}).fail(function(e){sas.ev.shared.IdentityDetails.logger.error(JSON.stringify(e,null,1))}))}}for(var o=0;o<s.length;o++){for(var n=!1,d=0;d<t.items.length&&!n;d++)sas.ev.shared.IdentityTreeUtils.getNodeID(s[o])===t.items[d].id&&(n=!0);if(!n){var m;s[o].getIcon()===sas.icons.HC.USERGROUP||s[o].getIcon()===sas.icons.HC.CUSTOMGROUP?m=v+\"/groupMembers/\"+encodeURIComponent(sas.ev.shared.Utils.encodeIdentityID(sas.ev.shared.IdentityTreeUtils.getNodeID(s[o]))):s[o].getIcon()===sas.icons.HC.USER&&(m=v+\"/userMembers/\"+encodeURIComponent(sas.ev.shared.Utils.encodeIdentityID(sas.ev.shared.IdentityTreeUtils.getNodeID(s[o])))),i.push(sas.ajax({type:\"DELETE\",dataType:\"text\",url:m}).fail(function(e){sas.ev.shared.IdentityDetails.logger.error(JSON.stringify(e,null,1))}))}}var u=function(){sas.ev.shared.IdentityDetails.loadMembers(e,g,v,r)};sas.ev.shared.Utils.completeDeferredArray(i,u)},T=t.getText(\"sas.ev.shared.identity.edit.members.title.fmt.txt\",[p]);sas.ev.shared.IdentitySelect.getControl(x,!0,b,i,T)},removeItem:function(e,t,s,a,r){for(var i=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),o=sap.ui.getCore().byId(e+\"_RecentList\"),n=o.getItems(),d=sas.ev.shared.IdentityTreeUtils.getIconFromType(s),l=!1,m=0;m<n.length&&!Boolean(l);m++)if(n[m].getKey()===t&&n[m].getIcon()===d){l=!0;var u=o.getSelectedKey()===t;if(1===o.getItems().length){u=!1,o.addItem(new sas.hc.ui.core.ListItem({key:\"empty\",text:i.getText(\"sas.ev.shared.identity.recently_viewed.empty.txt\"),icon:sas.icons.HC.BLANK})),o.setEnabled(!1);var y=sap.ui.getCore().byId(e+\"_PropertiesLayout\"),c=sap.ui.getCore().byId(e+\"_TabLayout\"),h=sap.ui.getCore().byId(e+\"_ZeroStateLayout\");y.setVisible(!1),c.setVisible(!1),h.setVisible(!0)}if(o.removeItem(n[m]),Boolean(u)){var g=\"\",p=\"\";if(\"\"!==o.getSelectedKey())for(var v=o.getSelectedItem().getCustomData(),m=0;m<v.length;m++)\"url\"===v[m].getKey()?g=v[m].getValue():\"type\"===v[m].getKey()&&(p=v[m].getValue());sas.ev.shared.IdentityDetails.refreshDetails(e,o.getSelectedKey(),g,p,a,r)}}},editAvatar:function(e){var t=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),s=sap.ui.getCore().byId(e),a=s.getModel(),r=a.getProperty(\"/url\"),i=a.getProperty(\"/type\"),o=!1,n=new sas.hc.m.FlexBox({direction:\"Column\"}),d=new sas.hc.m.Label({text:t.getText(\"sas.ev.shared.identity.edit.avatar.profile.label.txt\")});n.addItem(d);var l=new sas.hc.m.MessageStrip({visible:!1,type:sap.ui.core.MessageType.Error,showIcon:!0,transparentBackground:!0});n.addItem(l);var m=new sas.hc.m.Image({height:\"5rem\",width:\"5rem\",src:r+\"/avatar/content?\"+(new Date).getTime()}).addStyleClass(\"sasEVUsersDetailsAvatarImage\");n.addItem(m);var u,y=new sas.hc.ui.unified.FileUploader({fileType:[\"BMP\",\"GIF\",\"JPEG\",\"JPG\",\"PNG\"],buttonOnly:!0,buttonText:t.getText(\"sas.ev.shared.identity.edit.avatar.item.title\"),maximumFileSize:1,fileSizeExceed:function(){l.setText(t.getText(\"sas.ev.shared.identity.edit.avatar.fileSize.error.txt\")),l.setVisible(!0)},typeMissmatch:function(){l.setText(t.getText(\"sas.ev.shared.identity.edit.avatar.type.error.txt\")),l.setVisible(!0)},change:function(e){var s=e.getParameter(\"files\");if(1===s.length)if(void 0!==window.FileReader){var a=new FileReader;a.onload=function(e){l.setVisible(!1),u=e.target.result,m.setSrc(u),x.setEnabled(!0),o=!1,h.setEnabled(!0)},a.onerror=function(){l.setText(t.getText(\"sas.ev.shared.identity.edit.avatar.upload.error.txt\")),l.setVisible(!0)},a.readAsDataURL(s[0])}else sas.ev.shared.IdentityDetails.logger.info(\"FileReader is not supported on this browser, so the selected avatar picture cannot be uploaded.\"),l.setText(t.getText(\"sas.ev.shared.identity.edit.avatar.upload.error.txt\")),l.setVisible(!0)}}).addStyleClass(\"sasUserProfilePictureChooser\");n.addItem(y);var c=new sas.hc.m.MenuItem({text:t.getText(\"sas.ev.shared.identity.edit.avatar.item.title\"),press:function(){y.oFileUpload.click()}}),h=new sas.hc.m.MenuItem({text:t.getText(\"sas.ev.shared.identity.remove.avatar.item.title\"),press:function(){sas.hc.m.MessageDialog.warning({title:t.getText(\"sas.ev.shared.identity.remove.avatar.confirm.title\"),text:t.getText(\"sas.ev.shared.identity.remove.avatar.confirm.msg\"),buttonActions:[t.getText(\"sas.ev.shared.identity.remove.avatar.item.title\"),{text:sas.hc.m.MessageDialogAction.Cancel,initialFocus:!0,defaultButton:!0}],buttonPress:function(e){e.getParameter(\"origin\").getMessageDialogAction()!==sas.hc.m.MessageDialogAction.Cancel&&(o=!0,h.setEnabled(!1),i===sas.ev.shared.IdentityTypes.USER?m.setSrc(sas.icons.HC.AVATARUSER):m.setSrc(sas.icons.HC.AVATARUSERGROUP),x.setEnabled(!0),y.clear())}})}});sas.ajax({type:\"GET\",url:r+\"/avatar\"}).done(function(e){Boolean(e.default)?h.setEnabled(!1):h.setEnabled(!0)}).fail(function(e){sas.ev.shared.IdentityDetails.logger.error(JSON.stringify(e,null,1)),h.setEnabled(!1)});var g=new sas.hc.m.Menu({items:[c,h]}),p=new sas.hc.m.MenuButton({text:t.getText(\"sas.ev.shared.identity.edit.avatar.item.title\"),useDefaultActionOnly:!0,defaultAction:function(){y.oFileUpload.click()},buttonMode:sap.m.MenuButtonMode.Split,menu:g});n.addItem(p);var v=new sas.hc.m.Label({text:t.getText(\"sas.ev.shared.identity.edit.avatar.sizeMessage.txt\")}).addStyleClass(\"sasMLabelHintText\").addStyleClass(\"sapUiTinyMarginTop\");n.addItem(v);var b=new sas.hc.m.Label({text:t.getText(\"sas.ev.shared.identity.edit.avatar.typeMessage.txt\")}).addStyleClass(\"sasMLabelHintText\");n.addItem(b);var x=new sas.hc.m.Button({enabled:!1,text:t.getText(\"sas.ev.shared.save.txt\"),press:function(){if(Boolean(o))sas.ajax({type:\"DELETE\",url:r+\"/avatar\"}).done(function(){sap.ui.getCore().byId(e+\"_AvatarImage\").setSrc(r+\"/avatar/content?\"+(new Date).getTime()),I.close()}).fail(function(e){sas.ev.shared.IdentityDetails.logger.error(JSON.stringify(e,null,1)),l.setText(t.getText(\"sas.ev.shared.identity.remove.avatar.error.msg\")),l.setVisible(!0)});else if(void 0!==u&&null!==u){for(var s=u.split(\",\")[0].split(\":\")[1].split(\";\")[0],a=window.atob(u.split(\",\")[1]),i=new Uint8Array(a.length),n=0;n<a.length;n++)i[n]=a.charCodeAt(n);var d=new Blob([i],{type:s});sas.ajax({type:\"PUT\",url:r+\"/avatar\",data:d,processData:!1,contentType:s}).done(function(){sap.ui.getCore().byId(e+\"_AvatarImage\").setSrc(r+\"/avatar/content?\"+(new Date).getTime()),I.close()}).fail(function(e){sas.ev.shared.IdentityDetails.logger.error(JSON.stringify(e,null,1)),l.setText(t.getText(\"sas.ev.shared.identity.edit.avatar.upload.error.txt\")),l.setVisible(!0)})}}}),T=new sas.hc.m.Button({text:t.getText(\"sas.ev.shared.cancel.txt\"),press:function(){I.close()}}),I=new sas.hc.m.Dialog({content:[n],contentWidth:\"23rem\",title:t.getText(\"sas.ev.shared.identity.edit.avatar.title.txt\"),verticalScrolling:!1,beginButton:x,endButton:T,afterClose:function(){I.destroy()}}).addStyleClass(\"evEditProfilePictureDialog\");I.open()}}}();",
	"sas/ev/shared/IdentityProperties.js": "// Copyright (c) 2016-18, SAS Institute Inc., Cary, NC, USA, All Rights Reserved\njQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.CheckBox\"),jQuery.sap.require(\"sas.hc.m.Dialog\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.ui.layout.form.Form\"),jQuery.sap.require(\"sas.hc.ui.layout.form.FormContainer\"),jQuery.sap.require(\"sas.hc.ui.layout.form.FormElement\"),jQuery.sap.require(\"sas.hc.ui.layout.form.ResponsiveGridLayout\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sap.ui.core.library\"),function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.IdentityProperties\"),sas.ev.shared.IdentityProperties={logger:sas.log.getLogger(\"sas.ev.shared.IdentityProperties\"),getControl:function(e,t,a,s,r,i){var o,n=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\");o=void 0!==a&&a.length>0;var u;u=void 0!==s&&s.length>0;var l=new sas.hc.ui.layout.form.FormContainer,d=new sas.hc.ui.layout.form.Form({width:\"100%\",formContainers:[l],layout:new sas.hc.ui.layout.form.ResponsiveGridLayout}),c=new sas.hc.m.Input({maxLength:100,required:!0,liveChange:function(e){e.getParameter(\"newValue\").trim().length>0?(c.setValueState(sap.ui.core.ValueState.None),c.setValueStateText(\"\"),o=!0):(c.setValueState(sap.ui.core.ValueState.Error),c.setValueStateText(n.getText(\"sas.ev.shared.required_field.txt\")),o=!1),g.setEnabled(o&&u)}});void 0!==a&&c.setValue(a),l.addFormElement(new sas.hc.ui.layout.form.FormElement({label:new sas.hc.m.Label({required:!0,text:n.getText(\"sas.ev.shared.identity.name.field.txt\")}),fields:[c]}));var m=new sas.hc.m.Input({maxLength:100,required:!0,liveChange:function(e){var t=e.getParameter(\"newValue\").trim();t.length>0?t.indexOf(\"\\\\\")>-1||t.indexOf(\"/\")>-1?(u=!1,m.setValueState(sap.ui.core.ValueState.Error),m.setValueStateText(n.getText(\"sas.ev.shared.identity.id.invalid_chars.txt\")),g.setEnabled(!1)):sas.ajax({type:\"GET\",url:\"/identities/groups\",headers:{\"Accept-Item\":\"application/vnd.sas.identity.basic+json\"},data:{filter:\"eq($primary,id,'\"+t.replace(/'/g,\"''\")+\"')\"},dataType:\"json\"}).done(function(e){e.count>0?(u=!1,m.setValueState(sap.ui.core.ValueState.Error),m.setValueStateText(n.getText(\"sas.ev.shared.identity.id.not_unique.txt\")),g.setEnabled(!1)):(u=!0,m.setValueState(sap.ui.core.ValueState.None),m.setValueStateText(\"\"),g.setEnabled(o&&u))}).fail(function(e){sas.ev.shared.IdentityProperties.logger.error(JSON.stringify(e,null,1))}):(u=!1,m.setValueState(sap.ui.core.ValueState.Error),m.setValueStateText(n.getText(\"sas.ev.shared.required_field.txt\")),g.setEnabled(!1))}});Boolean(t)&&m.setEditable(!1),void 0!==s&&m.setValue(s),l.addFormElement(new sas.hc.ui.layout.form.FormElement({label:new sas.hc.m.Label({required:!0,text:n.getText(\"sas.ev.shared.identity.id.field.txt\")}),fields:[m]}));var h=new sas.hc.m.Input({maxLength:1e3,liveChange:function(e){Boolean(t)&&g.setEnabled(o&&u)}});void 0!==r&&h.setValue(r),l.addFormElement(new sas.hc.ui.layout.form.FormElement({label:new sas.hc.m.Label({text:n.getText(\"sas.ev.shared.identity.description.field.txt\")}),fields:[h]}));var y;Boolean(i)&&(y=new sas.hc.m.CheckBox({text:n.getText(\"sas.ev.shared.identity.copy_group.switch.txt\"),selected:!0}),l.addFormElement(new sas.hc.ui.layout.form.FormElement({fields:[y]})));var g=new sas.hc.m.Button({enabled:!1,text:n.getText(\"sas.ev.shared.save.txt\"),press:function(){v()}}),p=new sas.hc.m.Button({text:n.getText(\"sas.ev.shared.cancel.txt\"),press:function(){f()}}),x=new sas.hc.m.Dialog({content:[d],verticalScrolling:!1,beginButton:g,endButton:p,afterClose:function(){x.destroy()}}).addStyleClass(\"sasEVUsersPropertiesDialog\");Boolean(t)?x.setTitle(n.getText(\"sas.ev.shared.identity.edit_group.title.txt\")):void 0!==a?x.setTitle(n.getText(\"sas.ev.shared.identity.copy_group.title.txt\")):x.setTitle(n.getText(\"sas.ev.shared.identity.add_group.title.txt\")),x.open();var v=function(){var t=c.getValue().trim(),a=m.getValue().trim(),s=h.getValue().trim();if(Boolean(i)){var r=y.getSelected();e(t,a,s,r)}else e(t,a,s);x.close(),x.destroy()},f=function(){x.close(),x.destroy()};return x}}}();",
	"sas/ev/shared/IdentitySearch.js": "sap.ui.define([\"sap/ui/thirdparty/jquery\",\"sas/ev/shared/IdentityDetails\",\"sas/ev/shared/IdentityTypes\",\"sas/ev/shared/IdentityProperties\",\"sas/ev/shared/Utils\",\"sas/hc/m/Button\",\"sas/hc/m/FlexBox\",\"sas/hc/m/FlexItemData\",\"sas/hc/m/Label\",\"sas/hc/m/MessageDialog\",\"sas/hc/m/MessageToast\",\"sas/hc/m/OverflowToolbarLayoutData\",\"sas/hc/m/ResponsiveToolbar\",\"sas/hc/m/SearchField\",\"sas/hc/m/Select\",\"sas/hc/m/Text\",\"sas/hc/m/ToolbarSpacer\",\"sas/hc/m/ZeroState\",\"sas/hc/ui/core/ListItem\",\"sas/hc/ui/table/Column\",\"sas/hc/ui/table/Table\",\"sas/hc/ui/unified/Menu\",\"sas/hc/ui/unified/MenuItem\",\"sap/ui/core/CustomData\",\"sas/hc/ui/model/PageableJSONModel\",\"sas/hc/ui/core/theme/IconInitialization\",\"sas/hc/ui/table/library\",\"sap/m/library\",\"sas/hc/m/library\",\"sas/hc/ui/core/Core\",\"sap/ui/core/Core\"],function(e,t,s,i,a,r,n,o,d,l,c,g,u,p,h,y,v,f,x,m,T,C,S,O,b){\"use strict\";return e.sap.declare(\"sas.ev.shared.IdentitySearch\"),sas.ev.shared.IdentitySearch={logger:sas.log.getLogger(\"sas.ev.shared.IdentitySearch\"),getControl:function(e,t,i,a,c,b,I,R,U,w){var M,_,P,E,D,G,A,B,j=this,F=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),N=new u,k=new u;void 0!==U&&U.length>0&&U.length<3?(B=[],-1===U.indexOf(s.USER)&&B.push(new x({text:F.getText(\"sas.ev.shared.identity.filter.users.txt\"),icon:sas.icons.HC.USER,iconTooltip:\"\",key:s.USER})),-1===U.indexOf(s.GROUP)&&B.push(new x({text:F.getText(\"sas.ev.shared.identity.filter.groups.txt\"),icon:sas.icons.HC.USERGROUP,iconTooltip:\"\",key:s.GROUP})),-1===U.indexOf(s.CUSTOM_GROUP)&&B.push(new x({text:F.getText(\"sas.ev.shared.identity.filter.custom_groups.txt\"),icon:sas.icons.HC.CUSTOMGROUP,iconTooltip:\"\",key:s.CUSTOM_GROUP})),void 0!==w?A=w:-1===U.indexOf(s.USER)?A=s.USER:-1===U.indexOf(s.GROUP)?A=s.GROUP:-1===U.indexOf(s.CUSTOM_GROUP)&&(A=s.CUSTOM_GROUP)):(A=void 0!==w?w:s.USER,B=[new x({text:F.getText(\"sas.ev.shared.identity.filter.users.txt\"),icon:sas.icons.HC.USER,iconTooltip:\"\",key:s.USER}),new x({text:F.getText(\"sas.ev.shared.identity.filter.groups.txt\"),icon:sas.icons.HC.USERGROUP,iconTooltip:\"\",key:s.GROUP}),new x({text:F.getText(\"sas.ev.shared.identity.filter.custom_groups.txt\"),icon:sas.icons.HC.CUSTOMGROUP,iconTooltip:\"\",key:s.CUSTOM_GROUP})]);var H,V=new h({id:i,layoutData:new g({priority:sap.m.OverflowToolbarPriority.NeverOverflow}),displayListItemIcon:!0,selectedKey:A,items:B,change:function(){Boolean(R)&&(this.getSelectedKey()===s.CUSTOM_GROUP?(M.setVisible(!0),_.setVisible(!0),P.setVisible(!0),D.setVisible(!0),q.setAggregation(\"contextMenu\",E)):this.getSelectedKey()===s.GROUP?(M.setVisible(!1),_.setVisible(!1),P.setVisible(!0),D.setVisible(!1),q.setAggregation(\"contextMenu\",E)):(M.setVisible(!1),_.setVisible(!1),P.setVisible(!1),q.setAggregation(\"contextMenu\",null)),Y.setTemplate(q)),j.resetNoData(this.getSelectedKey(),$,F),J.setValue(\"\"),j.identityRefresh(e,t,i,!1,b)}});H=Boolean(R)?F.getText(\"sas.ev.shared.view.label.txt\"):F.getText(\"sas.ev.shared.filterBy.label.txt\");var L=new d({text:H,labelFor:V});Boolean(R)&&N.addContent(L),N.addContent(V);var J=new p({width:\"100%\",layoutData:new g({priority:sap.m.OverflowToolbarPriority.NeverOverflow}),filterMode:!0,liveChange:function(s){j.identityRefresh(e,t,i,!1,b)}});if(k.addContent(J),V.addCustomData(new O({key:\"nameFilterId\",value:J.getId()})),Boolean(R)){N.addContent(new v);var M=new r({visible:A===s.CUSTOM_GROUP,icon:sas.icons.HC.NEWSTARBURST,tooltip:F.getText(\"sas.ev.shared.identity.add_group.tooltip.txt\"),press:function(s){j.addGroup(e,t,i,c)}});N.addContent(M),_=new r({enabled:!1,icon:sas.icons.HC.DELETE,tooltip:F.getText(\"sas.ev.shared.identity.delete_group.tooltip.txt\"),press:function(){var s=$.selectedItem;if(1===s.length){var a=s[0].data;j.deleteGroup(a,this,e,t,i,c)}}}),N.addContent(_),P=new r({enabled:!1,icon:sas.icons.HC.COPY,tooltip:F.getText(\"sas.ev.shared.identity.copy_group.tooltip.txt\"),press:function(){var s=$.selectedItem;if(1===s.length){var a=s[0].data;j.copyGroup(a,e,t,i,c)}}}),N.addContent(P);var K=new r({icon:sas.icons.HC.REFRESH,tooltip:F.getText(\"sas.ev.shared.tooltip.refresh.txt\"),press:function(){j.identityRefresh(e,t,i,!0,b)}});N.addContent(K);var z=new r({text:F.getText(\"sas.ev.shared.identity.reloadCache.txt\"),layoutData:new g({priority:sap.m.OverflowToolbarPriority.AlwaysOverflow}),press:function(){l.warning({text:F.getText(\"sas.ev.shared.identity.reloadCache.warning.txt\"),title:F.getText(\"sas.ev.shared.identity.reloadCache.txt\"),buttonActions:[{text:sas.hc.m.MessageDialogAction.Yes},{text:sas.hc.m.MessageDialogAction.No,initialFocus:!0,defaultButton:!0}],buttonPress:function(e){e.getParameter(\"origin\").getMessageDialogAction()===sas.hc.m.MessageDialogAction.Yes&&sas.ajax({type:\"POST\",url:\"/identities/cache/refreshes\"}).done(function(){}).fail(function(e){sas.ev.shared.IdentitySearch.logger.error(JSON.stringify(e,null,1))})}})}});N.addContent(z),E=new C,D=new S({visible:A===s.CUSTOM_GROUP,text:F.getText(\"sas.ev.shared.identity.delete_group.tooltip.txt\"),select:function(s){if(void 0!==s.getSource()){var a=s.getSource().getId();if(void 0!==a){var r=parseInt(a.split(\"-\")[2].substring(3));if(NaN!==r){var n=$.getRows()[r].getIndex(),o=$.getContextByIndex(n).getObject();j.deleteGroup(o,_,e,t,i,c)}}}}}),E.addItem(D),G=new S({text:F.getText(\"sas.ev.shared.identity.copy_group.tooltip.txt\"),select:function(s){if(void 0!==s.getSource()){var a=s.getSource().getId();if(void 0!==a){var r=parseInt(a.split(\"-\")[2].substring(3));if(NaN!==r){var n=$.getRows()[r].getIndex(),o=$.getContextByIndex(n).getObject();j.copyGroup(o,e,t,i,c)}}}}}),E.addItem(G)}var $=new T({id:e,noData:new f({icon:sas.icons.HC.ZEROSTATETABLE,text:F.getText(\"sas.ev.shared.msg.loading.txt\")}),busyIndicatorDelay:250,columnHeaderVisible:!1,showTableOptions:!1,selectionBehavior:sas.hc.ui.table.SelectionBehavior.RowOnly,selectionMode:sas.hc.ui.table.SelectionMode.Single,visibleRowCountMode:sas.hc.ui.table.VisibleRowCountMode.Auto,layoutData:new o({growFactor:1}),rowSelectionChange:function(e){var t=e.getParameter(\"rowIndex\"),r=this.getSelectedIndex(),n=[];if(r>-1){var o=this.getContextByIndex(r).getObject();void 0!==o&&n.push({index:r,data:o})}if(this.selectedItem=n,t>-1){var d=this.getContextByIndex(t).getObject();if(void 0!==d){var l=d.id;if(\"\"!==l){var g=d.links[0].uri,u=j.getIdentityFilterType(i);a(c,l,g,u,!1,I)}}}if(Boolean(R)){var p=!1,h=!1;if(r>-1){var u=j.getIdentityFilterType(i);u===s.CUSTOM_GROUP?(p=!0,h=!0):u===s.GROUP&&(h=!0)}_.setEnabled(p),P.setEnabled(h)}}}).addStyleClass(\"sasTableList\");$.selectedItem=[],j.resetNoData(A,$,F);var q=new y({text:\"{name}\",tooltip:\"{id}\",width:\"100%\",wrapping:!1,customData:[{Type:\"sap.ui.core.CustomData\",key:\"id\",value:\"{id}\"},{Type:\"sap.ui.core.CustomData\",key:\"url\",value:\"{links/0/uri}\"}]});Boolean(R)&&V.getSelectedKey()!==s.USER&&q.setAggregation(\"contextMenu\",E);var Y=new m(t,{showFilterMenuEntry:!1,template:q,sortProperty:\"name\",filterProperty:\"name\"});$.addColumn(Y),j.identityRefresh(e,t,i,!1,b);var Z=new n({direction:\"Column\",layoutData:new o({growFactor:1}),items:[k,$]});Z.addStyleClass(\"sasEVUsersSearchTableArea\");var Q=new n({direction:\"Column\",height:\"100%\"});return Q.addStyleClass(\"sasEVUsersSearchArea\"),Boolean(R)||Q.addItem(L),Q.addItem(N),Q.addItem(Z),Q},getIdentityFilterType:function(e){return sap.ui.getCore().byId(e).getSelectedKey()},addGroup:function(e,r,n,o){var d=this,l=function(i,l,c){sas.ajax({type:\"POST\",url:\"/identities/groups\",data:{id:l,name:i,description:c},headers:{\"Content-Type\":\"application/vnd.sas.identity.group+json\",Accept:\"application/vnd.sas.identity.group+json\"}}).done(function(i){for(var a,c=0;c<i.links.length&&void 0===a;c++)\"self\"===i.links[c].rel&&(a=i.links[c].uri);setTimeout(function(){d.identityRefresh(e,r,n,!1),t.refreshDetails(o,l,a,s.CUSTOM_GROUP,!1,!0)},250)}).fail(function(e){sas.ev.shared.IdentitySearch.logger.error(JSON.stringify(e,null,1));var t=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\");a.ajaxErrorMessageHandler({title:t.getText(\"sas.ev.shared.identity.add_group.title.txt\"),message:t.getText(\"sas.ev.shared.identity.add_group.error.txt\"),detail:e}).open()})},c=function(e,t){var s=e+t.toString();sas.ajax({type:\"GET\",url:\"/identities/groups\",headers:{\"Accept-Item\":\"application/vnd.sas.identity.basic+json\"},data:{filter:\"eq(id,'\"+s+\"')\"},dataType:\"json\"}).done(function(a){a.count>0?(t++,c(e,t)):i.getControl(l,!1,void 0,s)}).fail(function(e){sas.ev.shared.IdentitySearch.logger.error(JSON.stringify(e,null,1)),i.getControl(l)})};c(\"group\",1)},deleteGroup:function(e,i,r,n,o,d){var c=this,g=e.id;if(void 0!==g){var u=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),p=e.name,h=e.links[0].uri;l.warning({text:u.getText(\"sas.ev.shared.identity.delete_confirm.fmt.txt\",[p.replace(/{/g,\"\\\\{\")]),title:u.getText(\"sas.ev.shared.identity.delete_group.title.txt\"),buttonActions:[sas.hc.m.MessageDialogAction.Delete,{text:sas.hc.m.MessageDialogAction.Cancel,initialFocus:!0,defaultButton:!0}],buttonPress:function(e){var l=e.getParameter(\"origin\");l.getMessageDialogAction()===sas.hc.m.MessageDialogAction.Delete?sas.ajax({type:\"DELETE\",url:h}).done(function(){setTimeout(function(){c.identityRefresh(r,n,o,!1)},250),t.removeItem(d,g,s.CUSTOM_GROUP,!1,!0),i.setEnabled(!1)}).fail(function(e){sas.ev.shared.IdentitySearch.logger.error(JSON.stringify(e,null,1)),a.ajaxErrorMessageHandler({title:u.getText(\"sas.ev.shared.identity.delete_group.title.txt\"),message:u.getText(\"sas.ev.shared.identity.delete_group.error.txt\"),detail:e}).open()}):(l.getMessageDialogAction(),sas.hc.m.MessageDialogAction.Cancel)}})}},copyGroup:function(e,r,n,o,d){var l=this,c=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),g=e.name,u=e.links[0].uri,p=\"local\"===e.providerId,h=function(e,i,g,p){sas.ajax({type:\"POST\",url:\"/identities/groups\",data:{id:i,name:e,description:g},headers:{\"Content-Type\":\"application/vnd.sas.identity.group+json\",Accept:\"application/vnd.sas.identity.group+json\"}}).done(function(e){for(var g,h=0;h<e.links.length&&void 0===g;h++)\"self\"===e.links[h].rel&&(g=e.links[h].uri);sas.ajax({type:\"GET\",url:u+\"/members\",data:{limit:1e6},dataType:\"json\"}).done(function(e){for(var c=[],u=0;u<e.items.length;u++){var h;\"group\"===e.items[u].type?h=g+\"/groupMembers/\"+encodeURIComponent(a.encodeIdentityID(e.items[u].id)):\"user\"===e.items[u].type&&(h=g+\"/userMembers/\"+encodeURIComponent(a.encodeIdentityID(e.items[u].id))),c.push(sas.ajax({type:\"PUT\",dataType:\"text\",url:h}).fail(function(e){sas.ev.shared.IdentitySearch.logger.error(JSON.stringify(e,null,1))}))}var y=function(){setTimeout(function(){if(Boolean(p)){var e=sap.ui.getCore().byId(o);e.setSelectedKey(s.CUSTOM_GROUP);var a=e.getItemByKey(s.CUSTOM_GROUP);e.fireChange({selectedItem:a},a)}else l.identityRefresh(r,n,o,!1);t.refreshDetails(d,i,g,s.CUSTOM_GROUP,!1,!0)},250)};a.completeDeferredArray(c,y)}).fail(function(e){sas.ev.shared.IdentitySearch.logger.error(JSON.stringify(e,null,1)),a.ajaxErrorMessageHandler({title:c.getText(\"sas.ev.shared.identity.copy_group.title.txt\"),message:c.getText(\"sas.ev.shared.identity.copy_group.members.error.txt\"),detail:e}).open()})}).fail(function(e){sas.ev.shared.IdentitySearch.logger.error(JSON.stringify(e,null,1)),a.ajaxErrorMessageHandler({title:c.getText(\"sas.ev.shared.identity.copy_group.title.txt\"),message:c.getText(\"sas.ev.shared.identity.copy_group.error.txt\"),detail:e}).open()})};sas.ajax({type:\"GET\",url:u,dataType:\"json\"}).done(function(e){var t=c.getText(\"sas.ev.shared.identity.copy_group_name.fmt.txt\",[g]),s=\"\";void 0!==e.description&&(s=e.description),i.getControl(h,!1,t,\"\",s,!p)}).fail(function(e){sas.ev.shared.IdentitySearch.logger.error(JSON.stringify(e,null,1)),a.ajaxErrorMessageHandler({title:c.getText(\"sas.ev.shared.identity.copy_group.title.txt\"),message:c.getText(\"sas.ev.shared.identity.copy_group.error.txt\"),detail:e}).open()})},resetNoData:function(e,t,i){var a;a=e===s.CUSTOM_GROUP?i.getText(\"sas.ev.shared.identity.zero_state.custom_groups.txt\"):e===s.GROUP?i.getText(\"sas.ev.shared.identity.zero_state.groups.txt\"):i.getText(\"sas.ev.shared.identity.zero_state.users.txt\"),t.setNoData(new f({icon:sas.icons.HC.ZEROSTATETABLE,text:a}))},identityRefresh:function(e,t,i,a,r){var n=this,o=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),d=n.getIdentityFilterType(i),l=sap.ui.getCore().byId(e),g=sap.ui.getCore().byId(t),u=\"/identities/groups\";d===s.USER&&(u=\"/identities/users\");var p=[];if(void 0!==r&&void 0!==r.items)for(var h=0;h<r.items.length;h++)d===s.USER?\"user\"===r.items[h].type&&p.push(r.items[h].id):\"group\"===r.items[h].type&&p.push(r.items[h].id);var y=this._generateProviderIdFilter(d),v=this._generateExcludeIdsFilter(p),f=this._generateTextFilter(this._getFilterText(i)),x=this._generateFilterQueryParam(y.concat(v).concat(f));x.length>0&&(u+=\"?\"+x);var m=new b({url:u,bindId:\"items\",header:{\"Accept-Item\":\"application/vnd.sas.identity.basic+json\"},cacheSize:1});l.clearSelection(),l.sort(g,sas.hc.ui.table.SortOrder.Ascending,!1),l.setModel(m),l.bindRows(\"/items\"),Boolean(a)&&c.show(o.getText(\"sas.ev.shared.msg.refresh.completed.txt\"))},_generateProviderIdFilter:function(e){var t=\"\",i=[];if(e===s.GROUP)t=\"ne\";else{if(e!==s.CUSTOM_GROUP)return i;t=\"eq\"}return i.push(t+\"(providerId,'local')\"),i},_generateExcludeIdsFilter:function(e){var t=[];return $.each(e,function(e,s){t.push(\"ne($primary,id,'\"+encodeURIComponent(s.toLowerCase().replace(/'/g,\"''\"))+\"')\")}),t},_getFilterText:function(e){for(var t=\"\",s=sap.ui.getCore().byId(e).getCustomData(),i=0;i<s.length;i++)if(\"nameFilterId\"===s[i].getKey()){var a=s[i].getValue();void 0!==a&&(t=encodeURIComponent(sap.ui.getCore().byId(a).getValue().toLowerCase().replace(/'/g,\"''\")))}return t},_generateTextFilter:function(e){var t=[];return e.length>0&&t.push(\"or(contains($primary,name,'\"+e+\"'),contains($primary,id,'\"+e+\"'))\"),t},_generateFilterQueryParam:function(e){var t=\"\";return 1===e.length?t=\"filter=\"+e[0]:(e.length>1&&($.each(e,function(e,s){e>0&&(t+=\",\"),t+=s}),t=\"filter=and(\"+t+\")\"),t)}}});",
	"sas/ev/shared/IdentitySelect.js": "// Copyright (c) 2016-18, SAS Institute Inc., Cary, NC, USA, All Rights Reserved\njQuery.sap.require(\"sas.ev.shared.IdentityDetails\"),jQuery.sap.require(\"sas.ev.shared.IdentitySearch\"),jQuery.sap.require(\"sas.ev.shared.IdentityTypes\"),jQuery.sap.require(\"sas.ev.shared.Utils\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.table.library\"),jQuery.sap.require(\"sas.hc.ui.table.Table\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.ui.table.Column\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.hc.m.Dialog\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.IdentitySelect\"),sas.ev.shared.IdentitySelect={getControl:function(){for(var e,t,s,a,i,n,o,r=arguments[0],l=1;l<arguments.length;l++)\"boolean\"==typeof arguments[l]?e=arguments[l]:\"string\"==typeof arguments[l]?arguments[l]===sas.ev.shared.IdentityTypes.CUSTOM_GROUP||arguments[l]===sas.ev.shared.IdentityTypes.GROUP||arguments[l]===sas.ev.shared.IdentityTypes.USER?o=arguments[l]:n=arguments[l]:\"object\"==typeof arguments[l]?jQuery.isArray(arguments[l])?a=arguments[l]:void 0!==arguments[l].items?arguments[l].items.length>0&&(void 0!==arguments[l].items[0].icon?s=arguments[l]:t=arguments[l]):i=arguments[l]:i=arguments[l];var d=\"identity_select_typeFilter\",c=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),u=sas.ev.shared.IdentitySearch.getControl(\"identity_select_table\",\"identity_select_column\",d,sas.ev.shared.IdentityDetails.refreshDetails,\"identity_select_details\",t,!1,!1,a,o),y=sas.ev.shared.IdentityDetails.getControl(\"identity_select_details\"),h=sap.ui.getCore().byId(\"identity_select_table\");if(u.setWidth(\"15rem\"),u.addStyleClass(\"sasIdentitiesSelectionSearchArea\"),Boolean(e)){h.setSelectionMode(sas.hc.ui.table.SelectionMode.MultiToggle);var p=new sas.hc.ui.table.Table({width:\"15rem\",showTableOptions:!1,showOuterBorder:!0,enableColumnFreeze:!1,noData:c.getText(\"sas.ev.shared.identity.zero_state.no_selections.txt\"),selectionBehavior:sas.hc.ui.table.SelectionBehavior.RowOnly,selectionMode:sas.hc.ui.table.SelectionMode.MultiToggle,visibleRowCountMode:sas.hc.ui.table.VisibleRowCountMode.Auto,rowSelectionChange:function(e){S.setEnabled(p.getSelectedIndices().length>0);var t=e.getParameter(\"rowIndex\");if(t>-1){var s=p.getContextByIndex(t).getObject();if(void 0!==s){var a=s.id,i=s.url,n=s.itype;\"\"!==a&&\"\"!==n&&sas.ev.shared.IdentityDetails.refreshDetails(\"identity_select_details\",a,i,n)}}}}).addStyleClass(\"sasTableList\").addStyleClass(\"sasIdentitiesSelectionTable\"),g=new sas.hc.m.Label({text:\"{displayName}\",tooltip:\"{id}\",icon:\"{icon}\",width:\"100%\",customData:[{Type:\"sap.ui.core.CustomData\",key:\"id\",value:\"{id}\"},{Type:\"sap.ui.core.CustomData\",key:\"url\",value:\"{url}\"},{Type:\"sap.ui.core.CustomData\",key:\"type\",value:\"{itype}\"}]});g.attachBrowserEvent(\"dblclick\",function(e){for(var t=\"\",s=this.getCustomData(),a=0;a<s.length;a++)\"id\"===s[a].getKey()&&(t=s[a].getValue());for(var i=p.getModel().getObject(\"/items\"),n=-1,a=0;a<i.length&&-1===n;a++)i[a].id===t&&(n=a);if(n>-1){C(\"/items/\"+n)}});var m=new sas.hc.ui.table.Column({showFilterMenuEntry:!1,resizable:!1,label:c.getText(\"sas.ev.shared.identity.selections.title.txt\"),template:g,sortProperty:\"displayName\",filterProperty:\"displayName\"});p.addColumn(m);var v=function(){var e=!1,t=h.selectedItemList;if(t.length>0)for(var s=0;s<t.length&&!e;s++){var a=t[s].data,i=!1,n=p.getModel();if(void 0!==n)for(var o=n.getObject(\"/\"),r=sas.ev.shared.IdentitySearch.getIdentityFilterType(d),l=0;l<o.items.length&&!i;l++)o.items[l].id===a.i&&o.items[l].itype===r&&(i=!0);e=!i}b.setEnabled(e)},f=function(e){var t,s,a=e.id,i=e.links[0].uri,n=e.name,o=sas.ev.shared.IdentitySearch.getIdentityFilterType(d);o===sas.ev.shared.IdentityTypes.USER?(t=sas.icons.HC.USER,s=\"user\"):o===sas.ev.shared.IdentityTypes.GROUP?(t=sas.icons.HC.USERGROUP,s=\"group\"):o===sas.ev.shared.IdentityTypes.CUSTOM_GROUP&&(t=sas.icons.HC.CUSTOMGROUP,s=\"group\");var r,l=!1,c=p.getModel();if(void 0===c)r={items:[]};else{r=c.getObject(\"/\");for(var u=0;u<r.items.length&&!Boolean(l);u++)r.items[u].id===a&&r.items[u].icon===t&&(l=!0)}if(!Boolean(l)){r.items.push({id:a,url:i,displayName:n,icon:t,type:s,itype:o});var y=new sap.ui.model.json.JSONModel;y.setData(r),p.setModel(y),p.bindRows(\"/items\"),p.sort(m),p.setFooter(sas.ev.shared.Utils.getTableCount(p)),w.setEnabled(!0),b.setEnabled(!1)}},b=new sas.hc.m.Button({enabled:!1,icon:sas.icons.HC.ARROWRIGHTADDDUALSELECTOR,tooltip:c.getText(\"sas.ev.shared.tooltip.add.txt\"),press:function(e){for(var t=h.selectedItemList,s=t.length-1;s>-1;s--)void 0!==t[s]&&f(t[s].data)}}),C=function(e){for(var t=p.getModel().getProperty(e),a=t.id,i=t.icon,n=!1,o=p.getModel(),r=o.getObject(\"/\"),l=0;l<r.items.length&&!Boolean(n);l++)r.items[l].id===a&&r.items[l].icon===i&&(r.items.splice(l,1),n=!0);if(Boolean(n)){var d=new sap.ui.model.json.JSONModel;d.setData(r),p.setModel(d),p.bindRows(\"/items\"),p.sort(m),p.setFooter(sas.ev.shared.Utils.getTableCount(p)),void 0!==s?w.setEnabled(!0):w.setEnabled(r.items.length>0),v()}},I=function(){for(var e=p.getModel(),t=p.getBinding().getPath(),s=e.getProperty(t),a=[],i=p.getSelectedIndices(),n=0;n<i.length;n++){var o=p.getContextByIndex(i[n]),r=o.getPath(),l=r.split(\"/\");a.push(parseInt(l[l.length-1]))}a.sort(function(e,t){return t-e});for(var d=0;d<a.length;d++)s.splice(a[d],1);p.clearSelection(),e.setProperty(t,s),a.length>0&&v()},S=new sas.hc.m.Button({enabled:!1,icon:sas.icons.HC.ARROWLEFTREMOVEDUALSELECTOR,tooltip:c.getText(\"sas.ev.shared.tooltip.remove.txt\"),press:function(e){I(),S.setEnabled(!1)}}),T=new sas.hc.m.FlexBox({direction:\"Column\",justifyContent:sap.m.FlexJustifyContent.Center,items:[b,S]})}var x,O=new sas.hc.m.FlexBox({direction:\"Column\",items:[u]}),R=new sas.hc.m.FlexBox({direction:\"Column\",items:[y],layoutData:new sas.hc.m.FlexItemData({growFactor:1})});x=Boolean(e)?new sas.hc.m.FlexBox({height:\"100%\",direction:\"Row\",items:[O,T,p,R]}):new sas.hc.m.FlexBox({height:\"100%\",direction:\"Row\",items:[O,R]});var w=new sas.hc.m.Button({enabled:!1,text:c.getText(\"sas.ev.shared.ok.txt\"),press:function(e){P(e)}}),j=new sas.hc.m.Button({text:c.getText(\"sas.ev.shared.cancel.txt\"),press:function(e){_(e)}});if(Boolean(e)){var U=new sap.ui.model.json.JSONModel;void 0!==s&&s.items.length>0?(U.setData(s),w.setEnabled(!0)):U.setData({items:[]}),p.setModel(U),p.bindRows(\"/items\"),p.sort(m),p.setFooter(sas.ev.shared.Utils.getTableCount(p))}void 0===n&&(n=c.getText(e?\"sas.ev.shared.identity.select.title.txt\":\"sas.ev.shared.identity.select.single.title\"));var B;B=Boolean(e)?\"68rem\":\"52rem\";var M=new sas.hc.m.Dialog({content:[x],contentHeight:\"39rem\",contentWidth:B,horizontalScrolling:!1,verticalScrolling:!1,beginButton:w,endButton:j,afterClose:function(){M.destroy()}}).addStyleClass(\"sasIdentitiesSelectionDialog\");if(M.setTitle(n.replace(/{/g,\"\\\\{\")),M.open(),void 0===i&&(i=M),h.selectedItemList=[],Boolean(e)){h.attachRowSelectionChange(function(){for(var e=h.selectedItemList,t=[],s=h.getSelectedIndices(),a=0;a<s.length;a++){var i,n=h.getContextByIndex(s[a]).getObject();if(void 0!==n)i={index:s[a],data:n};else for(var o=0;o<e.length;o++)e[o].index===s[a]&&(i=e[o]);t.push(i)}h.selectedItemList=t,v()});var E=sap.ui.getCore().byId(\"identity_select_column\"),D=E.getTemplate();D.attachBrowserEvent(\"dblclick\",function(e){for(var t=\"\",s=this.getCustomData(),a=0;a<s.length;a++)\"id\"===s[a].getKey()&&(t=s[a].getValue());for(var i=h.getModel().getObject(\"/items\"),n=-1,a=0;a<i.length&&-1===n;a++)void 0!==i[a]&&i[a].id===t&&(n=a);if(n>-1){var o=h.getModel().getProperty(\"/items/\"+n);f(o)}}),E.setTemplate(D)}else h.attachRowSelectionChange(function(){var e=h.getSelectedIndex(),t=[];if(e>-1){var s=h.getContextByIndex(e).getObject();void 0!==s&&t.push({index:e,data:s})}h.selectedItemList=t,w.setEnabled(e>-1)});var P=function(t){if(Boolean(e))r.call(i,p.getModel().getObject(\"/\"));else{var s=h.selectedItemList;if(1===s.length){var a,n,o=s[0].data,l=o.id,c=o.name,u=sas.ev.shared.IdentitySearch.getIdentityFilterType(d);u===sas.ev.shared.IdentityTypes.USER?(a=sas.icons.HC.USER,n=\"user\"):u===sas.ev.shared.IdentityTypes.GROUP?(a=sas.icons.HC.USERGROUP,n=\"group\"):u===sas.ev.shared.IdentityTypes.CUSTOM_GROUP&&(a=sas.icons.HC.CUSTOMGROUP,n=\"group\");var o={items:[{id:l,displayName:c,icon:a,type:n,itype:u}]};r.call(i,o)}}M.close(),M.destroy()},_=function(e){M.close(),M.destroy()};return M},getIdentitiesData:function(e){var t={items:[]};if(void 0!==e&&e.hasOwnProperty(\"items\"))for(var s=0;s<e.items.length;s++){var a;a=\"user\"===e.items[s].type?\"/identities/users\":\"/identities/groups\";var i=e.items[s].id.replace(/'/g,\"''\");sas.ajax({type:\"GET\",url:a,async:!1,headers:{\"Accept-Item\":\"application/vnd.sas.identity.basic+json\"},data:{filter:\"eq(id,'\"+i+\"')\"},dataType:\"json\"}).done(function(a){if(a.hasOwnProperty(\"count\")&&1===a.count){var i;i=void 0===a.items[0].name||\"\"===a.items[0].name?a.items[0].id:a.items[0].name;var n,o;\"user\"===e.items[s].type?(n=sas.icons.HC.USER,o=sas.ev.shared.IdentityTypes.USER):\"local\"===a.items[0].providerId?(n=sas.icons.HC.CUSTOMGROUP,o=sas.ev.shared.IdentityTypes.CUSTOM_GROUP):(n=sas.icons.HC.USERGROUP,o=sas.ev.shared.IdentityTypes.GROUP),t.items.push({id:a.items[0].id,url:a.items[0].links[0].uri,displayName:i,icon:n,type:a.items[0].type,itype:o})}}).fail(function(e){sas.log.getLogger(\"sas.ev.shared.IdentitySelect\").error(JSON.stringify(e,null,1))})}return t}}}();",
	"sas/ev/shared/IdentityTreeUtils.js": "// Copyright (c) 2016, SAS Institute Inc., Cary, NC, USA, All Rights Reserved\njQuery.sap.require(\"sas.ev.shared.IdentityTypes\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sap.ui.core.CustomData\"),jQuery.sap.require(\"sas.hc.ui.commons.TreeNode\"),function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.IdentityTreeUtils\"),sas.ev.shared.IdentityTreeUtils={addChildNodes:function(e,s){var t=this;if(s.destroyNodes(),void 0!==e.items)for(var r=0;r<e.items.length;r++){var a=e.items[r].id,i=e.items[r].name;void 0===i&&(i=a);for(var o=e.items[r].type,n=void 0,u=0;u<e.items[r].links.length&&void 0===n;u++)\"self\"!==e.items[r].links[u].rel&&\"group\"!==e.items[r].links[u].rel||(n=e.items[r].links[u].uri);var d=!1;void 0!==e.items[r].providerId&&(d=\"local\"===e.items[r].providerId);var m;m=\"user\"===o?sas.icons.HC.USER:d?sas.icons.HC.CUSTOMGROUP:sas.icons.HC.USERGROUP;var c=new sap.ui.core.CustomData({key:\"id\"});c.setValue(a);var v=new sap.ui.core.CustomData({key:\"url\"});v.setValue(n);var p=[c,v];void 0!==e.items[r].superuserName&&p.push(new sap.ui.core.CustomData({key:\"superuserName\",value:e.items[r].superuserName}));var l=new sas.hc.ui.commons.TreeNode({icon:m,expanded:!1,customData:p});if(l.setText(i),l.setTooltip(a),s.addNode(l),void 0!==e.items[r].members){var y={items:e.items[r].members};t.addChildNodes(y,l)}else if(void 0!==e.items[r].memberships){var y={items:e.items[r].memberships};t.addChildNodes(y,l)}}},getNodeID:function(e){for(var s=\"\",t=e.getCustomData(),r=0;r<t.length;r++)\"id\"===t[r].getKey()&&(s=t[r].getValue());return s},getNodeURL:function(e){for(var s=\"\",t=e.getCustomData(),r=0;r<t.length;r++)\"url\"===t[r].getKey()&&(s=t[r].getValue());return s},getNodeSuperuserName:function(e){for(var s=\"\",t=e.getCustomData(),r=0;r<t.length;r++)\"superuserName\"===t[r].getKey()&&(s=t[r].getValue());return s},getTypeFromIcon:function(e){var s;return e===sas.icons.HC.USER?s=sas.ev.shared.IdentityTypes.USER:e===sas.icons.HC.USERGROUP?s=sas.ev.shared.IdentityTypes.GROUP:e===sas.icons.HC.CUSTOMGROUP&&(s=sas.ev.shared.IdentityTypes.CUSTOM_GROUP),s},getSimpleTypeFromIcon:function(e){var s;return e===sas.icons.HC.USER?s=\"user\":e!==sas.icons.HC.USERGROUP&&e!==sas.icons.HC.CUSTOMGROUP||(s=\"group\"),s},getIconFromType:function(e){var s;return e===sas.ev.shared.IdentityTypes.USER?s=sas.icons.HC.USER:e===sas.ev.shared.IdentityTypes.GROUP?s=sas.icons.HC.USERGROUP:e===sas.ev.shared.IdentityTypes.CUSTOM_GROUP&&(s=sas.icons.HC.CUSTOMGROUP),s}}}();",
	"sas/ev/shared/IdentityTypes.js": "// Copyright (c) 2016, SAS Institute Inc., Cary, NC, USA, All Rights Reserved\njQuery.sap.declare(\"sas.ev.shared.IdentityTypes\"),sas.ev.shared.IdentityTypes={USER:\"u\",GROUP:\"g\",CUSTOM_GROUP:\"cg\"};",
	"sas/ev/shared/IdentityUtils.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.IdentityUtils\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),sas.ev.shared.IdentityUtils={USER_IDENTITY_TYPE:\"user\",GROUP_IDENTITY_TYPE:\"group\",CUSTOM_GROUP_IDENTITY_TYPE:\"customGroup\",CLIENT_IDENTITY_TYPE:\"client\",CURRENT_USER:\"currentUser\",resources:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),logger:sas.log.getLogger(\"sas.ev.shared.IdentityUtils\"),getIdentityProperties:function(e,s){var t=\"/identities\",i={},r=e,a=void 0,n=s,d=s;return s===sas.ev.shared.IdentityUtils.USER_IDENTITY_TYPE?(t+=\"/users/\"+encodeURIComponent(e),i={\"Content-Type\":\"application/vnd.sas.identity.user\"}):s===sas.ev.shared.IdentityUtils.GROUP_IDENTITY_TYPE&&(t+=\"/groups/\"+encodeURIComponent(e),i={\"Content-Type\":\"application/vnd.sas.identity.group\"}),sas.ajax({url:t,type:\"GET\",async:!1,headers:i}).done(function(e){r=e.name,\"local\"===e.providerId?(n=sas.ev.shared.IdentityUtils.CUSTOM_GROUP_IDENTITY_TYPE,d=sas.ev.shared.IdentityUtils.resources.getText(\"sas.ev.shared.identity.customGroup.label\"),a=sas.icons.HC.CUSTOMGROUP):s===sas.ev.shared.IdentityUtils.USER_IDENTITY_TYPE?(d=sas.ev.shared.IdentityUtils.resources.getText(\"sas.ev.shared.identity.user.label\"),a=sas.icons.HC.USER):s===sas.ev.shared.IdentityUtils.GROUP_IDENTITY_TYPE&&(d=sas.ev.shared.IdentityUtils.resources.getText(\"sas.ev.shared.identity.group.label\"),a=sas.icons.HC.USERGROUP)}).fail(function(e){sas.ev.shared.IdentityUtils.logger.error(JSON.stringify(e,null,1))}),{id:e,displayName:r,type:n,displayType:d,icon:a}},getCurrentUserIdentityProperties:function(){var e=void 0;return sas.ajax({url:\"/identities/users/@currentUser\",type:\"GET\",async:!1,headers:{\"Content-Type\":\"application/vnd.sas.identity.user\"}}).done(function(s){e=s}).fail(function(e){sas.ev.shared.IdentityUtils.logger.error(JSON.stringify(e,null,1))}),{id:e.id,displayName:e.name,type:sas.ev.shared.IdentityUtils.USER_IDENTITY_TYPE,displayType:sas.ev.shared.IdentityUtils.resources.getText(\"sas.ev.shared.identity.user.label\"),icon:sas.icons.HC.USER}}}}();",
	"sas/ev/shared/jobMonitor/controller/JobMonitor.controller.js": "sap.ui.define([\"sap/ui/core/mvc/Controller\",\"sap/ui/model/json/JSONModel\",\"sas/ev/shared/jobMonitor/utils/JobMonitorUtils\",\"sas/ltjs/sasicu/util/SASFormatterUtil\",\"sas/ltjs/sasicu/util/CalendarUtil\",\"sap/m/MessageToast\",\"sas/ev/shared/jobMonitor/model/FilterModel\",\"sas/hc/m/Button\",\"sas/hc/m/Dialog\",\"sas/hc/m/Label\",\"sas/hc/ui/core/util/SASCollatorUtil\",\"sas/hc/ui/layout/HorizontalLayout\",\"sas/hc/ui/layout/VerticalLayout\",\"sas/hc/ui/unified/Calendar\",\"sas/hc/ui/unified/DateRange\",\"sap/ui/thirdparty/jquery\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(e,t,a,r,s,i,n,l,o,u,c,d,h,g,b,m){\"use strict\";m.sap.require(\"sas.ev.shared.jobMonitor.utils.JobMonitorProperties\");var v=sas.ev.shared.jobMonitor.utils.JobMonitorProperties;return e.extend(\"sas.ev.shared.jobMonitor.controller.JobMonitor\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.jobMonitor\"),currentJobCount:Object,onInit:function(){this.logger=sas.log.getLogger(\"sas.ev.shared.jobMonitor.view.JobMonitor\");var e=this.getView();this.fromDate=null,this.toDate=null,this.prevUri=null,this.nextUri=null,this.currentFilters=new n(m.proxy(this.retrieveJobs,this)),this.jobTableView=e.jobTableView,this.jobScheduleView=e.jobScheduleView,this.graphZeroState=e.graphZeroState,this.facetPanel=e.facetPanel,this.filterProvider=e.filterProvider,this.userListFacet=e.userListFacet,this.nameListFacet=e.nameListFacet,this.statusListFacet=e.statusListFacet,this.jobModel=new t,this.tokenizer=e.tokenizer,this.jobTable=sap.ui.getCore().byId(\"jobListTable\"),this.jobTable.setModel(this.jobModel),this.facetPanel.setModel(this.jobModel),this.jobScheduleView.setModel(this.jobModel),this.filterProvider.setModel(this.jobModel),this.jobTable.bindRows(\"/items\"),sas.eventBus.subscribe(\"jobMonitor\",\"viewJobHistory\",this.onViewJobHistory,this),this.nameFilterLiveChangeTimer=0,this.onIsUserAnAdminUser(),this.setUpUserFacet(),this.jobModel.bindProperty(\"/items\").attachChange(this.onJobsChange,this)},onBeforeRendering:function(){var e=this;e.currentFilters.start=0,e.retrieveJobs()},onAfterRendering:function(){},onResize:function(e){},onStatusFormatFunction:function(e){var t=this;switch(e){case v.JOB_STATUS_PENDING:return t.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.pending.txt\");case v.JOB_STATUS_RUNNING:return t.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.running.txt\");case v.JOB_STATUS_CANCELED:return t.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.canceled.txt\");case v.JOB_STATUS_COMPLETED:return t.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.completed.txt\");case v.JOB_STATUS_FAILED:return t.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.failed.txt\");case v.JOB_STATUS_TIMED_OUT:return t.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.timedout.txt\");default:return t.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.unknown.txt\")}},onFilterApplied:function(e){},onFacetsChange:function(e){var t=this,a=t.statusListFacet.getQuery(),r=t.userListFacet.getQuery(),s=t.nameListFacet.getQuery(),i=a&&a.values?a.values.join(\",\"):\"\",n=r&&r.values?r.values.join(\",\"):\"\";0!==t.currentFilters.start&&(t.currentFilters.start=0),i!==t.currentFilters.statusFilters&&(t.currentFilters.statusFilters=i),n!==t.currentFilters.userFilters&&(t.currentFilters.userFilters=n),(!s||!s.values||s.values.length<1)&&t.currentFilters.requestFilters&&t.currentFilters.requestFilters.length>0&&(t.currentFilters.requestFilters=[])},onRefresh:function(e){this.currentFilters.start=0,this.retrieveJobs()},onIsUserAnAdminUser:function(){var e=this;sap.ui.getCore().getModel(\"EVCoreModel\").getData().EVPageData.devicePage.authorized?a.retrieveUserIds(null,null,null,null,m.proxy(e.getUserIdsSuccessHandler,e),m.proxy(e.getUserIdsErrorHandler,e),m.proxy(e.alwaysHandler,e)):e.userListFacet.setVisible(!1)},getUserIdsSuccessHandler:function(e){this.constructFacetItems(e)},constructFacetItems:function(e){var t=[];m.each(e.items,function(e,a){t.push({value:a.id,count:0,selected:!1})}),this.userListFacet.setFacetItems(t),this.userListFacet.setDetailText(\"\")},getUserIdsErrorHandler:function(e){},alwaysHandler:function(){this.jobTableView.setBusy(!1),this.jobScheduleView.setBusy(!1),this.jobTable.setBusy(!1),this.getView().setBusy(!1)},retrieveJobs:function(){var e=this;e.jobTableView.setBusy(!0),e.jobScheduleView.setBusy(!0),a.getFilteredJobRuns(null,e,function(t){e.getJobRunsSuccessHandler(t)},function(t){e.getJobRunsErrorHandler(t)},m.proxy(e.alwaysHandler,e))},getJobRunsSuccessHandler:function(e){var t=this,a=t.getView(),r={items:[]};if(e&&e.items.length>0)for(var s=0;s<e.items.length;s++){var i=e.items[s];i.name=\"-\";var n=i.jobRequest;n&&(n.name&&n.name.length>0?i.name=n.name:n.jobDefinition&&n.jobDefinition.name&&n.jobDefinition.name.length>0&&(i.name=n.jobDefinition.name)),t.updateTableArray(r,m.extend({},i))}t.jobModel.setData(r),t.updateGraphChartAndState(!0),t.currentJobCount=null,e&&(e.count||0===e.count)&&(t.currentJobCount=e.count,t.tokenizer.setCount(e.count));var l=t.currentFilters.start+1,o=t.currentFilters.start+t.currentFilters.limit;if(e&&e.items.length>0&&e.items.length<t.currentFilters.limit&&(o=t.currentFilters.start+e.items.length),a.displayingLabel.setText(t.rb.getText(\"sas.ev.shared.jobmonitor.results.displaying.fmt.label\",[l,o])),t.prevUri=null,t.nextUri=null,e&&e.links){for(var s=0;s<e.links.length;s++){var u=e.links[s];\"prev\"===u.rel?t.prevUri=u.uri:\"next\"===u.rel&&(t.nextUri=u.uri)}a.preButton.setEnabled(null!==t.prevUri),a.nextButton.setEnabled(null!==t.nextUri)}else a.preButton.setEnabled(!1),a.nextButton.setEnabled(!1)},getJobRunsErrorHandler:function(e){},onSearchJobFunction:function(e){var t=e.getSource().getValue();this.currentFilters.nameFilter=t},setUpUserFacet:function(){var e=this.userListFacet.searchField,t=e.mEventRegistry;if(t.liveChange&&t.liveChange.length>0){var a=t.liveChange[0].fFunction,r=t.liveChange[0].oListener;e.detachLiveChange(a,r)}e.attachLiveChange({},this.handleUserFilterLiveChange,this),e.attachSearch({},this.handleUserFilterSearch,this),this.userListFacet.setSortFunction(this.userListFacetSortFunction)},userListFacetSortFunction:function(e,t){var a=c.getComparator(),r=!!e.hasOwnProperty(\"selected\")&&e.selected,s=!!t.hasOwnProperty(\"selected\")&&t.selected;if(r&&s||!r&&!s){var i=e.value,n=t.value;return null!==a?a(i,n):null===n?-1:null===i?1:(i=String(i).toLowerCase(),n=String(n).toLowerCase(),i.localeCompare(n))}return r&&!s?-1:!r&&s?1:void 0},handleUserFilterLiveChange:function(e){var t=this;clearTimeout(t.nameFilterLiveChangeTimer);var a=e.getParameter(\"newValue\");t.nameFilterLiveChangeTimer=setTimeout(t.handleUserListSearch(a),500,a)},handleUserListSearch:function(e){var t=this;this.getView().setBusy(!0);var r=[];m.each(t.userListFacet.getFacetItems(),function(e,t){t.selected&&r.push(t.value)}),a.retrieveUserIds(null,v.USERS_LIMIT_VALUE-r.length,e,null,m.proxy(t.filterUserListSuccessHandler,t,e,r),m.proxy(t.getUserIdsErrorHandler,t),m.proxy(t.alwaysHandler,t))},filterUserListSuccessHandler:function(e,t,a){var r=[],s=!1;m.each(t,function(t,a){r.push({value:a,count:0,selected:!0}),e===a&&(s=!0)}),m.each(a.items,function(a,i){t&&-1===Array.prototype.indexOf.call(t,i.id)&&(r.push({value:i.id,count:0,selected:!1}),e===i.id&&(s=!0))}),e&&e.trim().length>0&&!s&&r.push({value:e,count:0,selected:!1}),this.userListFacet.setFacetItems(r),this.userListFacet.searchField.setVisible(!0),this.userListFacet.setDetailText(v.EMPTY_STRING)},handleUserFilterSearch:function(e){clearTimeout(this.nameFilterLiveChangeTimer);var t=e.getParameter(\"query\");this.handleUserListSearch(t)},updateTableArray:function(e,t){var a=this;if(t.originalCreationTimeStamp=t.creationTimeStamp,t.originalEndTimeStamp=t.endTimeStamp,t.originalElapseTime=t.elapsedTime,t.creationTimeStamp=void 0!==t.creationTimeStamp?r.format(s.jsDateToSASDateTime(new Date(t.creationTimeStamp)),\"DATETIME\"):\"\",t.endTimeStamp=void 0!==t.endTimeStamp?r.format(s.jsDateToSASDateTime(new Date(t.endTimeStamp)),\"DATETIME\"):\"\",t.elapsedTime){var i=a.padLeft(Math.floor(t.elapsedTime/36e5).toString(),2,\"0\"),n=a.padLeft(Math.floor(t.elapsedTime%36e5/6e4).toString(),2,\"0\"),l=a.padLeft(Math.floor(t.elapsedTime%36e5%6e4/1e3).toString(),2,\"0\"),o=(t.elapsedTime%1e3).toString();t.elapsedTime=i+\":\"+n+\":\"+l+\".\"+o}e.items.push(t)},padLeft:function(e,t,a){if(null===e||null===t||e.length>=t||null===a||1!==a.length)return e;var r=new Array(t+1).join(a);return r.substring(0,r.length-e.length)+e},getDateRangeSelectionDialog:function(){var e=this,t=e.getView();return t.dateRangeDialog||(e.dateRangeCalendar=new g({id:\"dateRangeCalendar\",select:function(){e.updateCalendarDateLabels()},cancel:function(){e.resetCalendarDateRange()},intervalSelection:!0}).addStyleClass(\"dateRangeCalendar\"),e.dateRangeCalendar.setMaxDate(new Date),t.dateRangeDialog=new o({title:e.rb.getText(\"sas.ev.shared.jobmonitor.filter.customDateRange.action.label\"),content:[new h({content:[e.dateRangeCalendar,new d({content:[new u({text:e.rb.getText(\"sas.ev.shared.jobmonitor.joblist.calDialog.fromDate.control.label\")}).addStyleClass(\"selectedDateLabel\"),new u({id:\"selectedDateFrom\",text:e.rb.getText(\"sas.ev.shared.jobmonitor.joblist.calDialog.noDate.control.label\")})]}).addStyleClass(\"selectedDateFromLabel\"),new d({content:[new u({text:e.rb.getText(\"sas.ev.shared.jobmonitor.joblist.calDialog.toDate.control.label\")}).addStyleClass(\"selectedDateLabel\"),new u({id:\"selectedDateTo\",text:e.rb.getText(\"sas.ev.shared.jobmonitor.joblist.calDialog.noDate.control.label\")})]}).addStyleClass(\"selectedDateFromLabel\")]})],beginButton:new l({text:e.rb.getText(\"sas.ev.shared.jobmonitor.joblist.filter.OK.action.label\"),press:function(){if(e.isValidDateRange()){e.getDateRangeSelectionDialog().close(),e.saveDateRange(),e.updateMenuButtonTextWithDateRange();var t=e.createInternalDateRangeString();e.updateDateFilter(t)}else i.show(e.rb.getText(\"sas.ev.shared.jobmonitor.joblist.filter.dateRange.error.txt\"),{my:\"center center\",at:\"center center\"})}}),endButton:new l({text:e.rb.getText(\"sas.ev.shared.jobmonitor.joblist.filter.Cancel.action.label\"),press:function(){e.getDateRangeSelectionDialog().close(),e.resetCalendarDateRange()}})}).addStyleClass(\"dateRangeSelectionDialog\"),t.addDependent(t.dateRangeDialog)),t.dateRangeDialog},formatDate:function(e){return e?r.instance(\"NLDATEM200.\").format(s.jsDateToSASDate(e)):\"\"},createUIDateRangeString:function(){var e=this;return this.formatDate(e.fromDate)+\" \"+this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.filter.dateRangeDelimiter.txt\")+\" \"+this.formatDate(e.toDate)},isValidDateRange:function(){var e=this,t=e.dateRangeCalendar.getSelectedDates();return t.length===v.SELECTED_DATES_COUNT&&null!==t[0].getStartDate()&&null!==t[0].getEndDate()},updateMenuButtonTextWithDateRange:function(){var e=this,t=sap.ui.getCore().byId(\"dateFilterButton\"),a=e.createUIDateRangeString();t.setText(a),t.data(\"key\",\"dateRange\")},createInternalDateRangeString:function(){var e=this;return e.fromDate.toISOString()+v.DATE_RANGE_SEP+e.toDate.toISOString()},updateCalendarDateLabels:function(){var e=this,t=e.dateRangeCalendar.getSelectedDates(),a=sap.ui.getCore().byId(\"selectedDateFrom\"),r=sap.ui.getCore().byId(\"selectedDateTo\");null!==t&&t.length>0?(this.updateDateLabelControl(t[0].getStartDate(),a),this.updateDateLabelControl(t[0].getEndDate(),r)):(this.updateDateLabelControl(null,a),this.updateDateLabelControl(null,r))},updateDateLabelControl:function(e,t){var a;a=e?this.formatDate(e):this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.calDialog.noDate.control.label\"),t.setText(a)},resetCalendarDateRange:function(){var e=this;if(e.dateRangeCalendar){if(e.dateRangeCalendar.getSelectedDates().length>0&&e.dateRangeCalendar.removeSelectedDate(0),e.fromDate&&e.toDate){var t=new b;t.setStartDate(e.fromDate),t.setEndDate(e.toDate),e.dateRangeCalendar.insertSelectedDate(t,0)}this.updateCalendarDateLabels()}},saveDateRange:function(){var e=this,t=e.dateRangeCalendar.getSelectedDates();t.length>0&&(e.fromDate=t[0].getStartDate(),e.toDate=t[0].getEndDate())},updateDateFilter:function(e){this.currentFilters.start=0,this.currentFilters.dateFilter=e},displayDate:function(){m.isEmptyObject(this.fromDate)||this.dateRangeCalendar.displayDate(this.fromDate)},handleMenuItemPress:function(e){var t=e.getParameter(\"item\"),a=t.data(\"key\");if(\"dateRange\"===a)this.displayDate(),this.getDateRangeSelectionDialog().open();else{var r=sap.ui.getCore().byId(\"dateFilterButton\");r&&(r.setText(t.getText()),r.data(\"item\",a)),this.updateDateFilter(a)}},onViewJobHistory:function(e,t,a){a&&a[0].jobReqId&&(this.currentFilters.requestFilters=[a[0]],this.nameListFacet.setFacetItems([{value:a[0].jobReqName,count:0,selected:!0}]),this.currentFilters.start>0&&(this.currentFilters.start=0))},onResultsPerPageChange:function(e){var t=this.getView();t&&t.pagingSelect&&(this.currentFilters.start=0,this.currentFilters.limit=parseInt(t.pagingSelect.getSelectedKey()))},onNextPage:function(e){var t=this,r=t.getView();r.preButton.setEnabled(!1),r.nextButton.setEnabled(!1),a.getFilteredJobRuns(t.nextUri,null,function(e){t.getJobRunsSuccessHandler(e),t.currentFilters.start+=t.currentFilters.limit;var a=t.currentFilters.start+1,s=t.currentFilters.start+t.currentFilters.limit;e&&e.items.length>0&&e.items.length<t.currentFilters.limit&&(s=t.currentFilters.start+e.items.length),r.displayingLabel.setText(t.rb.getText(\"sas.ev.shared.jobmonitor.results.displaying.fmt.label\",[a,s]))},function(e){t.getJobRunsErrorHandler(e)},m.proxy(t.alwaysHandler,t))},onPreviousPage:function(e){var t=this,r=t.getView();r.preButton.setEnabled(!1),r.nextButton.setEnabled(!1),a.getFilteredJobRuns(t.prevUri,null,function(e){t.getJobRunsSuccessHandler(e),t.currentFilters.start-=t.currentFilters.limit,t.currentFilters.start<0&&(t.currentFilters.start=0);var a=t.currentFilters.start+1,s=t.currentFilters.start+t.currentFilters.limit;e&&e.items.length>0&&e.items.length<t.currentFilters.limit&&(s=t.currentFilters.start+e.items.length),r.displayingLabel.setText(t.rb.getText(\"sas.ev.shared.jobmonitor.results.displaying.fmt.label\",[a,s]))},function(e){t.getJobRunsErrorHandler(e)},m.proxy(t.alwaysHandler,t))},onJobsChange:function(e){this.updateGraphChartAndState(!0)},updateGraphChartAndState:function(e){e&&this.jobScheduleView.getController().updateGraph();var t=!1,a=this.jobScheduleView.getModel().getData();a&&a.items&&a.items.length>0&&(t=!0),this.jobTableView.getVisible()||(t?(this.graphZeroState.getVisible()&&this.graphZeroState.setVisible(!1),this.jobScheduleView.getVisible()||this.jobScheduleView.setVisible(!0)):(this.jobScheduleView.getVisible()&&this.jobScheduleView.setVisible(!1),this.graphZeroState.getVisible()||this.graphZeroState.setVisible(!0)))}})});",
	"sas/ev/shared/jobMonitor/controller/JobScheduleChart.controller.js": "sap.ui.define([\"sap/ui/core/mvc/Controller\",\"sas/ev/shared/jobMonitor/utils/JobMonitorProperties\",\"sas/ev/shared/jobMonitor/utils/JobMonitorUtils\",\"sas/hc/ui/core/util/CalendarUtil\",\"sas/ltjs/commons/models/data/dataset/Column\",\"sas/ltjs/commons/models/data/dataset/DataSet\",\"sas/ltjs/commons/models/data/dataset/DataType\",\"sas/ltjs/commons/util/Dimension\",\"sas/ltjs/commons/util/DimensionUnit\",\"sas/ltjs/gtl/models/Graph\",\"sas/ltjs/gtl/models/axis/AxisType\",\"sas/ltjs/gtl/models/axis/OverviewAxis\",\"sas/ltjs/gtl/models/axis/TimeAxisOptions\",\"sas/ltjs/gtl/models/axis/TimeIntervalEnum\",\"sas/ltjs/gtl/models/core/SelectionMode\",\"sas/ltjs/gtl/models/core/styles/attributesMap/DiscreteAttributesMap\",\"sas/ltjs/gtl/models/core/styles/attributesMap/DiscreteAttributesMapEntry\",\"sas/ltjs/gtl/models/data/ClassificationRole\",\"sas/ltjs/gtl/models/data/DataSetDataProvider\",\"sas/ltjs/gtl/models/data/PlotRole\",\"sas/ltjs/gtl/models/layoutOverlay/LayoutOverlay\",\"sas/ltjs/gtl/models/layoutOverlay/scheduleChart/ScheduleChart\",\"sas/ltjs/gtl/models/legend/DiscreteLegend\",\"sas/ltjs/gtl/models/legend/LayoutGlobalLegend\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(e,t,s,a,o,r,i,n,l,m,u,d,T,h,g,b,p,S,c,j,v,x,C,O){\"use strict\";return e.extend(\"sas.ev.shared.jobMonitor.controller.JobScheduleChart\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.jobMonitor\"),onInit:function(){this.logger=sas.log.getLogger(\"sas.ev.shared.jobMonitor.view.JobScheduleChart\")},onBeforeRendering:function(){},onAfterRendering:function(){},generateGraphData:function(){var e={name:[],version:[],creationTimeStamp:[],endTimeStamp:[],elapsedTime:[],state:[],jobExecutionId:[]};if(this.getView()&&this.getView().getModel()){var t=this.getView().getModel().getData();if(t&&t.items){var o=t.items;if(o)for(var r=0;r<o.length;r++){var i=o[r];e.name.push(i.name),e.version.push(i.version);var n=i.originalCreationTimeStamp?new Date(i.originalCreationTimeStamp):new Date;e.creationTimeStamp.push(a.jsDateToSASDateTime(n));var l=i.originalEndTimeStamp?new Date(i.originalEndTimeStamp):new Date;e.endTimeStamp.push(a.jsDateToSASDateTime(l)),e.elapsedTime.push(i.originalElapseTime/1e3),e.state.push(s.jobStatusTextFormatter(i.state)),e.jobExecutionId.push(i.id)}}}return e},updateGraphDataProvider:function(){var e=new r(!0,!0),t=new o,s=new o,a=new o,n=new o,l=new o,m=new o,u=new o,d=this.generateGraphData();return t.setName(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.name.txt\")),t.setStrings(d.name),t.setDataType(i.STRING),e.addColumn(t),s.setName(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.version.txt\")),s.setNumbers(d.version),s.setDataType(i.NUMBER),e.addColumn(s),a.setName(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.starttime.txt\")),a.setNumbers(d.creationTimeStamp),a.setDataType(i.NUMBER),a.setFormatName(\"DATETIME\"),e.addColumn(a),n.setName(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.endtime.txt\")),n.setNumbers(d.endTimeStamp),n.setDataType(i.NUMBER),n.setFormatName(\"DATETIME\"),e.addColumn(n),l.setName(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.runtime.txt\")),l.setNumbers(d.elapsedTime),l.setDataType(i.NUMBER),e.addColumn(l),m.setName(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.status.txt\")),m.setStrings(d.state),m.setDataType(i.STRING),e.addColumn(m),u.setName(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.executionid.txt\")),u.setStrings(d.jobExecutionId),u.setDataType(i.STRING),e.addColumn(u),new c(e)},createGraphRoles:function(){var e=new S(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.name.txt\")),a=new S(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.version.txt\")),o=new j(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.starttime.txt\")),r=new j(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.endtime.txt\")),i=new S(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.status.txt\")),n=new S(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.executionid.txt\")),l=new j(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.column.runtime.txt\"));l.setTipFormat(\"TIME8.3\");var m=new b,u=new p;u.setValues([s.jobStatusTextFormatter(t.JOB_STATUS_RUNNING)]),u.getLineAttributes().setLineColor(t.JOB_STATUS_COLOR_RUNNING),u.getFillAttributes().setFillColor(t.JOB_STATUS_COLOR_RUNNING);var d=new p;d.setValues([s.jobStatusTextFormatter(t.JOB_STATUS_COMPLETED)]),d.getLineAttributes().setLineColor(t.JOB_STATUS_COLOR_COMPLETED),d.getFillAttributes().setFillColor(t.JOB_STATUS_COLOR_COMPLETED);var T=new p;T.setValues([s.jobStatusTextFormatter(t.JOB_STATUS_CANCELED)]),T.getLineAttributes().setLineColor(t.JOB_STATUS_COLOR_CANCELED),T.getFillAttributes().setFillColor(t.JOB_STATUS_COLOR_CANCELED);var h=new p;h.setValues([s.jobStatusTextFormatter(t.JOB_STATUS_FAILED),s.jobStatusTextFormatter(t.JOB_STATUS_TIMED_OUT)]),h.getLineAttributes().setLineColor(t.JOB_STATUS_COLOR_FAILED),h.getFillAttributes().setFillColor(t.JOB_STATUS_COLOR_FAILED);var g=new p;return g.setValues([s.jobStatusTextFormatter(t.JOB_STATUS_PENDING)]),g.getLineAttributes().setLineColor(t.JOB_STATUS_COLOR_PENDING),g.getFillAttributes().setFillColor(t.JOB_STATUS_COLOR_PENDING),m.setEntries([u,d,T,h,g]),i.setAttributesMap(m),[e,a,o,r,l,i,n]},updateSchedulechartGraphView:function(e,t){var s=this.getView(),a=s.graphView,o=new x,r=new m,i=new v,b=new O,p=new C,S=i.getXAxisOptions(),c=new T,j=new d;a.setGraph(r),p.setLegendEntryProvider([o]),b.setLegends([p]),o.setTask(t[0]),o.setStart(t[2]),o.setEnd(t[3]),o.setGroup(t[5]),o.setTip([t[0],t[2],t[5]]),S.setType(u.TIME),c.setInterval(h.AUTO),S.setTimeOptions(c),S.setLabel(this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.graph.xaxis.label.txt\")),j.setMaxPlotSize(new n(60,l.PIXELS)),S.setSpecializedAxis(j),i.setOverlays([o]),r.setLayoutGlobalLegend(b),r.setLayout(i),r.setSelectionMode(g.SINGLE),o.setDataProvider(e)},updateGraph:function(){var e=this.updateGraphDataProvider(),t=this.createGraphRoles();e&&t&&this.updateSchedulechartGraphView(e,t)},onGraphDataClicked:function(e){}})});",
	"sas/ev/shared/jobMonitor/controller/JobTable.controller.js": "sap.ui.define([\"sap/ui/core/mvc/Controller\",\"sap/ui/thirdparty/jquery\",\"sas/ev/shared/jobMonitor/utils/JobMonitorUtils\",\"sas/hc/m/MessageToast\",\"sas/ev/shared/Utils/\",\"sas/ev/commons/utils/EVUtils\",\"sas/hc/m/MessageDialog\",\"sas/ltjs/sasicu/util/SASFormatterUtil\",\"sas/ev/shared/jobMonitor/utils/JobMonitorProperties\",\"sas/hc/m/Panel\",\"sas/hc/m/ResponsivePopover\",\"sas/hc/m/Text\",\"sas/hc/ui/layout/VerticalLayout\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sas/hc/m/library\",\"sap/m/library\"],function(e,t,o,r,s,n,i,a,u,l,c,g,d){\"use strict\";return e.extend(\"sas.ev.shared.jobMonitor.controller.JobTable\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.jobMonitor\"),onInit:function(){this.logger=sas.log.getLogger(\"sas.ev.shared.jobMonitor.view.JobTable\")},onBeforeRendering:function(){},onAfterRendering:function(){},runObject:function(e){var o=this;if(e&&e.jobRequest&&e.jobRequest.id){var n=\"/jobExecution/jobRequests/\".concat(e.jobRequest.id).concat(\"/jobs\"),i=\"POST\",a=e.links;void 0!==a&&a.length>0&&t.each(a,function(e,t){if(void 0!==t.rel&&\"submitJob\"===t.rel)return n=t.uri,i=t.method,!1}),sas.ajax({type:i,url:n,headers:{accept:\"application/vnd.sas.job.execution.job+json\"}}).done(function(e,t,n){void 0!==n&&(201===n.status||void 0!==t&&\"success\"===t?(r.show(o.rb.getText(\"sas.ev.shared.jobmonitor.run.success.txt\")),setTimeout(function(){sap.ui.getCore().getEventBus().publish(\"sasevschedulingJobsview\",\"EVJobMonitorRefresh\",o)},100)):s.ajaxErrorMessageHandler({title:o.rb.getText(\"sas.ev.shared.jobmonitor.run.failed.title.txt\"),message:n,detail:n}).open())}).fail(function(e,t,r){s.ajaxErrorMessageHandler({title:o.rb.getText(\"sas.ev.shared.jobmonitor.run.failed.title.txt\"),message:e,detail:e}).open()})}else{var n=\"/jobExecution/jobs/\",i=\"POST\",a=e.links,u=e.jobRequest;u.jobDefinitionUri&&(u.jobDefinition=null),void 0!==a&&a.length>0&&t.each(a,function(e,t){if(void 0!==t.rel&&\"submitJob\"===t.rel)return n=t.uri,i=t.method,!1}),sas.ajax({type:i,url:n,data:JSON.stringify(u),headers:{accept:\"application/vnd.sas.job.execution.job+json\"}}).done(function(e,t,n){void 0!==n&&(201===n.status||void 0!==t&&\"success\"===t?(r.show(o.rb.getText(\"sas.ev.shared.jobmonitor.run.success.txt\")),setTimeout(function(){sap.ui.getCore().getEventBus().publish(\"sasevschedulingJobsview\",\"EVJobMonitorRefresh\",o)},100)):s.ajaxErrorMessageHandler({title:o.rb.getText(\"sas.ev.shared.jobmonitor.run.failed.title.txt\"),message:n,detail:n}).open())}).fail(function(e,t,r){s.ajaxErrorMessageHandler({title:o.rb.getText(\"sas.ev.shared.jobmonitor.run.failed.title.txt\"),message:e,detail:e}).open()})}},confirmDeleteJob:function(e){var t=this;if(void 0!==e.id){var o=\"-\",r=e.jobRequest;r&&(r.name&&r.name.length>0?o=r.name:r.jobDefinition&&r.jobDefinition.name&&r.jobDefinition.name.length>0&&(o=r.jobDefinition.name)),o=n.escapeBraces(o),i.warning({title:t.rb.getText(\"sas.ev.shared.jobmonitor.confirm.delete.title.txt\"),text:t.rb.getText(\"sas.ev.shared.jobmonitor.confirm.delete.message.fmt.txt\",[o]),buttonActions:[sas.hc.m.MessageDialogAction.Yes,{text:sas.hc.m.MessageDialogAction.No,initialFocus:!0,defaultButton:!0}],buttonPress:function(o){o.getParameter(\"origin\").getMessageDialogAction()===sas.hc.m.MessageDialogAction.Yes&&t.deleteObject(e)}})}},deleteObject:function(e){var o=function(e){var t=r.bundleModule.getText(\"sas.ev.shared.jobmonitor.delete.failed.title.txt\");s.ajaxErrorMessageHandler({title:t,message:e,detail:e}).open()},r=this;if(e&&e.id){var n=\"/jobExecution/jobs/\".concat(e.id),i=\"DELETE\",a=e.links;void 0!==a&&a.length>0&&t.each(a,function(e,t){if(void 0!==t.rel&&\"submitJob\"===t.rel)return n=t.uri,i=t.method,!1}),sas.ajax({type:i,url:n,headers:{accept:\"application/vnd.sas.job.execution.job+json\"}}).always(function(e,t,s){void 0!==s&&void 0!==s.status?204===s.status?setTimeout(function(){sap.ui.getCore().getEventBus().publish(\"sasevschedulingJobsview\",\"EVJobMonitorRefresh\",r)},100):o(s):void 0!==e&&void 0!==e.status&&(204===e.status?setTimeout(function(){sap.ui.getCore().getEventBus().publish(\"sasevschedulingJobsview\",\"EVJobMonitorRefresh\",r)},100):o(e))})}},formatDate:function(e){if(e){return a.format(e,\"DATETIME7.\")}return\"\"},onErrorLinkClick:function(e){var t=this.getModelForBindingContext(e.getSource().getParent().getBindingContext()),o=t.error?t.error.message:\"\",r=t.error?t.error.details:\"\",s=t.error?t.error.errorCode:0,n=new c({placement:sap.m.PlacementType.Auto,modal:!1,autoClose:!0,content:this.getErrorPopoverContent(o,this.getErrorDetailsString(r),s)});n.addStyleClass(\"evMPopover\"),n.openBy(e.getSource())},getErrorDetailsString:function(e){if(e&&e.length>0){for(var t=\"\",o=0;o<e.length;o++){var r=e[o];r.length>0&&(r=r.replace(/{/g,\"\"),r=r.replace(/}/g,\"\"),t+=r+\"\\n\")}return t}return this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.errorpopover.genericdetails.txt\")},getErrorPopoverContent:function(e,t,o){var r=[];return e&&e!==u.EMPTY_STRING&&r.push(new g({text:e})),t&&t!==u.EMPTY_STRING&&r.push(new g({text:t})),o&&r.push(new g({text:this.rb.getText(\"sas.ev.shared.jobmonitor.joblist.errorpopover.errorcode.txt\")+\" \"+o})),new l({content:new d({content:r})})},jobStatusIconFormatter:function(e){var t=sap.ui.getCore().getModel(\"sasIcons\");switch(e){case u.JOB_STATUS_PENDING:return t.getProperty(\"/HC/SCHEDULEDSTATUS\");case u.JOB_STATUS_RUNNING:return t.getProperty(\"/HC/PROGRESSSTATUS\");case u.JOB_STATUS_CANCELED:return t.getProperty(\"/HC/CANCELEDSTATUS\");case u.JOB_STATUS_COMPLETED:return t.getProperty(\"/HC/COMPLETESTATUS\");case u.JOB_STATUS_FAILED:case u.JOB_STATUS_TIMED_OUT:return t.getProperty(\"/HC/ERRORSTATUS\");default:return t.getProperty(\"/HC/NEUTRALSTATUS\")}},jobStatusTextFormatter:function(e){return o.jobStatusTextFormatter(e)},formatElapsedTime:function(e){if(e){return this.padLeft(Math.floor(e/36e5).toString(),2,\"0\")+\":\"+this.padLeft(Math.floor(e%36e5/6e4).toString(),2,\"0\")+\":\"+this.padLeft(Math.floor(e%36e5%6e4/1e3).toString(),2,\"0\")+\".\"+(e%1e3).toString()}return\"\"},padLeft:function(e,t,o){if(null===e||null===t||e.length>=t||null===o||1!==o.length)return e;var r=new Array(t+1).join(o);return r.substring(0,r.length-e.length)+e},getModelForBindingContext:function(e){if(null!==e){var t=e.getPath(),o=e.getModel();if(null!==o){var r=o.getProperty(t);if(null!==r)return r}}return null}})});",
	"sas/ev/shared/jobMonitor/model/FilterModel.js": "sap.ui.define([\"sap/ui/thirdparty/jquery\",\"sas/ev/shared/jobMonitor/utils/JobMonitorProperties\"],function(t,e){\"use strict\";return t.sap.declare(\"sas.ev.shared.jobMonitor.model.FilterModel\"),sas.ev.shared.jobMonitor.model.FilterModel=function(){function t(t){this._nameFilter=\"\",this._dateFilter=e.DEFAULT_DATE_FILTER,this._start=e.DEFAULT_START,this._limit=e.DEFAULT_LIMIT,this._statusFilters=\"\",this._userFilters=\"\",this._requestFilters=[],this.watcher=t}return Object.defineProperty(t.prototype,\"nameFilter\",{get:function(){return this._nameFilter},set:function(t){this._nameFilter=t,this.watcher()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dateFilter\",{get:function(){return this._dateFilter},set:function(t){var e=this._dateFilter;this._dateFilter=t,e!==t&&this.watcher&&this.watcher()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"start\",{get:function(){return this._start},set:function(t){this._start=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"limit\",{get:function(){return this._limit},set:function(t){var e=this._limit;this._limit=t,e!==t&&this.watcher&&this.watcher()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"statusFilters\",{get:function(){return this._statusFilters},set:function(t){var e=this._statusFilters;this._statusFilters=t,e!==t&&this.watcher&&this.watcher()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"userFilters\",{get:function(){return this._userFilters},set:function(t){var e=this._userFilters;this._userFilters=t,e!==t&&this.watcher&&this.watcher()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"requestFilters\",{get:function(){return this._requestFilters},set:function(t){this._requestFilters=t,this.watcher&&this.watcher()},enumerable:!0,configurable:!0}),t.prototype.getData=function(){var t={dateFilter:this._dateFilter,nameFilter:this._nameFilter,limit:this._limit,statusFilters:this._statusFilters,userFilters:this._userFilters,requestFilters:\"\"};if(this._requestFilters&&this._requestFilters.length>0){for(var e=[],r=0;r<this._requestFilters.length;r++)e.push(this.requestFilters[r].jobReqId);t.requestFilters=\"'\"+e.join(\"','\")+\"'\"}return t},t}()});",
	"sas/ev/shared/jobMonitor/utils/graph/CollectionUtil.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(n){\"use strict\";return n.sap.declare(\"sas.ev.shared.jobMonitor.utils.graph.CollectionUtil\"),sas.ev.shared.jobMonitor.utils.graph.CollectionUtil=function(){function n(){}return n.isEmpty=function(n){return void 0===n||null===n||n.length<1},n.isNotEmpty=function(n){return void 0!==n&&null!==n&&n.length>=1},n.firstItem=function(t){return n.isEmpty(t)?null:t[0]},n.lastItem=function(t){return n.isEmpty(t)?null:t[t.length-1]},n.containsItem=function(t,r){return-1!==n.getItemIndex(t,r)},n.containsItemWithField=function(t,r,e){return-1!==n.getItemIndexByField(t,r,e)},n.addItemAt=function(n,t,r){var e=!1;return n&&r<=n.length&&(n.splice(r,0,t),e=!0),e},n.addItemIfNotPresent=function(t,r){var e=!1;return null===t||n.containsItem(t,r)||(t.push(r),e=!0),e},n.insertItemsAt=function(t,r,e){var i=!1;if(t&&e<=t.length){for(var u=r.length,o=0;o<u;o++)n.addItemAt(t,r[o],e),e++;i=!0}return i},n.getItemIndex=function(n,t){return n?Array.prototype.indexOf.call(n,t):-1},n.getItemIndexByField=function(t,r,e){if(!n.isEmpty(t)&&r)for(var i=t.length,u=0;u<i;u++){var o=t[u][r];if(o===e)return u}return-1},n.findByField=function(t,r,e){var i=n.getItemIndexByField(t,r,e);return i>-1?t[i]:null},n.findByMethodValue=function(n,t,r){if(n)for(var e=0,i=n;e<i.length;e++){var u=i[e];if(u[t]()===r)return u}return null},n.removeItemByField=function(t,r,e){var i=n.getItemIndexByField(t,r,e);return i>-1?n.removeItemAt(t,i):null},n.find=function(t,r){var e=n.findIndex(t,r);return-1!==e?t[e]:void 0},n.findIndex=function(t,r){if(n.isNotEmpty(t))for(var e=0,i=t.length;e<i;++e)if(r(t[e]))return e;return-1},n.findItemsByField=function(t,r,e){var i=[];if(!n.isEmpty(t))for(var u,o=0,f=t.length;o<f;o++)(u=t[o])&&u[r]&&u[r]===e&&i.push(u);return i},n.sortItemsByField=function(t,r){return n.isEmpty(t)||StringUtil.isNullOrEmpty(r)||t.sort(function(n,t){return n=n[r],t=t[r],n<t?-1:n===t?0:n>t?1:void 0}),t},n.clone=function(n){return{}.concat(n)},n.removeItem=function(n,t){var r=!1;if(n&&null!==t){var e=n.indexOf(t);-1!==e&&(r=n.splice(e,1)[0]===t)}return r},n.moveItem=function(n,t,r){if(n){var e=n[t];n.splice(t,1),n.splice(r,0,e)}},n.removeItemsByField=function(t,r,e){if(!n.isEmpty(t)&&!n.isEmpty(e)){var i;e.forEach(function(e){(i=n.findByField(t,r,e))&&n.removeItem(t,i)})}},n.removeItems=function(t,r){if(!n.isEmpty(t)&&!n.isEmpty(r))for(var e,i=0,u=r.length;i<u;i++)e=r[i],n.removeItem(t,e)},n.removeItemAt=function(t,r){var e;return!n.isEmpty(t)&&r<=t.length&&r>=0&&(e=t.splice(r,1)[0]),e},n.append=function(n,t){if(n&&n!==t)for(var r,e=0,i=n.length;e<i;e++)r=n[e],t.push(r)},n.appendItemsIfNotPresent=function(t,r){var e=[];if(t&&t!==r)for(var i,u=0,o=t.length;u<o;u++)i=t[u],n.addItemIfNotPresent(r,i)&&e.push(i);return e},n.arraysEqualByContents=function(t,r){return n.isEmpty(t)?n.isEmpty(r):!n.isEmpty(r)&&(t.length===r.length&&t.every(function(n){return r.indexOf(n)>=0}))},n.arraysEqual=function(t,r){return n.arraysEqualByFunction(t,r,function(n,t){return n===t})},n.arraysEqualByFunction=function(t,r,e){var i=!1;if(t===r||n.isEmpty(t)&&n.isEmpty(r))i=!0;else if(n.isNotEmpty(t)&&n.isNotEmpty(r)){var u=t.length;if(u===r.length){i=!0;for(var o=0;o<u;o++)if(!e(t[o],r[o])){i=!1;break}}}return i},n.clearArray=function(t){n.isEmpty(t)||t.splice(0,t.length)},n.arraySizeConsiderNull=function(t){return n.isEmpty(t)?0:t.length},n.filter=function(n,t){return n.filter(t)},n.isSubset=function(t,r){if(n.isEmpty(t))return!0;if(n.isEmpty(r))return!1;for(var e=n.arraySizeConsiderNull(t),i=0;i<e;i++){var u=t[i];if(!n.containsItem(r,u))return!1}return!0},n.complement=function(n,t){for(var r=new Set,e=0,i=t;e<i.length;e++){var u=i[e];r.add(u)}return n.filter(function(n){return!r.has(n)})},n.itemToNonNullArray=function(n){return null===n?[]:[n]},n.nonNullArray=function(n){return null===n?[]:n},n.unique=function(n){var t={};if(n)for(var r=0;r<n.length;++r)t[n[r]]=!0;return Object.keys(t)},n.uniquify=function(n,t){void 0===t&&(t=function(n){return n.toString()});var r={};return(n||[]).filter(function(n){return!r[t(n)]&&(r[t(n)]=!0)})},n.isSet=function(n,t){void 0===t&&(t=function(n){return n.toString()});var r={};return!(n||[]).some(function(n){var e=t(n);return!!r[e]||(r[e]=!0,!1)})},n.intersect=function(n,t,r){void 0===r&&(r=null);var e,i,u=[];if(n&&t)if(r)for(e=0;e<n.length;e++)for(i=0;i<t.length;i++)n[e][r]===t[i][r]&&u.push(n[e]);else for(e=0;e<n.length;e++)for(i=0;i<t.length;i++)n[e]===t[i]&&u.push(n[e]);return u},n.partition=function(n,t){var r=[[],[]];return t&&(r=[t.filter(n),t.filter(FunctionUtil.not(n))]),r},n.zip=function(t,r){return n.zipWith(function(n,t){return[n,t]},t,r)},n.zipWith=function(n,t,r){for(var e=[],i=0;i<Math.min(t.length,r.length);++i)e.push(n(t[i],r[i]));return e},n}()});",
	"sas/ev/shared/jobMonitor/utils/graph/FunctionUtil.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(n){\"use strict\";return n.sap.declare(\"sas.ev.shared.jobMonitor.utils.graph.FunctionUtil\"),sas.ev.shared.jobMonitor.utils.graph.FunctionUtil=function(){function n(){}return n.once=function(t){return n.upToNTimes(t,1)},n.upToNTimes=function(n,t){var r=+t;return function(){if(--r>0)return n.apply(this,arguments)}},n.getterFor=function(n){return function(){return n}},n.not=function(n){return function(t){return!n(t)}},n}()});",
	"sas/ev/shared/jobMonitor/utils/graph/GraphEventValues.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.jobMonitor.utils.graph.GraphEventValues\"),sas.ev.shared.jobMonitor.utils.graph.GraphEventValues=function(){function e(){this.isPieOther=!1,this.isAllOthers=!1,this._location=null,this._localX=null,this._localY=null,this._sourceEvent=null,this._x=null,this._y=null}return Object.defineProperty(e.prototype,\"localX\",{get:function(){return this._localX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"localY\",{get:function(){return this._localY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sourceEvent\",{get:function(){return this._sourceEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"x\",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"y\",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.createFromGesture=function(t){var r=new e;if(t){var n=void 0;for(var o in t)n=\"_\"+o,r.hasOwnProperty(n)&&(r[n]=t[o])}return r},e.createFromBrowserEvent=function(t){var r=new e;return t&&(r._sourceEvent=t,null===t.offsetX||void 0===t.offsetX?void 0===t.layerX&&t.originalEvent?(r._localX=t.originalEvent.layerX,r._localY=t.originalEvent.layerY):(r._localX=t.layerX,r._localY=t.layerY):(r._localX=t.offsetX,r._localY=t.offsetY)),r},e.createFromPoint=function(t){var r=new e;return t&&(r._localX=t.x,r._localY=t.y),r},e}()});",
	"sas/ev/shared/jobMonitor/utils/graph/GraphPickUtil.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";e.sap.require(\"sas.ev.shared.jobMonitor.utils.graph.GraphEventValues\");var t=sas.ev.shared.jobMonitor.utils.graph.GraphEventValues;return e.sap.declare(\"sas.ev.shared.jobMonitor.utils.graph.GraphPickUtil\"),sas.ev.shared.jobMonitor.utils.graph.GraphPickUtil=function(){function r(){}return r.getPickResultsFromGesture=function(e,s){var a=t.createFromGesture(e);return r.getPickResults(a,s)},r.getPickResultsFromEvent=function(e,s){var a=t.createFromBrowserEvent(e);return r.getPickResults(a,s)},r.getPickResults=function(t,r){var s=null;return t&&t.localX>=0&&t.localY>=0&&r&&e.isFunction(r.getPickResults)&&(s=r.getPickResults(t.localX,t.localY)),s},r}()});",
	"sas/ev/shared/jobMonitor/utils/graph/GraphUIView.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.graph.GraphView\");var e=sas.hc.graph.GraphView;jQuery.sap.require(\"sas.ltjs.gtl.models.LabelValuePickResultDetails\");var i=sas.ltjs.gtl.models.LabelValuePickResultDetails;jQuery.sap.require(\"sas.ev.shared.jobMonitor.utils.graph.CollectionUtil\");var t=sas.ev.shared.jobMonitor.utils.graph.CollectionUtil;jQuery.sap.require(\"sas.ev.shared.jobMonitor.utils.graph.GraphPickUtil\");var r=sas.ev.shared.jobMonitor.utils.graph.GraphPickUtil;jQuery.sap.require(\"sas.ev.shared.jobMonitor.utils.graph.UIViewRenderer\");var s=sas.ev.shared.jobMonitor.utils.graph.UIViewRenderer;e.extend(\"sas.ev.shared.jobMonitor.utils.graph.GraphUIView\",{metadata:{properties:{width:{type:\"sap.ui.core.CSSSize\",group:\"Dimension\",defaultValue:\"100%\"},height:{type:\"sap.ui.core.CSSSize\",group:\"Dimension\",defaultValue:\"100%\"}},publicMethods:[],aggregations:{},events:{graphHyperlinkAxisClicked:{},graphTextClicked:{},graphDataClicked:{}}},renderer:s,constructor:function(){e.prototype.constructor.apply(this,arguments),this.setPosition(\"absolute\")},init:function(){e.prototype.init&&e.prototype.init.apply(this,arguments)},onBeforeRendering:function(){e.prototype.onBeforeRendering&&e.prototype.onBeforeRendering.apply(this,arguments),this.$().off(\"click\")},onAfterRendering:function(){e.prototype.onAfterRendering&&e.prototype.onAfterRendering.apply(this,arguments),this.$().on(\"click\",this._onClick.bind(this))},exit:function(){this.$().off(\"click\"),e.prototype.exit&&e.prototype.exit.apply(this,arguments)},_onClick:function(e){var s=r.getPickResultsFromEvent(e,this);if(t.isNotEmpty(s)){var o,a;s.forEach(function(e){e&&(o=e.getDetails(),o instanceof i&&(this.fireGraphTextClicked({details:o}),o.getIsHyperlink()&&this.fireGraphHyperlinkAxisClicked({details:o})),(a=e.getEntries())&&this.fireGraphDataClicked({entries:a}))},this)}}})}();",
	"sas/ev/shared/jobMonitor/utils/graph/Point.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(t){\"use strict\";return t.sap.declare(\"sas.ev.shared.jobMonitor.utils.graph.Point\"),sas.ev.shared.jobMonitor.utils.graph.Point=function(){function t(t,n){this.x=t,this.y=n}return t.equals=function(t,n){return t&&n&&t.x===n.x&&t.y===n.y},t.prototype.toString=function(){return\"[x=\"+this.x+\", y=\"+this.y+\"]\"},t}()});",
	"sas/ev/shared/jobMonitor/utils/graph/StringUtil.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(r){\"use strict\";return r.sap.declare(\"sas.ev.shared.jobMonitor.utils.graph.StringUtil\"),sas.ev.shared.jobMonitor.utils.graph.StringUtil=function(){function r(){}return r.isEmpty=function(r){return!r||0===r.length},r.isString=function(r){return\"string\"==typeof r||r instanceof String},r.isBlank=function(r){return!r||/^\\s*$/.test(r)},r.isNullOrEmpty=function(t){return r.isEmpty(t)||r.isBlank(t)},r.equalsIgnoreCase=function(r,t){return null!==r&&null!==t&&(r=r.toLowerCase(),t=t.toLowerCase(),r===t)},r.containsIgnoreCase=function(r,t){return null!==r&&null!==t&&(r=r.toLowerCase(),t=t.toLowerCase(),r.indexOf(t)>=0)},r.startsWith=function(t,n){if(r.isNullOrEmpty(t))return r.isNullOrEmpty(n);if(r.isNullOrEmpty(n))return!1;if(n.length>t.length)return!1;for(var e=0;e<n.length;++e)if(n.charAt(e)!==t.charAt(e))return!1;return!0},r.endsWith=function(t,n){if(r.isNullOrEmpty(t))return r.isNullOrEmpty(n);if(r.isNullOrEmpty(n))return!1;if(n.length>t.length)return!1;for(var e=n.length-1,l=t.length-1;e>=0;e--,l--)if(n.charAt(e)!==t.charAt(l))return!1;return!0},r.replaceAll=function(t,n,e){var l=n.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g,\"\\\\$1\");return r.isNullOrEmpty(t)?null:t.replace(new RegExp(l,\"g\"),e)},r.equalsAllowNull=function(t,n){return!(!r.isNullOrEmpty(t)||!r.isNullOrEmpty(n))||t===n},r.compress=function(t,n){return void 0===n&&(n=\" \"),r.isNullOrEmpty(t)?null:t.replace(new RegExp(n,\"g\"),\"\")},r}()});",
	"sas/ev/shared/jobMonitor/utils/graph/UIViewRenderer.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsas.ev.shared.jobMonitor.utils.graph.UIViewRenderer={},sas.ev.shared.jobMonitor.utils.graph.UIViewRenderer.render=function(e,t){e.write(\"<div\"),e.writeControlData(t),e.addStyle(\"width\",t.getWidth()),e.addStyle(\"height\",t.getHeight()),e.addStyle(\"top\",t.getTop()),e.addStyle(\"left\",t.getLeft()),e.addStyle(\"position\",t.getPosition()),e.addStyle(\"overflow\",\"hidden\"),e.writeStyles(),e.writeClasses(),t.getFocusable()&&e.writeAttribute(\"tabindex\",\"0\"),e.write(\">\"),t._renderChildren(e),e.write(\"</div>\")};",
	"sas/ev/shared/jobMonitor/utils/JobMonitorProperties.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"sap/ui/thirdparty/jquery\"],function(T){\"use strict\";return T.sap.declare(\"sas.ev.shared.jobMonitor.utils.JobMonitorProperties\"),sas.ev.shared.jobMonitor.utils.JobMonitorProperties=function(){function T(){}return T.JOB_STATUS_PENDING=\"pending\",T.JOB_STATUS_RUNNING=\"running\",T.JOB_STATUS_COMPLETED=\"completed\",T.JOB_STATUS_COMPLETED_ERROR=\"error\",T.JOB_STATUS_COMPLETED_WARNING=\"warning\",T.JOB_STATUS_COMPLETED_INFO=\"info\",T.JOB_STATUS_COMPLETED_FATAL=\"fatal\",T.JOB_STATUS_COMPLETED_DIAGNOSTIC=\"diagnostic\",T.JOB_STATUS_CANCELED=\"canceled\",T.JOB_STATUS_FAILED=\"failed\",T.JOB_STATUS_TIMED_OUT=\"timedOut\",T.JOB_STATUS_UNKNOWN=\"unknown\",T.JOB_STATUS_COLOR_PENDING=14804465,T.JOB_STATUS_COLOR_RUNNING=2006697,T.JOB_STATUS_COLOR_COMPLETED=10140223,T.JOB_STATUS_COLOR_CANCELED=16030014,T.JOB_STATUS_COLOR_FAILED=10895914,T.JOB_STATUS_COLOR_TIMED_OUT=10895914,T.SELECTED_DATES_COUNT=1,T.DATE_RANGE_SEP=\"<>\",T.NEXT=\"next\",T.USERS_START_VALUE=0,T.USERS_LIMIT_VALUE=100,T.EMPTY_STRING=\"\",T.DEFAULT_START=0,T.DEFAULT_LIMIT=20,T.DEFAULT_DATE_FILTER=\"1d\",T}()});",
	"sas/ev/shared/jobMonitor/utils/JobMonitorUtils.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\",\"sas/ev/shared/jobMonitor/utils/JobMonitorProperties\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(e,t){\"use strict\";return e.sap.declare(\"sas.ev.shared.jobMonitor.utils.JobMonitorUtils\"),sas.ev.shared.jobMonitor.utils.JobMonitorUtils={defaultTimeout:3e4,rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.jobMonitor\"),logger:sas.log.getLogger(\"sas.ev.shared.jobMonitor.utils.JobMonitorUtils\"),retrieveUserIds:function(e,t,s,r,o,n,i){var a=this,u=\"/identities/users\";u+=\"?&start=\"+(e||0),u+=\"&limit=\"+(t||100),u+=\"&sortBy=\"+(r||\"id:ascending\"),s&&(u+=\"&filter=startsWith($primary,id,'\"+s+\"')\"),sas.ajax({url:u,type:\"GET\",headers:{accept:\"application/vnd.sas.collection+json\"}}).done(function(e,t,s){if(s&&a.isSuccessNoContentResponseCode(s.status))return void(o?o(null):a.logger.debug(\"success to run retrieveUserIds\"));o?o(e):a.logger.debug(\"success to run retrieveUserIds: \"+e)}).fail(function(e,t,s){var r=s;e&&(e.responseJSON?r=e.responseJSON:e.responseText&&(r=e.responseText)),n?n(r):a.logger.warning(\"failed to run retrieveUserIds: \"+r)}).always(function(){i&&i()})},isSuccessNoContentResponseCode:function(e){switch(e){case 202:case 204:case 205:return!0}return!1},getFilteredJobRuns:function(s,r,o,n,i){var a=this,u=null,l=null;if(s)u=s;else if(u=\"/jobExecution/jobs?start=\"+t.DEFAULT_START,l=r?e.extend({},r.currentFilters.getData()):null,u=l&&l.limit?u+\"&limit=\"+l.limit:u+\"&limit=\"+t.DEFAULT_LIMIT,l){l.sortBy&&(u=u+\"&sortBy=\"+l.sortBy);var T=[];if(l.nameFilter){var g=\"contains($primary,name,'\"+l.nameFilter+\"')\";T.push(g)}if(l.dateFilter)if(l.dateFilter.indexOf(\"<>\")>=0){var c=l.dateFilter.split(\"<>\");if(2===c.length){var d=new Date(c[0]);d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0);var S=new Date(c[1]);S.setHours(24),S.setMinutes(0),S.setSeconds(0),S.setMilliseconds(0);var U=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getMilliseconds())),b=new Date(Date.UTC(S.getUTCFullYear(),S.getUTCMonth(),S.getUTCDate(),S.getUTCHours(),S.getUTCMinutes(),S.getUTCSeconds(),S.getMilliseconds()));T.push(\"and(ge(creationTimeStamp,'\"+U.toISOString()+\"'),lt(creationTimeStamp,'\"+b.toISOString()+\"'))\")}}else{var _=new Date,O=null;if(\"1h\"===l.dateFilter?O=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours()-1,_.getMinutes(),_.getSeconds(),_.getMilliseconds()):\"6h\"===l.dateFilter?O=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours()-6,_.getMinutes(),_.getSeconds(),_.getMilliseconds()):\"12h\"===l.dateFilter?O=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours()-12,_.getMinutes(),_.getSeconds(),_.getMilliseconds()):\"1d\"===l.dateFilter?O=new Date(_.getFullYear(),_.getMonth(),_.getDate()-1,_.getHours(),_.getMinutes(),_.getSeconds(),_.getMilliseconds()):\"2d\"===l.dateFilter&&(O=new Date(_.getFullYear(),_.getMonth(),_.getDate()-2,_.getHours(),_.getMinutes(),_.getSeconds(),_.getMilliseconds())),O){var h=new Date(Date.UTC(O.getUTCFullYear(),O.getUTCMonth(),O.getUTCDate(),O.getUTCHours(),O.getUTCMinutes(),O.getUTCSeconds(),O.getMilliseconds()));T.push(\"gt(creationTimeStamp,'\"+h.toISOString()+\"')\")}}if(l.statusFilters){var C=\"\";if(l.statusFilters.indexOf(t.JOB_STATUS_UNKNOWN)>=0){var p=[t.JOB_STATUS_UNKNOWN,t.JOB_STATUS_CANCELED,t.JOB_STATUS_COMPLETED,t.JOB_STATUS_FAILED,t.JOB_STATUS_PENDING,t.JOB_STATUS_RUNNING,t.JOB_STATUS_TIMED_OUT],D=l.statusFilters.split(\",\");e.each(D,function(e,t){p.splice(p?Array.prototype.indexOf.call(p,t):-1,1)}),e.each(p,function(e,t){C+=\"ne($primary,state,'\"+t+\"'),\"}),C=\"and(\"+C.substr(0,C.length-1)+\")\"}else C=\"in($primary,state,\"+l.statusFilters+\")\";T.push(C)}if(l.requestFilters){var A=\"in(jobRequest.id,\"+l.requestFilters+\")\";T.push(A)}if(l.userFilters){var f=\"\";e.each(l.userFilters.split(\",\"),function(e,t){f+=\"'\"+t+\"',\"}),f=\"in(createdBy,\"+f.substr(0,f.length-1)+\")\",T.push(f)}T.length>0&&(1===T.length?u+=\"&filter=\"+T[0]:u+=\"&filter=and(\"+T.join(\",\")+\")\")}sas.ajax({url:u,type:\"GET\",headers:{accept:\"application/vnd.sas.collection+json\"}}).done(function(t,s,n){if(l){var i=r?e.extend({},r.currentFilters.getData()):null;if(JSON.stringify(i)!==JSON.stringify(l))return}if(n&&a.isSuccessNoContentResponseCode(n.status))return void(o?o(null):a.logger.debug(\"success to run getFilteredJobRuns\"));o?o(t):a.logger.debug(\"success to run getFilteredJobRuns: \"+t)}).fail(function(t,s,o){var i=r?e.extend({},r.currentFilters.getData()):null;if(JSON.stringify(i)===JSON.stringify(l)){var u=o;t&&(t.responseJSON?u=t.responseJSON:t.responseText&&(u=t.responseText)),n?n(u):a.logger.warning(\"failed to run getFilteredJobRuns: \"+u)}}).always(function(){i&&i()})},jobStateDetailsTextFormatter:function(e,s){var r=this;switch(e){case t.JOB_STATUS_PENDING:return r.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.pending.txt\");case t.JOB_STATUS_RUNNING:return r.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.running.txt\");case t.JOB_STATUS_CANCELED:return r.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.canceled.txt\");case t.JOB_STATUS_COMPLETED:return s===t.JOB_STATUS_COMPLETED_WARNING||s===t.JOB_STATUS_COMPLETED_DIAGNOSTIC?r.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.completed.warning.txt\"):s===t.JOB_STATUS_COMPLETED_ERROR||s===t.JOB_STATUS_COMPLETED_FATAL?r.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.completed.error.txt\"):r.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.completed.txt\");case t.JOB_STATUS_FAILED:return r.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.failed.txt\");case t.JOB_STATUS_TIMED_OUT:return r.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.timedout.txt\");default:return r.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.unknown.txt\")}},jobStatusTextFormatter:function(e){var s=this;switch(e){case t.JOB_STATUS_PENDING:return s.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.pending.txt\");case t.JOB_STATUS_RUNNING:return s.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.running.txt\");case t.JOB_STATUS_CANCELED:return s.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.canceled.txt\");case t.JOB_STATUS_COMPLETED:return s.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.completed.txt\");case t.JOB_STATUS_FAILED:return s.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.failed.txt\");case t.JOB_STATUS_TIMED_OUT:return s.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.timedout.txt\");default:return s.rb.getText(\"sas.ev.shared.jobmonitor.joblist.status.unknown.txt\")}},jobStatusIconFormatter:function(e,s){var r=sap.ui.getCore().getModel(\"sasIcons\");switch(e){case t.JOB_STATUS_PENDING:return r.getProperty(\"/HC/SCHEDULEDSTATUS\");case t.JOB_STATUS_RUNNING:return r.getProperty(\"/HC/PROGRESSSTATUS\");case t.JOB_STATUS_CANCELED:return r.getProperty(\"/HC/CANCELEDSTATUS\");case t.JOB_STATUS_COMPLETED:return r.getProperty(\"/HC/COMPLETESTATUS\");case t.JOB_STATUS_FAILED:case t.JOB_STATUS_TIMED_OUT:return r.getProperty(\"/HC/ERRORSTATUS\");default:return r.getProperty(\"/HC/NEUTRALSTATUS\")}}}});",
	"sas/ev/shared/jobMonitor/view/JobMonitor.view.js": "!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.SearchField\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.ui.core.Item\"),jQuery.sap.require(\"sas.hc.m.MenuButton\"),jQuery.sap.require(\"sas.hc.m.Menu\"),jQuery.sap.require(\"sas.hc.m.MenuItem\"),jQuery.sap.require(\"sas.dm.commons.components.ActionButton\"),jQuery.sap.require(\"sas.hc.ui.layout.Splitter\"),jQuery.sap.require(\"sas.hc.ui.commons.facetFilter.FacetPanel\"),jQuery.sap.require(\"sas.hc.ui.commons.facetFilter.ListFacet\"),jQuery.sap.require(\"sas.hc.ui.layout.SplitterLayoutData\"),jQuery.sap.require(\"sas.hc.ui.commons.facetFilter.FacetTokenizer\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.SegmentedButton\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.ui.commons.facetFilter.ModelFilterProvider\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.ZeroState\"),jQuery.sap.require(\"sas.ev.shared.jobMonitor.utils.JobMonitorProperties\"),jQuery.sap.require(\"sap.ui.core.CustomData\"),jQuery.sap.require(\"sap.ui.core.mvc.JSView\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sap.ui.core.mvc.View\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sap.m.library\");var e=sas.hc.m.FlexBox,t=sas.hc.m.Label,s=sas.hc.m.SearchField,a=sas.hc.m.ToolbarSpacer,i=sas.hc.m.ResponsiveToolbar,r=sas.hc.m.Select,o=sas.hc.ui.core.Item,l=sas.hc.m.MenuButton,n=sas.hc.m.Menu,u=sas.hc.m.MenuItem,c=sas.dm.commons.components.ActionButton,h=sas.hc.ui.layout.Splitter,d=sas.hc.ui.commons.facetFilter.FacetPanel,b=sas.hc.ui.commons.facetFilter.ListFacet,m=sas.hc.ui.layout.SplitterLayoutData,p=sas.hc.ui.commons.facetFilter.FacetTokenizer,g=sas.hc.m.FlexItemData,w=sas.hc.m.SegmentedButton,y=sas.hc.m.Button,T=sas.hc.m.ZeroState,j=sas.hc.ui.commons.facetFilter.ModelFilterProvider,S=sap.ui.core.CustomData,v=sas.ev.shared.jobMonitor.utils.JobMonitorProperties;sap.ui.jsview(\"sas.ev.shared.jobMonitor.view.JobMonitor\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.jobMonitor\"),getControllerName:function(){return sas.log.info(\"sas.ev.shared.jobMonitor.controller.JobMonitor called.\"),\"sas.ev.shared.jobMonitor.controller.JobMonitor\"},createContent:function(F){var x=this;this.tokenizer=new p({id:\"facetTokenizer\",countUnits:this.rb.getText(\"sas.ev.shared.jobmonitor.tokenizer.title.txt\")}),this.nameListFacet=new b({id:\"listFacetNames\",fieldName:\"name\",showSelectAll:!1,showZeroCounts:!1,usesFacetItems:!1,visible:!1,text:this.rb.getText(\"sas.ev.shared.jobmonitor.filters.name.control.label\")}),this.userListFacet=new b({id:\"listFacetUsers\",fieldName:\"createdBy\",showSelectAll:!1,showZeroCounts:!1,showMoreThreshold:100,searchThreshold:0,usesFacetItems:!1,text:this.rb.getText(\"sas.ev.shared.jobmonitor.filters.users.control.label\")}).addStyleClass(\"listFacetPanel\"),this.statusListFacet=new b({id:\"listFacetStatus\",fieldName:\"state\",showSelectAll:!1,showZeroCounts:!1,text:this.rb.getText(\"sas.ev.shared.jobmonitor.filters.jobStatus.control.label\"),usesFacetItems:!1,maxHeight:\"15rem\",formatFunction:$.proxy(F.onStatusFormatFunction,F),facetItems:[{value:v.JOB_STATUS_CANCELED,count:0,selected:!1},{value:v.JOB_STATUS_RUNNING,count:0,selected:!1},{value:v.JOB_STATUS_COMPLETED,count:0,selected:!1},{value:v.JOB_STATUS_TIMED_OUT,count:0,selected:!1},{value:v.JOB_STATUS_PENDING,count:0,selected:!1},{value:v.JOB_STATUS_FAILED,count:0,selected:!1},{value:v.JOB_STATUS_UNKNOWN,count:0,selected:!1}]}).addStyleClass(\"listFacetPanel\"),this.facetPanel=new d({id:\"filtersFacetPanel\",title:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.title.txt\"),height:\"100%\",tokenizer:this.tokenizer,autoUpdate:!1,facetsChange:[F.onFacetsChange,F],facets:[this.statusListFacet,this.userListFacet,this.nameListFacet],layoutData:new m({size:\"20%\",collapsible:!0})}).addStyleClass(\"evViewFacet\");var C=new s({id:\"nameFilterField\",placeholder:this.rb.getText(\"sas.ev.shared.jobmonitor.nameFilter.placeholder.txt\"),searchButtonToolTip:this.rb.getText(\"sas.ev.shared.jobmonitor.nameFilter.searchButton.tip\"),searchClearToolTip:this.rb.getText(\"sas.ev.shared.jobmonitor.nameFilter.clearButton.tip\"),search:[F.onSearchJobFunction,F],filterMode:!1}).addStyleClass(\"nameFilterSearchField\");this.filterProvider=new j({dataPath:\"/items\",facetPanel:this.facetPanel,searchField:C,searchFieldPaths:[\"name\"]});var f=new w({id:this.createId(\"jobViewsSegmentedBtn\"),buttons:[new y({icon:sas.icons.HC.LISTTABLE,press:function(){x.jobScheduleView&&x.jobScheduleView.getVisible()&&x.jobScheduleView.setVisible(!1),x.graphZeroState&&x.graphZeroState.getVisible()&&x.graphZeroState.setVisible(!1),x.jobTableView&&!x.jobTableView.getVisible()&&x.jobTableView.setVisible(!0)}}),new y({icon:sas.icons.HC.HORIZONTALBARCHART,press:function(){x.jobTableView&&x.jobTableView.getVisible()&&x.jobTableView.setVisible(!1),F.updateGraphChartAndState(!1)}})]}),P=new i({content:[C,f,new a,new t({id:\"dateFilterLabel\",text:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.control.label\")}).addStyleClass(\"dateFilterLabel\"),new l({id:\"dateFilterButton\",text:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.twentyFourHours.action.label\"),tooltip:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.dateFilter.tip\"),menu:[new n({itemSelected:[F.handleMenuItemPress,F],items:[new u({text:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.oneHour.action.label\")}).addCustomData(new S({key:\"key\",value:\"1h\"})),new u({text:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.sixHours.action.label\")}).addCustomData(new S({key:\"key\",value:\"6h\"})),new u({text:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.twelveHours.action.label\")}).addCustomData(new S({key:\"key\",value:\"12h\"})),new u({text:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.twentyFourHours.action.label\")}).addCustomData(new S({key:\"key\",value:\"1d\"})),new u({text:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.fortyEightHours.action.label\")}).addCustomData(new S({key:\"key\",value:\"2d\"})),new u({text:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.customDateRange.action.label\")}).addCustomData(new S({key:\"key\",value:\"dateRange\"}))]})]}).addCustomData(new S({key:\"key\",value:v.DEFAULT_DATE_FILTER})).addStyleClass(\"dateFilterMenuButton\"),new c({id:\"refreshButton\",tooltip:this.rb.getText(\"sas.ev.shared.jobmonitor.filter.refreshFilters.tip\"),icon:sas.icons.HC.REFRESH,press:[F.onRefresh,F]})]}).addStyleClass(\"evTableToolbar\");this.jobTableView=sap.ui.view({id:\"jobTableListView\",viewName:\"sas.ev.shared.jobMonitor.view.JobTable\",type:sap.ui.core.mvc.ViewType.JS,layoutData:new g({growFactor:1}),height:\"100%\"}).addStyleClass(\"sasFillSpace\"),this.jobScheduleView=sap.ui.view({id:\"jobScheduleChartView\",viewName:\"sas.ev.shared.jobMonitor.view.JobScheduleChart\",type:sap.ui.core.mvc.ViewType.JS,layoutData:new g({growFactor:1}),height:\"100%\"}).addStyleClass(\"sasFillSpace\"),this.jobScheduleView.setVisible(!1),this.graphZeroState=new T({busyIndicatorDelay:0,text:this.rb.getText(\"sas.ev.shared.jobmonitor.zeroState.graph.msg\"),icon:sas.icons.HC.ZEROSTATEGRAPH,layoutData:new g({growFactor:1})}).addStyleClass(\"sasFillSpace sasEVLogsViewZeroStateGraph\"),this.graphZeroState.setVisible(!1),this.pagingSelect=new r({selectedKey:v.DEFAULT_LIMIT,change:[F.onResultsPerPageChange,F],items:[new o({key:\"10\",text:this.rb.getText(\"sas.ev.shared.jobmonitor.results.tenPerPage.action.label\")}),new o({key:\"20\",text:this.rb.getText(\"sas.ev.shared.jobmonitor.results.twentyPerPage.action.label\")}),new o({key:\"30\",text:this.rb.getText(\"sas.ev.shared.jobmonitor.results.thirtyPerPage.action.label\")}),new o({key:\"40\",text:this.rb.getText(\"sas.ev.shared.jobmonitor.results.fourtyPerPage.action.label\")}),new o({key:\"50\",text:this.rb.getText(\"sas.ev.shared.jobmonitor.results.fiftyPerPage.action.label\")})]}).addStyleClass(\"resultPerPageListRightMargin\"),this.preButton=new y({icon:sas.icons.HC.PAGECONTROLLEFTARROW,enabled:!1,press:[F.onPreviousPage,F],tooltip:this.rb.getText(\"sas.ev.shared.jobmonitor.results.previousPage.tooltip.txt\"),design:sas.hc.m.Button.Design.SmallNeutral}),this.displayingLabel=new t({text:this.rb.getText(\"sas.ev.shared.jobmonitor.results.displaying.fmt.label\",[1,v.DEFAULT_LIMIT])}),this.nextButton=new y({icon:sas.icons.HC.PAGECONTROLRIGHTARROW,enabled:!1,press:[F.onNextPage,F],tooltip:this.rb.getText(\"sas.ev.shared.jobmonitor.results.nextPage.tooltip.txt\"),layoutData:new g({growFactor:1}),design:sas.hc.m.Button.Design.SmallNeutral});var B=new e({direction:\"Column\",items:[this.tokenizer,P,this.jobTableView,this.jobScheduleView,this.graphZeroState,new e({direction:\"Row\",alignItems:sap.m.FlexAlignItems.Center,items:[new t({text:this.rb.getText(\"sas.ev.shared.jobmonitor.results.view.label\")}).addStyleClass(\"sapUiTinyMarginEnd\"),this.pagingSelect,this.preButton,this.displayingLabel,this.nextButton]}).addStyleClass(\"sapUiTinyMarginTop\")],height:\"100%\"}).addStyleClass(\"sasEvContentRight\"),L=new h({id:\"filtersSplitter\",layoutData:new g({growFactor:1}),height:\"100%\",contentAreas:[this.facetPanel,B]}).addStyleClass(\"evViewSplitter sasDarkBackgroundLight\"),V=new e({direction:\"Column\",items:[L],height:\"100%\"});return sap.ui.getCore().getEventBus().subscribe(\"sasevschedulingJobsview\",\"EVJobMonitorRefresh\",function(e){F.onRefresh(!1)}),V}})}();",
	"sas/ev/shared/jobMonitor/view/JobScheduleChart.view.js": "!function(){\"use strict\";jQuery.sap.require(\"sas.ev.shared.jobMonitor.utils.graph.GraphUIView\"),jQuery.sap.require(\"sap.ui.core.mvc.JSView\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\");var e=sas.ev.shared.jobMonitor.utils.graph.GraphUIView;sap.ui.jsview(\"sas.ev.shared.jobMonitor.view.JobScheduleChart\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.jobMonitor\"),getControllerName:function(){return sas.log.info(\"sas.ev.shared.jobMonitor.controller.JobScheduleChart called.\"),\"sas.ev.shared.jobMonitor.controller.JobScheduleChart\"},createContent:function(r){return this.graphView=new e({id:\"jobsScheduleChartGraphView\",width:\"100%\",height:\"100%\",graphDataClicked:[r.onGraphDataClicked,r]}),this.graphView}})}();",
	"sas/ev/shared/jobMonitor/view/JobTable.view.js": "!function(){\"use strict\";jQuery.sap.require(\"sas.hc.ui.table.Table\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.ui.table.Column\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Text\"),jQuery.sap.require(\"sas.hc.m.HBox\"),jQuery.sap.require(\"sas.hc.m.Image\"),jQuery.sap.require(\"sas.hc.m.Link\"),jQuery.sap.require(\"sas.hc.ui.unified.Menu\"),jQuery.sap.require(\"sas.hc.ui.unified.MenuItem\"),jQuery.sap.require(\"sas.ev.shared.jobMonitor.utils.JobMonitorUtils\"),jQuery.sap.require(\"sap.ui.core.mvc.JSView\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.table.library\");var e=sas.hc.ui.table.Table,t=sas.hc.m.FlexItemData,a=sas.hc.ui.table.Column,o=sas.hc.m.Label,n=sas.hc.m.Link,r=sas.ev.shared.jobMonitor.utils.JobMonitorUtils,i=sas.hc.m.HBox,s=sas.hc.m.Image;sap.ui.jsview(\"sas.ev.shared.jobMonitor.view.JobTable\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.jobMonitor\"),getControllerName:function(){return sas.log.info(\"sas.ev.shared.jobMonitor.controller.JobTable called.\"),\"sas.ev.shared.jobMonitor.controller.JobTable\"},createContent:function(l){var u=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{name}\",tooltip:\"{name}\",textAlign:\"Left\"}),d=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{creationTimeStamp}\",tooltip:\"{creationTimeStamp}\",textAlign:\"Left\"}),c=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{endTimeStamp}\",tooltip:\"{endTimeStamp}\",textAlign:\"Left\"}),b=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{elapsedTime}\",tooltip:\"{elapsedTime}\",textAlign:\"Left\"}),m=new i({width:\"100%\",items:[new s({src:{parts:[{path:\"state\"},{path:\"stateDetails\"}],formatter:function(e,t){return r.jobStatusIconFormatter(e,t)}}}).addStyleClass(\"evJobStatusIcon\"),new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:{parts:[{path:\"state\"},{path:\"stateDetails\"}],formatter:function(e,t){return r.jobStateDetailsTextFormatter(e,t)}},tooltip:{parts:[{path:\"state\"},{path:\"stateDetails\"}],formatter:function(e,t){return r.jobStateDetailsTextFormatter(e,t)}},visible:\"{=${state} !== 'failed'}\",textAlign:\"Left\"}),new n({text:{parts:[{path:\"state\"},{path:\"stateDetails\"}],formatter:function(e,t){return r.jobStateDetailsTextFormatter(e,t)}},tooltip:{parts:[{path:\"state\"},{path:\"stateDetails\"}],formatter:function(e,t){return r.jobStateDetailsTextFormatter(e,t)}},visible:\"{=${state} === 'failed'}\",press:[l.onErrorLinkClick,l]})]}),x=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{createdBy}\",tooltip:\"{createdBy}\",textAlign:\"Left\"}),h=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{jobRequest/jobDefinition/type}\",tooltip:\"{jobRequest/jobDefinition/type}\",textAlign:\"Left\"}),p=new n({text:this.rb.getText(\"sas.ev.shared.jobmonitor.table.column.log.action.label\"),visible:{path:\"logLocation\",formatter:function(e){return!(!e||\"\"===e)}},press:function(e){var t=e.getSource(),a=t.getParent(),o=l.getModelForBindingContext(a.getBindingContext());null!==o&&null!==o.logLocation&&\"\"!==o.logLocation&&sas.ajax({type:\"HEAD\",url:\"/jobExecution/jobs/\"+o.id+\"/logForEV\"}).done(function(e,t,a){var n,r=a.getResponseHeader(\"location\");n=null!==r&&void 0!==r&&r.startsWith(\"/files\")?o.logLocation+\"/content\":\"/jobExecution/jobs/\"+o.id+\"/logForEV\";var i;i=void 0!==o.jobRequest.name?o.jobRequest.name+\"_\"+o.createdBy+\"_\"+o.creationTimeStamp+\".log\":o.createdBy+\"_\"+o.creationTimeStamp+\".log\";var s=$(\"<a>\").attr(\"href\",n).attr(\"download\",i);$(\"body\").append(s),s.get(0).click(),s.remove()})}}),g=new e({id:\"jobListTable\",editable:!1,columnHeaderVisible:!0,selectionBehavior:sas.hc.ui.table.SelectionBehavior.Row,visibleRowCountMode:sas.hc.ui.table.VisibleRowCountMode.Auto,enableColumnReordering:!0,showTableOptions:!0,enableColumnFreeze:!0,selectionMode:sas.hc.ui.table.SelectionMode.Single,enableBusyIndicator:!0,busyIndicatorDelay:0,layoutData:new t({growFactor:1}),columns:[new a({id:\"name\",showSortMenuEntry:!1,required:!0,label:new o({text:this.rb.getText(\"sas.ev.shared.jobmonitor.table.column.name.txt\")}),template:u}),new a({id:\"creationTimeStamp\",showSortMenuEntry:!1,required:!0,label:new o({text:this.rb.getText(\"sas.ev.shared.jobmonitor.table.column.startdate.txt\")}),template:d}),new a({id:\"endDate\",showSortMenuEntry:!1,visible:!1,label:new o({text:this.rb.getText(\"sas.ev.shared.jobmonitor.table.column.enddate.txt\")}),template:c}),new a({id:\"runTime\",showSortMenuEntry:!1,visible:!1,label:new o({text:this.rb.getText(\"sas.ev.shared.jobmonitor.table.column.runtime.txt\")}),template:b}),new a({id:\"status\",width:\"150px\",showSortMenuEntry:!1,required:!0,label:new o({text:this.rb.getText(\"sas.ev.shared.jobmonitor.table.column.status.txt\")}),template:m}),new a({id:\"createdBy\",showSortMenuEntry:!1,required:!0,label:new o({text:this.rb.getText(\"sas.ev.shared.jobmonitor.table.column.createdby.txt\")}),template:x}),new a({id:\"logLocation\",width:\"150px\",showSortMenuEntry:!1,required:!0,label:new o({text:this.rb.getText(\"sas.ev.shared.jobmonitor.table.column.log.txt\")}),template:p}),new a({id:\"environment\",showSortMenuEntry:!1,visible:!1,label:new o({text:this.rb.getText(\"sas.ev.shared.jobmonitor.table.column.environment.txt\")}),template:h})]}).addStyleClass(\"jobListTable\"),w=new sas.hc.ui.unified.Menu(\"sasev_jobExcutionsTable_ContextMenu\",{}),j=new sas.hc.ui.unified.MenuItem({id:\"sasev_jobExcutions_runmenuitem\",text:this.rb.getText(\"sas.ev.shared.jobmonitor.menuitem.run.txt\"),select:function(e){var t=g.getSelectedIndex(),a={};void 0!==g.getContextByIndex(t)&&null!==g.getContextByIndex(t)&&(jQuery.extend(a,g.getContextByIndex(t).getProperty()),l.runObject(a))}}),y=new sas.hc.ui.unified.MenuItem({id:\"sasev_jobExcutions_deletemenuitem\",text:this.rb.getText(\"sas.ev.shared.jobmonitor.menuitem.delete.txt\"),select:function(e){var t=g.getSelectedIndex(),a={};void 0!==g.getContextByIndex(t)&&null!==g.getContextByIndex(t)&&(jQuery.extend(a,g.getContextByIndex(t).getProperty()),l.confirmDeleteJob(a))}});return w.addItem(j),w.addItem(y),g.setAggregation(\"contextMenu\",w),g.attachCellContextmenu($.proxy(function(e){var t=this,a=e.getParameter(\"rowIndex\");if(a>=t.getModel().getData().items.length)return t.getAggregation(\"contextMenu\").setVisible(!1),void e.preventDefault();t.getAggregation(\"contextMenu\").setVisible(!0),!t.isIndexSelected(a)&&t.getContextByIndex(a)&&t.setSelectedIndex(a)},g)),g}})}();",
	"sas/ev/shared/library.js": "/*\n * Copyright 2015 SAS Institute Inc.\n * All Rights Reserved.\n *\n * NOTE: This is a generated file. Changes should be made in the underlying\n * source files (*.js, .library, etc) or they will be lost after the next generation\n */\njQuery.sap.declare(\"sas.ev.shared.library\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sap.ui.layout.library\"),jQuery.sap.require(\"sap.ui.commons.library\"),jQuery.sap.require(\"sas.hc.m.library\"),jQuery.sap.require(\"sas.hc.ui.commons.library\"),sap.ui.getCore().initLibrary({name:\"sas.ev.shared\",dependencies:[\"sap.ui.core\",\"sap.ui.layout\",\"sap.ui.commons\",\"sas.hc.m\",\"sas.hc.ui.commons\"],types:[],interfaces:[],controls:[],elements:[],version:\"4.0.12\"});",
	"sas/ev/shared/schedule/control/AddJobsDialog.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"sas/hc/m/Dialog\",\"sas/hc/m/Button\",\"sap/ui/model/json/JSONModel\",\"sas/hc/ui/commons/dualselector/DualSelector\",\"sas/hc/m/FlexItemData\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(e,t,s,a,o){\"use strict\";var l=e.extend(\"sas.ev.shared.schedule.control.AddJobsDialog\",{metadata:{properties:{availableItemsLabel:{type:\"string\",defaultValue:\"\"},selectedItemsLabel:{type:\"string\",defaultValue:\"\"},availableItems:{type:\"Array\",defaultValue:[]},targetList:{type:\"Array\",defaultValue:[]}},aggregations:{},publicMethods:[\"closeAddJobsDialog\"],events:{},library:\"sas.custom\"},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.AddJobsDialog\",sas.log.Level.DEBUG),renderer:\"sas.hc.m.DialogRenderer\",constructor:function(){e.apply(this,arguments)}});return l.prototype.init=function(){var l=this;e.prototype.init&&e.prototype.init.apply(this,arguments),l.setContentWidth(\"600px\");var i=new s;this.setModel(i);var r={};i.setData(r),r.availableItems=this.getProperty(\"availableItems\"),r.targetList=this.getProperty(\"targetList\");var d=new a({id:l.getId()+\"jobDualSelector\",contextPath:\"/availableItems\",labelField:\"name\",iconLabel:\"bindingIcon\",layoutData:new o({growFactor:1}),applySort:!1,showSearch:!0,sourceLabel:this.getProperty(\"availableItemsLabel\"),targetLabel:this.getProperty(\"selectedItemsLabel\")}),n=new t({text:this.rb.getText(\"sas.ev.shared.schedule.addJobsDialog.okButton.txt\"),enabled:!0,press:[this.onOk,this]}),c=new t({text:this.rb.getText(\"sas.ev.shared.schedule.addJobsDialog.cancelButton.txt\"),press:[this.closeAddJobsDialog,this]});this.addContent(d),this.setLeftButton(n),this.setRightButton(c)},l.prototype.setAvailableItems=function(e){for(var t=this,s=[],a=!1,o=0;o<e.length;o++)a=!1,(e[o].usedInPfd||e[o].bindingObject&&e[o].bindingObject.usedInPfd)&&(a=!0),a||s.push(e[o]);this.getModel().setProperty(\"/availableItems\",s),this.setProperty(\"availableItems\",s),sap.ui.getCore().byId(t.getId()+\"jobDualSelector\").setModel(this.getModel())},l.prototype.setTargetList=function(e){this.getModel().getData().targetList=e,this.setProperty(\"targetList\",e)},l.prototype.setOkCallback=function(e){this.callback=e},l.prototype.setAvailableItemsLabel=function(e){sap.ui.getCore().byId(this.getId()+\"jobDualSelector\").setSourceLabel(e),this.setProperty(\"availableItemsLabel\",e)},l.prototype.setSelectedItemsLabel=function(e){sap.ui.getCore().byId(this.getId()+\"jobDualSelector\").setTargetLabel(e),this.setProperty(\"selectedItemsLabel\",e)},l.prototype.closeAddJobsDialog=function(){this.close(),this.destroy()},l.prototype.onOk=function(){for(var e=this,t=sap.ui.getCore().byId(e.getId()+\"jobDualSelector\"),s=t.getSelectedListModel().getData().itemList,a=[],o=0;o<s.length;o++)s[o].bindingObject?a.push(s[o].bindingObject):a.push(s[o]);this.callback.call(e,a),this.close(),this.destroy()},l});",
	"sas/ev/shared/schedule/control/CmdActionPropertyPane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Cmd Action Property Pane.</p>\n * <p>Description: Property pane for command line action.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.m.TextArea\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.SASFormatterUtil\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.CalendarUtil\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowValidateUtils\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleProperties\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.ui.core.Item\");var e=sas.hc.m.Label,t=sas.hc.m.Input,i=sas.hc.m.FlexBox,a=sas.hc.m.Select,s=sas.hc.m.TextArea,o=sas.ltjs.sasicu.util.SASFormatterUtil,r=sas.ltjs.sasicu.util.CalendarUtil,l=sas.hc.ui.commons.propPane.PropertyPane,d=sas.ev.shared.schedule.utils.FlowValidateUtils,n=sas.ev.shared.schedule.utils.ScheduleProperties;l.extend(\"sas.ev.shared.schedule.control.CmdActionPropertyPane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"},usageMode:{type:\"int\",group:\"Behavior\",defaultValue:n.USAGE_MODE_READONLY}},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.CmdActionPropertyPane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oNameLabel:null,_oNameInput:null,_oDescLabel:null,_oDescTextArea:null,_oCmdLineLabel:null,_oCmdLineTextArea:null,_oPriorityLabel:null,_oPrioritySelect:null,_oCreatedDateLabel:null,_oCreatedDateInput:null,_oCreateByLabel:null,_oCreatedByInput:null,_oModifiedDateLabel:null,_oModifiedDateInput:null,_oModifiedByLabel:null,_oModifiedByInput:null,_oBox:null,init:function(){l.prototype.init&&l.prototype.init.apply(this,arguments);var d=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.HC.PROPERTIES,tooltip:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.tooltip.txt\")});var h=new e({id:d+\"-nameLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.name.label.txt\")});this._oNameLabel=h;var u=new t({id:d+\"-nameInput\",type:sap.m.InputType.Text,value:\"{name}\",change:[this._onNameInputChange,this]}).addStyleClass(\"sapUiTinyMarginTop\");this._oNameInput=u;var _=new e({id:d+\"-descLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.description.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oDescLabel=_;var p=new s({id:d+\"-descTextArea\",value:\"{description}\",change:[this._onDescChange,this]}).addStyleClass(\"sapUiTinyMarginTop\");this._oDescTextArea=p;var c=new e({id:d+\"-cmdLineLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.cmdLine.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCmdLineLabel=c;var y=new s({id:d+\"-cmdLineTextArea\",value:\"{commandLine}\",change:[this._onDataModified,this]}).addStyleClass(\"sapUiTinyMarginTop\");this._oCmdLineTextArea=y;var m=new e({id:d+\"-priorityLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.priority.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oPriorityLabel=m;var b=new a({id:d+\"-prioritySelect\",selectedKey:\"{priority}\",change:[this._onDataModified,this],width:\"100%\",items:[new sas.hc.ui.core.Item({key:n.JOB_PRIORITY_NONE,text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.priority.none.txt\")}),new sas.hc.ui.core.Item({key:n.JOB_PRIORITY_TOP,text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.priority.top.txt\")}),new sas.hc.ui.core.Item({key:n.JOB_PRIORITY_HIGH,text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.priority.high.txt\")}),new sas.hc.ui.core.Item({key:n.JOB_PRIORITY_NORMAL,text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.priority.normal.txt\")}),new sas.hc.ui.core.Item({key:n.JOB_PRIORITY_MEDIUM,text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.priority.medium.txt\")}),new sas.hc.ui.core.Item({key:n.JOB_PRIORITY_LOW,text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.priority.low.txt\")})]}).addStyleClass(\"sapUiTinyMarginTop\");this._oPrioritySelect=b;var I=new e({id:d+\"-createdDateLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.createdDate.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCreatedDateLabel=I;var L=new t({id:d+\"-createdDateInput\",value:{path:\"creationTimeStamp\",formatter:function(e){return e?o.format(r.jsDateToSASDateTime(new Date(e)),\"DATETIME\"):\"\"}},editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oCreatedDateInput=L;var T=new e({id:d+\"-createdByLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.createdBy.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCreateByLabel=T;var f=new t({id:d+\"-createdByInput\",value:\"{createdBy}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oCreatedByInput=f;var D=new e({id:d+\"-modifiedDateLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.modifiedDate.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oModifiedDateLabel=D;var x=new t({id:d+\"-modifiedDateInput\",value:{path:\"modifiedTimeStamp\",formatter:function(e){return e?o.format(r.jsDateToSASDateTime(new Date(e)),\"DATETIME\"):\"\"}},editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oModifiedDateInput=x;var P=new e({id:d+\"-modifiedByLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.cmdActionPropPane.modifiedBy.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oModifiedByLabel=P;var g=new t({id:d+\"-modifiedByInput\",value:\"{modifiedBy}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oModifiedByInput=g;var C=new i({direction:\"Column\",items:[this._oNameLabel,this._oNameInput,this._oDescLabel,this._oDescTextArea,this._oCmdLineLabel,this._oCmdLineTextArea,this._oPriorityLabel,this._oPrioritySelect,this._oCreatedDateLabel,this._oCreatedDateInput,this._oCreateByLabel,this._oCreatedByInput,this._oModifiedDateLabel,this._oModifiedDateInput,this._oModifiedByLabel,this._oModifiedByInput]});this._oBox=C,this.addContent(this._oBox)},_getText:function(e,t,i,a){return this.rb.getText(e,t,i,a)},_validName:function(){var e=d.validateName(this._oNameInput.getValue(),this._oNameInput);return e&&(e=d.validateStringByteLength(this._oNameInput.getValue(),d.NAME_BYTE_LIMIT,this._oNameInput)),e},_onNameInputChange:function(e){this._validName(),this.fireChange({pfdItemId:this.getProperty(\"pfdItemId\"),name:this._oNameInput.getValue()}),this._onDataModified()},_onDescChange:function(e){d.validateStringByteLength(this._oDescTextArea.getValue(),d.DESC_BYTE_LIMIT,this._oDescTextArea),this._onDataModified()},onBeforeRendering:function(){l.prototype.onBeforeRendering&&l.prototype.onBeforeRendering.apply(this,arguments);var e=this.getProperty(\"usageMode\");e===n.USAGE_MODE_READONLY||e===n.USAGE_MODE_READONLY_WITH_STATUS?(this._oNameInput.setEditable(!1),this._oDescTextArea.setEnabled(!1),this._oPrioritySelect.setEnabled(!1),this._oCmdLineTextArea.setEditable(!1)):(this._oNameInput.setEditable(!0),this._oDescTextArea.setEnabled(!0),this._oPrioritySelect.setEnabled(!0),this._oCmdLineTextArea.setEditable(!0));var t=null,i=this.getBindingContext();i&&i.oModel&&i.sPath&&(t=i.oModel.getProperty(i.sPath+\"/id\")),e===n.USAGE_MODE_READONLY||e===n.USAGE_MODE_READONLY_WITH_STATUS||t?(this._oCreatedDateLabel.setVisible(!0),this._oCreatedDateInput.setVisible(!0),this._oCreateByLabel.setVisible(!0),this._oCreatedByInput.setVisible(!0),this._oModifiedDateLabel.setVisible(!0),this._oModifiedDateInput.setVisible(!0),this._oModifiedByLabel.setVisible(!0),this._oModifiedByInput.setVisible(!0)):(this._oCreatedDateLabel.setVisible(!1),this._oCreatedDateInput.setVisible(!1),this._oCreateByLabel.setVisible(!1),this._oCreatedByInput.setVisible(!1),this._oModifiedDateLabel.setVisible(!1),this._oModifiedDateInput.setVisible(!1),this._oModifiedByLabel.setVisible(!1),this._oModifiedByInput.setVisible(!1))},onAfterRendering:function(){l.prototype.onAfterRendering&&l.prototype.onAfterRendering.apply(this,arguments),this._validName()},_onDataModified:function(){var e=this.getProperty(\"usageMode\");if(e===n.USAGE_MODE_NEW||e===n.USAGE_MODE_MODIFY){var t=this.getBindingContext();if(t&&t.oModel&&t.sPath&&t.sPath.indexOf(n.MODEL_PART_OBJ_INFO)>0){var i=t.sPath.replace(n.MODEL_PART_OBJ_INFO,n.PATH_PART_ISMODIFIED);t.oModel.setProperty(i,!0)}}},exit:function(){this._oNameLabel&&(this._oNameLabel.destroy(),this._oNameLabel=null),this._oNameInput&&(this._oNameInput.destroy(),this._oNameInput=null),this._oDescLabel&&(this._oDescLabel.destroy(),this._oDescLabel=null),this._oDescTextArea&&(this._oDescTextArea.destroy(),this._oDescTextArea=null),this._oCmdLineLabel&&(this._oCmdLineLabel.destroy(),this._oCmdLineLabel=null),this._oCmdLineTextArea&&(this._oCmdLineTextArea.destroy(),this._oCmdLineTextArea=null),this._oPriorityLabel&&(this._oPriorityLabel.destroy(),this._oPriorityLabel=null),this._oPrioritySelect&&(this._oPrioritySelect.destroy(),this._oPrioritySelect=null),this._oCreatedDateLabel&&(this._oCreatedDateLabel.destroy(),this._oCreatedDateLabel=null),this._oCreatedDateInput&&(this._oCreatedDateInput.destroy(),this._oCreatedDateInput=null),this._oCreateByLabel&&(this._oCreateByLabel.destroy(),this._oCreateByLabel=null),this._oCreatedByInput&&(this._oCreatedByInput.destroy(),this._oCreatedByInput=null),this._oModifiedDateLabel&&(this._oModifiedDateLabel.destroy(),this._oModifiedDateLabel=null),this._oModifiedDateInput&&(this._oModifiedDateInput.destroy(),this._oModifiedDateInput=null),this._oModifiedByLabel&&(this._oModifiedByLabel.destroy(),this._oModifiedByLabel=null),this._oModifiedByInput&&(this._oModifiedByInput.destroy(),this._oModifiedByInput=null),this._oBox&&(this._oBox.destroy(),this._oBox=null),l.prototype.exit&&l.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/control/CompletionSelectedJobsDialog.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Completion Selected Jobs Dialog.</p>\n * <p>Description: Dialog for selecting completion selected jobs.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Dialog\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.ui.commons.dualselector.DualSelector\"),jQuery.sap.require(\"sas.hc.ui.commons.dualselector.DualSelectorSourceAttributes\"),jQuery.sap.require(\"sas.hc.ui.commons.dualselector.DualSelectorTargetAttributes\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.model.JSONModel\");var e=sas.hc.m.Dialog,t=sas.hc.m.Button,s=sas.hc.ui.commons.dualselector.DualSelector,a=sas.hc.ui.commons.dualselector.DualSelectorSourceAttributes,o=sas.hc.ui.commons.dualselector.DualSelectorTargetAttributes,l=sas.hc.ui.model.JSONModel;e.extend(\"sas.ev.shared.schedule.control.CompletionSelectedJobsDialog\",{metadata:{properties:{},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.CompletionSelectedJobsDialog\",sas.log.Level.ERROR),renderer:\"sas.hc.m.DialogRenderer\",init:function(){e.prototype.init&&e.prototype.init.apply(this,arguments);var r=this.getId(),i=this;i.setResizable(!0);var c=new t({id:r+\"-okBtn\",text:i._getText(\"sas.ev.shared.schedule.flow.completionSelectedJobsDialog.okButton.txt\"),press:function(){i.fireChange({availableItemList:i.getModel().getProperty(\"/availableItemList\"),selectedItemList:i.getModel().getProperty(\"/selectedItemList\")}),i.close()}}),u=new t({id:r+\"-cancelBtn\",text:i._getText(\"sas.ev.shared.schedule.flow.completionSelectedJobsDialog.cancelButton.txt\"),press:function(){i.close()}});i.oDualSelector=new s({id:r+\"-dualSelector\",contextPath:\"/availableItemList\",labelField:\"name\",iconLabel:\"iconPath\",disableSelectedItems:!0,enableListScrolling:!0,sourceAttributes:[new a({showSearch:!1,applySort:!1,dataPath:\"/availableItemList\"})],targetAttributes:[new o({dataPath:\"/selectedItemList\"})]}),i.setTitle(i._getText(\"sas.ev.shared.schedule.flow.completionSelectedJobsDialog.title.txt\")),i.addContent(i.oDualSelector),i.setLeftButton(c),i.setRightButton(u);var n=new l({availableItemList:[],selectedItemList:[]});i.setModel(n),i.attachAfterClose(i._onAfterClose,i)},updateModelData:function(e,t){var s=this,a=s.getModel(),o=[];if(e)for(var l=0;l<e.length;l++)o.push({id:e[l].id,name:e[l].name,iconPath:e[l].iconPath});a.setProperty(\"/selectedItemList\",[]),a.setProperty(\"/availableItemList\",o);var r=[];if(t)for(var l=0;l<t.length;l++)for(var i=0;i<o.length;i++)if(t[l].name===o[i].name){r.push(o[i]);break}s.oDualSelector.selectItems(r)},exit:function(){e.prototype.exit&&e.prototype.exit.apply(this,arguments)},_getText:function(e,t,s,a){return this.rb.getText(e,t,s,a)},_onAfterClose:function(e){this.destroy()}})}();",
	"sas/ev/shared/schedule/control/FlowDialog.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Flow Dialog.</p>\n * <p>Description: Dialog for flow creation/editing.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n * @author <a href=\"mailto:yali.zhang@sas.com\">Yali Zhang</a>\n * @author <a href=\"mailto:kai.qiu@sas.com\">Kai Qiu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.ARIARoleConstants\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.Dialog\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.HBox\"),jQuery.sap.require(\"sas.hc.m.Heading\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Menu\"),jQuery.sap.require(\"sas.hc.m.MenuButton\"),jQuery.sap.require(\"sas.hc.m.MenuItem\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\"),jQuery.sap.require(\"sas.hc.m.MessageToast\"),jQuery.sap.require(\"sas.hc.m.Panel\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.m.SearchField\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.m.ZeroState\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sap.ui.Device\"),jQuery.sap.require(\"sas.hc.m.library\"),jQuery.sap.require(\"sas.hc.ui.model.JSONModel\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Item\"),jQuery.sap.require(\"sas.hc.ui.core.delegate.Draggable\"),jQuery.sap.require(\"sas.hc.ui.core.delegate.Droppable\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.ui.commons.Menu\"),jQuery.sap.require(\"sas.hc.ui.commons.Tree\"),jQuery.sap.require(\"sas.hc.ui.commons.TreeNode\"),jQuery.sap.require(\"sas.hc.ui.layout.Splitter\"),jQuery.sap.require(\"sas.hc.ui.layout.SplitterLayoutData\"),jQuery.sap.require(\"sas.hc.ui.table.library\"),jQuery.sap.require(\"sap.ui.model.Filter\"),jQuery.sap.require(\"sap.ui.model.FilterOperator\"),jQuery.sap.require(\"sas.hc.ui.model.JSONModel\"),jQuery.sap.require(\"sas.hc.ui.unified.Menu\"),jQuery.sap.require(\"sas.hc.ui.unified.MenuItem\"),jQuery.sap.require(\"sas.hc.ui.core.util.DomToCanvasUtil\"),jQuery.sap.require(\"sas.ltjs.commons.gestures.GestureHelper\"),jQuery.sap.require(\"sas.ltjs.commons.models.data.DataValue\"),jQuery.sap.require(\"sas.ltjs.commons.models.data.dataset.DataType\"),jQuery.sap.require(\"sas.ltjs.commons.models.data.dataset.MutableColumn\"),jQuery.sap.require(\"sas.ltjs.commons.models.data.dataset.MutableDataSet\"),jQuery.sap.require(\"sas.ltjs.commons.styles.PredefinedAttributeBundles\"),jQuery.sap.require(\"sas.ltjs.gtl.models.Graph\"),jQuery.sap.require(\"sas.ltjs.gtl.models.core.controller.ControllerEvent\"),jQuery.sap.require(\"sas.ltjs.gtl.models.data.ClassificationRole\"),jQuery.sap.require(\"sas.ltjs.gtl.models.data.MutableDataSetDataProvider\"),jQuery.sap.require(\"sas.ltjs.gtl.models.core.HorizontalAlignment\"),jQuery.sap.require(\"sas.ltjs.gtl.models.core.VerticalAlignment\"),jQuery.sap.require(\"sas.ltjs.gtl.models.core.RelativeDirection\"),jQuery.sap.require(\"sas.ltjs.gtl.models.core.controller.ControllerOperations\"),jQuery.sap.require(\"sas.ltjs.gtl.models.core.styles.attributesMap.DiscreteAttributesMap\"),jQuery.sap.require(\"sas.ltjs.gtl.models.core.styles.attributesMap.DiscreteAttributesMapEntry\"),jQuery.sap.require(\"sas.ltjs.gtl.models.core.styles.FillAttributes\"),jQuery.sap.require(\"sas.ltjs.gtl.models.layoutRegion.LayoutRegion\"),jQuery.sap.require(\"sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.LinkAddEvent\"),jQuery.sap.require(\"sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.ViewportFitPolicy\"),jQuery.sap.require(\"sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.processFlowDiagram.PFDArrangementEnum\"),jQuery.sap.require(\"sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.processFlowDiagram.PFDEditable\"),jQuery.sap.require(\"sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.processFlowDiagram.PFDModel\"),jQuery.sap.require(\"sas.ltjs.gtl.models.overview.Overview\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPaneLayout\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.CmdActionPropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.GatePropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.LinkPropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.JobActionPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.JobArgumentPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.JobDefinitionPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.JobPropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.JobFlowPropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.JobFlowAttributePane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.TimeEventPropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.AddJobsDialog\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleProperties\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleUtils\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowLinkUtils\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowSaveUtils\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowValidateUtils\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowMonitorProperties\"),jQuery.sap.require(\"sas.ev.shared.Utils\"),jQuery.sap.require(\"sas.ev.shared.jobMonitor.utils.graph.GraphUIView\"),jQuery.sap.require(\"sas.ev.shared.jobMonitor.utils.graph.GraphPickUtil\");var e=sas.ev.shared.jobMonitor.utils.graph.GraphPickUtil,t=sas.ev.shared.jobMonitor.utils.graph.GraphUIView,o=sas.hc.m.Button,a=sas.hc.m.Dialog,n=sas.hc.m.FlexBox,s=sap.m.FlexJustifyContent,r=sap.m.FlexAlignItems,l=sas.hc.m.Heading,i=sas.hc.m.Label,d=sas.hc.m.Menu,u=sas.hc.m.MenuButton,p=sas.hc.m.MenuItem,g=sas.hc.m.MessageDialog,P=sas.hc.m.MessageToast,c=sas.hc.m.MessageDialogAction,h=sas.hc.m.Panel,m=sas.hc.m.ResponsiveToolbar,_=sas.hc.m.SearchField,D=sas.hc.m.ToolbarSpacer,f=sas.hc.m.ZeroState,w=sas.hc.ui.model.JSONModel,E=sas.ev.shared.Utils,T=sas.hc.ui.layout.Splitter,v=sas.hc.ui.layout.SplitterLayoutData,I=sas.hc.ui.commons.propPane.PropertyPaneLayout,y=sas.hc.ui.commons.Tree,O=sas.hc.ui.commons.TreeNode,b=sas.ev.shared.schedule.control.CmdActionPropertyPane,F=sas.ev.shared.schedule.control.GatePropertyPane,N=sas.ev.shared.schedule.control.LinkPropertyPane,C=sas.ev.shared.schedule.control.JobActionPane,x=sas.ev.shared.schedule.control.JobArgumentPane,S=sas.ev.shared.schedule.control.JobDefinitionPane,A=sas.ev.shared.schedule.control.JobPropertyPane,L=sas.ev.shared.schedule.control.JobFlowPropertyPane,M=sas.ev.shared.schedule.control.JobFlowAttributePane,B=sas.ev.shared.schedule.control.TimeEventPropertyPane,R=sas.ev.shared.schedule.utils.ScheduleProperties,j=sas.ev.shared.schedule.utils.ScheduleUtils,U=sas.ev.shared.schedule.utils.FlowLinkUtils,J=sas.ev.shared.schedule.utils.FlowSaveUtils,Y=sas.ev.shared.schedule.utils.FlowValidateUtils,V=sas.ev.shared.schedule.utils.FlowMonitorProperties,G=sas.ltjs.commons.gestures.GestureHelper,k=sas.ltjs.commons.models.data.DataValue,q=sas.ltjs.commons.models.data.dataset.DataType,Q=sas.ltjs.commons.models.data.dataset.MutableColumn,H=sas.ltjs.commons.models.data.dataset.MutableDataSet,W=sas.ltjs.gtl.models.Graph,Z=sas.ltjs.gtl.models.data.ClassificationRole,z=sas.ltjs.gtl.models.data.MutableDataSetDataProvider,K=sas.ltjs.gtl.models.core.controller.ControllerEvent,X=sas.ltjs.gtl.models.core.controller.ControllerOperations,ee=sas.ltjs.gtl.models.core.styles.attributesMap.DiscreteAttributesMap,te=sas.ltjs.gtl.models.core.styles.attributesMap.DiscreteAttributesMapEntry,oe=sas.ltjs.gtl.models.core.styles.FillAttributes,ae=sas.ltjs.commons.styles.PredefinedAttributeBundles,ne=sas.ltjs.gtl.models.core.HorizontalAlignment,se=sas.ltjs.gtl.models.core.VerticalAlignment,re=sas.ltjs.gtl.models.core.RelativeDirection,le=sas.ltjs.gtl.models.layoutRegion.LayoutRegion,ie=sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.LinkAddEvent,de=sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.ViewportFitPolicy,ue=sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.processFlowDiagram.PFDArrangementEnum,pe=sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.processFlowDiagram.PFDEditable,ge=sas.ltjs.gtl.models.layoutRegion.nodeLinkDiagram.processFlowDiagram.PFDModel,Pe=sas.ltjs.gtl.models.overview.Overview;a.extend(\"sas.ev.shared.schedule.control.FlowDialog\",{metadata:{properties:{schedulingServers:{type:\"object\",group:\"Data\",defaultValue:null},usageMode:{type:\"int\",group:\"Behavior\",defaultValue:R.USAGE_MODE_READONLY}},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.FlowDialog\",sas.log.Level.ERROR),renderer:\"sas.hc.m.DialogRenderer\",oCurrentFlowPropPane:null,oCurrentFlowAttrPane:null,oJobPropPane:null,oJobArgumentPane:null,oJobDefPane:null,oJobActionPane:null,oFlowPropPane:null,oFlowAttrPane:null,oCmdActionPropPane:null,oTimeEventPropPane:null,oGatePropPane:null,oLinkPropPane:null,graphController:null,graphControllerValid:!1,nextNodeId:0,nextJobActionId:0,nextCmdActionId:0,nextTimeEventId:0,nextLinkId:0,withStatus:!1,statusMap:null,schedulingServersMetaModel:null,completionItemsMetaModel:null,init:function(){a.prototype.init&&a.prototype.init.apply(this,arguments);var e=this.getId(),t=this;t.setResizable(!0);var o=new sas.hc.m.HBox({visible:!1,items:[new i({text:t._getText(\"sas.ev.shared.schedule.flow.flowDialog.viewBy.label.txt\")}).addStyleClass(\"evSchedulingJobFlowViewByLabel\"),new sas.hc.m.Select({enabled:!1,width:\"10rem\",items:[new sas.hc.ui.core.Item({key:\"name\",text:t._getText(\"sas.ev.shared.schedule.flow.flowDialog.viewBy.item.name.txt\")}),new sas.hc.ui.core.Item({key:\"scheduler\",text:t._getText(\"sas.ev.shared.schedule.flow.flowDialog.viewBy.item.scheduler.txt\")}),new sas.hc.ui.core.Item({key:\"userId\",text:t._getText(\"sas.ev.shared.schedule.flow.flowDialog.viewBy.item.userId.txt\")}),new sas.hc.ui.core.Item({key:\"location\",text:t._getText(\"sas.ev.shared.schedule.flow.flowDialog.viewBy.item.location.txt\")}),new sas.hc.ui.core.Item({key:\"jobs\",text:t._getText(\"sas.ev.shared.schedule.flow.flowDialog.viewBy.item.jobs.txt\")}),new sas.hc.ui.core.Item({key:\"flows\",text:t._getText(\"sas.ev.shared.schedule.flow.flowDialog.viewBy.item.flows.txt\")}),new sas.hc.ui.core.Item({key:\"jobsNotInFlows\",text:t._getText(\"sas.ev.shared.schedule.flow.flowDialog.viewBy.item.jobsNotInFlows.txt\")})]})]});t.oJobFlowTree=new y({selectionMode:sas.hc.ui.table.SelectionMode.Single,showHeader:!1,showHeaderIcons:!1,showHorizontalScrollbar:!1,contextMenu:new sas.hc.ui.unified.Menu({visible:!1}),width:\"100%\",height:\"auto\",nodes:{path:\"/treeData\",templateShareable:!0,template:new O({text:\"{bindingName}\",icon:\"{bindingIcon}\",customData:{key:\"{bindingType}\",value:\"{bindingObject}\"}})}}),t.oJobFlowTree.customizeContextMenu=function(e,o){e.removeAllItems();var a=$(o.target).control()[0],n=a.getAggregation(\"customData\")[0];if(n&&n.getKey()===R.PFD_SUBTYPE_CMD_ACTION.toString()){e.setVisible(!0);var s=new sas.hc.ui.unified.MenuItem({text:t._getText(\"sas.ev.shared.schedule.flow.commonLine.contextMenu.delete.txt\")});s.attachSelect(a,t.confirmDeleteCommonLine,t),e.addItem(s)}else e.setVisible(!1);return e};var s=new _({filterMode:!0,liveChange:function(e){t.oJobFlowTree.getBinding(\"nodes\").filter([new sap.ui.model.Filter(\"bindingName\",sap.ui.model.FilterOperator.Contains,s.getValue())])}}).addStyleClass(\"evSchedulingJobFlowSearchField\");t.oLeftPane=new n({direction:\"Column\",items:[o,s,new n({height:\"100%\",direction:\"Column\",items:[t.oJobFlowTree]}).addStyleClass(\"evSchedulingFlowDialogTreeScrollBar\")],height:\"100%\"}).addStyleClass(\"evSchedulingFlowDialogLeftPanel\"),t.oGraphBox=t.createGraphBox(),t.oZeroStateBox=t.createZeroStateBox(),t.oMainBox=new n({id:e+\"-mainBox\",direction:\"Row\",width:\"100%\",height:\"100%\",layoutData:new sas.hc.m.FlexItemData({growFactor:1}),items:[t.oGraphBox,t.oZeroStateBox]}),t.oRightPanel=new h({id:e+\"-rightPanel\",expandable:!1,expanded:!0,width:\"100%\",height:\"100%\",role:sas.hc.m.ARIARoleConstants.ARIARole.Main,headerToolbar:t.createToolbar(),content:[t.oMainBox]}),t.oPropPaneLayout=new I({content:[t.oRightPanel],propertyPanes:[],propertyPaneSize:\"20rem\",propertyPaneVisible:!1,defaultPin:!0}),t.oPropPaneLayout.addDelegate(new sas.hc.ui.core.delegate.Droppable(t.oPropPaneLayout,{group:\"dndJobAndFlowTree\",greedy:!0,tolerance:\"pointer\",drop:function(e,o){t.oMainBox.$().css(\"background-color\",\"transparent\"),t.hideZeroStateBox();var a=o.draggable.control()[0].getAggregation(\"customData\")[0].getValue(),n=o.draggable.control()[0].getAggregation(\"customData\")[0].getKey();t.onNewObject(n,a)},over:function(e,o){t.oMainBox.$().css(\"background-color\",\"highlight\")},out:function(e,o){t.oMainBox.$().css(\"background-color\",\"transparent\")}})),t.setContentWidth(\"1152px\"),t.setContentHeight(\"600px\");var r=new sas.hc.ui.model.JSONModel({currentFlow:{name:\"Job Flow\",description:\"\",flowProperties:{completionLevel:R.FLOW_COMPLETIONLEVEL_DEFAULT,endBehavior:R.FLOW_ENDBEHAVIOR_STOP,exitcodeStrategy:R.FLOW_EXITCODESTRATEGY_LAST}},pfdItems:[],removedPfdItems:[],isCompact:!1,isLayoutHorizon:!0,showOverview:!1,showGrid:!1,snapToGrid:!1,isModified:!1});t.setModel(r),t.attachAfterClose(t._onAfterClose,t)},onAfterRendering:function(){a.prototype.onAfterRendering&&a.prototype.onAfterRendering.apply(this,arguments);var e=this,t=e.getModel().getProperty(\"/jobActions\");if($.each(t,function(t,o){o.jobRequestUri?e.setTreeNodeDisabled(o.jobRequestUri.substring(\"/jobExecution/jobRequests/\".length),!0):o.jobs&&e.setTreeNodeDisabled(o.id,!0)}),e.getProperty(\"usageMode\")===R.USAGE_MODE_MODIFY){var o=e.getModel().getProperty(\"/selectedJobFlow\");o&&o.id&&e.setTreeNodeDisabled(o.id,!0)}},onBeforeRendering:function(){a.prototype.onBeforeRendering&&a.prototype.onBeforeRendering.apply(this,arguments);var e=this,t=this.getId(),n=this.getModel(),s=n.getProperty(\"/currentFlow\"),r=this.getProperty(\"schedulingServers\");r||(r=[]),e.schedulingServersMetaModel||(e.schedulingServersMetaModel=new w({schedulingServers:r})),e.initCompletionItemsMetaModel(),s&&!s.schedulerId&&r&&r.length>0&&(s.schedulerId=r[0].id,n.setProperty(\"/currentFlow\",s));var l=this.getProperty(\"usageMode\");if(l===R.USAGE_MODE_NEW||l===R.USAGE_MODE_MODIFY){l===R.USAGE_MODE_NEW?(this.setTitle(this._getText(\"sas.ev.shared.schedule.flow.flowDialog.newJobFlow.title.txt\")),this.createCurrentFlowDefaultName()):this.setTitle(this._getText(\"sas.ev.shared.schedule.flow.flowDialog.editJobFlow.title.txt\"));var i=new pe;if(i.setCanDrawNewLinks(!0),this.pfd.setEditable(i),this.pfd.attachEvent(ie.LINK_ADD,this.onLinkAdded,this),this.graphView.getContextMenu()||(this.graphView.setContextMenu(new sas.hc.ui.commons.Menu),this.graphView.customizeContextMenu=$.proxy(this.fnCustomizeContextMenu,this)),!this.getContent()||0===this.getContent().length){var d=new v({size:\"240px\",minSize:0,collapsible:!0}),u=new v({size:\"auto\",minSize:150});this.oLeftPane.setLayoutData(d),this.oPropPaneLayout.setLayoutData(u);var p=new T({id:t+\"-splitter\",contentAreas:[this.oLeftPane,this.oPropPaneLayout],width:\"100%\",height:\"100%\"}).addStyleClass(\"basicSplitterLayout\");this.addContent(p)}this.oCancelButton||(this.oOkButton=new o({id:t+\"-okBtn\",text:this._getText(\"sas.ev.shared.schedule.flow.flowDialog.ok.button.label.txt\"),press:function(){e.oSaveFlowMenuItem.setEnabled(!1),e.oOkButton.setEnabled(!1),e.saveFlow(function(){e.close()},function(){e.oSaveFlowMenuItem.setEnabled(!0),e.oOkButton.setEnabled(!0)})}}),this.oCancelButton=new o({id:t+\"-cancelBtn\",text:this._getText(\"sas.ev.shared.schedule.flow.flowDialog.cancel.button.label.txt\"),press:function(){e._closeWithModificationCheck(!1)}}),this.setEscapeHandler(function(){e._closeWithModificationCheck(!1)}),this.setLeftButton(this.oOkButton),this.setRightButton(this.oCancelButton))}else this.setTitle(this._getText(\"sas.ev.shared.schedule.flow.flowDialog.viewJobFlow.title.txt\")),this.oCancelButton||(this.oCancelButton=new o({id:t+\"-cancelBtn\",text:this._getText(\"sas.ev.shared.schedule.flow.flowDialog.close.button.label.txt\"),press:function(){e.close()}}),this.setRightButton(this.oCancelButton)),this.getContent()&&0!==this.getContent().length||(this.addContent(this.oLeftPane),this.addContent(this.oPropPaneLayout),this.oLeftPane.setVisible(!1)),this.oAddMenuItem&&this.oAddMenuItem.setVisible(!1),this.oSaveFlowMenuItem&&this.oSaveFlowMenuItem.setVisible(!1);this.switchGraphAndZeroState(l!==R.USAGE_MODE_NEW),this.onCurrentFlowSelected()},constructJobFlowTreeModel:function(){var e=this,t=e.getModel().getProperty(\"/jobs\"),o=e.getModel().getProperty(\"/flows\"),a=e.getModel().getProperty(\"/commonLines\");if(t&&o){var n={treeData:[{bindingName:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.tree.jobs.txt\")},{bindingName:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.tree.jobFlows.txt\")},{bindingName:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.tree.gates.txt\"),nodes:[{bindingName:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.tree.gates.and.txt\"),bindingIcon:R.NODE_ICON_AND_GATE,bindingType:R.PFD_SUBTYPE_AND_GATE},{bindingName:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.tree.gates.or.txt\"),bindingIcon:R.NODE_ICON_OR_GATE,bindingType:R.PFD_SUBTYPE_OR_GATE}]},{bindingName:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.tree.events.txt\"),nodes:[{bindingName:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.tree.time.txt\"),bindingIcon:R.NODE_ICON_TIME_EVENT,bindingType:R.PFD_SUBTYPE_TIME_EVENT}]},{bindingName:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.tree.common.txt\"),nodes:[]}]},s=new sas.hc.ui.model.JSONModel(n);n.treeData[0].nodes=t,n.treeData[1].nodes=o,n.treeData[4].nodes=a,e.oJobFlowTree.setModel(s),e.oJobFlowTree.getBinding(\"nodes\").filter([new sap.ui.model.Filter(\"bindingName\",sap.ui.model.FilterOperator.Contains,\"\")]),e.oJobFlowTree.collapseAll(),$.each(e.oJobFlowTree.getNodes(),function(t,o){e.oJobFlowTree.addDelegate(new sas.hc.ui.core.delegate.Draggable(o,{appendTo:e.$(),helper:\"clone\",cursor:\"copy\",object:o,group:\"dndJobAndFlowTree\"})),$.each(o.getNodes(),function(t,o){e.oJobFlowTree.addDelegate(new sas.hc.ui.core.delegate.Draggable(o,{appendTo:e.$(),helper:\"clone\",cursor:\"copy\",object:o,group:\"dndJobAndFlowTree\"}))})})}},createToolbar:function(){var e=this;return e.oZoomOutBtn=new o({icon:sas.icons.HC.ZOOMOUT,press:function(t){e.onZoom(!1)}}),e.oZoomInBtn=new o({icon:sas.icons.HC.ZOOMIN,press:function(t){e.onZoom(!0)}}),e.oZoomToFitBtn=new o({icon:sas.icons.HC.ZOOMTOFIT,press:$.proxy(e.onFitCanvas,e)}),e.oOverviewBtn=new o({icon:sas.icons.HC.VIEWNAVIGATIONWINDOW,press:$.proxy(e.onOverview,e)}),e.oAddMenuItem=new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.add.menu.label.txt\"),items:[new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.add.menu.job.label.txt\"),press:$.proxy(e.onNewJob,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.add.menu.jobFlow.label.txt\"),press:$.proxy(e.onNewJobFlow,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.add.menu.cmdAction.label.txt\"),press:$.proxy(e.onNewCmdAction,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.add.menu.timeEvent.label.txt\"),press:$.proxy(e.onNewTimeEvent,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.add.menu.andGate.label.txt\"),press:$.proxy(e.onNewAndGate,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.add.menu.orGate.label.txt\"),press:$.proxy(e.onNewOrGate,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.add.menu.fromCommon.label.txt\"),startsSection:!0,press:$.proxy(e.onNewFromCommon,e)})]}),e.oHorizonMenuItem=new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.arrange.menu.horizon.label.txt\"),groupSingleSelectId:\"gridLayout\",checkable:!0,selected:\"{= ${/isLayoutHorizon} }\",press:function(){e.onLayout(!0)}}),e.oVerticalMenuItem=new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.arrange.menu.vertical.label.txt\"),groupSingleSelectId:\"gridLayout\",checkable:!0,selected:\"{= !${/isLayoutHorizon} }\",press:function(){e.onLayout(!1)}}),e.oArrangeMenuItem=new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.arrange.menu.label.txt\"),items:[e.oHorizonMenuItem,e.oVerticalMenuItem]}),e.oSaveFlowMenuItem=new p({startsSection:!0,text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.menu.label.txt\"),press:$.proxy(e.onSaveFlow,e)}),e.oSaveAsImageMenuItem=new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveAsImage.menu.label.txt\"),startsSection:!0,press:$.proxy(e.onSaveAsImage,e)}),e.oPrintMenuItem=new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.print.menu.label.txt\"),press:$.proxy(e.onPrint,e)}),e.oHeading=new l({text:\"{/currentFlow/name}\",level:5}),new m({content:[e.oHeading,new D,e.oZoomOutBtn,e.oZoomInBtn,e.oZoomToFitBtn,e.oOverviewBtn,new u({icon:sas.icons.HC.ACTIONSTOOLBAR,menu:new d({items:[e.oAddMenuItem,e.oArrangeMenuItem,e.oSaveFlowMenuItem,e.oSaveAsImageMenuItem,e.oPrintMenuItem]})})]})},createGraphBox:function(){var e=this,o=e.getId(),a=new Q(R.PFD_FIELD_ID,null,q.STRING),s=new Q(R.PFD_FIELD_TYPE,null,q.STRING),r=new Q(R.PFD_FIELD_SUBTYPE,null,q.NUMBER),l=new Q(R.PFD_FIELD_TITLE,null,q.STRING),i=new Q(R.PFD_FIELD_FROMNODE,null,q.STRING),d=new Q(R.PFD_FIELD_TONODE,null,q.STRING),u=new Q(R.PFD_FIELD_ICON,null,q.STRING),p=new Q(R.PFD_FIELD_COLOR,null,q.STRING),g=new Q(R.PFD_FIELD_STATUS,null,q.STRING),P=[a,s,r,l,i,d,u,p,g];e.pfdDataSet=new H(P,!0).retain(),e.pfd=(new ge).retain(),e.pfd.setNodeId(new Z(R.PFD_FIELD_ID)),e.pfd.setLinkId(new Z(R.PFD_FIELD_ID)),e.pfd.setType(new Z(R.PFD_FIELD_TYPE)),e.pfd.setNodeTitle(new Z(R.PFD_FIELD_TITLE)),e.pfd.setFromId(new Z(R.PFD_FIELD_FROMNODE)),e.pfd.setToId(new Z(R.PFD_FIELD_TONODE)),e.pfd.setNodeIconValue(new Z(R.PFD_FIELD_ICON));var c=new Z(R.PFD_FIELD_COLOR);e.pfd.setNodeColorGroup(c),e.pfd.setNodeStatus(new Z(R.PFD_FIELD_STATUS)),e.pfd.setArrangement(ue.LAYERED);var h=new te;h.setValues([R.PFD_COLORGROUP_JOB]);var m=new oe;m.setUserStyle(ae.GRAPH_DATA_NODE_1),h.setFillAttributes(m);var _=new te;_.setValues([R.PFD_COLORGROUP_FLOW]);var D=new oe;D.setUserStyle(ae.GRAPH_DATA_NODE_2),_.setFillAttributes(D);var f=new te;f.setValues([R.PFD_COLORGROUP_TIME_EVENT]);var w=new oe;w.setUserStyle(ae.GRAPH_DATA_NODE_3),f.setFillAttributes(w);var E=new te;E.setValues([R.PFD_COLORGROUP_CMD_ACTION]);var T=new oe;T.setUserStyle(ae.GRAPH_DATA_NODE_4),E.setFillAttributes(T);var v=new te;v.setValues([R.PFD_COLORGROUP_GATE]);var I=new oe;I.setUserStyle(ae.GRAPH_DATA_NODE_DEFAULT),v.setFillAttributes(I);var y=new ee;y.setEntries([h,_,f,E,v]),c.setAttributesMap(y),e.pfdLayeredOpts=e.pfd.getLayeredOpts().retain();var O=new z(e.pfdDataSet),b=new le;b.setRegion(e.pfd),b.setDataProvider(O),e.pfdOverview=(new Pe).retain(),e.pfdOverview.setVAlign(se.TOP),e.pfdOverview.setHAlign(ne.RIGHT),e.pfdOverview.setVisible(!1),b.setOverview(e.pfdOverview);var F=new W;F.setLayout(b),e.graphView=new t({layoutData:new sas.hc.m.FlexItemData({growFactor:1,minHeight:\"200px\"})}).addStyleClass(\"sasFillSpace\"),e.graphView.setGraph(F);var N=new n({id:o+\"-graphBox\",direction:\"Column\",width:\"100%\",height:\"100%\",layoutData:new sas.hc.m.FlexItemData({growFactor:1}),items:[e.graphView]});return e.rowIndex=null,e.pfd.attachEvent(X.CONTROLLER_EVENT_TYPE,e.onGraphControllerAvailable,e),e.viewportOptions=e.pfd.getViewportOptions().retain(),e.viewportOptions.setInitialFitPolicy(de.BOTH),e.graphView.attachBrowserEvent(\"mouseup\",function(t){setTimeout(function(){e.onMouseUpGraph(t)},300)}),N},createZeroStateBox:function(){var e=this,t=e.getId(),o=new f({busyIndicatorDelay:0,text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.text\"),icon:sas.icons.HC.ZEROSTATEADD}),a=new u({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menuButton.text\"),menu:new d({items:[new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menu.job.label.txt\"),press:$.proxy(e.onNewJob,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menu.jobFlow.label.txt\"),press:$.proxy(e.onNewJobFlow,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menu.cmdAction.label.txt\"),press:$.proxy(e.onNewCmdAction,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menu.fromCommon.label.txt\"),press:$.proxy(e.onNewFromCommon,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menu.events.label.txt\"),header:!0}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menu.timeEvent.label.txt\"),press:$.proxy(e.onNewTimeEvent,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menu.gates.label.txt\"),header:!0}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menu.andGate.label.txt\"),press:$.proxy(e.onNewAndGate,e)}),new p({text:e._getText(\"sas.ev.shared.schedule.flow.flowDialog.zeroState.menu.orGate.label.txt\"),press:$.proxy(e.onNewOrGate,e)})]})});return new n({id:t+\"-zeroStateBox\",direction:\"Column\",alignItems:r.Center,justifyContent:s.Center,width:\"100%\",height:\"100%\",items:[o,a]})},switchGraphAndZeroState:function(e){var t=this;e=!!e,t.oGraphBox&&t.oGraphBox.setVisible(e),t.oZeroStateBox&&t.oZeroStateBox.setVisible(!e),t.oZoomOutBtn&&t.oZoomOutBtn.setEnabled(e),t.oZoomInBtn&&t.oZoomInBtn.setEnabled(e),t.oZoomToFitBtn&&t.oZoomToFitBtn.setEnabled(e),t.oOverviewBtn&&t.oOverviewBtn.setEnabled(e),t.oHorizonMenuItem&&t.oHorizonMenuItem.setEnabled(e),t.oVerticalMenuItem&&t.oVerticalMenuItem.setEnabled(e),t.oSaveFlowMenuItem&&t.oSaveFlowMenuItem.setEnabled(e),t.oSaveAsImageMenuItem&&t.oSaveAsImageMenuItem.setEnabled(e),t.oPrintMenuItem&&t.oPrintMenuItem.setEnabled(e),t.oRightPanel.setHeight(\"100%\")},hideZeroStateBox:function(){var e=this;e.oZeroStateBox&&e.oZeroStateBox.getVisible()&&e.switchGraphAndZeroState(!0)},createCurrentFlowDefaultName:function(){var e=this.getModel(),t=e.getProperty(\"/flows\"),o=0,a=null,n=!1;do{if(n=!1,a=this._getText(\"sas.ev.shared.schedule.flow.flowDialog.pfd.node.flow.title.fmt\",[o++]),t)for(var s=0;s<t.length;s++){var r=t[s];if(r&&r.name===a){n=!0;break}}}while(n);e.setProperty(\"/currentFlow/name\",a)},createNewNodeName:function(e,t){var o=this,a=o.getModel(),n=a.getProperty(\"/pfdItems\");if(e===R.PFD_SUBTYPE_JOB||R.PFD_SUBTYPE_CMD_ACTION||R.PFD_SUBTYPE_TIME_EVENT){var s=null,r=0;e===R.PFD_SUBTYPE_JOB?(s=\"sas.ev.shared.schedule.flow.flowDialog.pfd.node.jobAction.title.fmt\",r=o.nextJobActionId++):e===R.PFD_SUBTYPE_CMD_ACTION?(s=\"sas.ev.shared.schedule.flow.flowDialog.pfd.node.cmdAction.title.fmt\",r=o.nextCmdActionId++):(s=\"sas.ev.shared.schedule.flow.flowDialog.pfd.node.timeEvent.title.fmt\",r=o.nextTimeEventId++);var l=null,i=!1;if(t){l=Y.validateName(t)?t:Y.replaceInvalidCharactersInName(t);for(var d=0;d<n.length;d++){var u=n[d];if(u.objInfo&&u.objInfo.name===l){i=!0;break}}if(!i)return l}do{i=!1,l=o._getText(s,[r++]);for(var d=0;d<n.length;d++){var u=n[d];if(u.objInfo&&u.objInfo.name===l){i=!0;break}}}while(i);return l}return\"\"},setTreeNodeDisabled:function(e,t){var o=this;$.each(o.oJobFlowTree.aDelegates,function(o,a){if(e&&a.oDelegate&&a.oDelegate._oControl.getCustomData()&&a.oDelegate._oControl.getCustomData().length>0&&a.oDelegate._oControl.getCustomData()[0].getValue()&&e===a.oDelegate._oControl.getCustomData()[0].getValue().id)return a.oDelegate.setOption({disabled:t}),!1})},appendPfdRow:function(e,t,o,a,n,s,r){var l=this,i=l.getModel(),d=i.getProperty(\"/pfdItems\"),u=l.pfdDataSet,p=null,g=null,P=null,c=null;if(e===R.PFD_TYPE_NODE)switch(p=R.PFD_TYPE_NODE+l.nextNodeId+\"_\"+Date.now(),t){case R.PFD_SUBTYPE_JOB:if(s&&s[0]&&s[0].usedInPfd)return;!s||s.length<2||!s[1]?g=l.createNewNodeName(t,s[0].name):(g=s[1].name,l.nextJobActionId++),P=R.PFD_ICON_JOB,c=R.PFD_COLORGROUP_JOB;break;case R.PFD_SUBTYPE_FLOW:if(s&&s[0]&&s[0].usedInPfd)return;g=s[0].name,P=R.PFD_ICON_FLOW,c=R.PFD_COLORGROUP_FLOW;break;case R.PFD_SUBTYPE_CMD_ACTION:if(s&&0!==s.length&&s[0]&&s[0].id)g=s[0].name,l.nextCmdActionId++;else{var h=null;s&&s.length>0&&s[0]&&(h=s[0].name),g=l.createNewNodeName(t,h)}P=R.PFD_ICON_CMD_ACTION,c=R.PFD_COLORGROUP_CMD_ACTION;break;case R.PFD_SUBTYPE_TIME_EVENT:s&&0!==s.length&&s[0]?(g=s[0].name,l.nextTimeEventId++):g=l.createNewNodeName(t),P=R.PFD_ICON_TIME_EVENT,c=R.PFD_COLORGROUP_TIME_EVENT;break;case R.PFD_SUBTYPE_AND_GATE:g=l._getText(\"sas.ev.shared.schedule.flow.flowDialog.pfd.node.andGate.title.txt\"),P=R.PFD_ICON_AND_GATE,c=R.PFD_COLORGROUP_GATE;break;case R.PFD_SUBTYPE_OR_GATE:g=l._getText(\"sas.ev.shared.schedule.flow.flowDialog.pfd.node.orGate.title.txt\"),P=R.PFD_ICON_OR_GATE,c=R.PFD_COLORGROUP_GATE}else p=R.PFD_TYPE_LINK+l.nextLinkId+\"_\"+Date.now(),g=\"\";var m=null;r&&(r===V.JOB_STATUS_PENDING?m=V.JOB_STATUS_ICON_PENDING:r===V.JOB_STATUS_RUNNING?m=V.JOB_STATUS_ICON_RUNNING:r===V.JOB_STATUS_COMPLETED?m=V.JOB_STATUS_ICON_COMPLETED:r===V.JOB_STATUS_CANCELED?m=V.JOB_STATUS_ICON_CANCELED:r===V.JOB_STATUS_FAILED?m=V.JOB_STATUS_ICON_FAILED:r===V.JOB_STATUS_TIMED_OUT?m=V.JOB_STATUS_ICON_TIMED_OUT:r===V.JOB_STATUS_UNKNOWN&&(m=V.JOB_STATUS_ICON_UNKNOWN));var _=[new k(p,0),new k(e,0),t?new k(t):null,new k(g,0),o,a,P?new k(P,0):null,c?new k(c,0):null,m?new k(m,0):null];if(u.appendRow(_),e===R.PFD_TYPE_NODE){switch(t){case R.PFD_SUBTYPE_JOB:var D=null;if(s.length<2||!s[1]){var f=\"\";s[0]&&s[0].links&&s[0].links.length>0&&(f=s[0].links[0].uri),D={id:p,type:t,jobReq:s[0],objInfo:{name:g,description:\"\",jobRequestUri:f,priority:R.JOB_PRIORITY_NONE,createdDate:\"\",createdBy:\"\",modifiedDate:\"\",modifiedBy:\"\"}}}else D={id:p,type:t,jobReq:s[0],objInfo:s[1]};d.push(D);break;case R.PFD_SUBTYPE_FLOW:var w={id:p,type:t,objInfo:s[0]};d.push(w);break;case R.PFD_SUBTYPE_CMD_ACTION:var E=null;s&&0!==s.length&&s[0]&&s[0].id?E={id:p,type:t,objInfo:s[0]}:(E={id:p,type:t,objInfo:{name:g,description:\"\",commandLine:\"\",priority:R.JOB_PRIORITY_NONE,createdDate:\"\",createdBy:\"\",modifiedDate:\"\",modifiedBy:\"\"}},s&&s.length>0&&s[0]&&(s[0].description&&(E.objInfo.description=s[0].description),s[0].commandLine&&(E.objInfo.commandLine=s[0].commandLine))),d.push(E);break;case R.PFD_SUBTYPE_TIME_EVENT:var T=null;if(s&&0!==s.length&&s[0])T={id:p,type:t,objInfo:s[0]},void 0!==T.objInfo.maxOccurrence&&null!==T.objInfo.maxOccurrence||(T.objInfo.maxOccurrence=-1);else{var v=new Date,I=v.toISOString().substring(0,10),y=v.getHours().toString(),O=v.getMinutes().toString(),b=Intl.DateTimeFormat().resolvedOptions().timeZone,F=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.core\"),N=F.getText(\"timezone.ids.notrans\").split(\",\"),C=\"America/New_York\";void 0!==b&&-1!==N.indexOf(b)&&(C=b),T={id:p,type:t,objInfo:{name:g,recurrence:{type:R.RECURRENCE_DAILY,startDate:I,endDate:\"\",skipCount:1,daysOfWeek:[],occurrence:\"\",dates:[],monthOfYear:R.RECURRENCE_MONTH[0],dayOfMonth:1},hours:y,minutes:O,duration:1,timeZone:C,maxOccurrence:-1,hourSkipCount:\"1\",minuteSkipCount:\"5\"}}}d.push(T);break;case R.PFD_SUBTYPE_AND_GATE:case R.PFD_SUBTYPE_OR_GATE:var x={id:p,type:t};d.push(x)}l.nextNodeId++}else{var S=null;if(s&&0!==s.length&&s[0])S=s[0],S.id=p,S.type=R.PFD_SUBTYPE_LINK,S.endCodeCondition||(S.endCodeCondition=R.JOB_ENDCODE_EQUAL_TO),S.endCodeConditionValue||(S.endCodeConditionValue=0),S.maxRunTime||(S.maxRunTime=0),S.minRunTime||(S.minRunTime=0),S.description||(S.description=\"\");else var S={id:p,type:R.PFD_SUBTYPE_LINK,eventType:R.JOB_COMPLETE_SUCCESSFULLY,endCodeCondition:R.JOB_ENDCODE_EQUAL_TO,endCodeConditionValue:0,maxRunTime:0,minRunTime:0,description:\"\"};d.push(S),l.nextLinkId++}if(e!==R.PFD_TYPE_NODE||t!==R.PFD_SUBTYPE_JOB&&t!==R.PFD_SUBTYPE_FLOW||(s[0].usedInPfd=!0,l.setTreeNodeDisabled(s[0].id,s[0].usedInPfd)),n&&i.setProperty(\"/isModified\",!0),i.refresh(),n&&e===R.PFD_TYPE_NODE&&(t===R.PFD_SUBTYPE_JOB||t===R.PFD_SUBTYPE_CMD_ACTION||t===R.PFD_SUBTYPE_FLOW)){var A=R.NODE_ICON_JOB;t===R.PFD_SUBTYPE_FLOW?A=R.NODE_ICON_FLOW:t===R.PFD_SUBTYPE_CMD_ACTION&&(A=R.NODE_ICON_CMD_ACTION),l.updateCompletionItemsMetaModel(R.NODE_ACTION_ADD,{id:p,name:g,iconPath:A})}return _},deleteGraphRow:function(e){var t=this,o=t.getModel(),a=o.getProperty(\"/pfdItems\"),n=t.pfdDataSet,s=n.getColumnIndexByName(R.PFD_FIELD_TYPE),r=n.getColumnDataValues(s),l=\"\";if(void 0!==e&&null!==e&&e<r.length)if((l=r[e].getStringValue())===R.PFD_TYPE_NODE){\nvar i=n.getColumnIndexByName(R.PFD_FIELD_FROMNODE),d=n.getColumnIndexByName(R.PFD_FIELD_TONODE),u=n.getColumnIndexByName(R.PFD_FIELD_ID),p=n.getColumnIndexByName(R.PFD_FIELD_SUBTYPE),g=n.getColumnDataValues(i),P=n.getColumnDataValues(d),c=n.getColumnDataValues(u),h=n.getColumnDataValues(p),m=c[e].getStringValue(),_=[],D=!1,f=h[e].getNumericValue(),w=null;f===R.PFD_SUBTYPE_JOB?w=t.oJobPropPane:f===R.PFD_SUBTYPE_FLOW?w=t.oFlowPropPane:f===R.PFD_SUBTYPE_CMD_ACTION?w=t.oCmdActionPropPane:f===R.PFD_SUBTYPE_TIME_EVENT?w=t.oTimeEventPropPane:f!==R.PFD_SUBTYPE_AND_GATE&&f!==R.PFD_SUBTYPE_OR_GATE||(w=t.oGatePropPane),w&&j.isPropertyPaneIncluded(t.oPropPaneLayout,w,c[E])&&(D=!0),_.push(e);for(var E=0;E<g.length;E++)g[E].getStringValue()===m&&(_.push(E),j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oLinkPropPane,c[E])&&(D=!0));for(var E=0;E<P.length;E++)P[E].getStringValue()===m&&(_.push(E),j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oLinkPropPane,c[E])&&(D=!0));_.sort(function(e,t){return t-e});for(var E=0;E<_.length;E++){n.deleteRow(_[E]);for(var T=c[_[E]].getStringValue(),v=0;v<a.length;v++)if(a[v].id===T){var I=a.splice(v,1)[0];if(T===m){if(f===R.PFD_SUBTYPE_JOB&&I.jobReq?(I.jobReq.usedInPfd=!1,t.setTreeNodeDisabled(I.jobReq.id,I.jobReq.usedInPfd)):f===R.PFD_SUBTYPE_FLOW&&I.objInfo&&(I.objInfo.usedInPfd=!1,t.setTreeNodeDisabled(I.objInfo.id,I.objInfo.usedInPfd)),(f===R.PFD_SUBTYPE_JOB||f===R.PFD_SUBTYPE_CMD_ACTION)&&I.objInfo&&I.objInfo.id){var y=o.getProperty(\"/removedPfdItems\");y.push(I)}break}}}o.setProperty(\"/isModified\",!0),o.refresh(),f!==R.PFD_SUBTYPE_JOB&&f!==R.PFD_SUBTYPE_CMD_ACTION&&f!==R.PFD_SUBTYPE_FLOW||t.updateCompletionItemsMetaModel(R.NODE_ACTION_DELETE,m),D&&(t.oPropPaneLayout.removeAllPropertyPanes(),t.onCurrentFlowSelected(),t.oPropPaneLayout.setRightSelectedPropertyPaneIndex(t.oPropPaneLayout.getRightPropertyPaneVisible()?0:-1))}else if(l===R.PFD_TYPE_LINK){var u=n.getColumnIndexByName(R.PFD_FIELD_ID),c=n.getColumnDataValues(u),T=c[e].getStringValue();n.deleteRow(e);for(var E=0;E<a.length;E++)if(a[E].id===T){a.splice(E,1);break}o.setProperty(\"/isModified\",!0),o.refresh(),j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oLinkPropPane,T)&&(t.oPropPaneLayout.removeAllPropertyPanes(),t.onCurrentFlowSelected(),t.oPropPaneLayout.setRightSelectedPropertyPaneIndex(t.oPropPaneLayout.getRightPropertyPaneVisible()?0:-1))}},parseLinkExpressionNodeName:function(e){var t=e.indexOf(\"'\"),o=e.indexOf(\"'\",t+1);return t<0&&(t=e.indexOf('\"'),o=e.indexOf('\"',t+1)),t<0&&(t=0,o=e.indexOf(\")\",t+1)),t>0&&o>0?e.substring(t+1,o):null},parseLinkExpressionValue:function(e){var t=e.indexOf(\",\"),o=e.indexOf(\")\",t+1);if(t>0&&o>0){var a=e.substring(t+1,o).trim();return parseInt(a)}return 0},parseLinkExpression:function(e){var t=this,o=null,a=null;return 0===e.indexOf(\"lt(\"+R.JOB_DURATION+\"(\")?(o=t.parseLinkExpressionNodeName(e.substring((\"lt(\"+R.JOB_DURATION).length)),a={eventType:R.JOB_MAX_RUN_TIME,maxRunTime:t.parseLinkExpressionValue(e)}):0===e.indexOf(\"gt(\"+R.JOB_DURATION+\"(\")?(o=t.parseLinkExpressionNodeName(e.substring((\"gt(\"+R.JOB_DURATION).length)),a={eventType:R.JOB_MIN_RUN_TIME,minRunTime:t.parseLinkExpressionValue(e)}):0===e.indexOf(\"eq(\"+R.JOB_END_WITH_CODE+\"(\")?(o=t.parseLinkExpressionNodeName(e.substring((\"eq(\"+R.JOB_END_WITH_CODE).length)),a={eventType:R.JOB_END_WITH_CODE,endCodeCondition:R.JOB_ENDCODE_EQUAL_TO,endCodeConditionValue:t.parseLinkExpressionValue(e)}):0===e.indexOf(\"ne(\"+R.JOB_END_WITH_CODE+\"(\")?(o=t.parseLinkExpressionNodeName(e.substring((\"ne(\"+R.JOB_END_WITH_CODE).length)),a={eventType:R.JOB_END_WITH_CODE,endCodeCondition:R.JOB_ENDCODE_NOT_EQUAL_TO,endCodeConditionValue:t.parseLinkExpressionValue(e)}):0===e.indexOf(\"lt(\"+R.JOB_END_WITH_CODE+\"(\")?(o=t.parseLinkExpressionNodeName(e.substring((\"lt(\"+R.JOB_END_WITH_CODE).length)),a={eventType:R.JOB_END_WITH_CODE,endCodeCondition:R.JOB_ENDCODE_LESS_THAN,endCodeConditionValue:t.parseLinkExpressionValue(e)}):0===e.indexOf(\"le(\"+R.JOB_END_WITH_CODE+\"(\")?(o=t.parseLinkExpressionNodeName(e.substring((\"le(\"+R.JOB_END_WITH_CODE).length)),a={eventType:R.JOB_END_WITH_CODE,endCodeCondition:R.JOB_ENDCODE_LESS_OR_EQUAL,endCodeConditionValue:t.parseLinkExpressionValue(e)}):0===e.indexOf(\"gt(\"+R.JOB_END_WITH_CODE+\"(\")?(o=t.parseLinkExpressionNodeName(e.substring((\"gt(\"+R.JOB_END_WITH_CODE).length)),a={eventType:R.JOB_END_WITH_CODE,endCodeCondition:R.JOB_ENDCODE_GREATER_THAN,endCodeConditionValue:t.parseLinkExpressionValue(e)}):0===e.indexOf(\"ge(\"+R.JOB_END_WITH_CODE+\"(\")?(o=t.parseLinkExpressionNodeName(e.substring((\"ge(\"+R.JOB_END_WITH_CODE).length)),a={eventType:R.JOB_END_WITH_CODE,endCodeCondition:R.JOB_ENDCODE_GREATER_OR_EQUAL,endCodeConditionValue:t.parseLinkExpressionValue(e)}):0===e.indexOf(R.JOB_COMPLETE_SUCCESSFULLY)?(o=t.parseLinkExpressionNodeName(e.substring(R.JOB_COMPLETE_SUCCESSFULLY.length)),a={eventType:R.JOB_COMPLETE_SUCCESSFULLY}):0===e.indexOf(R.JOB_END_WITH_ANY_CODE)?(o=t.parseLinkExpressionNodeName(e.substring(R.JOB_END_WITH_ANY_CODE.length)),a={eventType:R.JOB_END_WITH_ANY_CODE}):0===e.indexOf(R.JOB_MISS_SCHEDULE_TIME)?(o=t.parseLinkExpressionNodeName(e.substring(R.JOB_MISS_SCHEDULE_TIME.length)),a={eventType:R.JOB_MISS_SCHEDULE_TIME}):0===e.indexOf(R.JOB_STARTS)?(o=t.parseLinkExpressionNodeName(e.substring(R.JOB_STARTS.length)),a={eventType:R.JOB_STARTS}):0===e.indexOf(R.JOB_CAN_NOT_RUN)?(o=t.parseLinkExpressionNodeName(e.substring(R.JOB_CAN_NOT_RUN.length)),a={eventType:R.JOB_CAN_NOT_RUN}):0===e.indexOf(R.JOB_FAIL_TO_START)&&(o=t.parseLinkExpressionNodeName(e.substring(R.JOB_FAIL_TO_START.length)),a={eventType:R.JOB_FAIL_TO_START}),{name:o,linkData:a}},parseNodeGraph:function(e,t,o){var a=this,n=null;if(t&&t.type&&(n=t.type.toLowerCase()),\"jobevent\"===n)if(t.expression){var s=t.expression.trim(),r=a.parseLinkExpression(s);if(r.name){var l=o[r.name];l?r.linkData?a.appendPfdRow(R.PFD_TYPE_LINK,null,l,e,!1,[r.linkData]):a.logger.error(\"can not parse dependent for dependency \"+t):a.logger.error(\"can not find dependent \"+r.name+\" for dependency \"+t)}else a.logger.error(\"can not find dependent name for dependency \"+t)}else a.logger.error(\"no expression for dependency \"+t+\" with type is jobevent.\");else if(\"gate\"===n)if(t.condition&&t.events&&0!==t.events.length){var i=t.condition.toLocaleLowerCase();if(\"all\"===i||\"any\"===i){var d=a.appendPfdRow(R.PFD_TYPE_NODE,\"all\"===i?R.PFD_SUBTYPE_AND_GATE:R.PFD_SUBTYPE_OR_GATE,null,null,!1,null);a.appendPfdRow(R.PFD_TYPE_LINK,null,d[0],e,!1,null);for(var u=0;u<t.events.length;u++)a.parseNodeGraph(d[0],t.events[u],o)}else a.logger.error(\"gate has invalid condition for dependency \"+t)}else a.logger.error(\"gate miss some fields for dependency \"+t);else if(\"timeevent\"===n){var p=$.extend(!0,{},t);delete p.type;var d=a.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_TIME_EVENT,null,null,!1,[p]);a.appendPfdRow(R.PFD_TYPE_LINK,null,d[0],e,!1,null)}else a.logger.error(\"unknown type \"+n+\" for dependency \"+t)},resetPfdGraph:function(){for(var e=this,t=e.getModel(),o=t.getProperty(\"/jobs\"),a=t.getProperty(\"/flows\"),n=e.pfdDataSet,s=n.getNumberOfRows()-1;s>=0;s--)n.deleteRow(s);if(o&&o.length>0)for(var s=0;s<o.length;s++)o[s].usedInPfd=!1;if(a&&a.length>0)for(var s=0;s<a.length;s++)a[s].usedInPfd=!1;e.nextNodeId=0,e.nextLinkId=0,e.nextJobActionId=0,e.nextCmdActionId=0,e.nextTimeEventId=0,t.refresh()},parsePfdGraph:function(e,t){var o=this,a=o.getModel(),n=a.getProperty(\"/jobs\"),s=a.getProperty(\"/flows\");if(e&&e.jobs&&t){o.resetPfdGraph();var r=$.extend(!0,{},e);r.bindingObject&&delete r.bindingObject,r.bindingName&&delete r.bindingName,r.bindingIcon&&delete r.bindingIcon,r.bindingType&&delete r.bindingType,r.flowProperties||(r.flowProperties={completionLevel:R.FLOW_COMPLETIONLEVEL_DEFAULT,endBehavior:R.FLOW_ENDBEHAVIOR_STOP,exitcodeStrategy:R.FLOW_EXITCODESTRATEGY_LAST});for(var l={},i=0;i<r.jobs.length;i++){var d=r.jobs[i];if(d.indexOf(\"/jobFlowScheduling/flows/\")>=0){for(var u=d.indexOf(\"/jobFlowScheduling/flows/\")+\"/jobFlowScheduling/flows/\".length,p=d.substring(u),g=null,P=0;P<s.length;P++)if(s[P].id===p){g=s[P];break}if(g){var c=o.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_FLOW,null,null,!1,[g],o.withStatus&&o.statusMap&&g.id&&g.name?o.statusMap[g.name]:null);l[g.name]=c[0]}else o.logger.error(\"can not find \"+d+\" in \"+JSON.stringify(s))}else if(d.indexOf(\"/jobFlowScheduling/jobs/\")>=0){for(var u=d.indexOf(\"/jobFlowScheduling/jobs/\")+\"/jobFlowScheduling/jobs/\".length,h=d.substring(u),m=null,P=0;P<t.length;P++)if(t[P].id===h){m=t[P];break}if(m)if(m.jobRequestUri)if((u=m.jobRequestUri.indexOf(\"/jobExecution/jobRequests/\"))<0)o.logger.error(\"can not find job request id \"+m.jobRequestUri);else{u+=\"/jobExecution/jobRequests/\".length;for(var _=m.jobRequestUri.substring(u),D=null,P=0;P<n.length;P++)if(n[P].id===_){D=n[P];break}if(D){var c=o.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_JOB,null,null,!1,[D,m],o.withStatus&&o.statusMap&&m.id&&m.name?o.statusMap[m.name]:null);l[m.name]=c[0]}else o.logger.error(\"can not find job request \"+_+\" in \"+n)}else{var c=o.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_CMD_ACTION,null,null,!1,[m],o.withStatus&&o.statusMap&&m.id&&m.name?o.statusMap[m.name]:null);l[m.name]=c[0]}else o.logger.error(\"can not find \"+d+\" in \"+t)}else o.logger.error(\"unknown \"+d+\" in \"+JSON.stringify(r))}if(r.dependencies&&r.dependencies.length>0)for(var i=0;i<r.dependencies.length;i++){var f=r.dependencies[i];if(f.target){var w=l[f.target];w?f.event?o.parseNodeGraph(w,f.event,l):o.logger.error(\"no event field for target dependency \"+f):o.logger.error(\"target for dependency \"+f+\" can not be found.\")}else o.logger.error(\"no target for dependency \"+f)}a.setProperty(\"/currentFlow\",r)}},updateModelData:function(e,t,o,a,n,s){var r=this;if(e===R.USAGE_MODE_READONLY_WITH_STATUS){if(s){r.withStatus=!0,r.statusMap={};for(var l=0;l<s.length;l++)r.statusMap[s[l].name]=s[l].state}e=R.USAGE_MODE_READONLY}if(r.setProperty(\"usageMode\",e),r.getModel().setProperty(\"/jobActions\",a),t){if(r.setProperty(\"schedulingServers\",t.schedulers),n?(r.getModel().setProperty(\"/preCommonLines\",$.extend(!0,[],n)),$.each(n,function(e,t){t.bindingObject=$.extend(!0,{},t),t.bindingName=t.name,t.bindingIcon=R.NODE_ICON_CMD_ACTION,t.bindingType=R.PFD_SUBTYPE_CMD_ACTION}),r.getModel().setProperty(\"/commonLines\",n)):(r.getModel().setProperty(\"/commonLines\",[]),r.getModel().setProperty(\"/preCommonLines\",[])),t.jobRequests&&t.jobRequests.length>0){var i=$.extend(!0,[],t.jobRequests);$.each(i,function(e,t){t.bindingObject=$.extend(!0,{},t),t.bindingName=t.name,t.bindingIcon=R.NODE_ICON_JOB,t.bindingType=R.PFD_SUBTYPE_JOB}),r.getModel().setProperty(\"/jobs\",i)}else r.getModel().setProperty(\"/jobs\",[]);if(t.jobFlows&&t.jobFlows.length>0){var d=$.extend(!0,[],t.jobFlows);$.each(d,function(e,t){t.bindingObject=$.extend(!0,{},t),t.bindingName=t.name,t.bindingIcon=R.NODE_ICON_FLOW,t.bindingType=R.PFD_SUBTYPE_FLOW}),r.getModel().setProperty(\"/flows\",d)}else r.getModel().setProperty(\"/flows\",[]);r.constructJobFlowTreeModel()}return e!==R.USAGE_MODE_NEW&&(r.getModel().setProperty(\"/selectedJobFlow\",o),r.parsePfdGraph(o,a)),r},onZoom:function(e){this.graphControllerValid&&(e&&this.graphController.canZoomIn()?this.graphController.zoomIn(.1):!e&&this.graphController.canZoomOut()&&this.graphController.zoomOut(.1))},onFitCanvas:function(e){this.graphControllerValid&&(this.viewportOptions.setInitialFitPolicy(de.BOTH),this.graphController.resetViewport())},onOverview:function(e){var t=this,o=t.getModel(),a=!o.getProperty(\"/showOverview\");t.pfdOverview.setVisible(a),o.setProperty(\"/showOverview\",a)},onNewObject:function(e,t){var o=this;switch(parseInt(e)){case R.PFD_SUBTYPE_JOB:o.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_JOB,null,null,!0,[t,null]);break;case R.PFD_SUBTYPE_FLOW:o.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_FLOW,null,null,!0,[t]);break;case R.PFD_SUBTYPE_AND_GATE:o.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_AND_GATE,null,null,!0,null);break;case R.PFD_SUBTYPE_OR_GATE:o.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_OR_GATE,null,null,!0,null);break;case R.PFD_SUBTYPE_TIME_EVENT:o.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_TIME_EVENT,null,null,!0,null);break;case R.PFD_SUBTYPE_CMD_ACTION:o.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_CMD_ACTION,null,null,!0,[t])}},onNewJob:function(e){var t=this,o=t.getModel(),a=o.getData().pfdItems;a||(a=[],o.getData().pfdItems=a);var n=new sas.ev.shared.schedule.control.AddJobsDialog({title:this.rb.getText(\"sas.ev.shared.schedule.addJobsDialog.header.title\"),availableItemsLabel:this.rb.getText(\"sas.ev.shared.schedule.addJobsDialog.availableItem.title\"),selectedItemsLabel:this.rb.getText(\"sas.ev.shared.schedule.addJobsDialog.selectedItem.title\"),availableItems:o.getData().jobs,targetList:a});n.setOkCallback(function(e){for(var o=0;o<e.length;o++)$.proxy(t.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_JOB,null,null,!0,[e[o],null]),t);e.length>0&&t.hideZeroStateBox()}),n.open()},onNewJobFlow:function(e){var t=this,o=t.getModel(),a=o.getData().pfdItems;a||(a=[],o.getData().pfdItems=a);for(var n=o.getData().flows,s=[],r=t.getModel().getProperty(\"/selectedJobFlow\"),l=0;l<n.length;l++)r&&n[l].id===r.id||s.push(n[l]);var i=new sas.ev.shared.schedule.control.AddJobsDialog({title:this.rb.getText(\"sas.ev.shared.schedule.addFlowsDialog.header.title\"),availableItemsLabel:this.rb.getText(\"sas.ev.shared.schedule.addFlowsDialog.availableItem.title\"),selectedItemsLabel:this.rb.getText(\"sas.ev.shared.schedule.addFlowsDialog.selectedItem.title\"),availableItems:s,targetList:a});i.setOkCallback(function(e){for(var o=0;o<e.length;o++)$.proxy(t.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_FLOW,null,null,!0,[e[o]]),t);e.length>0&&t.hideZeroStateBox()}),i.open()},onNewStickNote:function(e){this.hideZeroStateBox()},onNewCmdAction:function(e){var t=this;t.hideZeroStateBox(),t.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_CMD_ACTION,null,null,!0,null)},onNewTimeEvent:function(e){var t=this;t.hideZeroStateBox(),t.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_TIME_EVENT,null,null,!0,null)},onNewAndGate:function(e){var t=this;t.hideZeroStateBox(),t.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_AND_GATE,null,null,!0,null)},onNewOrGate:function(e){var t=this;t.hideZeroStateBox(),t.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_OR_GATE,null,null,!0,null)},onNewFromCommon:function(e){var t=this,o=t.getModel(),a=[],n=new sas.ev.shared.schedule.control.AddJobsDialog({title:this.rb.getText(\"sas.ev.shared.schedule.addFromCommon.header.title\"),availableItemsLabel:this.rb.getText(\"sas.ev.shared.schedule.addFromCommon.availableItem.title\"),selectedItemsLabel:this.rb.getText(\"sas.ev.shared.schedule.addFromCommon.selectedItem.title\"),availableItems:o.getData().preCommonLines,targetList:a});n.setOkCallback(function(e){for(var o=0;o<e.length;o++)$.proxy(t.appendPfdRow(R.PFD_TYPE_NODE,R.PFD_SUBTYPE_CMD_ACTION,null,null,!0,[e[o],null]),t);e.length>0&&t.hideZeroStateBox()}),n.open()},onFind:function(e){},onCompactNode:function(e){},onLayout:function(e){var t=this;t.pfdLayeredOpts&&(e?t.pfdLayeredOpts.setOrientation(re.RIGHT):t.pfdLayeredOpts.setOrientation(re.DOWN))},onShowGrid:function(e){},onSnapToGrid:function(e){},onScheduleFlow:function(e){},onSaveFlow:function(e){var t=this;t.oSaveFlowMenuItem.setEnabled(!1),t.oOkButton.setEnabled(!1),t.saveFlow(function(){t.oSaveFlowMenuItem.setEnabled(!0),t.oOkButton.setEnabled(!0)},function(){t.oSaveFlowMenuItem.setEnabled(!0),t.oOkButton.setEnabled(!0)})},onSaveAsImage:function(e){var t=this,o=[\".sasVaObjToolbarShell\",\".visualElementMoveHandle\",\".sasSVGImg\"],a=sas.hc.ui.core.util.DomToCanvasUtil.drawToCanvas(t.oGraphBox.getDomRef(),o);if(sap.ui.Device.browser.internet_explorer||sap.ui.Device.browser.edge)window.navigator.msSaveBlob(a.msToBlob(),\"Flow.png\");else{var n=document.createElement(\"a\"),s=a.toDataURL();s=s.replace(\"image/png\",\"image/octet-stream\"),document.body.appendChild(n),n.addEventListener(\"click\",function(){n.setAttribute(\"download\",\"Flow.png\"),n.href=s},!1),n.click(),document.body.removeChild(n)}},onPrint:function(e){var t=this,o=[\".sasVaObjToolbarShell\",\".visualElementMoveHandle\",\".sasSVGImg\"],a=sas.hc.ui.core.util.DomToCanvasUtil.drawToCanvas(t.oGraphBox.getDomRef(),o),n=a.toDataURL();n=n.replace(\"image/png\",\"image/octet-stream\");var s=\"<!DOCTYPE html>\";s+=\"<html>\",s+=\"<head><title>Print</title></head>\",s+=\"<body>\",s+='<img src=\"'+n+'\">',s+=\"</body>\",s+=\"</html>\";var r=window.open(\"\",\"\",\"width=930,height=800\");r.document.open(),r.document.write(s),r.document.addEventListener(\"load\",function(){r.document.close(),r.focus(),r.print(),r.close()},!0)},onGraphControllerAvailable:function(e){var t=this;e instanceof K&&(t.graphController=e.getControllerOperations(),t.graphController.retain(),t.graphControllerValid=!0,setTimeout(function(){t.graphController.resetViewport()},50))},onLinkAdded:function(e){var t=this,o=t.getModel(),a=o.getProperty(\"/pfdItems\");new U(t.pfdDataSet,a).validateLink(e.getFromNodeId().getStringValue(),e.getToNodeId().getStringValue())&&t.appendPfdRow(R.PFD_TYPE_LINK,null,e.getFromNodeId(),e.getToNodeId(),!0,null)},onMouseUpGraph:function(e){var t=this,o=document.getElementById(t.graphView.getId()),a=G.getMousePosition(e,o);if(t.graphView.getPickResults(a.x,a.y,!1)&&(!e||3!==e.which)){var n=t.pfdDataSet,s=n.getRowStates();if(s&&1===s.getNumberOfSelectedIndices()){var r=n.getColumnIndexByName(R.PFD_FIELD_ID),l=n.getColumnIndexByName(R.PFD_FIELD_TYPE),i=n.getColumnIndexByName(R.PFD_FIELD_SUBTYPE),d=n.getColumnIndexByName(R.PFD_FIELD_FROMNODE),u=n.getColumnDataValues(r),p=n.getColumnDataValues(l),g=n.getColumnDataValues(i),P=n.getColumnDataValues(d),c=s.getSelectedIndices(),h=c[0],m=t.getModel().getProperty(\"/pfdItems\"),_=u[h].getStringValue(),D=p[h].getStringValue(),f=R.PFD_SUBTYPE_LINK,w=\"/\";if(D===R.PFD_TYPE_LINK){var E=P[c[0]].getStringValue(),T=j.getPfdItemInfo(E,m);!T.data||T.data.type!==R.PFD_SUBTYPE_TIME_EVENT&&T.data.type!==R.PFD_SUBTYPE_AND_GATE&&T.data.type!==R.PFD_SUBTYPE_OR_GATE?w=j.getPfdItemInfo(_,m).sPath:(_=E,D=R.PFD_TYPE_NODE,f=T.data.type,w=T.sPath)}else f=g[h].getNumericValue(),w=j.getPfdItemInfo(_,m).sPath;if(D===R.PFD_TYPE_LINK)return void(t.oLinkPropPane&&j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oLinkPropPane,_)||(t.oPropPaneLayout.removeAllPropertyPanes(),t.onLinkSelected(_,w),t.oPropPaneLayout.setRightSelectedPropertyPaneIndex(t.oPropPaneLayout.getRightPropertyPaneVisible()?0:-1)));if(f===R.PFD_SUBTYPE_JOB)return void(t.oJobPropPane&&j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oJobPropPane,_)||(t.oPropPaneLayout.removeAllPropertyPanes(),t.onJobNodeSelected(_,w),t.oPropPaneLayout.setRightSelectedPropertyPaneIndex(t.oPropPaneLayout.getRightPropertyPaneVisible()?0:-1)));if(f===R.PFD_SUBTYPE_FLOW)return void(t.oFlowPropPane&&j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oFlowPropPane,_)||(t.oPropPaneLayout.removeAllPropertyPanes(),t.onJobFlowNodeSelected(_,w),t.oPropPaneLayout.setRightSelectedPropertyPaneIndex(t.oPropPaneLayout.getRightPropertyPaneVisible()?0:-1)));if(f===R.PFD_SUBTYPE_CMD_ACTION)return void(t.oCmdActionPropPane&&j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oCmdActionPropPane,_)||(t.oPropPaneLayout.removeAllPropertyPanes(),t.onCmdActionNodeSelected(_,w),t.oPropPaneLayout.setRightSelectedPropertyPaneIndex(t.oPropPaneLayout.getRightPropertyPaneVisible()?0:-1)));if(f===R.PFD_SUBTYPE_TIME_EVENT)return void(t.oTimeEventPropPane&&j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oTimeEventPropPane,_)||(t.oPropPaneLayout.removeAllPropertyPanes(),t.onTimeEventNodeSelected(_,w),t.oPropPaneLayout.setRightSelectedPropertyPaneIndex(t.oPropPaneLayout.getRightPropertyPaneVisible()?0:-1)));if(f===R.PFD_SUBTYPE_AND_GATE||f===R.PFD_SUBTYPE_OR_GATE)return void(t.oGatePropPane&&j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oGatePropPane,_)||(t.oPropPaneLayout.removeAllPropertyPanes(),t.onGateNodeSelected(_,w),t.oPropPaneLayout.setRightSelectedPropertyPaneIndex(t.oPropPaneLayout.getRightPropertyPaneVisible()?0:-1)))}t.oCurrentFlowPropPane&&j.isPropertyPaneIncluded(t.oPropPaneLayout,t.oCurrentFlowPropPane)||(t.oPropPaneLayout.removeAllPropertyPanes(),t.onCurrentFlowSelected(),t.oPropPaneLayout.setRightSelectedPropertyPaneIndex(t.oPropPaneLayout.getRightPropertyPaneVisible()?0:-1))}},onCurrentFlowSelected:function(){var e=this,t=R.MODEL_PART_CURRENT_FLOW;e.oCurrentFlowPropPane&&!e.oCurrentFlowPropPane.bIsDestroyed||(e.oCurrentFlowPropPane=new L({usageMode:e.getProperty(\"usageMode\")})),j.addAndBindPropertyPane(e.oPropPaneLayout,e.oCurrentFlowPropPane,\"\",t),e.oCurrentFlowAttrPane&&!e.oCurrentFlowAttrPane.bIsDestroyed||(e.oCurrentFlowAttrPane=new M({usageMode:e.getProperty(\"usageMode\")}),e.oCurrentFlowAttrPane.setModel(e.schedulingServersMetaModel,\"sasEvSchedule_schedulingServersMetaModel\"),e.oCurrentFlowAttrPane.setModel(e.completionItemsMetaModel,\"sasEvSchedule_completionItemsMetaModel\")),j.addAndBindPropertyPane(e.oPropPaneLayout,e.oCurrentFlowAttrPane,\"\",t)},onLinkSelected:function(e,t){var o=this;o.oLinkPropPane&&!o.oLinkPropPane.bIsDestroyed||(o.oLinkPropPane=new N({usageMode:o.getProperty(\"usageMode\")})),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oLinkPropPane,e,t)},onJobNodeSelected:function(e,t){var o=this,a=o.pfdDataSet;o.oJobPropPane&&!o.oJobPropPane.bIsDestroyed||(o.oJobPropPane=new A),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oJobPropPane,e,t+R.MODEL_PART_JOB_REQUEST),o.oJobArgumentPane&&!o.oJobArgumentPane.bIsDestroyed||(o.oJobArgumentPane=new x),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oJobArgumentPane,e,t+R.MODEL_PART_JOB_REQUEST),o.oJobDefPane&&!o.oJobDefPane.bIsDestroyed||(o.oJobDefPane=new S),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oJobDefPane,e,t+R.MODEL_PART_JOB_REQUEST),o.oJobActionPane&&!o.oJobActionPane.bIsDestroyed||(o.oJobActionPane=new C({usageMode:o.getProperty(\"usageMode\"),change:function(e){if(e&&e.mParameters)for(var t=e.mParameters,n=a.getColumnIndexByName(R.PFD_FIELD_ID),s=a.getColumnIndexByName(R.PFD_FIELD_TITLE),r=a.getColumnDataValues(n),l=a.getColumnDataValues(s),i=0;i<r.length;i++)if(r[i].getStringValue()===t.pfdItemId){l[i].getStringValue()!==t.name&&(a.setDataValue(new k(t.name,0),i,3),o.updateCompletionItemsMetaModel(R.NODE_ACTION_RENAME,{id:t.pfdItemId,name:t.name}));break}}})),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oJobActionPane,e,t+R.MODEL_PART_OBJ_INFO)},onJobFlowNodeSelected:function(e,t){var o=this;o.oFlowPropPane&&!o.oFlowPropPane.bIsDestroyed||(o.oFlowPropPane=new L({usageMode:R.USAGE_MODE_READONLY})),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oFlowPropPane,e,t+R.MODEL_PART_OBJ_INFO),o.oFlowAttrPane&&!o.oFlowAttrPane.bIsDestroyed||(o.oFlowAttrPane=new M({usageMode:R.USAGE_MODE_READONLY}),o.oFlowAttrPane.setModel(o.schedulingServersMetaModel,\"sasEvSchedule_schedulingServersMetaModel\")),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oFlowAttrPane,e,t+R.MODEL_PART_OBJ_INFO)},onCmdActionNodeSelected:function(e,t){var o=this,a=o.pfdDataSet;o.oCmdActionPropPane&&!o.oCmdActionPropPane.bIsDestroyed||(o.oCmdActionPropPane=new b({usageMode:o.getProperty(\"usageMode\"),change:function(e){if(e&&e.mParameters)for(var t=e.mParameters,n=a.getColumnIndexByName(R.PFD_FIELD_ID),s=a.getColumnIndexByName(R.PFD_FIELD_TITLE),r=a.getColumnDataValues(n),l=a.getColumnDataValues(s),i=0;i<r.length;i++)if(r[i].getStringValue()===t.pfdItemId){l[i].getStringValue()!==t.name&&(a.setDataValue(new k(t.name,0),i,3),o.updateCompletionItemsMetaModel(R.NODE_ACTION_RENAME,{id:t.pfdItemId,name:t.name}));break}}})),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oCmdActionPropPane,e,t+R.MODEL_PART_OBJ_INFO)},onTimeEventNodeSelected:function(e,t){var o=this,a=o.pfdDataSet;o.oTimeEventPropPane&&!o.oTimeEventPropPane.bIsDestroyed||(o.oTimeEventPropPane=new B({usageMode:o.getProperty(\"usageMode\"),change:function(e){if(e&&e.mParameters)for(var t=e.mParameters,o=a.getColumnIndexByName(R.PFD_FIELD_ID),n=a.getColumnIndexByName(R.PFD_FIELD_TITLE),s=a.getColumnDataValues(o),r=a.getColumnDataValues(n),l=0;l<s.length;l++)if(s[l].getStringValue()===t.pfdItemId){r[l].getStringValue()!==t.name&&a.setDataValue(new k(t.name,0),l,3);break}}})),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oTimeEventPropPane,e,t+R.MODEL_PART_OBJ_INFO)},onGateNodeSelected:function(e,t){var o=this,a=o.pfdDataSet;o.oGatePropPane&&!o.oGatePropPane.bIsDestroyed||(o.oGatePropPane=new F({usageMode:o.getProperty(\"usageMode\"),change:function(e){if(e&&e.mParameters)for(var t=e.mParameters,n=a.getColumnIndexByName(R.PFD_FIELD_ID),s=a.getColumnIndexByName(R.PFD_FIELD_SUBTYPE),r=a.getColumnDataValues(n),l=a.getColumnDataValues(s),i=0;i<r.length;i++)if(r[i].getStringValue()===t.pfdItemId){if(t.gateType===R.PFD_SUBTYPE_OR_GATE&&l[i].getNumericValue()===R.PFD_SUBTYPE_AND_GATE){var d=a.getRowAtIndex(i);d[2]=new k(R.PFD_SUBTYPE_OR_GATE),d[3]=new k(o._getText(\"sas.ev.shared.schedule.flow.flowDialog.pfd.node.orGate.title.txt\"),0),d[6]=new k(R.PFD_ICON_OR_GATE,0),a.setRow(d,i)}else if(t.gateType===R.PFD_SUBTYPE_AND_GATE&&l[i].getNumericValue()===R.PFD_SUBTYPE_OR_GATE){var d=a.getRowAtIndex(i);d[2]=new k(R.PFD_SUBTYPE_AND_GATE),d[3]=new k(o._getText(\"sas.ev.shared.schedule.flow.flowDialog.pfd.node.andGate.title.txt\"),0),d[6]=new k(R.PFD_ICON_AND_GATE,0),a.setRow(d,i)}break}}})),j.addAndBindPropertyPane(o.oPropPaneLayout,o.oGatePropPane,e,t)},fnCustomizeContextMenu:function(t,o){var a=this,n=e.getPickResultsFromEvent(o,a.graphView);if(n){if(n[0]){var s=\"\",r=n[0].getEntries();if(r){var l=r[0];if(l){var i=a.pfdDataSet;a.rowIndex=l.getIndices()[0];var d=i.getColumnIndexByName(R.PFD_FIELD_TYPE),u=i.getColumnDataValues(d);void 0!==a.rowIndex&&null!==a.rowIndex&&(s=u[a.rowIndex].getStringValue()),a.updateContextMenu(t,s)}else a.updateContextMenu(t,s)}else a.updateContextMenu(t,s)}return t}},updateContextMenu:function(e,t){var o=this,a=o.pfdDataSet;if(e.removeAllItems(),t===R.PFD_TYPE_NODE){var n=a.getColumnIndexByName(R.PFD_FIELD_SUBTYPE),s=a.getColumnDataValues(n),r=R.PFD_SUBTYPE_LINK;void 0!==o.rowIndex&&null!==o.rowIndex&&s[o.rowIndex]&&(r=s[o.rowIndex].getNumericValue());var l=new sas.hc.ui.unified.MenuItem({text:o._getText(\"sas.ev.shared.schedule.flow.flowDialog.contextMenu.delete.label.txt\")});if(l.attachSelect($.proxy(o.onDeleteGraphRow,o)),e.addItem(l),r===R.PFD_SUBTYPE_CMD_ACTION){var i=new sas.hc.ui.unified.MenuItem({text:o._getText(\"sas.ev.shared.schedule.flow.flowDialog.contextMenu.addToCommon.label.txt\"),select:function(e){o.addToCommon(e)}});e.addItem(i)}}else if(t===R.PFD_TYPE_LINK){var l=new sas.hc.ui.unified.MenuItem({text:o._getText(\"sas.ev.shared.schedule.flow.flowDialog.contextMenu.delete.label.txt\")});l.attachSelect($.proxy(o.onDeleteGraphRow,o)),e.addItem(l)}},addToCommon:function(e){var t=this,o=t.pfdDataSet,a=o.getColumnIndexByName(R.PFD_FIELD_ID),n=o.getColumnDataValues(a),s=n[t.rowIndex].getStringValue(),r=t.getModel().getProperty(\"/pfdItems\"),l=r.find(function(e){return e.id===s}),i=$.extend(!0,[],t.getModel().getProperty(\"/preCommonLines\"));if(l&&l.objInfo&&l.objInfo.commandLine){var d=i?i.length+1:1,u=l.objInfo.name?l.objInfo.name:\"CommonLine\"+d,p=l.objInfo.description?l.objInfo.description:\"\",g={commId:j.generateUUID(),name:u,description:p,commandLine:l.objInfo.commandLine};i.push(g),j.saveCommonLines(i,g,function(e,o){t.getModel().getProperty(\"/preCommonLines\").push(o);var a=t.oJobFlowTree.getNodes()[4],n=new O({text:o.name,icon:R.NODE_ICON_CMD_ACTION,customData:{key:R.PFD_SUBTYPE_CMD_ACTION,value:o}});a.addNode(n),t.oJobFlowTree.addDelegate(new sas.hc.ui.core.delegate.Draggable(n,{appendTo:t.$(),helper:\"clone\",cursor:\"copy\",object:n,group:\"dndJobAndFlowTree\"})),P.show(t._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveCommonCommandLine.success.msg.fmt\",[g.name]))},function(e){j.showErrorMessage(e)})}else j.showErrorMessage(t._getText(\"sas.ev.shared.schedule.flow.commonLine.failedSave.error.fmt\"))},onDeleteGraphRow:function(e){this.deleteGraphRow(this.rowIndex)},getSubsetFlowItems:function(){for(var e=this,t=e.pfdDataSet,o=t.getColumnIndexByName(R.PFD_FIELD_ID),a=t.getColumnIndexByName(R.PFD_FIELD_TYPE),n=t.getColumnIndexByName(R.PFD_FIELD_SUBTYPE),s=t.getColumnIndexByName(R.PFD_FIELD_TITLE),r=t.getColumnDataValues(o),l=t.getColumnDataValues(a),i=t.getColumnDataValues(n),d=t.getColumnDataValues(s),u=[],p=0;p<d.length;p++)if(l[p].getStringValue()===R.PFD_TYPE_NODE){var g=i[p].getNumericValue();if(g===R.PFD_SUBTYPE_JOB){var P={id:r[p].getStringValue(),name:d[p].getStringValue(),iconPath:R.NODE_ICON_JOB};u.push(P)}else if(g===R.PFD_SUBTYPE_CMD_ACTION){var P={id:r[p].getStringValue(),name:d[p].getStringValue(),iconPath:R.NODE_ICON_CMD_ACTION};u.push(P)}else if(g===R.PFD_SUBTYPE_FLOW){var P={id:r[p].getStringValue(),name:d[p].getStringValue(),iconPath:R.NODE_ICON_FLOW};u.push(P)}}return u},isEditableFlowAttrPaneUsed:function(){var e=this,t=e.getProperty(\"usageMode\"),o=!1;return t!==R.USAGE_MODE_READONLY&&t!==R.USAGE_MODE_READONLY_WITH_STATUS&&e.oCurrentFlowAttrPane&&j.isPropertyPaneIncluded(e.oPropPaneLayout,e.oCurrentFlowAttrPane)&&(o=!0),o},removeOrphanNodes:function(e,t,o){var a=this;e&&e.length>0?g.information({text:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.removeOrphans.msg.txt\"),title:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.title.txt\"),buttonActions:[{text:c.Yes,defaultButton:!0},c.No],buttonPress:function(n){var s=n.getParameter(\"origin\");if(s.getMessageDialogAction()===c.Yes){for(var r=a.pfdDataSet,l=r.getColumnIndexByName(R.PFD_FIELD_ID),i=0;i<e.length;i++)for(var d=r.getColumnDataValues(l),u=0;u<d.length;u++)if(e[i]===d[u].getStringValue()){a.deleteGraphRow(u);break}t&&t()}else s.getMessageDialogAction()===c.No&&o&&o()}}):t&&t()},initCompletionItemsMetaModel:function(){if(!this.completionItemsMetaModel){var e=this.getModel(),t=e.getProperty(\"/currentFlow\"),o=t.flowProperties,a=this.getSubsetFlowItems(),n=this.getProperty(\"usageMode\"),s=[],r=[];if(a||(a=[]),o&&o.completionSelectedJobs&&o.completionSelectedJobs.length>0&&(s=o.completionSelectedJobs),n===R.USAGE_MODE_READONLY||n===R.USAGE_MODE_READONLY_WITH_STATUS){for(var l=0;l<s.length;l++){for(var i=null,d=0;d<a.length;d++)if(s[l]===a[d].name){i=a[d].iconPath;break}var u={name:s[l],iconPath:i};r.push(u)}0===a.length&&(a=r)}else for(var l=0;l<s.length;l++){for(var p=-1,d=0;d<a.length;d++)if(s[l]===a[d].name){p=d;break}if(p>=0){var u=$.extend({},a[p]);r.push(u)}}this.completionItemsMetaModel=new w({availableItemList:a,selectedItemList:r})}},updateCompletionItemsMetaModel:function(e,t){if(this.completionItemsMetaModel){var o=this.getModel();if(e===R.NODE_ACTION_ADD){var a=this.completionItemsMetaModel.getProperty(\"/availableItemList\");t&&a.push(t),this.completionItemsMetaModel.refresh()}else if(e===R.NODE_ACTION_DELETE){for(var n=this.completionItemsMetaModel.getProperty(\"/selectedItemList\"),s=-1,r=0;r<n.length;r++)if(n[r].id===t){s=r;break}s>=0&&n.splice(s,1);for(var a=this.completionItemsMetaModel.getProperty(\"/availableItemList\"),l=-1,r=0;r<a.length;r++)if(a[r].id===t){l=r;break}if(l>=0&&a.splice(l,1),(s>=0||l>=0)&&(this.completionItemsMetaModel.refresh(),s>=0)){var i=[];if(n)for(var r=0;r<n.length;r++)i.push(n[r].name);o.setProperty(\"/currentFlow/flowProperties/completionSelectedJobs\",i),this.isEditableFlowAttrPaneUsed()&&this.oCurrentFlowAttrPane.setSelectedItemCount(i.length)}}else if(e===R.NODE_ACTION_RENAME){for(var n=this.completionItemsMetaModel.getProperty(\"/selectedItemList\"),s=-1,r=0;r<n.length;r++)if(n[r].id===t.id){s=r;break}s>=0&&(n[s].name=t.name);for(var a=this.completionItemsMetaModel.getProperty(\"/availableItemList\"),l=-1,r=0;r<a.length;r++)if(a[r].id===t.id){l=r;break}if(l>=0&&(a[l].name=t.name),(s>=0||l>=0)&&(this.completionItemsMetaModel.refresh(),s>=0)){var i=[];if(n)for(var r=0;r<n.length;r++)i.push(n[r].name);o.setProperty(\"/currentFlow/flowProperties/completionSelectedJobs\",i)}}}},confirmDeleteCommonLine:function(e,t){var o=this;g.warning({text:o._getText(\"sas.ev.shared.schedule.flow.commonLine.warning.fmt\",[t.getText()]),title:E.getAppName(),buttonActions:[c.Yes,{text:c.No,initialFocus:!0,defaultButton:!0}],buttonPress:function(e){\ne.getParameter(\"origin\").getMessageDialogAction()===c.Yes&&o.deleteCommonLine(t)}})},deleteCommonLine:function(e){var t=this,o=$.extend(!0,[],t.getModel().getProperty(\"/preCommonLines\")),a=e.getAggregation(\"customData\")[0].getValue(),n=o.find(function(e,t){return a.commId===e.commId});o.splice(o.indexOf(n),1),j.deleteCommonLine(o,n,function(o,a){var n=t.getModel().getProperty(\"/preCommonLines\");n.splice(n.indexOf(a),1),t.oJobFlowTree.getNodes()[4].removeNode(e)},function(e){j.showErrorMessage(e)})},saveFlow:function(e,t,o){var a=this,n=a.getModel(),s=n.getProperty(\"/currentFlow\"),r=n.getProperty(\"/pfdItems\"),l=Y.checkEmptyNames(s,r);if(l.length>0)return g.error({text:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.emptyName.txt\"),title:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.title.txt\"),detailText:l}),void(t&&t());var i=Y.checkDuplicateNames(r);if(i.length>0)return g.error({text:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.duplicatedName.txt\"),title:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.title.txt\"),detailText:i}),void(t&&t());var d=Y.validate(s,r);if(d.length>0)return g.error({text:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.ruleCheck.txt\"),title:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.title.txt\"),detailText:d}),void(t&&t());if(0===Y.getActionNumber(r))return g.error({text:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.emptyFlow.txt\"),title:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.title.txt\"),detailText:l}),void(t&&t());var u=Y.checkOrphans(a.pfdDataSet,r);a.removeOrphanNodes(u,function(){r=n.getProperty(\"/pfdItems\");var s=n.getProperty(\"/removedPfdItems\"),l=new J(a.pfdDataSet,r);l.deleteRemovedActions(s,function(){n.setProperty(\"/removedPfdItems\",[]),l.checkUnsavedJobActions()?l.createJobActions(function(){l.updateJobActions(function(){var o=n.getProperty(\"/currentFlow\");o.triggerType=\"manual\",o.jobs=l.buildFlowJobs(),o.dependencies=l.buildFlowDependencies(),o.id?j.updateJobFlow(o,function(t){n.setProperty(\"/currentFlow\",t),a.resetFlowModification(),n.refresh(),P.show(a._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.success.msg.fmt\",[o.name])),sap.ui.getCore().getEventBus().publish(\"sasevschedulingJobsview\",\"EVJobsRefresh\",a),e&&e()},function(e){sas.ev.shared.Utils.ajaxErrorMessageHandler({title:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.failed.title.txt\"),message:e,detail:e}).open(),t&&t()}):j.createJobFlow(o,function(t){n.setProperty(\"/currentFlow\",t),a.resetFlowModification(),n.refresh(),P.show(a._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.success.msg.fmt\",[o.name])),sap.ui.getCore().getEventBus().publish(\"sasevschedulingJobsview\",\"EVJobsRefresh\",a),e&&e()},function(e){sas.ev.shared.Utils.ajaxErrorMessageHandler({title:a._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.failed.title.txt\"),message:e,detail:e}).open(),t&&t()})},t,o)},t,o):t&&t()},t,o)},function(){t&&t()})},isFlowModified:function(){var e=this.getModel(),t=e.getProperty(\"/pfdItems\");if(e.getProperty(\"/isModified\"))return!0;for(var o=0;o<t.length;o++){if(t[o].isModified)return!0}return!1},resetFlowModification:function(){var e=this.getModel(),t=e.getProperty(\"/pfdItems\");e.getProperty(\"/isModified\")&&e.setProperty(\"/isModified\",!1);for(var o=0;o<t.length;o++){var a=t[o];a.isModified&&(a.isModified=!1)}},exit:function(){a.prototype.exit&&a.prototype.exit.apply(this,arguments)},_getText:function(e,t,o,a){return this.rb.getText(e,t,o,a)},_closeWithModificationCheck:function(e){var t=this,o=t.getProperty(\"usageMode\");o!==R.USAGE_MODE_NEW&&o!==R.USAGE_MODE_MODIFY||!t.isFlowModified()?e?a.prototype._handleXCloseButtonPress&&a.prototype._handleXCloseButtonPress.apply(t,arguments):t.close():g.warning({text:t._getText(\"sas.ev.shared.schedule.flow.flowDialog.cancel.warning.txt\"),title:E.getAppName(),buttonActions:[{text:c.Yes,defaultButton:!0},c.No],buttonPress:function(o){o.getParameter(\"origin\").getMessageDialogAction()===c.Yes&&(e?a.prototype._handleXCloseButtonPress&&a.prototype._handleXCloseButtonPress.apply(t,arguments):t.close())}})},_handleXCloseButtonPress:function(){this._closeWithModificationCheck(!0)},_onAfterClose:function(e){this.oCurrentFlowPropPane&&(this.oCurrentFlowPropPane.destroy(),this.oCurrentFlowPropPane=null),this.oCurrentFlowAttrPane&&(this.oCurrentFlowAttrPane.destroy(),this.oCurrentFlowAttrPane=null),this.oJobPropPane&&(this.oJobPropPane.destroy(),this.oJobPropPane=null),this.oJobArgumentPane&&(this.oJobArgumentPane.destroy(),this.oJobArgumentPane=null),this.oJobDefPane&&(this.oJobDefPane.destroy(),this.oJobDefPane=null),this.oJobActionPane&&(this.oJobActionPane.destroy(),this.oJobActionPane=null),this.oFlowPropPane&&(this.oFlowPropPane.destroy(),this.oFlowPropPane=null),this.oFlowAttrPane&&(this.oFlowAttrPane.destroy(),this.oFlowAttrPane=null),this.oCmdActionPropPane&&(this.oCmdActionPropPane.destroy(),this.oCmdActionPropPane=null),this.oTimeEventPropPane&&(this.oTimeEventPropPane.destroy(),this.oTimeEventPropPane=null),this.oGatePropPane&&(this.oGatePropPane.destroy(),this.oGatePropPane=null),this.oLinkPropPane&&(this.oLinkPropPane.destroy(),this.oLinkPropPane=null),this.destroy()}})}();",
	"sas/ev/shared/schedule/control/FlowHistoryDialog.js": "sap.ui.define([\"sap/ui/thirdparty/jquery\",\"sas/hc/m/Dialog\",\"sas/hc/m/Text\",\"sas/hc/m/Label\",\"sas/ev/shared/schedule/utils/FlowMonitorUtils\",\"sas/hc/ui/table/TreeTable\",\"sas/hc/ui/table/Column\",\"sas/hc/m/FlexItemData\",\"sas/hc/m/Link\",\"sap/ui/model/Filter\",\"sap/ui/model/FilterOperator\",\"sap/ui/model/Sorter\",\"sap/ui/model/json/JSONModel\",\"sas/hc/m/Button\",\"sap/ui/core/mvc/View\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sap/ui/core/library\"],function(t,e,o,s,r,i,l,a,n,u,h,p,w,c){\"use strict\";var d=e.extend(\"sas.ev.shared.schedule.control.FlowHistoryDialog\",{metadata:{properties:{flowHistoryItems:{type:\"any\",defaultValue:null},currentFlow:{type:\"any\",defaultValue:null},flowData:{type:\"any\",defaultValue:null}},library:\"sas.ev.shared.schedule.control\"},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.FlowHistoryDialog\",sas.log.Level.DEBUG),renderer:\"sas.hc.m.DialogRenderer\",constructor:function(){e.apply(this,arguments)}});return d.prototype.init=function(){var t=this,o=this.getId();t.setResizable(!0),t.setContentWidth(\"72rem\"),t.setContentHeight(\"38rem\"),e.prototype.init&&e.prototype.init.apply(this,arguments),this.flowMonitorContentView=sap.ui.view({id:o+\"SASEVFlowMonitorViewPage\",viewName:\"sas.ev.shared.schedule.view.FlowMonitor\",type:sap.ui.core.mvc.ViewType.JS,height:\"100%\",width:\"100%\"}),this.addContent(this.flowMonitorContentView),this.setEndButton(new c({text:this.rb.getText(\"sas.ev.shared.schedule.flowHistory.dialog.closeButton.txt\"),press:function(){t.close(),t.flowMonitorContentView&&t.flowMonitorContentView.destroy(),t.destroy()}})),this.attachAfterClose(function(e){t.flowMonitorContentView&&t.flowMonitorContentView.destroy(),t.destroy()},t)},d.prototype.setFlowData=function(t){this.setProperty(\"flowData\",t,!0),this.flowMonitorContentView.getController().flowHistoryTableView.getController().flowData=t},d.prototype.setCurrentFlow=function(t){this.setProperty(\"currentFlow\",t,!0),this.flowMonitorContentView.getController().flowHistoryTableView.getController().currentFlow=t,this.setTitle(this.rb.getText(\"sas.ev.shared.schedule.flowHistory.dialog.title.fmt\",[t.name]))},d.prototype.setFlowHistoryItems=function(t){this.setProperty(\"flowHistoryItems\",t,!0),this.flowMonitorContentView.getController().flowModel.setData(t)},d.prototype.exit=function(){e.prototype.exit&&e.prototype.exit.apply(this,arguments)},d});",
	"sas/ev/shared/schedule/control/GatePropertyPane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Gate Property Pane.</p>\n * <p>Description: Property pane for and/or gate.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.RadioButton\"),jQuery.sap.require(\"sas.hc.m.RadioButtonGroup\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleProperties\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\");var e=sas.hc.m.Label,t=sas.hc.m.RadioButtonGroup,o=sas.hc.m.RadioButton,s=sas.hc.m.FlexBox,r=sas.hc.ui.commons.propPane.PropertyPane,a=sas.ev.shared.schedule.utils.ScheduleProperties;r.extend(\"sas.ev.shared.schedule.control.GatePropertyPane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"},usageMode:{type:\"int\",group:\"Behavior\",defaultValue:a.USAGE_MODE_READONLY}},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.GatePropertyPane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oLabel:null,_oRBG:null,_oBox:null,init:function(){r.prototype.init&&r.prototype.init.apply(this,arguments);var a=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.flow.gatePropPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.HC.PROPERTIES,tooltip:this._getText(\"sas.ev.shared.schedule.flow.gatePropPane.tooltip.txt\")});var i=new e({id:a+\"-label\",text:this._getText(\"sas.ev.shared.schedule.flow.gatePropPane.groupingConditions.label.txt\")});this._oLabel=i;var n=new t({id:a+\"-rbg\",selectedIndex:0,select:[this._onRGBSelect,this],buttons:[new o({text:this._getText(\"sas.ev.shared.schedule.flow.gatePropPane.groupingOr.radioButton.txt\"),groupName:\"groupGateProp\"}),new o({text:this._getText(\"sas.ev.shared.schedule.flow.gatePropPane.groupingAnd.radioButton.txt\"),groupName:\"groupGateProp\"})]}).addStyleClass(\"sapUiTinyMarginTop\");this._oRBG=n;var h=new s({direction:\"Column\",items:[this._oEventTypeLabel,this._oRBG]});this._oBox=h,this.addContent(this._oBox)},onBeforeRendering:function(){r.prototype.onBeforeRendering&&r.prototype.onBeforeRendering.apply(this,arguments);var e=this.getProperty(\"usageMode\");e!==a.USAGE_MODE_READONLY&&e!==a.USAGE_MODE_READONLY_WITH_STATUS||!this._oRBG.getEditable()?e===a.USAGE_MODE_READONLY||e===a.USAGE_MODE_READONLY_WITH_STATUS||this._oRBG.getEditable()||this._oRBG.setEditable(!0):this._oRBG.setEditable(!1)},onAfterRendering:function(){r.prototype.onAfterRendering&&r.prototype.onAfterRendering.apply(this,arguments);var e=this.getBindingContext();if(e&&e.oModel&&e.sPath){var t=e.oModel.getProperty(e.sPath+\"/type\");t===a.PFD_SUBTYPE_AND_GATE&&0===this._oRBG.getSelectedIndex()?this._oRBG.setSelectedIndex(1):t===a.PFD_SUBTYPE_OR_GATE&&1===this._oRBG.getSelectedIndex()&&this._oRBG.setSelectedIndex(0)}},_onDataModified:function(){var e=this.getProperty(\"usageMode\");if(e===a.USAGE_MODE_NEW||e===a.USAGE_MODE_MODIFY){var t=this.getBindingContext();if(t&&t.oModel&&t.sPath){var o=t.sPath+a.PATH_PART_ISMODIFIED;t.oModel.setProperty(o,!0)}}},_getText:function(e,t,o,s){return this.rb.getText(e,t,o,s)},_onRGBSelect:function(e){var t=a.PFD_SUBTYPE_OR_GATE;1===this._oRBG.getSelectedIndex()&&(t=a.PFD_SUBTYPE_AND_GATE);var o=this.getBindingContext();o&&o.oModel&&o.sPath&&o.oModel.setProperty(o.sPath+\"/type\",t),this._onDataModified(),this.fireChange({pfdItemId:this.getProperty(\"pfdItemId\"),gateType:t})},exit:function(){this._oLabel&&(this._oLabel.destroy(),this._oLabel=null),this._oRBG&&(this._oRBG.destroy(),this._oRBG=null),this._oBox&&(this._oBox.destroy(),this._oBox=null),r.prototype.exit&&r.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/control/JobActionPane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Job Action Pane.</p>\n * <p>Description: Action pane for job flow.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.m.TextArea\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.SASFormatterUtil\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.CalendarUtil\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowValidateUtils\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleProperties\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.ui.core.Item\");var e=sas.hc.m.Label,t=sas.hc.m.Input,i=sas.hc.m.FlexBox,a=sas.hc.m.Select,s=sas.hc.m.TextArea,o=sas.ltjs.sasicu.util.SASFormatterUtil,r=sas.ltjs.sasicu.util.CalendarUtil,l=sas.hc.ui.commons.propPane.PropertyPane,n=sas.ev.shared.schedule.utils.FlowValidateUtils,d=sas.ev.shared.schedule.utils.ScheduleProperties;l.extend(\"sas.ev.shared.schedule.control.JobActionPane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"},usageMode:{type:\"int\",group:\"Behavior\",defaultValue:d.USAGE_MODE_READONLY}},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.JobActionPane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oNameLabel:null,_oNameInput:null,_oDescLabel:null,_oDescTextArea:null,_oJobReqLabel:null,_oJobReqInput:null,_oPriorityLabel:null,_oPrioritySelect:null,_oCreatedDateLabel:null,_oCreatedDateInput:null,_oCreateByLabel:null,_oCreatedByInput:null,_oModifiedDateLabel:null,_oModifiedDateInput:null,_oModifiedByLabel:null,_oModifiedByInput:null,_oBox:null,init:function(){l.prototype.init&&l.prototype.init.apply(this,arguments);var n=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.jobActionPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.HC.JOBREQUEST,tooltip:this._getText(\"sas.ev.shared.schedule.jobActionPane.tooltip.txt\")});var h=new e({id:n+\"-nameLabel\",text:this._getText(\"sas.ev.shared.schedule.jobActionPane.name.label.txt\")});this._oNameLabel=h;var u=new t({id:n+\"-nameInput\",type:sap.m.InputType.Text,value:\"{name}\",change:[this._onNameInputChange,this]}).addStyleClass(\"sapUiTinyMarginTop\");this._oNameInput=u;var _=new e({id:n+\"-descLabel\",text:this._getText(\"sas.ev.shared.schedule.jobActionPane.description.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oDescLabel=_;var p=new s({id:n+\"-descTextArea\",value:\"{description}\",change:[this._onDescChange,this]}).addStyleClass(\"sapUiTinyMarginTop\");this._oDescTextArea=p;var y=new e({id:n+\"-jobReqLabel\",text:this._getText(\"sas.ev.shared.schedule.jobActionPane.jobRequest.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oJobReqLabel=y;var c=new t({id:n+\"-jobReqInput\",value:\"{jobRequestUri}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oJobReqInput=c;var b=new e({id:n+\"-priorityLabel\",text:this._getText(\"sas.ev.shared.schedule.jobActionPane.priority.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oPriorityLabel=b;var I=new a({id:n+\"-prioritySelect\",selectedKey:\"{priority}\",change:[this._onDataModified,this],width:\"100%\",items:[new sas.hc.ui.core.Item({key:d.JOB_PRIORITY_NONE,text:this._getText(\"sas.ev.shared.schedule.jobActionPane.priority.none.txt\")}),new sas.hc.ui.core.Item({key:d.JOB_PRIORITY_TOP,text:this._getText(\"sas.ev.shared.schedule.jobActionPane.priority.top.txt\")}),new sas.hc.ui.core.Item({key:d.JOB_PRIORITY_HIGH,text:this._getText(\"sas.ev.shared.schedule.jobActionPane.priority.high.txt\")}),new sas.hc.ui.core.Item({key:d.JOB_PRIORITY_NORMAL,text:this._getText(\"sas.ev.shared.schedule.jobActionPane.priority.normal.txt\")}),new sas.hc.ui.core.Item({key:d.JOB_PRIORITY_MEDIUM,text:this._getText(\"sas.ev.shared.schedule.jobActionPane.priority.medium.txt\")}),new sas.hc.ui.core.Item({key:d.JOB_PRIORITY_LOW,text:this._getText(\"sas.ev.shared.schedule.jobActionPane.priority.low.txt\")})]}).addStyleClass(\"sapUiTinyMarginTop\");this._oPrioritySelect=I;var m=new e({id:n+\"-createdDateLabel\",text:this._getText(\"sas.ev.shared.schedule.jobActionPane.createdDate.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCreatedDateLabel=m;var D=new t({id:n+\"-createdDateInput\",value:{path:\"creationTimeStamp\",formatter:function(e){return e?o.format(r.jsDateToSASDateTime(new Date(e)),\"DATETIME\"):\"\"}},editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oCreatedDateInput=D;var T=new e({id:n+\"-createdByLabel\",text:this._getText(\"sas.ev.shared.schedule.jobActionPane.createdBy.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCreateByLabel=T;var L=new t({id:n+\"-createdByInput\",value:\"{createdBy}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oCreatedByInput=L;var g=new e({id:n+\"-modifiedDateLabel\",text:this._getText(\"sas.ev.shared.schedule.jobActionPane.modifiedDate.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oModifiedDateLabel=g;var x=new t({id:n+\"-modifiedDateInput\",value:{path:\"modifiedTimeStamp\",formatter:function(e){return e?o.format(r.jsDateToSASDateTime(new Date(e)),\"DATETIME\"):\"\"}},editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oModifiedDateInput=x;var M=new e({id:n+\"-modifiedByLabel\",text:this._getText(\"sas.ev.shared.schedule.jobActionPane.modifiedBy.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oModifiedByLabel=M;var f=new t({id:n+\"-modifiedByInput\",value:\"{modifiedBy}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oModifiedByInput=f;var B=new i({direction:\"Column\",items:[this._oNameLabel,this._oNameInput,this._oDescLabel,this._oDescTextArea,this._oJobReqLabel,this._oJobReqInput,this._oPriorityLabel,this._oPrioritySelect,this._oCreatedDateLabel,this._oCreatedDateInput,this._oCreateByLabel,this._oCreatedByInput,this._oModifiedDateLabel,this._oModifiedDateInput,this._oModifiedByLabel,this._oModifiedByInput]});this._oBox=B,this.addContent(this._oBox)},onBeforeRendering:function(){l.prototype.onBeforeRendering&&l.prototype.onBeforeRendering.apply(this,arguments);var e=this.getProperty(\"usageMode\");e===d.USAGE_MODE_READONLY||e===d.USAGE_MODE_READONLY_WITH_STATUS?(this._oNameInput.setEditable(!1),this._oDescTextArea.setEnabled(!1),this._oPrioritySelect.setEnabled(!1)):(this._oNameInput.setEditable(!0),this._oDescTextArea.setEnabled(!0),this._oPrioritySelect.setEnabled(!0));var t=null,i=this.getBindingContext();i&&i.oModel&&i.sPath&&(t=i.oModel.getProperty(i.sPath+\"/id\")),e===d.USAGE_MODE_READONLY||e===d.USAGE_MODE_READONLY_WITH_STATUS||t?(this._oCreatedDateLabel.setVisible(!0),this._oCreatedDateInput.setVisible(!0),this._oCreateByLabel.setVisible(!0),this._oCreatedByInput.setVisible(!0),this._oModifiedDateLabel.setVisible(!0),this._oModifiedDateInput.setVisible(!0),this._oModifiedByLabel.setVisible(!0),this._oModifiedByInput.setVisible(!0)):(this._oCreatedDateLabel.setVisible(!1),this._oCreatedDateInput.setVisible(!1),this._oCreateByLabel.setVisible(!1),this._oCreatedByInput.setVisible(!1),this._oModifiedDateLabel.setVisible(!1),this._oModifiedDateInput.setVisible(!1),this._oModifiedByLabel.setVisible(!1),this._oModifiedByInput.setVisible(!1))},onAfterRendering:function(){l.prototype.onAfterRendering&&l.prototype.onAfterRendering.apply(this,arguments),this._validName()},_onDataModified:function(){var e=this.getProperty(\"usageMode\");if(e===d.USAGE_MODE_NEW||e===d.USAGE_MODE_MODIFY){var t=this.getBindingContext();if(t&&t.oModel&&t.sPath&&t.sPath.indexOf(d.MODEL_PART_OBJ_INFO)>0){var i=t.sPath.replace(d.MODEL_PART_OBJ_INFO,d.PATH_PART_ISMODIFIED);t.oModel.setProperty(i,!0)}}},_getText:function(e,t,i,a){return this.rb.getText(e,t,i,a)},_validName:function(){var e=n.validateName(this._oNameInput.getValue(),this._oNameInput);return e&&(e=n.validateStringByteLength(this._oNameInput.getValue(),n.NAME_BYTE_LIMIT,this._oNameInput)),e},_onNameInputChange:function(e){this._validName(),this.fireChange({pfdItemId:this.getProperty(\"pfdItemId\"),name:this._oNameInput.getValue()}),this._onDataModified()},_onDescChange:function(e){n.validateStringByteLength(this._oDescTextArea.getValue(),n.DESC_BYTE_LIMIT,this._oDescTextArea),this._onDataModified()},exit:function(){this._oNameLabel&&(this._oNameLabel.destroy(),this._oNameLabel=null),this._oNameInput&&(this._oNameInput.destroy(),this._oNameInput=null),this._oDescLabel&&(this._oDescLabel.destroy(),this._oDescLabel=null),this._oDescTextArea&&(this._oDescTextArea.destroy(),this._oDescTextArea=null),this._oJobReqLabel&&(this._oJobReqLabel.destroy(),this._oJobReqLabel=null),this._oJobReqInput&&(this._oJobReqInput.destroy(),this._oJobReqInput=null),this._oPriorityLabel&&(this._oPriorityLabel.destroy(),this._oPriorityLabel=null),this._oPrioritySelect&&(this._oPrioritySelect.destroy(),this._oPrioritySelect=null),this._oCreatedDateLabel&&(this._oCreatedDateLabel.destroy(),this._oCreatedDateLabel=null),this._oCreatedDateInput&&(this._oCreatedDateInput.destroy(),this._oCreatedDateInput=null),this._oCreateByLabel&&(this._oCreateByLabel.destroy(),this._oCreateByLabel=null),this._oCreatedByInput&&(this._oCreatedByInput.destroy(),this._oCreatedByInput=null),this._oModifiedDateLabel&&(this._oModifiedDateLabel.destroy(),this._oModifiedDateLabel=null),this._oModifiedDateInput&&(this._oModifiedDateInput.destroy(),this._oModifiedDateInput=null),this._oModifiedByLabel&&(this._oModifiedByLabel.destroy(),this._oModifiedByLabel=null),this._oModifiedByInput&&(this._oModifiedByInput.destroy(),this._oModifiedByInput=null),this._oBox&&(this._oBox.destroy(),this._oBox=null),l.prototype.exit&&l.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/control/JobArgumentPane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Job Argument Pane.</p>\n * <p>Description: Argument pane for job.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Column\"),jQuery.sap.require(\"sas.hc.m.ColumnListItem\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.Table\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sas.hc.ui.commons.windowshade.WindowShade\"),jQuery.sap.require(\"sas.hc.ui.commons.windowshade.WindowShadeSection\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.ui.model.JSONModel\");var e=sas.hc.m.Column,t=sas.hc.m.Label,s=sas.hc.m.Input,a=sas.hc.m.FlexBox,i=sas.hc.m.Table,l=sas.hc.ui.commons.propPane.PropertyPane,o=sas.hc.ui.commons.windowshade.WindowShade,n=sas.hc.ui.commons.windowshade.WindowShadeSection;l.extend(\"sas.ev.shared.schedule.control.JobArgumentPane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"}},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.JobArgumentPane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oTypeLabel:null,_oTypeInput:null,_oServerNameLabel:null,_oServerNameInput:null,_oInputCaslibLabel:null,_oInputCaslibInput:null,_oOutputCaslibLabel:null,_oOutputCaslibInput:null,_oFilterLabel:null,_oFilterInput:null,_oSettingTable:null,_oSettingSection:null,_oSettingWindowShade:null,_oClassAdmBox:null,_oBox:null,init:function(){l.prototype.init&&l.prototype.init.apply(this,arguments);var r=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.jobArgumentPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.HC.PARAMETERS,tooltip:this._getText(\"sas.ev.shared.schedule.jobArgumentPane.tooltip.txt\")});var u=new t({id:r+\"-typeLabel\",text:this._getText(\"sas.ev.shared.schedule.jobArgumentPane.type.label.txt\")});this._oTypeLabel=u;var h=new s({id:r+\"-typeInput\",value:\"{sasEvSchedule_jobArgsModel>/type}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oTypeInput=h;var d=new t({id:r+\"-serverNameLabel\",text:this._getText(\"sas.ev.shared.schedule.jobArgumentPane.serverName.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oServerNameLabel=d;var p=new s({id:r+\"-serverNameInput\",value:\"{sasEvSchedule_jobArgsModel>/selectors/0/serverName}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oServerNameInput=p;var b=new t({id:r+\"-inputCaslibLabel\",text:this._getText(\"sas.ev.shared.schedule.jobArgumentPane.inputCaslib.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oInputCaslibLabel=b;var _=new s({id:r+\"-inputCaslibInput\",value:\"{sasEvSchedule_jobArgsModel>/selectors/0/inputCaslib}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oInputCaslibInput=_;var c=new t({id:r+\"-outputCaslibLabel\",text:this._getText(\"sas.ev.shared.schedule.jobArgumentPane.outputCaslib.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oOutputCaslibLabel=c;var g=new s({id:r+\"-outputCaslibInput\",value:\"{sasEvSchedule_jobArgsModel>/selectors/0/outputCaslib}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oOutputCaslibInput=g;var m=new t({id:r+\"-filterLabel\",text:this._getText(\"sas.ev.shared.schedule.jobArgumentPane.filter.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oFilterLabel=m;var S=new s({id:r+\"-filterInput\",value:\"{sasEvSchedule_jobArgsModel>/selectors/0/filter}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oFilterInput=S;var v=new i({id:r+\"-settingTable\",showOuterBorder:!0,width:\"100%\",height:\"100%\",layoutData:new sas.hc.m.FlexItemData({growFactor:1}),columns:[new e({header:new t({text:this._getText(\"sas.ev.shared.schedule.jobArgumentPane.settingsTable.nameColumn.txt\")})}),new e({header:new t({text:this._getText(\"sas.ev.shared.schedule.jobArgumentPane.settingsTable.valueColumn.txt\")})})],items:{path:\"sasEvSchedule_jobArgsModel>/settings\",template:new sas.hc.m.ColumnListItem({cells:[new s({value:\"{sasEvSchedule_jobArgsModel>name}\",editable:!1}),new s({value:\"{sasEvSchedule_jobArgsModel>value}\",editable:!1})]}),templateShareable:!1}});this._oSettingTable=v;var y=new n({id:r+\"-settingSection\",title:this._getText(\"sas.ev.shared.schedule.jobArgumentPane.settings.title.fmt\",[0]),content:[this._oSettingTable]});this._oSettingSection=y;var C=new o({id:r+\"-windowShade\",openFirstSection:!1,width:\"100%\",sections:[this._oSettingSection]});this._oSettingWindowShade=C;var I=new a({direction:\"Column\",items:[this._oTypeLabel,this._oTypeInput,this._oServerNameLabel,this._oServerNameInput,this._oInputCaslibLabel,this._oInputCaslibInput,this._oOutputCaslibLabel,this._oOutputCaslibInput,this._oFilterLabel,this._oFilterInput]});this._oClassAdmBox=I;var x=new a({direction:\"Column\",items:[this._oClassAdmBox,this._oSettingWindowShade]});this._oBox=x,this.addContent(this._oBox);var T=new sas.hc.ui.model.JSONModel({});this.setModel(T,\"sasEvSchedule_jobArgsModel\")},onBeforeRendering:function(){l.prototype.onBeforeRendering&&l.prototype.onBeforeRendering.apply(this,arguments);var e=!1,t={},s=[],a=this.getBindingContext();if(a&&a.oModel&&a.sPath){var i=a.oModel.getProperty(a.sPath+\"/properties\");i&&$.each(i,function(t,s){\"class\"===s.name&&\"admin\"===s.value&&(e=!0)}),this._oClassAdmBox.setVisible(!1);var o=a.oModel.getProperty(a.sPath+\"/arguments\");if(o)if(e&&o.options){this._oClassAdmBox.setVisible(!0);var n=o.options;t=JSON.parse(n),t&&(t.settings&&$.each(t.settings,function(e,t){s.push({name:e,value:t})}),t.selectors&&t.selectors.length>0&&t.selectors[0].settings&&($.each(t.selectors[0].settings,function(e,t){var a=!1;$.each(s,function(t,i){if(i.name===e)return s[t].value=i,a=!0,!1}),a||s.push({name:e,value:t})}),t.selectors[0].settings={}))}else $.each(o,function(e,t){s.push({name:e,value:t})})}t.settings=s,this.getModel(\"sasEvSchedule_jobArgsModel\").setData(t),this._oSettingSection.setTitle(this._getText(\"sas.ev.shared.schedule.jobArgumentPane.settings.title.fmt\",[s.length]))},_getText:function(e,t,s,a){return this.rb.getText(e,t,s,a)},exit:function(){this._oTypeLabel&&(this._oTypeLabel.destroy(),this._oTypeLabel=null),this._oTypeInput&&(this._oTypeInput.destroy(),this._oTypeInput=null),this._oServerNameLabel&&(this._oServerNameLabel.destroy(),this._oServerNameLabel=null),this._oServerNameInput&&(this._oServerNameInput.destroy(),this._oServerNameInput=null),this._oInputCaslibLabel&&(this._oInputCaslibLabel.destroy(),this._oInputCaslibLabel=null),this._oInputCaslibInput&&(this._oInputCaslibInput.destroy(),this._oInputCaslibInput=null),this._oOutputCaslibLabel&&(this._oOutputCaslibLabel.destroy(),this._oOutputCaslibLabel=null),this._oOutputCaslibInput&&(this._oOutputCaslibInput.destroy(),this._oOutputCaslibInput=null),this._oFilterLabel&&(this._oFilterLabel.destroy(),this._oFilterLabel=null),this._oFilterInput&&(this._oFilterInput.destroy(),this._oFilterInput=null),this._oSettingTable&&(this._oSettingTable.destroy(),this._oSettingTable=null),this._oSettingSection&&(this._oSettingSection.destroy(),this._oSettingSection=null),this._oSettingWindowShade&&(this._oSettingWindowShade.destroy(),this._oSettingWindowShade=null),this._oClassAdmBox&&(this._oClassAdmBox.destroy(),this._oClassAdmBox=null),this._oBox&&(this._oBox.destroy(),this._oBox=null),l.prototype.exit&&l.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/control/JobDefinitionPane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Job Definition Pane.</p>\n * <p>Description: Definition pane for job.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.Column\"),jQuery.sap.require(\"sas.hc.m.ColumnListItem\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.Table\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sas.hc.ui.commons.windowshade.WindowShade\"),jQuery.sap.require(\"sas.hc.ui.commons.windowshade.WindowShadeSection\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.JobDefinitionParametersDialog\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleUtils\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.hc.ui.model.JSONModel\");var e=sas.hc.m.Button,t=sas.hc.m.Column,a=sas.hc.m.Label,s=sas.hc.m.Input,o=sas.hc.m.FlexBox,i=sas.hc.m.ResponsiveToolbar,r=sas.hc.m.Table,n=sas.hc.m.ToolbarSpacer,l=sas.hc.ui.commons.propPane.PropertyPane,h=sas.hc.ui.commons.windowshade.WindowShade,p=sas.hc.ui.commons.windowshade.WindowShadeSection,d=sas.ev.shared.schedule.control.JobDefinitionParametersDialog,u=sas.ev.shared.schedule.utils.ScheduleUtils;l.extend(\"sas.ev.shared.schedule.control.JobDefinitionPane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"}},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.JobDefinitionPane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oNameLabel:null,_oNameInput:null,_oTypeLabel:null,_oTypeInput:null,_oIdLabel:null,_oIdInput:null,_oParamTable:null,_oParamSection:null,_oParamWindowShade:null,_oPropTable:null,_oPropSection:null,_oPropWindowShade:null,_oBox:null,init:function(){l.prototype.init&&l.prototype.init.apply(this,arguments);var d=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.jobDefPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.OBJECTTYPES.JOBDEFINITION_OBJ,tooltip:this._getText(\"sas.ev.shared.schedule.jobDefPane.tooltip.txt\")});var u=new a({id:d+\"-nameLabel\",text:this._getText(\"sas.ev.shared.schedule.jobDefPane.name.label.txt\")});this._oNameLabel=u;var m=new s({id:d+\"-nameInput\",type:sap.m.InputType.Text,value:\"{jobDefinition/name}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oNameInput=m;var c=new a({id:d+\"-typeLabel\",text:this._getText(\"sas.ev.shared.schedule.jobDefPane.type.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oTypeLabel=c;var _=new s({id:d+\"-typeInput\",value:\"{jobDefinition/type}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oTypeInput=_;var b=new a({id:d+\"-idLabel\",text:this._getText(\"sas.ev.shared.schedule.jobDefPane.id.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oIdLabel=b;var P=new s({id:d+\"-idInput\",value:\"{jobDefinition/id}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oIdInput=P;var y=new r({id:d+\"-paramTable\",showOuterBorder:!0,width:\"100%\",height:\"100%\",layoutData:new sas.hc.m.FlexItemData({growFactor:1}),headerToolbar:new i({id:d+\"-respToolbar\",content:[new n,new e({id:d+\"-paramBtn\",icon:sas.icons.HC.VIEWITEM,press:[this._onViewParameterPress,this]})]}),columns:[new t({header:new a({text:this._getText(\"sas.ev.shared.schedule.jobDefPane.parametersTable.nameColumn.txt\")})}),new t({header:new a({text:this._getText(\"sas.ev.shared.schedule.jobDefPane.parametersTable.valueColumn.txt\")})})],items:{path:\"jobDefinition/parameters\",template:new sas.hc.m.ColumnListItem({cells:[new s({value:\"{name}\",editable:!1}),new s({value:\"{defaultValue}\",editable:!1})]}),templateShareable:!1}});this._oParamTable=y;var T=new p({id:d+\"-paramSection\",title:this._getText(\"sas.ev.shared.schedule.jobDefPane.parameters.title.fmt\",[0]),content:[this._oParamTable]});this._oParamSection=T;var w=new h({id:d+\"-paramWindowShade\",openFirstSection:!1,width:\"100%\",sections:[this._oParamSection]});this._oParamWindowShade=w;var S=new r({id:d+\"-propTable\",showOuterBorder:!0,width:\"100%\",height:\"100%\",layoutData:new sas.hc.m.FlexItemData({growFactor:1}),columns:[new t({header:new a({text:this._getText(\"sas.ev.shared.schedule.jobDefPane.propertiesTable.nameColumn.txt\")})}),new t({header:new a({text:this._getText(\"sas.ev.shared.schedule.jobDefPane.propertiesTable.valueColumn.txt\")})})],items:{path:\"jobDefinition/properties\",template:new sas.hc.m.ColumnListItem({cells:[new s({value:\"{name}\",editable:!1}),new s({value:\"{value}\",editable:!1})]}),templateShareable:!1}});this._oPropTable=S;var f=new p({id:d+\"-propSection\",title:this._getText(\"sas.ev.shared.schedule.jobDefPane.properties.title.fmt\",[0]),content:[this._oPropTable]});this._oPropSection=f;var v=new h({id:d+\"-propWindowShade\",openFirstSection:!1,width:\"100%\",sections:[this._oPropSection]});this._oPropWindowShade=v;var g=new o({direction:\"Column\",items:[this._oNameLabel,this._oNameInput,this._oTypeLabel,this._oTypeInput,this._oIdLabel,this._oIdInput,this._oParamWindowShade,this._oPropWindowShade]});this._oBox=g,this.addContent(this._oBox)},onBeforeRendering:function(){l.prototype.onBeforeRendering&&l.prototype.onBeforeRendering.apply(this,arguments),this._setSectionTitles()},_setSectionTitles:function(){var e=this,t=this.getBindingContext();if(t&&t.oModel&&t.sPath){var a=t.oModel.getProperty(t.sPath+\"/jobDefinition\");if(a)a.parameters&&e._oParamSection&&e._oParamSection.setTitle(e._getText(\"sas.ev.shared.schedule.jobDefPane.parameters.title.fmt\",[a.parameters.length])),a.properties&&e._oPropSection&&e._oPropSection.setTitle(e._getText(\"sas.ev.shared.schedule.jobDefPane.properties.title.fmt\",[a.properties.length]));else{var s=t.oModel.getProperty(t.sPath+\"/jobDefinitionUri\");s&&(e.setBusy(!0),u.getJobDefinition(s,function(a,o){if(a===s&&o){var i=o;t&&t.sPath&&t.oModel.setProperty(t.sPath+\"/jobDefinition\",i),i.parameters&&e._oParamSection&&e._oParamSection.setTitle(e._getText(\"sas.ev.shared.schedule.jobDefPane.parameters.title.fmt\",[i.parameters.length])),i.properties&&e._oPropSection&&e._oPropSection.setTitle(e._getText(\"sas.ev.shared.schedule.jobDefPane.properties.title.fmt\",[i.properties.length]))}e.setBusy(!1)},function(){e.setBusy(!1)}))}}},_getText:function(e,t,a,s){return this.rb.getText(e,t,a,s)},_onViewParameterPress:function(e){var t=new d,a=new sas.hc.ui.model.JSONModel({name:\"\"}),s=this.getBindingContext();if(s&&s.oModel&&s.sPath){var o=s.oModel.getProperty(s.sPath);o&&(a.setProperty(\"/name\",o.name),o.jobDefinition&&o.jobDefinition.parameters&&a.setProperty(\"/parameters\",o.jobDefinition.parameters))}t.setModel(a),t.open()},exit:function(){this._oNameLabel&&(this._oNameLabel.destroy(),this._oNameLabel=null),this._oNameInput&&(this._oNameInput.destroy(),this._oNameInput=null),this._oTypeLabel&&(this._oTypeLabel.destroy(),this._oTypeLabel=null),this._oTypeInput&&(this._oTypeInput.destroy(),this._oTypeInput=null),this._oIdLabel&&(this._oIdLabel.destroy(),this._oIdLabel=null),this._oIdInput&&(this._oIdInput.destroy(),this._oIdInput=null),this._oParamTable&&(this._oParamTable.destroy(),this._oParamTable=null),this._oParamSection&&(this._oParamSection.destroy(),this._oParamSection=null),this._oParamWindowShade&&(this._oParamWindowShade.destroy(),this._oParamWindowShade=null),this._oPropTable&&(this._oPropTable.destroy(),this._oPropTable=null),this._oPropSection&&(this._oPropSection.destroy(),this._oPropSection=null),this._oPropWindowShade&&(this._oPropWindowShade.destroy(),this._oPropWindowShade=null),this._oBox&&(this._oBox.destroy(),this._oBox=null),l.prototype.exit&&l.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/control/JobDefinitionParametersDialog.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Job Definition Parameters Dialog.</p>\n * <p>Description: Dialog for job definition parameters.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Column\"),jQuery.sap.require(\"sas.hc.m.ColumnListItem\"),jQuery.sap.require(\"sas.hc.m.Dialog\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.Table\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\");var e=sas.hc.m.Column,a=sas.hc.m.Dialog,t=sas.hc.m.Button,s=sas.hc.m.FlexBox,r=sas.hc.m.Label,l=sas.hc.m.Input,o=sas.hc.m.Table;a.extend(\"sas.ev.shared.schedule.control.JobDefinitionParametersDialog\",{metadata:{properties:{},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.JobDefinitionParametersDialog\",sas.log.Level.ERROR),renderer:\"sas.hc.m.DialogRenderer\",init:function(){a.prototype.init&&a.prototype.init.apply(this,arguments);var i=this.getId(),n=this;n.setResizable(!0);var u=new t({id:i+\"-closeBtn\",text:n._getText(\"sas.ev.shared.schedule.jobDefParamDialog.close.button.label.txt\"),press:function(){n.close()}}),h=new l({value:{path:\"/name\",formatter:function(e){return n._getText(\"sas.ev.shared.schedule.jobDefParamDialog.name.label.fmt\",[e])}},editable:!1,width:\"100%\",layoutData:new sas.hc.m.FlexItemData({growFactor:1})}),m=new o({id:i+\"-paramTable\",showOuterBorder:!0,width:\"100%\",height:\"100%\",layoutData:new sas.hc.m.FlexItemData({growFactor:1}),columns:[new e({header:new r({text:this._getText(\"sas.ev.shared.schedule.jobDefParamDialog.parametersTable.nameColumn.txt\")})}),new e({header:new r({text:this._getText(\"sas.ev.shared.schedule.jobDefParamDialog.parametersTable.labelColumn.txt\")})}),new e({header:new r({text:this._getText(\"sas.ev.shared.schedule.jobDefParamDialog.parametersTable.valueColumn.txt\")})}),new e({header:new r({text:this._getText(\"sas.ev.shared.schedule.jobDefParamDialog.parametersTable.typeColumn.txt\")})}),new e({header:new r({text:this._getText(\"sas.ev.shared.schedule.jobDefParamDialog.parametersTable.requiredColumn.txt\")})})],items:{path:\"/parameters\",template:new sas.hc.m.ColumnListItem({cells:[new l({value:\"{name}\",editable:!1}),new l({value:\"{label}\",editable:!1}),new l({value:\"{defaultValue}\",editable:!1}),new l({value:\"{type}\",editable:!1}),new l({value:\"{required}\",editable:!1})]}),templateShareable:!1}}).addStyleClass(\"sapUiSmallMarginTop\"),c=new s({direction:\"Column\",items:[h,m]});n.setTitle(n._getText(\"sas.ev.shared.schedule.jobDefParamDialog.title.txt\")),n.addContent(c),n.setRightButton(u),n.attachAfterClose(n._onAfterClose,n)},exit:function(){a.prototype.exit&&a.prototype.exit.apply(this,arguments)},_getText:function(e,a,t,s){return this.rb.getText(e,a,t,s)},_onAfterClose:function(e){this.destroy()}})}();",
	"sas/ev/shared/schedule/control/JobFlowAttributePane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Job Flow Attribute Pane.</p>\n * <p>Description: Attribute pane for job flow.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.List\"),jQuery.sap.require(\"sas.hc.m.StandardListItem\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.RadioButton\"),jQuery.sap.require(\"sas.hc.m.RadioButtonGroup\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.m.SegmentedButton\"),jQuery.sap.require(\"sas.hc.m.SegmentedButtonItem\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sas.hc.ui.commons.windowshade.WindowShade\"),jQuery.sap.require(\"sas.hc.ui.commons.windowshade.WindowShadeSection\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Item\"),jQuery.sap.require(\"sas.hc.ui.model.JSONModel\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.ev.shared.schedule.control.CompletionSelectedJobsDialog\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleProperties\");var e=sas.hc.m.Label,t=sas.hc.m.List,o=sas.hc.m.StandardListItem,s=sas.hc.m.Input,i=sas.hc.m.FlexBox,l=sas.hc.m.RadioButtonGroup,n=sas.hc.m.RadioButton,d=sas.hc.m.ResponsiveToolbar,a=sas.hc.m.Select,r=sas.hc.m.SegmentedButton,h=sas.hc.m.SegmentedButtonItem,u=sas.hc.m.ToolbarSpacer,c=sas.hc.ui.commons.propPane.PropertyPane,_=sas.hc.ui.commons.windowshade.WindowShade,S=sas.hc.ui.model.JSONModel,p=sas.hc.ui.commons.windowshade.WindowShadeSection,v=sas.ev.shared.schedule.control.CompletionSelectedJobsDialog,g=sas.ev.shared.schedule.utils.ScheduleProperties,m=sas.hc.m.Button,E={completionLevel:\"completionLevel\",completionSelectedJobs:\"completionSelectedJobs\",endBehavior:\"endBehavior\",exitCodeStrategy:\"exitcodeStrategy\",emailNotification:\"emailNotification\",emailAddress:\"emailAddress\"};c.extend(\"sas.ev.shared.schedule.control.JobFlowAttributePane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"},usageMode:{type:\"int\",group:\"Behavior\",defaultValue:g.USAGE_MODE_READONLY}},publicMethods:[\"setSelectedItemCount\"],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.JobFlowAttributePane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oSchedulingServerLabel:null,_oSchedulingServerSelect:null,_oSchedulingServerInput:null,_oCompletionLevelLabel:null,_oCompletionLevelRbg:null,_oCompletionLevelInput:null,_oSelectedEndAnyBtn:null,_oSelectedEndAllBtn:null,_oSelectedEndTypeBtn:null,_oSelectedItemsList:null,_oSelectedItemsBtn:null,_oSelectedItemsSection:null,_oSelectedItemsWindowShade:null,_oSelectedEndBox:null,_oCompletionLevelEditBox:null,_oCompletionLevelReadonlyBox:null,_oEndBehaviorLabel:null,_oEndBehaviorRbg:null,_oEndBehaviorInput:null,_oExitCodeStrategyLabel:null,_oExitCodeStrategyRbg:null,_oExitCodeStrategyInput:null,_oMainBox:null,init:function(){c.prototype.init&&c.prototype.init.apply(this,arguments);var S=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.HC.ATTRIBUTES,tooltip:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.tooltip.txt\")});var v=new e({id:S+\"-schedulingServerLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.schedulingServer.label.txt\")});this._oSchedulingServerLabel=v;var E=new a({id:S+\"-schedulingServerSelect\",selectedKey:\"{schedulerId}\",change:[this._onDataModified,this],width:\"100%\",items:{path:\"sasEvSchedule_schedulingServersMetaModel>/schedulingServers\",template:new sas.hc.ui.core.Item({text:\"{sasEvSchedule_schedulingServersMetaModel>name}\",key:\"{sasEvSchedule_schedulingServersMetaModel>id}\"})}}).addStyleClass(\"sapUiTinyMarginTop\");this._oSchedulingServerSelect=E;var y=new s({id:S+\"-schedulingServerInput\",value:\"\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oSchedulingServerInput=y;var L=new e({id:S+\"-completionLevelLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.completionLevel.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCompletionLevelLabel=L;var x=new l({id:S+\"-completionCriteriaRbg\",selectedIndex:-1,select:[this._onCompletionLevelChange,this],buttons:[new n({text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.completionLevel.default.radioButton.txt\"),groupName:\"groupCompletionLevel\"}),new n({text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.completionLevel.onlySelectedEnd.radioButton.txt\"),groupName:\"groupCompletionLevel\"})]}).addStyleClass(\"sapUiTinyMarginTop\");this._oCompletionLevelRbg=x;var B=new h({id:S+\"-selectedEndAnyBtn\",key:g.FLOW_COMPLETIONLEVEL_ANYSELECTED,text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.completionLevel.onlySelectedEnd.any.segmentedButtonItem.txt\")});this._oSelectedEndAnyBtn=B;var I=new h({id:S+\"-selectedEndAllBtn\",key:g.FLOW_COMPLETIONLEVEL_ALLSELECTED,text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.completionLevel.onlySelectedEnd.all.segmentedButtonItem.txt\")});this._oSelectedEndAllBtn=I;var C=new r({id:S+\"-selectedEndTypeSBtn\",selectedKey:g.FLOW_COMPLETIONLEVEL_ANYSELECTED,items:[B,I],select:[this._onCompletionLevelChange,this],enabled:!1});this._oSelectedEndTypeBtn=C;var b=new t({id:S+\"-selectedItemsList\"});b.bindItems({path:\"sasEvSchedule_completionItemsMetaModel>/selectedItemList\",template:new o({title:\"{sasEvSchedule_completionItemsMetaModel>name}\",icon:\"{sasEvSchedule_completionItemsMetaModel>iconPath}\"}),templateShareable:!1}),this._oSelectedItemsList=b;var w=new m({id:S+\"-selectedItemsBtn\",icon:sas.icons.HC.EDIT,press:[this._onCompletionSelectedJobsEdit,this]});this._oSelectedItemsBtn=w;var T=new p({id:S+\"-paramSection\",title:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.selectedItems.title.fmt\",[0]),headerToolbar:new d({id:S+\"-respToolbar\",content:[new u,this._oSelectedItemsBtn]}),content:[this._oSelectedItemsList]});this._oSelectedItemsSection=T;var f=new _({id:S+\"-selectedItemsWindowShade\",openFirstSection:!1,width:\"100%\",sections:[this._oSelectedItemsSection]});this._oSelectedItemsWindowShade=f;var P=new i({id:S+\"-selectedEndBox\",direction:\"Column\",items:[this._oSelectedEndTypeBtn,this._oSelectedItemsWindowShade]}).addStyleClass(\"evSchedulingFlowAttributePaneMarginBegin\");this._oSelectedEndBox=P;var M=new s({id:S+\"-completionLevelInput\",value:\"\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oCompletionLevelInput=M;var R=new i({id:S+\"-completionLevelEditBox\",direction:\"Column\",items:[this._oCompletionLevelRbg,this._oSelectedEndBox]}).addStyleClass(\"evSchedulingFlowSelectedCompletionMarginBegin\");this._oCompletionLevelEditBox=R;var A=new e({id:S+\"-endBehaviorLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oEndBehaviorLabel=A;var O=new l({id:S+\"-endBehaviorRbg\",selectedIndex:-1,select:[this._onEndBehaviorChange,this],buttons:[new n({text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.stop.radioButton.txt\"),tooltip:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.stop.radioButton.txt\"),groupName:\"groupEndBehavior\"}),new n({text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.continue.radioButton.txt\"),tooltip:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.continue.radioButton.txt\"),groupName:\"groupEndBehavior\"}),new n({text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.continueDelay.radioButton.txt\"),tooltip:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.continueDelay.radioButton.txt\"),groupName:\"groupEndBehavior\"})]}).addStyleClass(\"sapUiTinyMarginTop\").addStyleClass(\"evSchedulingFlowAttributePaneMarginBegin\");this._oEndBehaviorRbg=O;var D=new s({id:S+\"-endBehaviorInput\",value:\"\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oEndBehaviorInput=D;var V=new i({id:S+\"-completionLevelReadOnlyBox\",direction:\"Column\",items:[]});this._oCompletionLevelReadonlyBox=V;var N=new e({id:S+\"-exitCodeStrategyLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.exitCodeStrategy.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oExitCodeStrategyLabel=N;var F=new l({id:S+\"-exitCodeStrategyRbg\",selectedIndex:-1,select:[this._onExitCodeStrategyChange,this],buttons:[new n({text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.exitCodeStrategy.last.radioButton.txt\"),groupName:\"groupExitCodeStrategy\"}),new n({text:this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.exitCodeStrategy.sum.radioButton.txt\"),groupName:\"groupExitCodeStrategy\"})]}).addStyleClass(\"sapUiTinyMarginTop\").addStyleClass(\"evSchedulingFlowAttributePaneMarginBegin\");this._oExitCodeStrategyRbg=F;var W=new s({id:S+\"-exitCodeStrategyInput\",value:\"\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oExitCodeStrategyInput=W;var U=new i({direction:\"Column\",items:[this._oSchedulingServerLabel,this._oSchedulingServerSelect,this._oSchedulingServerInput,this._oCompletionLevelLabel,this._oCompletionLevelEditBox,this._oCompletionLevelInput,this._oCompletionLevelReadonlyBox,this._oEndBehaviorLabel,this._oEndBehaviorRbg,this._oEndBehaviorInput,this._oExitCodeStrategyLabel,this._oExitCodeStrategyRbg,this._oExitCodeStrategyInput]});this._oMainBox=U,this.addContent(this._oMainBox)},onBeforeRendering:function(){c.prototype.onBeforeRendering&&c.prototype.onBeforeRendering.apply(this,arguments);var e=this.getBindingContext(),t=this._getFlowProperties(),o=this.getProperty(\"usageMode\"),s=this.getModel(\"sasEvSchedule_schedulingServersMetaModel\");if(s){var i=s.getProperty(\"/schedulingServers\");if(i){var l=null,n=\"\";if(e&&e.oModel&&e.sPath&&(l=e.oModel.getProperty(e.sPath+\"/schedulerId\")),l){n=l;for(var d=0;d<i.length;d++)if(l===i[d].id){n=i[d].name;break}}this._oSchedulingServerInput.setValue(n)}}var a=this.getModel(\"sasEvSchedule_completionItemsMetaModel\");if(!a)if(o===g.USAGE_MODE_READONLY||o===g.USAGE_MODE_READONLY_WITH_STATUS){var r=[],h=[];t&&t[E.completionSelectedJobs]&&t[E.completionSelectedJobs].length>0&&(r=t[E.completionSelectedJobs]);for(var d=0;d<r.length;d++){var u={id:null,name:r[d],iconPath:null};h.push(u)}a=new S({availableItemList:h,selectedItemList:h}),this.setModel(a,\"sasEvSchedule_completionItemsMetaModel\")}else this.logger.error(\"completionItemsMetaModel is not set when usage is not readonly!\");if(a){var _=a.getProperty(\"/selectedItemList\");this.setSelectedItemCount(_.length)}var p=t?t[E.completionLevel]:null;p===g.FLOW_COMPLETIONLEVEL_DEFAULT?(this._oCompletionLevelRbg.setSelectedIndex(0),this._oSelectedEndTypeBtn.setEnabled(!1),this._oCompletionLevelInput.setValue(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.completionLevel.default.radioButton.txt\"))):p===g.FLOW_COMPLETIONLEVEL_ANYSELECTED?(this._oCompletionLevelRbg.setSelectedIndex(1),this._oSelectedEndTypeBtn.setEnabled(!0),this._oSelectedEndTypeBtn.setSelectedKey(p),this._oCompletionLevelInput.setValue(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.completionLevel.anySelected.radioButton.txt\"))):p===g.FLOW_COMPLETIONLEVEL_ALLSELECTED?(this._oCompletionLevelRbg.setSelectedIndex(1),this._oSelectedEndTypeBtn.setEnabled(!0),this._oSelectedEndTypeBtn.setSelectedKey(p),this._oCompletionLevelInput.setValue(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.completionLevel.allSelected.radioButton.txt\"))):(this._oCompletionLevelRbg.setSelectedIndex(-1),this._oSelectedEndTypeBtn.setEnabled(!1),this._oSelectedEndTypeBtn.setSelectedKey(g.FLOW_COMPLETIONLEVEL_ANYSELECTED),this._oCompletionLevelInput.setValue(\"\"));var v=t?t[E.endBehavior]:null;v===g.FLOW_ENDBEHAVIOR_STOP?(this._oEndBehaviorRbg.setSelectedIndex(0),this._oEndBehaviorInput.setValue(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.stop.radioButton.txt\"))):v===g.FLOW_ENDBEHAVIOR_CONTINUE?(this._oEndBehaviorRbg.setSelectedIndex(1),this._oEndBehaviorInput.setValue(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.continue.radioButton.txt\"))):v===g.FLOW_ENDBEHAVIOR_CONTINUE_DELAY?(this._oEndBehaviorRbg.setSelectedIndex(2),this._oEndBehaviorInput.setValue(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.endBehavior.continueDelay.radioButton.txt\"))):(this._oEndBehaviorRbg.setSelectedIndex(-1),this._oEndBehaviorInput.setValue(\"\"));var m=t?t[E.exitCodeStrategy]:null;m===g.FLOW_EXITCODESTRATEGY_LAST?(this._oExitCodeStrategyRbg.setSelectedIndex(0),this._oExitCodeStrategyInput.setValue(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.exitCodeStrategy.last.radioButton.txt\"))):m===g.FLOW_EXITCODSTRATEGY_SUM?(this._oExitCodeStrategyRbg.setSelectedIndex(1),this._oExitCodeStrategyInput.setValue(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.exitCodeStrategy.sum.radioButton.txt\"))):(this._oExitCodeStrategyRbg.setSelectedIndex(-1),this._oExitCodeStrategyInput.setValue(\"\"));var o=this.getProperty(\"usageMode\");o===g.USAGE_MODE_READONLY||o===g.USAGE_MODE_READONLY_WITH_STATUS?(this._oSchedulingServerSelect.setVisible(!1),this._oSchedulingServerInput.setVisible(!0),this._oCompletionLevelInput.setVisible(!0),this._oSelectedEndBox.indexOfItem(this._oSelectedItemsWindowShade)>=0&&(this._oSelectedEndBox.removeItem(this._oSelectedItemsWindowShade),this._oCompletionLevelReadonlyBox.addItem(this._oSelectedItemsWindowShade)),this._oSelectedItemsBtn.setVisible(!1),this._oCompletionLevelEditBox.setVisible(!1),p===g.FLOW_COMPLETIONLEVEL_ANYSELECTED||p===g.FLOW_COMPLETIONLEVEL_ALLSELECTED?this._oCompletionLevelReadonlyBox.setVisible(!0):this._oCompletionLevelReadonlyBox.setVisible(!1),this._oEndBehaviorRbg.setVisible(!1),this._oEndBehaviorInput.setVisible(!0),this._oExitCodeStrategyRbg.setVisible(!1),this._oExitCodeStrategyInput.setVisible(!0)):(this._oSchedulingServerSelect.setVisible(!0),this._oSchedulingServerInput.setVisible(!1),this._oCompletionLevelInput.setVisible(!1),this._oCompletionLevelReadonlyBox.indexOfItem(this._oSelectedItemsWindowShade)>=0&&(this._oCompletionLevelReadonlyBox.removeItem(this._oSelectedItemsWindowShade),this._oSelectedEndBox.addItem(this._oSelectedItemsWindowShade)),this._oSelectedItemsBtn.setVisible(!0),this._oCompletionLevelEditBox.setVisible(!0),this._oCompletionLevelReadonlyBox.setVisible(!1),this._oEndBehaviorRbg.setVisible(!0),this._oEndBehaviorInput.setVisible(!1),this._oExitCodeStrategyRbg.setVisible(!0),this._oExitCodeStrategyInput.setVisible(!1))},_onDataModified:function(){var e=this.getProperty(\"usageMode\");if(e===g.USAGE_MODE_NEW||e===g.USAGE_MODE_MODIFY){var t=this.getBindingContext();if(t&&t.oModel&&t.sPath&&t.sPath.indexOf(g.MODEL_PART_CURRENT_FLOW)>=0){var o=t.sPath.replace(g.MODEL_PART_CURRENT_FLOW,g.PATH_PART_ISMODIFIED);t.oModel.setProperty(o,!0)}}},_getText:function(e,t,o,s){return this.rb.getText(e,t,o,s)},_onCompletionLevelChange:function(e){if(this._oCompletionLevelRbg){var t=this._oCompletionLevelRbg.getSelectedIndex(),o=this._getFlowProperty(E.completionLevel),s=g.FLOW_COMPLETIONLEVEL_NONE;0===t?(this._oSelectedEndTypeBtn.setEnabled(!1),s=g.FLOW_COMPLETIONLEVEL_DEFAULT):1===t&&(this._oSelectedEndTypeBtn.setEnabled(!0),s=this._oSelectedEndTypeBtn.getSelectedKey()),o&&s===o||(this._setFlowProperty(E.completionLevel,s),this._onDataModified())}},_onCompletionSelectedJobsEdit:function(e){var t=this,o=this.getModel(\"sasEvSchedule_completionItemsMetaModel\"),s=new v({change:function(e){if(e&&e.mParameters&&o){var s=e.mParameters.availableItemList,i=e.mParameters.selectedItemList;o.setProperty(\"/availableItemList\",s),o.setProperty(\"/selectedItemList\",i);var l=[];if(i)for(var n=0;n<i.length;n++)l.push(i[n].name);t._setFlowProperty(E.completionSelectedJobs,l),t.setSelectedItemCount(l.length),t._onDataModified()}}});s.updateModelData(o.getProperty(\"/availableItemList\"),o.getProperty(\"/selectedItemList\")),s.open()},_onEndBehaviorChange:function(e){var t=this._oEndBehaviorRbg.getSelectedIndex();0===t?this._setFlowProperty(E.endBehavior,g.FLOW_ENDBEHAVIOR_STOP):1===t?this._setFlowProperty(E.endBehavior,g.FLOW_ENDBEHAVIOR_CONTINUE):2===t&&this._setFlowProperty(E.endBehavior,g.FLOW_ENDBEHAVIOR_CONTINUE_DELAY),this._onDataModified()},_onExitCodeStrategyChange:function(e){var t=this._oExitCodeStrategyRbg.getSelectedIndex();0===t?this._setFlowProperty(E.exitCodeStrategy,g.FLOW_EXITCODESTRATEGY_LAST):1===t&&this._setFlowProperty(E.exitCodeStrategy,g.FLOW_EXITCODSTRATEGY_SUM),this._onDataModified()},_setFlowProperty:function(e,t){if(e){var o=this.getBindingContext();o&&o.oModel&&o.sPath&&o.oModel.setProperty(o.sPath+\"/flowProperties/\"+e,t)}},_getFlowProperty:function(e){if(e){var t=this.getBindingContext();if(t&&t.oModel&&t.sPath){var o=t.oModel.getProperty(t.sPath+\"/flowProperties/\"+e);if(o)return o}}return null},_getFlowProperties:function(){var e=this.getBindingContext();if(e&&e.oModel&&e.sPath){var t=e.oModel.getProperty(e.sPath+\"/flowProperties\");if(t)return t}return null},setSelectedItemCount:function(e){this._oSelectedItemsSection.setTitle(this._getText(\"sas.ev.shared.schedule.flow.flowAttrPane.selectedItems.title.fmt\",[e]))},exit:function(){this._oSchedulingServerLabel&&(this._oSchedulingServerLabel.destroy(),this._oSchedulingServerLabel=null),this._oSchedulingServerSelect&&(this._oSchedulingServerSelect.destroy(),this._oSchedulingServerSelect=null),this._oSchedulingServerInput&&(this._oSchedulingServerInput.destroy(),this._oSchedulingServerInput=null),this._oCompletionLevelLabel&&(this._oCompletionLevelLabel.destroy(),this._oCompletionLevelLabel=null),this._oCompletionLevelRbg&&(this._oCompletionLevelRbg.destroy(),this._oCompletionLevelRbg=null),this._oSelectedEndAnyBtn&&(this._oSelectedEndAnyBtn.destroy(),this._oSelectedEndAnyBtn=null),this._oSelectedEndAllBtn&&(this._oSelectedEndAllBtn.destroy(),this._oSelectedEndAllBtn=null),this._oSelectedEndTypeBtn&&(this._oSelectedEndTypeBtn.destroy(),this._oSelectedEndTypeBtn=null),this._oSelectedItemsList&&(this._oSelectedItemsList.destroy(),this._oSelectedItemsList=null),this._oSelectedItemsBtn&&(this._oSelectedItemsBtn.destroy(),this._oSelectedItemsBtn=null),this._oSelectedItemsSection&&(this._oSelectedItemsSection.destroy(),this._oSelectedItemsSection=null),this._oSelectedItemsWindowShade&&(this._oSelectedItemsWindowShade.destroy(),this._oSelectedItemsWindowShade=null),this._oSelectedEndBox&&(this._oSelectedEndBox.destroy(),this._oSelectedEndBox=null),this._oCompletionLevelEditBox&&(this._oCompletionLevelEditBox.destroy(),this._oCompletionLevelEditBox=null),this._oCompletionLevelInput&&(this._oCompletionLevelInput.destroy(),this._oCompletionLevelInput=null),this._oCompletionLevelReadonlyBox&&(this._oCompletionLevelReadonlyBox.destroy(),this._oCompletionLevelReadonlyBox=null),this._oEndBehaviorLabel&&(this._oEndBehaviorLabel.destroy(),this._oEndBehaviorLabel=null),this._oEndBehaviorRbg&&(this._oEndBehaviorRbg.destroy(),this._oEndBehaviorRbg=null),this._oEndBehaviorInput&&(this._oEndBehaviorInput.destroy(),this._oEndBehaviorInput=null),this._oExitCodeStrategyLabel&&(this._oExitCodeStrategyLabel.destroy(),this._oExitCodeStrategyLabel=null),this._oExitCodeStrategyRbg&&(this._oExitCodeStrategyRbg.destroy(),this._oExitCodeStrategyRbg=null),this._oExitCodeStrategyInput&&(this._oExitCodeStrategyInput.destroy(),this._oExitCodeStrategyInput=null),this._oMainBox&&(this._oMainBox.destroy(),this._oMainBox=null),c.prototype.exit&&c.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/control/JobFlowPropertyPane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Job Flow Property Pane.</p>\n * <p>Description: Property pane for job flow.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.TextArea\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.SASFormatterUtil\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.CalendarUtil\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowValidateUtils\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleProperties\");var e=sas.hc.m.Label,t=sas.hc.m.Input,a=sas.hc.m.FlexBox,i=sas.hc.m.TextArea,s=sas.ltjs.sasicu.util.SASFormatterUtil,o=sas.ltjs.sasicu.util.CalendarUtil,l=sas.hc.ui.commons.propPane.PropertyPane,d=sas.ev.shared.schedule.utils.FlowValidateUtils,r=sas.ev.shared.schedule.utils.ScheduleProperties;l.extend(\"sas.ev.shared.schedule.control.JobFlowPropertyPane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"},usageMode:{type:\"int\",group:\"Behavior\",defaultValue:r.USAGE_MODE_READONLY}},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.JobFlowPropertyPane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oNameLabel:null,_oNameInput:null,_oDescLabel:null,_oDescTextArea:null,_oIdLabel:null,_oIdInput:null,_oCreatedDateLabel:null,_oCreatedDateInput:null,_oCreateByLabel:null,_oCreatedByInput:null,_oModifiedDateLabel:null,_oModifiedDateInput:null,_oModifiedByLabel:null,_oModifiedByInput:null,_oBox:null,init:function(){l.prototype.init&&l.prototype.init.apply(this,arguments);var d=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.flow.flowPropPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.HC.PROPERTIES,tooltip:this._getText(\"sas.ev.shared.schedule.flow.flowPropPane.tooltip.txt\")});var r=new e({id:d+\"-nameLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowPropPane.name.label.txt\")});this._oNameLabel=r;var n=new t({id:d+\"-nameInput\",type:sap.m.InputType.Text,value:\"{name}\",change:[this._onNameInputChange,this]}).addStyleClass(\"sapUiTinyMarginTop\");this._oNameInput=n;var h=new e({id:d+\"-descLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowPropPane.description.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oDescLabel=h;var u=new i({id:d+\"-descTextArea\",value:\"{description}\",change:[this._onDescChange,this]}).addStyleClass(\"sapUiTinyMarginTop\");this._oDescTextArea=u;var p=new e({id:d+\"-idLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowPropPane.id.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oIdLabel=p;var _=new t({id:d+\"-idInput\",value:\"{id}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oIdInput=_;var y=new e({id:d+\"-createdDateLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowPropPane.createdDate.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCreatedDateLabel=y;var b=new t({id:d+\"-createdDateInput\",value:{path:\"creationTimeStamp\",formatter:function(e){return e?s.format(o.jsDateToSASDateTime(new Date(e)),\"DATETIME\"):\"\"}},editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oCreatedDateInput=b;var I=new e({id:d+\"-createdByLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowPropPane.createdBy.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCreateByLabel=I;var c=new t({id:d+\"-createdByInput\",value:\"{createdBy}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oCreatedByInput=c;var f=new e({id:d+\"-modifiedDateLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowPropPane.modifiedDate.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oModifiedDateLabel=f;var D=new t({id:d+\"-modifiedDateInput\",value:{path:\"modifiedTimeStamp\",formatter:function(e){return e?s.format(o.jsDateToSASDateTime(new Date(e)),\"DATETIME\"):\"\"}},editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oModifiedDateInput=D;var m=new e({id:d+\"-modifiedByLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.flowPropPane.modifiedBy.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oModifiedByLabel=m;var L=new t({id:d+\"-modifiedByInput\",value:\"{modifiedBy}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oModifiedByInput=L;var T=new a({direction:\"Column\",items:[this._oNameLabel,this._oNameInput,this._oDescLabel,this._oDescTextArea,this._oIdLabel,this._oIdInput,this._oCreatedDateLabel,this._oCreatedDateInput,this._oCreateByLabel,this._oCreatedByInput,this._oModifiedDateLabel,this._oModifiedDateInput,this._oModifiedByLabel,this._oModifiedByInput]});this._oBox=T,this.addContent(this._oBox)},onBeforeRendering:function(){l.prototype.onBeforeRendering&&l.prototype.onBeforeRendering.apply(this,arguments);var e=this.getProperty(\"usageMode\");e===r.USAGE_MODE_NEW?(this._oIdLabel.setVisible(!1),this._oIdInput.setVisible(!1),this._oCreatedDateLabel.setVisible(!1),this._oCreatedDateInput.setVisible(!1),this._oCreateByLabel.setVisible(!1),this._oCreatedByInput.setVisible(!1),this._oModifiedDateLabel.setVisible(!1),this._oModifiedDateInput.setVisible(!1),this._oModifiedByLabel.setVisible(!1),this._oModifiedByInput.setVisible(!1),this._oNameInput.setEditable(!0),this._oDescTextArea.setEnabled(!0)):(this._oIdLabel.setVisible(!0),this._oIdInput.setVisible(!0),this._oCreatedDateLabel.setVisible(!0),this._oCreatedDateInput.setVisible(!0),this._oCreateByLabel.setVisible(!0),this._oCreatedByInput.setVisible(!0),this._oModifiedDateLabel.setVisible(!0),this._oModifiedDateInput.setVisible(!0),this._oModifiedByLabel.setVisible(!0),this._oModifiedByInput.setVisible(!0),e===r.USAGE_MODE_MODIFY?(this._oNameInput.setEditable(!0),this._oDescTextArea.setEnabled(!0)):(this._oNameInput.setEditable(!1),this._oDescTextArea.setEnabled(!1)))},onAfterRendering:function(){l.prototype.onAfterRendering&&l.prototype.onAfterRendering.apply(this,arguments),this._validName()},_onDataModified:function(){var e=this.getProperty(\"usageMode\");if(e===r.USAGE_MODE_NEW||e===r.USAGE_MODE_MODIFY){var t=this.getBindingContext();if(t&&t.oModel&&t.sPath&&t.sPath.indexOf(r.MODEL_PART_CURRENT_FLOW)>=0){var a=t.sPath.replace(r.MODEL_PART_CURRENT_FLOW,r.PATH_PART_ISMODIFIED);t.oModel.setProperty(a,!0)}}},_getText:function(e,t,a,i){return this.rb.getText(e,t,a,i)},_validName:function(){var e=d.validateName(this._oNameInput.getValue(),this._oNameInput);return e&&(e=d.validateStringByteLength(this._oNameInput.getValue(),d.NAME_BYTE_LIMIT,this._oNameInput)),e},_onNameInputChange:function(e){this._validName(),this._onDataModified(),this.fireChange({pfdItemId:this.getProperty(\"pfdItemId\"),name:this._oNameInput.getValue()})},_onDescChange:function(e){var t=this._oDescTextArea.getValue();/\\r|\\n/.exec(t)&&(t=t.replace(/(\\r\\n|\\n|\\r)/gm,\"\"),this._oDescTextArea.setValue(t)),d.validateStringByteLength(t,d.DESC_BYTE_LIMIT,this._oDescTextArea),this._onDataModified()},exit:function(){this._oNameLabel&&(this._oNameLabel.destroy(),this._oNameLabel=null),this._oNameInput&&(this._oNameInput.destroy(),this._oNameInput=null),this._oDescLabel&&(this._oDescLabel.destroy(),this._oDescLabel=null),this._oDescTextArea&&(this._oDescTextArea.destroy(),this._oDescTextArea=null),this._oIdLabel&&(this._oIdLabel.destroy(),this._oIdLabel=null),this._oIdInput&&(this._oIdInput.destroy(),this._oIdInput=null),this._oCreatedDateLabel&&(this._oCreatedDateLabel.destroy(),this._oCreatedDateLabel=null),this._oCreatedDateInput&&(this._oCreatedDateInput.destroy(),this._oCreatedDateInput=null),this._oCreateByLabel&&(this._oCreateByLabel.destroy(),this._oCreateByLabel=null),this._oCreatedByInput&&(this._oCreatedByInput.destroy(),this._oCreatedByInput=null),this._oModifiedDateLabel&&(this._oModifiedDateLabel.destroy(),this._oModifiedDateLabel=null),this._oModifiedDateInput&&(this._oModifiedDateInput.destroy(),this._oModifiedDateInput=null),this._oModifiedByLabel&&(this._oModifiedByLabel.destroy(),this._oModifiedByLabel=null),this._oModifiedByInput&&(this._oModifiedByInput.destroy(),this._oModifiedByInput=null),this._oBox&&(this._oBox.destroy(),this._oBox=null),l.prototype.exit&&l.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/control/JobPropertyPane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Job Property Pane.</p>\n * <p>Description: Property pane for job.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Column\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.Table\"),jQuery.sap.require(\"sas.hc.m.TextArea\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.SASFormatterUtil\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.CalendarUtil\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sas.hc.ui.commons.windowshade.WindowShade\"),jQuery.sap.require(\"sas.hc.ui.commons.windowshade.WindowShadeSection\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.m.ColumnListItem\");var e=sas.hc.m.Column,t=sas.hc.m.Label,a=sas.hc.m.Input,s=sas.hc.m.FlexBox,i=sas.hc.m.Table,o=sas.hc.m.TextArea,r=sas.ltjs.sasicu.util.SASFormatterUtil,l=sas.ltjs.sasicu.util.CalendarUtil,d=sas.hc.ui.commons.propPane.PropertyPane,n=sas.hc.ui.commons.windowshade.WindowShade,h=sas.hc.ui.commons.windowshade.WindowShadeSection;d.extend(\"sas.ev.shared.schedule.control.JobPropertyPane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"}},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.JobPropertyPane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oNameLabel:null,_oNameInput:null,_oDescLabel:null,_oDescTextArea:null,_oIdLabel:null,_oIdInput:null,_oCreatedDateLabel:null,_oCreatedDateInput:null,_oCreateByLabel:null,_oCreatedByInput:null,_oModifiedDateLabel:null,_oModifiedDateInput:null,_oModifiedByLabel:null,_oModifiedByInput:null,_oAttrTable:null,_oAttrSection:null,_oAttrWindowShade:null,_oBox:null,init:function(){d.prototype.init&&d.prototype.init.apply(this,arguments);var u=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.jobPropPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.HC.PROPERTIES,tooltip:this._getText(\"sas.ev.shared.schedule.jobPropPane.tooltip.txt\")});var p=new t({id:u+\"-nameLabel\",text:this._getText(\"sas.ev.shared.schedule.jobPropPane.name.label.txt\")});this._oNameLabel=p;var _=new a({id:u+\"-nameInput\",type:sap.m.InputType.Text,value:\"{name}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oNameInput=_;var c=new t({id:u+\"-descLabel\",text:this._getText(\"sas.ev.shared.schedule.jobPropPane.description.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oDescLabel=c;var y=new o({id:u+\"-descTextArea\",value:\"{description}\",enabled:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oDescTextArea=y;var b=new t({id:u+\"-idLabel\",text:this._getText(\"sas.ev.shared.schedule.jobPropPane.id.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oIdLabel=b;var m=new a({id:u+\"-idInput\",value:\"{id}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oIdInput=m;var T=new t({id:u+\"-createdDateLabel\",text:this._getText(\"sas.ev.shared.schedule.jobPropPane.createdDate.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCreatedDateLabel=T;var I=new a({id:u+\"-createdDateInput\",value:{path:\"creationTimeStamp\",formatter:function(e){return e?r.format(l.jsDateToSASDateTime(new Date(e)),\"DATETIME\"):\"\"}},editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oCreatedDateInput=I;var x=new t({id:u+\"-createdByLabel\",text:this._getText(\"sas.ev.shared.schedule.jobPropPane.createdBy.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oCreateByLabel=x;var D=new a({id:u+\"-createdByInput\",value:\"{createdBy}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oCreatedByInput=D;var L=new t({id:u+\"-modifiedDateLabel\",text:this._getText(\"sas.ev.shared.schedule.jobPropPane.modifiedDate.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oModifiedDateLabel=L;var S=new a({id:u+\"-modifiedDateInput\",value:{path:\"modifiedTimeStamp\",formatter:function(e){return e?r.format(l.jsDateToSASDateTime(new Date(e)),\"DATETIME\"):\"\"}},editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oModifiedDateInput=S;var f=new t({id:u+\"-modifiedByLabel\",text:this._getText(\"sas.ev.shared.schedule.jobPropPane.modifiedBy.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oModifiedByLabel=f;var w=new a({id:u+\"-modifiedByInput\",value:\"{modifiedBy}\",editable:!1}).addStyleClass(\"sapUiTinyMarginTop\");this._oModifiedByInput=w;var v=new i({id:u+\"-attrTable\",showOuterBorder:!0,width:\"100%\",height:\"100%\",layoutData:new sas.hc.m.FlexItemData({growFactor:1}),columns:[new e({header:new t({text:this._getText(\"sas.ev.shared.schedule.jobPropPane.attributesTable.nameColumn.txt\")})}),new e({header:new t({text:this._getText(\"sas.ev.shared.schedule.jobPropPane.attributesTable.valueColumn.txt\")})})],items:{path:\"properties\",template:new sas.hc.m.ColumnListItem({cells:[new a({value:\"{name}\",editable:!1}),new a({value:\"{value}\",editable:!1})]}),templateShareable:!1}});this._oAttrTable=v;var C=new h({id:u+\"-attrSection\",title:this._getText(\"sas.ev.shared.schedule.jobPropPane.attributes.title.fmt\",[0]),content:[this._oAttrTable]});this._oAttrSection=C;var g=new n({id:u+\"-windowShade\",openFirstSection:!1,width:\"100%\",sections:[this._oAttrSection]});this._oAttrWindowShade=g;var B=new s({direction:\"Column\",items:[this._oNameLabel,this._oNameInput,this._oDescLabel,this._oDescTextArea,this._oIdLabel,this._oIdInput,this._oCreatedDateLabel,this._oCreatedDateInput,this._oCreateByLabel,this._oCreatedByInput,this._oModifiedDateLabel,this._oModifiedDateInput,this._oModifiedByLabel,this._oModifiedByInput,this._oAttrWindowShade]});this._oBox=B,this.addContent(this._oBox)},onBeforeRendering:function(){d.prototype.onBeforeRendering&&d.prototype.onBeforeRendering.apply(this,arguments);var e=this.getBindingContext();if(e&&e.oModel&&e.sPath){var t=e.oModel.getProperty(e.sPath+\"/properties\");t&&this._oAttrSection.setTitle(this._getText(\"sas.ev.shared.schedule.jobPropPane.attributes.title.fmt\",[t.length]))}},_getText:function(e,t,a,s){return this.rb.getText(e,t,a,s)},exit:function(){this._oNameLabel&&(this._oNameLabel.destroy(),this._oNameLabel=null),this._oNameInput&&(this._oNameInput.destroy(),this._oNameInput=null),this._oDescLabel&&(this._oDescLabel.destroy(),this._oDescLabel=null),this._oDescTextArea&&(this._oDescTextArea.destroy(),this._oDescTextArea=null),this._oIdLabel&&(this._oIdLabel.destroy(),this._oIdLabel=null),this._oIdInput&&(this._oIdInput.destroy(),this._oIdInput=null),this._oCreatedDateLabel&&(this._oCreatedDateLabel.destroy(),this._oCreatedDateLabel=null),this._oCreatedDateInput&&(this._oCreatedDateInput.destroy(),this._oCreatedDateInput=null),this._oCreateByLabel&&(this._oCreateByLabel.destroy(),this._oCreateByLabel=null),this._oCreatedByInput&&(this._oCreatedByInput.destroy(),this._oCreatedByInput=null),this._oModifiedDateLabel&&(this._oModifiedDateLabel.destroy(),this._oModifiedDateLabel=null),this._oModifiedDateInput&&(this._oModifiedDateInput.destroy(),this._oModifiedDateInput=null),this._oModifiedByLabel&&(this._oModifiedByLabel.destroy(),this._oModifiedByLabel=null),this._oModifiedByInput&&(this._oModifiedByInput.destroy(),this._oModifiedByInput=null),this._oAttrTable&&(this._oAttrTable.destroy(),this._oAttrTable=null),this._oAttrSection&&(this._oAttrSection.destroy(),this._oAttrSection=null),this._oAttrWindowShade&&(this._oAttrWindowShade.destroy(),this._oAttrWindowShade=null),this._oBox&&(this._oBox.destroy(),this._oBox=null),d.prototype.exit&&d.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/control/LinkPropertyPane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Link Property Pane.</p>\n * <p>Description: Property pane for link.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.RangeValidationAdapter\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleProperties\"),jQuery.sap.require(\"sap.ui.model.type.Integer\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.ui.core.Item\");var e=sas.hc.m.Label,t=sas.hc.m.Input,i=sas.hc.m.FlexBox,n=sas.hc.m.RangeValidationAdapter,s=sas.hc.m.Select,o=sas.hc.ui.commons.propPane.PropertyPane,a=sap.ui.model.type.Integer,l=sas.ev.shared.schedule.utils.ScheduleProperties;o.extend(\"sas.ev.shared.schedule.control.LinkPropertyPane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"},usageMode:{type:\"int\",group:\"Behavior\",defaultValue:l.USAGE_MODE_READONLY}},publicMethods:[],events:{}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.LinkPropertyPane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oEventTypeLabel:null,_oEventTypeSelect:null,_oConditionLabel:null,_oConditionSelect:null,_oConditionValueLabel:null,_oConditionValueInput:null,_oRunTimeMinutesLabel:null,_oMaxRunTimeMinutesInput:null,_oMinRunTimeMinutesInput:null,_oBox:null,init:function(){o.prototype.init&&o.prototype.init.apply(this,arguments);var r=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.HC.PROPERTIES,tooltip:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.tooltip.txt\")});var u=new e({id:r+\"-eventTypeLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.eventType.label.txt\")});this._oEventTypeLabel=u;var d=new s({id:r+\"-eventTypeSelect\",selectedKey:\"{eventType}\",change:[this._onEventTypeChange,this],width:\"100%\",items:[new sas.hc.ui.core.Item({key:l.JOB_COMPLETE_SUCCESSFULLY,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.eventType.completeSuccessfully.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_END_WITH_ANY_CODE,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.eventType.endWithAnyCode.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_STARTS,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.eventType.starts.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_END_WITH_CODE,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.eventType.endWithCode.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_MAX_RUN_TIME,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.eventType.maxRunTime.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_MIN_RUN_TIME,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.eventType.minRunTime.txt\")})]}).addStyleClass(\"sapUiTinyMarginTop\");this._oEventTypeSelect=d;var h=new e({id:r+\"-conditionLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.endWithCode.condition.label.txt\")}).bindProperty(\"visible\",{parts:[{path:\"eventType\"}],formatter:function(e){return!(!e||e!==l.JOB_END_WITH_CODE)}}).addStyleClass(\"sapUiSmallMarginTop\");this._oConditionLabel=h;var p=new s({id:r+\"-conditionSelect\",selectedKey:\"{endCodeCondition}\",change:[this._onConditionTypeChange,this],width:\"100%\",items:[new sas.hc.ui.core.Item({key:l.JOB_ENDCODE_EQUAL_TO,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.endWithCode.condition.equalTo.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_ENDCODE_NOT_EQUAL_TO,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.endWithCode.condition.notEqualTo.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_ENDCODE_GREATER_THAN,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.endWithCode.condition.greaterThan.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_ENDCODE_GREATER_OR_EQUAL,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.endWithCode.condition.greaterOrEqual.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_ENDCODE_LESS_THAN,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.endWithCode.condition.lessThan.txt\")}),new sas.hc.ui.core.Item({key:l.JOB_ENDCODE_LESS_OR_EQUAL,text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.endWithCode.condition.lessOrEqual.txt\")})]}).bindProperty(\"visible\",{parts:[{path:\"eventType\"}],formatter:function(e){return!(!e||e!==l.JOB_END_WITH_CODE)}}).addStyleClass(\"sapUiTinyMarginTop\");this._oConditionSelect=p;var _=new e({id:r+\"-conditionValueLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.endWithCode.conditionValue.label.txt\")}).bindProperty(\"visible\",{parts:[{path:\"eventType\"}],formatter:function(e){return!(!e||e!==l.JOB_END_WITH_CODE)}}).addStyleClass(\"sapUiSmallMarginTop\");this._oConditionValueLabel=_;var c=new t({id:r+\"-conditionValueInput\",type:sap.m.InputType.Number,allowIntegerOnly:!0,value:{path:\"endCodeConditionValue\",type:new a({groupingEnabled:!0},{minimum:-2147483648,maximum:2147483647})},change:[this._onDataModified,this]}).bindProperty(\"visible\",{parts:[{path:\"eventType\"}],formatter:function(e){return!(!e||e!==l.JOB_END_WITH_CODE)}}).addStyleClass(\"sapUiTinyMarginTop\"),T=new n({minValue:-2147483648,maxValue:2147483647,inclusive:!0});c.setValidator(T),this._oConditionValueInput=c;var y=new e({id:r+\"-runTimeMinutesLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.linkPropPane.rumTime.minutes.label.txt\")}).bindProperty(\"visible\",{parts:[{path:\"eventType\"}],formatter:function(e){return!(!e||e!==l.JOB_MAX_RUN_TIME&&e!==l.JOB_MIN_RUN_TIME)}}).addStyleClass(\"sapUiSmallMarginTop\");this._oRunTimeMinutesLabel=y;var m=new t({id:r+\"-maxRunTimeMinutesInput\",type:sap.m.InputType.Number,allowIntegerOnly:!0,value:{path:\"maxRunTime\",type:new a({groupingEnabled:!0},{minimum:0,maximum:2147483647})},change:[this._onDataModified,this]}).bindProperty(\"visible\",{parts:[{path:\"eventType\"}],formatter:function(e){return!(!e||e!==l.JOB_MAX_RUN_TIME)}}).addStyleClass(\"sapUiTinyMarginTop\"),E=new n({minValue:0,maxValue:2147483647,inclusive:!0});m.setValidator(E),this._oMaxRunTimeMinutesInput=m;var v=new t({id:r+\"-minRunTimeMinutesInput\",type:sap.m.InputType.Number,allowIntegerOnly:!0,value:{path:\"minRunTime\",type:new a({groupingEnabled:!0},{minimum:0,maximum:2147483647})},change:[this._onDataModified,this]}).bindProperty(\"visible\",{parts:[{path:\"eventType\"}],formatter:function(e){return!(!e||e!==l.JOB_MIN_RUN_TIME)}}).addStyleClass(\"sapUiTinyMarginTop\"),x=new n({minValue:0,maxValue:2147483647,inclusive:!0});v.setValidator(x),this._oMinRunTimeMinutesInput=v;var C=new i({direction:\"Column\",items:[this._oEventTypeLabel,this._oEventTypeSelect,this._oConditionLabel,this._oConditionSelect,this._oConditionValueLabel,this._oConditionValueInput,this._oRunTimeMinutesLabel,this._oMaxRunTimeMinutesInput,this._oMinRunTimeMinutesInput]});this._oBox=C,this.addContent(this._oBox)},onBeforeRendering:function(){o.prototype.onBeforeRendering&&o.prototype.onBeforeRendering.apply(this,arguments);var e=this.getProperty(\"usageMode\");e===l.USAGE_MODE_READONLY||e===l.USAGE_MODE_READONLY_WITH_STATUS?(this._oEventTypeSelect.setEnabled(!1),this._oConditionSelect.setEnabled(!1),this._oConditionValueInput.setEditable(!1),this._oMinRunTimeMinutesInput.setEditable(!1)):(this._oEventTypeSelect.setEnabled(!0),this._oConditionSelect.setEnabled(!0),this._oConditionValueInput.setEditable(!0),this._oMinRunTimeMinutesInput.setEditable(!0))},_onDataModified:function(){var e=this.getProperty(\"usageMode\");if(e===l.USAGE_MODE_NEW||e===l.USAGE_MODE_MODIFY){var t=this.getBindingContext();if(t&&t.oModel&&t.sPath){var i=t.sPath+l.PATH_PART_ISMODIFIED;t.oModel.setProperty(i,!0)}}},_getText:function(e,t,i,n){return this.rb.getText(e,t,i,n)},_onEventTypeChange:function(e){this._onDataModified()},_onConditionTypeChange:function(e){this._onDataModified()},exit:function(){this._oEventTypeLabel&&(this._oEventTypeLabel.destroy(),this._oEventTypeLabel=null),this._oEventTypeSelect&&(this._oEventTypeSelect.destroy(),this._oEventTypeSelect=null),this._oConditionLabel&&(this._oConditionLabel.destroy(),this._oConditionLabel=null),this._oConditionSelect&&(this._oConditionSelect.destroy(),this._oConditionSelect=null),this._oConditionValueLabel&&(this._oConditionValueLabel.destroy(),this._oConditionValueLabel=null),this._oConditionValueInput&&(this._oConditionValueInput.destroy(),this._oConditionValueInput=null),this._oRunTimeMinutesLabel&&(this._oRunTimeMinutesLabel.destroy(),this._oRunTimeMinutesLabel=null),this._oMaxRunTimeMinutesInput&&(this._oMaxRunTimeMinutesInput.destroy(),this._oMaxRunTimeMinutesInput=null),this._oMinRunTimeMinutesInput&&(this._oMinRunTimeMinutesInput.destroy(),this._oMinRunTimeMinutesInput=null),this._oBox&&(this._oBox.destroy(),this._oBox=null),o.prototype.exit&&o.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/control/NewJobDialog.js": "// (c) 2015, SAS Institute Inc.\nsap.ui.define([\"sas/hc/m/Dialog\",\"sas/hc/m/Button\",\"sas/hc/m/Input\",\"sas/hc/m/MessageToast\",\"sas/hc/ui/layout/form/Form\",\"sas/hc/ui/layout/form/ResponsiveGridLayout\",\"sas/hc/ui/layout/form/FormContainer\",\"sas/hc/ui/layout/form/FormElement\",\"sas/hc/ui/layout/GridData\",\"sas/ev/shared/Utils\",\"sas/hc/ui/core/theme/IconInitialization\",\"sap/ui/model/json/JSONModel\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sap/ui/core/library\",\"sap/m/library\"],function(e,t,s,a,i,o,r,n,l,c,u,d){\"use strict\";jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleUtils\"),jQuery.sap.require(\"sas.hc.ui.services.navigation.config.ContentItemIdentity\"),jQuery.sap.require(\"sas.hc.ui.services.navigation.ContentSelector\"),jQuery.sap.require(\"sas.hc.ui.services.navigation.types.DataIntegrationObjectTypeConstants\"),jQuery.sap.require(\"sas.hc.ui.services.navigation.config.FilteredItemsConfig\"),jQuery.sap.require(\"sas.hc.ui.services.navigation.config.FilterItem\"),jQuery.sap.require(\"sas.hc.ui.services.navigation.config.ModelConfig\"),jQuery.sap.require(\"sas.hc.ui.services.navigation.types.ObjectTypeConstants\"),jQuery.sap.require(\"sas.hc.ui.services.navigation.config.ServiceConfig\");var g=sas.ev.shared.schedule.utils.ScheduleUtils,p=e.extend(\"sas.ev.shared.schedule.control.NewJobDialog\",{metadata:{properties:{availableItemsLabel:{type:\"string\",defaultValue:\"\"},selectedItemsLabel:{type:\"string\",defaultValue:\"\"},availableItems:{type:\"Array\",defaultValue:[]},targetList:{type:\"Array\",defaultValue:[]}},aggregations:{},publicMethods:[\"closeNewJobDialog\"],events:{},library:\"sas.custom\"},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.NewJobDialog\",sas.log.Level.DEBUG),renderer:\"sas.hc.m.DialogRenderer\",constructor:function(){e.apply(this,arguments)}});return p.prototype.init=function(){e.prototype.init&&e.prototype.init.apply(this,arguments),this.setTitle(this.rb.getText(\"sas.ev.shared.schedule.newJobDialog.header.title\"));var a=new d;this.setModel(a);var c={};a.setData(c);var u=new i({layout:new o({columnsL:1,labelSpanS:12,labelSpanM:3,labelSpanL:3}),formContainers:[new r({formElements:[new n({label:this.rb.getText(\"sas.ev.shared.schedule.newJobDialog.name.label\"),fields:[new s({id:this.getId()+\"jobNameInput\",type:sap.m.InputType.Text,value:\"{/name}\",required:!0,placeholder:this.rb.getText(\"sas.ev.shared.schedule.newJobDialog.name.placeholder.txt\"),layoutData:new l({span:\"L12 M12 S12\"})})]}),new n({label:this.rb.getText(\"sas.ev.shared.schedule.newJobDialog.code.label\"),fields:[new s({id:this.getId()+\"jobCodeFileInput\",type:sap.m.InputType.Text,value:\"{/codeFile/navigationPath}\",required:!0,placeholder:this.rb.getText(\"sas.ev.shared.schedule.newJobDialog.code.placeholder.txt\"),layoutData:new l({span:\"L11 M11 S11\"}),enabled:!1}),new t({icon:sas.icons.HC.BROWSE,enabled:!0,press:[this.openFileSelector,this],layoutData:new l({span:\"L1 M1 S1\"})})]})]})]}),g=new t({text:this.rb.getText(\"sas.ev.shared.schedule.addJobsDialog.okButton.txt\"),enabled:!0,press:[this.onOk,this]}),p=new t({text:this.rb.getText(\"sas.ev.shared.schedule.addJobsDialog.cancelButton.txt\"),press:[this.closeNewJobDialog,this]});this.addContent(u),this.setLeftButton(g),this.setRightButton(p)},p.prototype.openFileSelector=function(e){var t=sas.hc.ui.services.navigation.config.ContentItemIdentity,s=sas.hc.ui.services.navigation.ContentSelector,a=sas.hc.ui.services.navigation.types.DataIntegrationObjectTypeConstants,i=sas.hc.ui.services.navigation.config.FilteredItemsConfig,o=sas.hc.ui.services.navigation.config.FilterItem,r=sas.hc.ui.services.navigation.config.ModelConfig,n=sas.hc.ui.services.navigation.types.ObjectTypeConstants,l=sas.hc.ui.services.navigation.config.ServiceConfig,c=\"PETRICHOR\"===sas.config.get(\"servicePlatform\")?new l(l.Types.SAS_FOLDERS,new i([new o(\"file\")],!0,[\"HistoryFolder\",\"ApplicationDataFolder\"])):new l(l.Types.SAS_FOLDERS,new i([new o(a.TYPE_TABLE_NAME),new o(n.TYPE_STOREDPROCESS_NAME),new o(n.TYPE_REPORT_BI_NAME),new o(n.TYPE_PROMPT_NAME)],!1,[n.TYPE_SYSTEM_FOLDER_NAME,n.TYPE_JCR_FOLDER_NAME,n.TYPE_REPOSITORY_ROOT_FOLDER_NAME])),u=sessionStorage.getItem(\"previousSelectedOpenDialogItemId\");u&&c.setInitialSelection(new t(u,sessionStorage.getItem(\"previousSelectedOpenDialogItemTypeNum\")));var d=this;s.show(s.Mode.SELECT_FILE,{modelConfig:new r([c]),showContainersOnly:!1},function(e){if(e.detail===s.CloseDetail.COMMIT){var t=c.getDataDescriptor(),a=d.getModel().getData();a.codeFile=e.selectedItem;sap.ui.getCore().byId(d.getId()+\"jobCodeFileInput\").setValue(a.codeFile.navigationPath),sessionStorage.setItem(\"previousSelectedOpenDialogItemId\",t.getId(e.selectedItem)),sessionStorage.setItem(\"previousSelectedOpenDialogItemTypeNum\",t.getTypeNum(e.selectedItem))}else sessionStorage.removeItem(\"previousSelectedOpenDialogItemId\")})},p.prototype.setAvailableItems=function(e){for(var t=this,s=[],a=0;a<e.length;a++)s.push(e[a]);this.getModel().setProperty(\"/availableItems\",s),this.setProperty(\"availableItems\",s),sap.ui.getCore().byId(t.getId()+\"jobDualSelector\").setModel(this.getModel())},p.prototype.setTargetList=function(e){this.getModel().getData().targetList=e,this.setProperty(\"targetList\",e)},p.prototype.setOkCallback=function(e){this.callback=e},p.prototype.setAvailableItemsLabel=function(e){sap.ui.getCore().byId(this.getId()+\"jobDualSelector\").setSourceLabel(e),this.setProperty(\"availableItemsLabel\",e)},p.prototype.setSelectedItemsLabel=function(e){sap.ui.getCore().byId(this.getId()+\"jobDualSelector\").setTargetLabel(e),this.setProperty(\"selectedItemsLabel\",e)},p.prototype.closeNewJobDialog=function(){this.close(),this.destroy()},p.prototype.onOk=function(){var e=this,t=this.getModel().getData(),s=sap.ui.getCore().byId(e.getId()+\"jobNameInput\"),i=s.getValue();if(\"\"===i.trim())return c.ajaxErrorMessageHandler({title:e.rb.getText(\"sas.ev.shared.schedule.newJobDialog.inputError.title\"),message:e.rb.getText(\"sas.ev.shared.schedule.newJobDialog.requireName.txt\")}).open(),void s.focus();var o=\"\";if(!t.codeFile)return void c.ajaxErrorMessageHandler({title:e.rb.getText(\"sas.ev.shared.schedule.newJobDialog.inputError.title\"),message:e.rb.getText(\"sas.ev.shared.schedule.newJobDialog.requireFile.txt\")}).open();o=t.codeFile.uri,g.getObjByUri(o,function(t){for(var s=\"\",o=0;o<=t.links.length;o++){var r=t.links[o];if(\"content\"===r.rel){s=r.uri;break}}g.getFileContentByUri(s,function(t){var s=t,o={version:3,name:i,jobDefinition:{version:1,name:i,type:\"Compute\",code:s,parameters:[{version:1,name:\"_contextName\",defaultValue:\"SAS Job Execution compute context\",type:\"CHARACTER\",label:\"Context Name\",required:!1}]},arguments:{_contextName:\"SAS Job Execution compute context\"}};g.createJobRequest(o,function(t){a.show(e.rb.getText(\"sas.ev.shared.schedule.newJobDialog.save.success.msg.fmt\",[i])),sap.ui.getCore().getEventBus().publish(\"sasevschedulingJobsview\",\"EVJobsRefresh\",e),e.close(),e.destroy()},function(t){c.ajaxErrorMessageHandler({title:e.rb.getText(\"sas.ev.shared.schedule.newJobDialog.failedCreateRequest.title\"),message:t,detail:t}).open()})},function(t){c.ajaxErrorMessageHandler({title:e.rb.getText(\"sas.ev.shared.schedule.newJobDialog.failedGetFileContent.title\"),message:t,detail:t}).open()})},function(t){c.ajaxErrorMessageHandler({title:e.rb.getText(\"sas.ev.shared.schedule.failedGetFile.inputError.title\"),message:t,detail:t}).open()})},p});",
	"sas/ev/shared/schedule/control/TimeEventPropertyPane.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: Time Event Property Pane.</p>\n * <p>Description: Property pane for time event.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\n!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.CheckBox\"),jQuery.sap.require(\"sas.hc.m.DatePicker\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Input\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\"),jQuery.sap.require(\"sas.hc.m.NumericStepper\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.m.Text\"),jQuery.sap.require(\"sas.hc.m.TimePicker\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.m.library\"),jQuery.sap.require(\"sas.hc.ui.table.library\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sap.ui.model.type.Integer\"),jQuery.sap.require(\"sas.hc.ui.commons.propPane.PropertyPane\"),jQuery.sap.require(\"sas.hc.ui.model.JSONModel\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.ui.core.Item\"),jQuery.sap.require(\"sas.hc.ui.table.Table\"),jQuery.sap.require(\"sas.hc.ui.table.Column\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowValidateUtils\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.ScheduleProperties\"),jQuery.sap.require(\"sas.ev.shared.Utils\");var e=sas.hc.m.Button,t=sas.hc.m.CheckBox,s=sas.hc.m.DatePicker,a=sas.hc.m.Label,r=sas.hc.m.Input,i=sas.hc.m.FlexBox,n=sas.hc.m.FlexItemData,o=sas.hc.m.MessageDialog,l=sas.hc.m.MessageDialogAction,h=sas.hc.m.NumericStepper,c=sas.hc.m.ResponsiveToolbar,u=sas.hc.m.Select,d=sas.hc.m.Text,_=sas.hc.m.TimePicker,E=sas.hc.m.ToolbarSpacer,p=sas.hc.ui.table.Table,y=sas.hc.ui.table.Column,m=sas.hc.ui.table.SelectionMode,R=sap.ui.model.type.Integer,v=sas.hc.ui.model.JSONModel,C=sas.hc.ui.commons.propPane.PropertyPane,T=sas.ev.shared.schedule.utils.FlowValidateUtils,P=sas.ev.shared.schedule.utils.ScheduleProperties,x=sas.ev.shared.Utils;C.extend(\"sas.ev.shared.schedule.control.TimeEventPropertyPane\",{metadata:{properties:{pfdItemId:{type:\"string\",group:\"Data\",defaultValue:\"\"},usageMode:{type:\"int\",group:\"Behavior\",defaultValue:P.USAGE_MODE_READONLY}},publicMethods:[],events:{change:{enablePreventDefault:!0}}},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.control.TimeEventPropertyPane\",sas.log.Level.ERROR),renderer:\"sas.hc.ui.commons.propPane.PropertyPaneRenderer\",_oNameLabel:null,_oNameInput:null,_oFrequencyLabel:null,_oFrequencySelect:null,_oEveryLabel:null,_oMinutesSelect:null,_oMinutesLabel:null,_oMinutelyEveryBox:null,_oHoursSelect:null,_oHoursLabel:null,_oHourlyEveryBox:null,_oIntervalLabel:null,_oIntervalNumStepper:null,_oIntervalUnitLabel:null,_oIntervalBox:null,_oWeekdayCBXs:null,_oWeekdayBox:null,_oOccurrenceLabel:null,_oOccurrenceTypeSelect:null,_oDayNumStepper:null,_oOccurrenceSelect:null,_oWeekDaySelect:null,_oOccurrenceBox:null,_oOnLabel:null,_oMonthOfYearSelect:null,_oDatesPicker:null,_oAddDateBtn:null,_oDatesBox:null,_oDatesLabel:null,_oRemoveDateBtn:null,_oDatesToolbar:null,_oDateTable:null,_oDurationLabel:null,_oDurationNumStepper:null,_oDurationUnitLabel:null,_oDurationBox:null,_oStartTimeLabel:null,_oHourlyStartTimePicker:null,_oMinutelyStartTimePicker:null,_oStartTimePicker:null,_oTimeZoneLabel:null,_oTimeZoneSelect:null,_oStartDateLabel:null,_oStartDatePicker:null,_oEndLabel:null,_oEndTypeSelect:null,_oEndTimesNumStepper:null,_oEndTimesLabel:null,_oEndTimesBox:null,_oEndDateLabel:null,_oEndDataPicker:null,_oEndDateBox:null,_oBox:null,init:function(){C.prototype.init&&C.prototype.init.apply(this,arguments);var o=this,l=this.getId();this.setText(this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.title.txt\")),this.setShowRefresh(!1),this.setButtonData({icon:sas.icons.HC.PROPERTIES,tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.tooltip.txt\")});var T=new a({id:l+\"-nameLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.name.label.txt\")});this._oNameLabel=T;var x=new r({id:l+\"-nameInput\",type:sap.m.InputType.Text,value:\"{name}\",change:[this._onNameInputChange,this]}).addStyleClass(\"sapUiTinyMarginTop\");this._oNameInput=x,T.setLabelFor(x);var g=new a({id:l+\"-frequencyLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.frequency.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oFrequencyLabel=g;var S=new u({id:l+\"-frequencySelect\",width:\"100%\",selectedKey:\"{recurrence/type}\",change:[this._onFrequencyChange,this],items:[new sas.hc.ui.core.Item({key:P.RECURRENCE_MINUTELY,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.frequency.minutes.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_HOURLY,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.frequency.hourly.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_DAILY,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.frequency.daily.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_WEEKLY,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.frequency.weekly.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTHLY,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.frequency.monthly.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_YEARLY,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.frequency.yearly.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_DATELIST,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.frequency.dateList.txt\")})]}).addStyleClass(\"sapUiTinyMarginTop\");this._oFrequencySelect=S,g.setLabelFor(S);var f=new a({id:l+\"-everyLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.every.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._bindFrequencyTypeVisible([P.RECURRENCE_MINUTELY,P.RECURRENCE_HOURLY],[f]),this._oEveryLabel=f;var b=new u({id:l+\"-minutesSelect\",selectedKey:\"{minuteSkipCount}\",width:\"72px\",items:[new sas.hc.ui.core.Item({key:\"1\",text:\"1\"}),new sas.hc.ui.core.Item({key:\"2\",text:\"2\"}),new sas.hc.ui.core.Item({key:\"3\",text:\"3\"}),new sas.hc.ui.core.Item({key:\"4\",text:\"4\"}),new sas.hc.ui.core.Item({key:\"5\",text:\"5\"}),new sas.hc.ui.core.Item({key:\"6\",text:\"6\"}),new sas.hc.ui.core.Item({key:\"10\",text:\"10\"}),new sas.hc.ui.core.Item({key:\"12\",text:\"12\"}),new sas.hc.ui.core.Item({key:\"15\",text:\"15\"}),new sas.hc.ui.core.Item({key:\"20\",text:\"20\"}),new sas.hc.ui.core.Item({key:\"30\",text:\"30\"})]});this._oMinutesSelect=b;var D=new a({id:l+\"-minutesLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.minutes.label.txt\")}).addStyleClass(\"sapUiTinyMarginBegin\");this._oMinutesLabel=D;var N=new i({direction:\"Row\",items:[b,D]}).addStyleClass(\"sapUiTinyMarginTop\");this._oMinutelyEveryBox=N,this._bindFrequencyTypeVisible([P.RECURRENCE_MINUTELY],[N]);var w=new u({id:l+\"-hoursSelect\",selectedKey:\"{hourSkipCount}\",width:\"72px\",items:[new sas.hc.ui.core.Item({key:\"1\",text:\"1\"}),new sas.hc.ui.core.Item({key:\"2\",text:\"2\"}),new sas.hc.ui.core.Item({key:\"3\",text:\"3\"}),new sas.hc.ui.core.Item({key:\"4\",text:\"4\"}),new sas.hc.ui.core.Item({key:\"6\",text:\"6\"}),new sas.hc.ui.core.Item({key:\"8\",text:\"8\"}),new sas.hc.ui.core.Item({key:\"12\",text:\"12\"})]});this._oHoursSelect=w;var M=new a({id:l+\"-hoursLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.hours.label.txt\")}).addStyleClass(\"sapUiTinyMarginBegin\");this._oHoursLabel=M;var L=new i({direction:\"Row\",items:[w,M]}).addStyleClass(\"sapUiTinyMarginTop\");this._oHourlyEveryBox=L,this._bindFrequencyTypeVisible([P.RECURRENCE_HOURLY],[L]);var U=new a({id:l+\"-intervalLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.interval.label.txt\")});this._oIntervalLabel=U;var k=new h({id:l+\"-intervalNumStepper\",stepSize:1,value:{path:\"recurrence/skipCount\",type:new R({groupingEnabled:!0},{minimum:1,maximum:999})}}).addStyleClass(\"sapUiSmallMarginBegin\");this._oIntervalNumStepper=k;var O=new a({id:l+\"-intervalUnitLabel\"}).bindProperty(\"text\",{path:\"recurrence/type\",formatter:function(e){if(e){if(e===P.RECURRENCE_DAILY)return o._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.days.label.txt\");if(e===P.RECURRENCE_WEEKLY)return o._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weeks.label.txt\");if(e===P.RECURRENCE_MONTHLY)return o._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.months.label.txt\");if(e===P.RECURRENCE_YEARLY)return o._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.years.label.txt\")}return\"\"}}).addStyleClass(\"sapUiTinyMarginBegin\");this._oIntervalUnitLabel=O,U.setLabelFor(k);var I=new i({direction:\"Row\",items:[U,k,O]}).addStyleClass(\"sapUiSmallMarginTop\");this._oIntervalBox=I,this._bindFrequencyTypeVisible([P.RECURRENCE_DAILY,P.RECURRENCE_WEEKLY,P.RECURRENCE_MONTHLY,P.RECURRENCE_YEARLY],[I]);var B=[];B.push(new t({id:l+\"-mondayCBX\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.monday.title.txt\")})),B.push(new t({id:l+\"-tuesdayCBX\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.tuesday.title.txt\")})),B.push(new t({id:l+\"-wednesdayCBX\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.wednesday.title.txt\")})),B.push(new t({id:l+\"-thursdayCBX\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.thursday.title.txt\")})),B.push(new t({id:l+\"-fridayCBX\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.friday.title.txt\")})),B.push(new t({id:l+\"-saturdayCBX\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.saturday.title.txt\")})),B.push(new t({id:l+\"-sundayCBX\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.sunday.title.txt\")}));for(var Y=0;Y<B.length;Y++){var A=B[Y],H=P.RECURRENCE_DAYSOFWEEK[Y];this._setWeekDayCBX(A,H)}this._oWeekdayCBXs=B;var F=new i({direction:\"Column\",items:B}).addStyleClass(\"sapUiTinyMarginTop evSchedulingTimeEventPaneMarginBegin\");this._oWeekdayBox=F,this._bindFrequencyTypeVisible([P.RECURRENCE_WEEKLY],B),this._bindFrequencyTypeVisible([P.RECURRENCE_WEEKLY],[F]);var q=new a({id:l+\"-occurrenceLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrence.label.txt\")}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"}],formatter:function(e){return!(!e||e!==P.RECURRENCE_MONTHLY&&e!==P.RECURRENCE_YEARLY)}}).addStyleClass(\"sapUiSmallMarginTop\");this._oOccurrenceLabel=q;var W=new u({id:l+\"-occurrenceTypeSelect\",width:\"100%\",selectedKey:\"{recurrence/occurrenceType}\",change:[this._onOccurrenceTypeChange,this],tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrenceType.tooltip.txt\"),items:[new sas.hc.ui.core.Item({key:P.RECURRENCE_OCCURRENCE_TYPE[0],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrenceType.dayOfMonth.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_OCCURRENCE_TYPE[1],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrenceType.lastDayOfMonth.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_OCCURRENCE_TYPE[2],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrenceType.week.select.txt\")})]}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"}],formatter:function(e){return!(!e||e!==P.RECURRENCE_MONTHLY&&e!==P.RECURRENCE_YEARLY)}}).addStyleClass(\"sapUiTinyMarginTop\");this._oOccurrenceTypeSelect=W,q.setLabelFor(W);var V=new h({id:l+\"-dayNumStepper\",stepSize:1,value:{path:\"recurrence/dayOfMonth\",type:new R({groupingEnabled:!0},{minimum:1,maximum:31})}}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"},{path:\"recurrence/occurrenceType\"}],formatter:function(e,t){return!(!t||t!==P.RECURRENCE_OCCURRENCE_TYPE[0]||!e||e!==P.RECURRENCE_MONTHLY&&e!==P.RECURRENCE_YEARLY)}}).addStyleClass(\"sapUiTinyMarginTop evSchedulingTimeEventPaneMarginBegin\");this._oDayNumStepper=V;var j=new u({id:l+\"-occurrenceSelect\",width:\"100%\",selectedKey:\"{recurrence/occurrence}\",tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrence.tooltip.txt\"),items:[new sas.hc.ui.core.Item({key:\"\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrence.placeholder.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_OCCURRENCE[0],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrence.first.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_OCCURRENCE[1],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrence.second.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_OCCURRENCE[2],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrence.third.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_OCCURRENCE[3],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrence.fourth.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_OCCURRENCE[4],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrence.last.select.txt\")})],change:[this._onOccurrenceChange,this]}).addStyleClass(\"sapUiTinyMarginTop\");this._oOccurrenceSelect=j;var Q=new u({id:l+\"-weekdaySelect\",selectedKey:\"{recurrence/daysOfWeek/0}\",width:\"100%\",items:[new sas.hc.ui.core.Item({key:\"\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.occurrence.placeholder.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_DAYSOFWEEK[6],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.sunday.title.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_DAYSOFWEEK[0],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.monday.title.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_DAYSOFWEEK[1],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.tuesday.title.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_DAYSOFWEEK[2],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.wednesday.title.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_DAYSOFWEEK[3],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.thursday.title.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_DAYSOFWEEK[4],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.friday.title.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_DAYSOFWEEK[5],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.weekdays.saturday.title.txt\")})],change:function(e){var t=e.getSource().getSelectedKey(),s=\"\"===t?[]:[t];o._setModelProperty(\"recurrence/daysOfWeek\",s),o._validateDaysOfWeek(),o._onDataModified()}}).addStyleClass(\"sapUiTinyMarginTop\");this._oWeekDaySelect=Q;var K=new i({direction:\"Column\",items:[j,Q]}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"},{path:\"recurrence/occurrenceType\"}],formatter:function(e,t){return!(!t||t!==P.RECURRENCE_OCCURRENCE_TYPE[2]||!e||e!==P.RECURRENCE_MONTHLY&&e!==P.RECURRENCE_YEARLY)}}).addStyleClass(\"evSchedulingTimeEventPaneMarginBegin\");this._oOccurrenceBox=K;var X=new a({id:l+\"-onLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.on.label.txt\")}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"}],formatter:function(e){return!(!e||e!==P.RECURRENCE_YEARLY)}}).addStyleClass(\"sapUiSmallMarginTop\");this._oOnLabel=X;var Z=new u({id:l+\"-monthOfYearSelect\",selectedKey:\"{recurrence/monthOfYear}\",change:[this._onMonthOfYearChange,this],width:\"100%\",items:[new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[0],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.january.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[1],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.february.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[2],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.march.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[3],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.april.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[4],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.may.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[5],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.june.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[6],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.july.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[7],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.august.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[8],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.september.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[9],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.october.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[10],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.november.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_MONTH[11],text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.month.december.select.txt\")})]}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"}],formatter:function(e){return!(!e||e!==P.RECURRENCE_YEARLY)}}).addStyleClass(\"sapUiTinyMarginTop\");this._oMonthOfYearSelect=Z;var z=new Date,G=z.toISOString().substring(0,10),J=new s({id:l+\"-datesPicker\",valueFormat:\"yyyy-MM-dd\",value:G,width:\"100%\",disablePastDates:!0,tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.dates.datePicker.tooltip.txt\"),change:[this._onDatesPickerChange,this],layoutData:new n({growFactor:1})});this._oDatesPicker=J;var ee=new e({id:l+\"-addDateBtn\",icon:sas.icons.HC.ADD,enabled:!0,layoutData:new n({alignSelf:\"Center\"}),tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.dates.add.button.tooltip.txt\"),press:[this._onAddDateBtnPressed,this]}).addStyleClass(\"sapUiTinyMarginBegin\");this._oAddDateBtn=ee;var te=new i({direction:\"Row\",items:[J,ee]}).addStyleClass(\"sapUiSmallMarginTop\");this._oDatesBox=te;var se=new a({id:l+\"-datesLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.dates.label.txt\")});this._oDatesLabel=se;var ae=new e({id:l+\"-removeDateBtn\",enabled:!1,icon:sas.icons.HC.DELETE,tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.dates.remove.button.tooltip.txt\"),press:[this._onRemoveDateBtnPressed,this]});this._oRemoveDateBtn=ae;var re=new c({id:l+\"-datesToolbar\",content:[se,new E,ae]}).addStyleClass(\"sapUiTinyMarginTop\");this._oDatesToolbar=re;var ie=new p({id:l+\"-datesList\",width:\"100%\",columnHeaderVisible:!0,enableColumnFreeze:!1,editable:!0,showTableOptions:!1,layoutData:new n({growFactor:1}),visibleRowCount:4,noData:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.dates.zeroStateBox.txt\"),selectionMode:m.MultiToggle,rowSelectionChange:[this._onDatesListSelectionChange,this],columns:[new y({label:new a({text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.dates.column.txt\")}),template:new d({wrapping:!1,width:\"100%\",text:{path:\"sasEvSchedule_timeEventMetaModel>value\",formatter:function(e){return e?J&&J._parseValue&&J._formatValue?J._formatValue(J._parseValue(e)):e:\"\"}},tooltip:{path:\"sasEvSchedule_timeEventMetaModel>value\",formatter:function(e){return e?J&&J._parseValue&&J._formatValue?J._formatValue(J._parseValue(e)):e:\"\"}},textAlign:\"Left\"}),sortProperty:\"value\"})]}).addStyleClass(\"sapUiTinyMarginTop\");ie.bindRows(\"sasEvSchedule_timeEventMetaModel>/dateList\"),this._oDateTable=ie,this._bindFrequencyTypeVisible([P.RECURRENCE_DATELIST],[J,ee,se,ae,re,ie]);var ne=new a({id:l+\"-durationLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.duration.label.txt\")});this._oDurationLabel=ne;var oe=new h({id:l+\"-durationNumStepper\",stepSize:1,value:{path:\"duration\",type:new R({groupingEnabled:!0},{minimum:1,maximum:2147483647})}});this._oDurationNumStepper=oe;var le=new a({id:l+\"-durationUnitLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.minutes.label.txt\")}).addStyleClass(\"sapUiTinyMarginBegin\");this._oDurationUnitLabel=le,le.setLabelFor(oe);var he=new i({direction:\"Row\",items:[oe,le]}).addStyleClass(\"sapUiSmallMarginTop\");this._oDurationBox=he;var ce=new a({id:l+\"-startTimeLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.startTime.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oStartTimeLabel=ce;var ue=new _({id:l+\"-minutelyStartTimePicker\",width:\"100%\",valueFormat:\"mm\",displayFormat:\"mm\",tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.startTime.tooltip.txt\"),change:function(e){var t=e.getParameters().value,s=o._getModelProperty(\"recurrence/type\");s&&s===P.RECURRENCE_MINUTELY&&(o._setModelProperty(\"hours\",\"0\"),o._setModelProperty(\"minutes\",t))}}).bindProperty(\"value\",{parts:[{path:\"hours\"},{path:\"minutes\"},{path:\"recurrence/type\"}],formatter:function(e,t,s){if(s===P.RECURRENCE_MINUTELY){if(t&&t.length>0){var a=t.split(\",\");a.length>1&&(t=\"*\"!==a[0]?a[0]:a[1]);var r=o._getModelProperty(\"minuteSkipCount\");return t&&parseInt(t)>parseInt(r)&&(t=\"0\"),o._setModelProperty(\"/minutes\",t),t}return\"\"}}}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"}],formatter:function(e){return!(!e||e!==P.RECURRENCE_MINUTELY)}}).addStyleClass(\"sapUiTinyMarginTop\");this._oMinutelyStartTimePicker=ue;var de=new _({id:l+\"-hourlyStartTimePicker\",width:\"100%\",valueFormat:\"HH:mm\",displayFormat:\"HH:mm\",tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.startTime.tooltip.txt\"),change:[this._onStartTimeChange,this]}).bindProperty(\"value\",{parts:[{path:\"hours\"},{path:\"minutes\"},{path:\"recurrence/type\"}],formatter:function(e,t,s){if(s===P.RECURRENCE_HOURLY){if(e&&e.length>0){var a=e.split(\",\");if(a.length>1&&(e=\"*\"!==a[0]?a[0]:a[1],o._setModelProperty(\"hours\",e)),t&&t.length>0){var r=t.split(\",\");return r.length>1&&(t=\"*\"!==r[0]?a[0]:a[1],o._setModelProperty(\"minutes\",t)),e.concat(\":\").concat(t)}return e}return\"\"}}}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"}],formatter:function(e){return!(!e||e!==P.RECURRENCE_HOURLY)}}).addStyleClass(\"sapUiTinyMarginTop\");this._oHourlyStartTimePicker=de;var _e=new _({id:l+\"-startTimePicker\",width:\"100%\",valueFormat:\"HH:mm\",displayFormat:\"HH:mm\",tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.startTime.tooltip.txt\"),change:[this._onStartTimeChange,this]}).bindProperty(\"value\",{parts:[{path:\"hours\"},{path:\"minutes\"},{path:\"recurrence/type\"}],formatter:function(e,t,s){if(s&&s!==P.RECURRENCE_MINUTELY&&s!==P.RECURRENCE_HOURLY){if(!(e&&e.length>0))return\"\";var a=e.split(\",\");if(a.length>1&&(e=\"*\"!==a[0]?a[0]:a[1],o._setModelProperty(\"hours\",e)),\"*\"!==e){var r=parseInt(e);if(t&&t.length>0){var i=t.split(\",\");return i.length>1&&(t=\"*\"!==i[0]?a[0]:a[1],o._setModelProperty(\"minutes\",t)),r.toString().concat(\":\").concat(t)}return r.toString()}}}}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"}],formatter:function(e){return!(!e||e===P.RECURRENCE_MINUTELY||e===P.RECURRENCE_HOURLY)}}).addStyleClass(\"sapUiTinyMarginTop\");this._oStartTimePicker=_e;var Ee=new a({id:l+\"-timeZoneLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.timeZone.label.txt\")}).addStyleClass(\"sapUiSmallMarginTop\");this._oTimeZoneLabel=Ee;var pe=new u({id:l+\"-timeZoneSelect\",width:\"100%\",tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.timeZone.tooltip.txt\"),selectedKey:\"{timeZone}\",items:[]}).addStyleClass(\"sapUiTinyMarginTop\"),ye=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.core\"),me=ye.getText(\"timezone.ids.txt\").split(\",\"),Re=ye.getText(\"timezone.ids.notrans\").split(\",\");$.each(Re,function(e,t){pe.addItem(new sas.hc.ui.core.Item({key:t,text:me[e]}))}),this._oTimeZoneSelect=pe,Ee.setLabelFor(pe);var ve=new a({id:l+\"-startDateLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.startDate.label.txt\")}).bindProperty(\"visible\",{path:\"recurrence/type\",formatter:function(e){return!(!e||e===P.RECURRENCE_DATELIST)}}).addStyleClass(\"sapUiSmallMarginTop\");this._oStartDateLabel=ve;var Ce=new s({id:l+\"-startDatePicker\",width:\"100%\",value:{path:\"recurrence/startDate\"},tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.startDate.tooltip.txt\"),disablePastDates:!0,valueFormat:\"yyyy-MM-dd\"}).bindProperty(\"visible\",{path:\"recurrence/type\",formatter:function(e){return!(!e||e===P.RECURRENCE_DATELIST)}}).addStyleClass(\"sapUiTinyMarginTop\");this._oStartDatePicker=Ce;var Te=new a({id:l+\"-endLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.label.txt\")}).bindProperty(\"visible\",{path:\"recurrence/type\",formatter:function(e){return!(!e||e===P.RECURRENCE_DATELIST)}}).addStyleClass(\"sapUiSmallMarginTop\");this._oEndLabel=Te;var Pe=new u({id:l+\"-endSelect\",width:\"100%\",selectedKey:\"{recurrence/endType}\",tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.tooltip.txt\"),items:[new sas.hc.ui.core.Item({key:P.RECURRENCE_ENDTYPE_NEVER,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.never.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_ENDTYPE_AFTER,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.onTimes.select.txt\")}),new sas.hc.ui.core.Item({key:P.RECURRENCE_ENDTYPE_DATE,text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.onDate.select.txt\")})],change:[this._onEndTypeChange,this]}).bindProperty(\"visible\",{path:\"recurrence/type\",formatter:function(e){return!(!e||e===P.RECURRENCE_DATELIST)}}).addStyleClass(\"sapUiTinyMarginTop\");this._oEndTypeSelect=Pe,Te.setLabelFor(Pe);var xe=new h({id:l+\"-endNumStepper\",stepSize:1,value:{path:\"maxOccurrence\",type:new R({groupingEnabled:!0},{minimum:1,maximum:2147483647})},change:[this._onEndTimesChange,this]});this._oEndTimesNumStepper=xe;var ge=new a({id:l+\"-endTimesLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.onTimes.occurrences.label.txt\")}).addStyleClass(\"sapUiTinyMarginBegin\");this._oEndTimesLabel=ge;var Se=new i({direction:\"Row\",items:[xe,ge]}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"},{path:\"recurrence/endType\"}],formatter:function(e,t){return!(!e||e===P.RECURRENCE_DATELIST||!t||t!==P.RECURRENCE_ENDTYPE_AFTER)}}).addStyleClass(\"sapUiSmallMarginTop evSchedulingTimeEventPaneMarginBegin\");this._oEndTimesBox=Se;var fe=new a({id:l+\"-endDateLabel\",text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.onDate.date.label.txt\")});this._oEndDateLabel=fe;var be=new s({value:{path:\"recurrence/endDate\"},tooltip:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.onDate.date.tooltip.txt\"),disablePastDates:!0,valueFormat:\"yyyy-MM-dd\",width:\"100%\",change:[this._onEndDateChange,this]});this._oEndDataPicker=be,fe.setLabelFor(be);var De=new i({direction:\"Column\",items:[fe,be]}).bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"},{path:\"recurrence/endType\"}],formatter:function(e,t){return!(!e||e===P.RECURRENCE_DATELIST||!t||t!==P.RECURRENCE_ENDTYPE_DATE)}}).addStyleClass(\"sapUiSmallMarginTop evSchedulingTimeEventPaneMarginBegin\");this._oEndDateBox=De;var Ne=new i({direction:\"Column\",items:[this._oNameLabel,this._oNameInput,this._oFrequencyLabel,this._oFrequencySelect,this._oEveryLabel,this._oMinutelyEveryBox,this._oHourlyEveryBox,this._oIntervalBox,this._oWeekdayBox,this._oOccurrenceLabel,this._oOccurrenceTypeSelect,this._oDayNumStepper,this._oOccurrenceBox,this._oOnLabel,this._oMonthOfYearSelect,this._oDatesBox,this._oDatesToolbar,this._oDateTable,this._oDurationLabel,this._oDurationBox,this._oStartTimeLabel,this._oMinutelyStartTimePicker,this._oHourlyStartTimePicker,this._oStartTimePicker,this._oTimeZoneLabel,this._oTimeZoneSelect,this._oStartDateLabel,this._oStartDatePicker,this._oEndLabel,this._oEndTypeSelect,this._oEndTimesBox,this._oEndDateBox]});this._oBox=Ne,this.addContent(this._oBox);var we=new v({});this.setModel(we,\"sasEvSchedule_timeEventMetaModel\")},onBeforeRendering:function(){C.prototype.onBeforeRendering&&C.prototype.onBeforeRendering.apply(this,arguments);var e=this.getModel(\"sasEvSchedule_timeEventMetaModel\"),t=this.getBindingContext();if(t&&t.oModel&&t.sPath){var s=t.oModel.getProperty(t.sPath);if(T.buildTimeEventAuxiliary(s)&&t.oModel.refresh(),s.recurrence){var a=this._getModelProperty(\"recurrence/dates\"),r=[];if(a&&a.length>0)for(var i=0;i<a.length;i++)r.push({value:a[i]});e.setProperty(\"/dateList\",r)}}var n=this.getProperty(\"usageMode\");if(n===P.USAGE_MODE_READONLY||n===P.USAGE_MODE_READONLY_WITH_STATUS){this._oNameInput.setEditable(!1),this._oFrequencySelect.setEnabled(!1),this._oMinutesSelect.setEnabled(!1),this._oHoursSelect.setEnabled(!1),this._oIntervalNumStepper.setEnabled(!1);for(var i=0;i<this._oWeekdayCBXs.length;i++)this._oWeekdayCBXs[i].setEditable(!1);this._oOccurrenceTypeSelect.setEnabled(!1),this._oDayNumStepper.setEnabled(!1),this._oOccurrenceSelect.setEnabled(!1),this._oWeekDaySelect.setEnabled(!1),this._oMonthOfYearSelect.setEnabled(!1),this._oDatesPicker.setEditable(!1),this._oAddDateBtn.setEnabled(!1),this._oRemoveDateBtn.setEnabled(!1),this._oHourlyStartTimePicker.setEditable(!1),this._oMinutelyStartTimePicker.setEditable(!1),this._oStartTimePicker.setEditable(!1),this._oDurationNumStepper.setEnabled(!1),this._oStartDatePicker.setEditable(!1),this._oEndTypeSelect.setEnabled(!1),this._oEndTimesNumStepper.setEnabled(!1),this._oEndDataPicker.setEditable(!1)}else{this._oNameInput.setEditable(!0),this._oFrequencySelect.setEnabled(!0),this._oMinutesSelect.setEnabled(!0),this._oHoursSelect.setEnabled(!0),this._oIntervalNumStepper.setEnabled(!0);for(var i=0;i<this._oWeekdayCBXs.length;i++)this._oWeekdayCBXs[i].setEditable(!0);this._oOccurrenceTypeSelect.setEnabled(!0),this._oDayNumStepper.setEnabled(!0),this._oOccurrenceSelect.setEnabled(!0),this._oWeekDaySelect.setEnabled(!0),this._oMonthOfYearSelect.setEnabled(!0),this._oDatesPicker.setEditable(!0),this._oAddDateBtn.setEnabled(!0),this._oRemoveDateBtn.setEnabled(!0),this._oHourlyStartTimePicker.setEditable(!0),this._oMinutelyStartTimePicker.setEditable(!0),this._oStartTimePicker.setEditable(!0),this._oDurationNumStepper.setEnabled(!0),this._oStartDatePicker.setEditable(!0),this._oEndTypeSelect.setEnabled(!0),this._oEndTimesNumStepper.setEnabled(!0),this._oEndDataPicker.setEditable(!0)}},onAfterRendering:function(){C.prototype.onAfterRendering&&C.prototype.onAfterRendering.apply(this,arguments);var e=this.getBindingContext();if(e&&e.oModel&&e.sPath){var t=e.oModel.getProperty(e.sPath);t.recurrence&&(t.recurrence.type===P.RECURRENCE_DATELIST?this._validateDates():(t.recurrence.type!==P.RECURRENCE_DAILY&&t.recurrence.type!==P.RECURRENCE_WEEKLY&&t.recurrence.type!==P.RECURRENCE_MONTHLY&&t.recurrence.type!==P.RECURRENCE_YEARLY||this._setSkipCountConstraints(),t.recurrence.type===P.RECURRENCE_MONTHLY||t.recurrence.type===P.RECURRENCE_YEARLY?t.recurrence.occurrenceType===P.RECURRENCE_OCCURRENCE_TYPE[0]?this._setDayOfMonthConstraints():t.recurrence.occurrenceType===P.RECURRENCE_OCCURRENCE_TYPE[2]&&(this._validateOccurrence(),this._validateDaysOfWeek()):t.recurrence.type===P.RECURRENCE_WEEKLY&&(t.recurrence.endType===P.RECURRENCE_ENDTYPE_AFTER?(this._validateMaxOccurrence(\"/maxOccurrence\"),this._validateDaysOfWeek()):this._validateDaysOfWeek())))}},_getText:function(e,t,s,a){return this.rb.getText(e,t,s,a)},_getModelProperty:function(e){var t=this.getBindingContext();return t&&t.oModel&&t.sPath?t.oModel.getProperty(t.sPath+\"/\"+e):null},_setModelProperty:function(e,t){var s=this.getBindingContext();s&&s.oModel&&s.sPath&&s.oModel.setProperty(s.sPath+\"/\"+e,t)},_onNameInputChange:function(e){T.validateStringByteLength(this._oNameInput.getValue(),T.NAME_BYTE_LIMIT,this._oNameInput),this.fireChange({pfdItemId:this.getProperty(\"pfdItemId\"),name:this._oNameInput.getValue()})},_setSkipCountConstraints:function(){\nthis._getModelProperty(\"recurrence/type\")===P.RECURRENCE_DAILY?this._oIntervalNumStepper.getBinding(\"value\").getType().setConstraints({minimum:1,maximum:999}):this._oIntervalNumStepper.getBinding(\"value\").getType().setConstraints({minimum:1,maximum:99})},_onFrequencyChange:function(e){var t=e.getSource().getSelectedKey();if(t===P.RECURRENCE_MINUTELY){var s=this._getModelProperty(\"minuteSkipCount\"),a=this._getModelProperty(\"minutes\");a&&parseInt(a)>parseInt(s)&&this._setModelProperty(\"minutes\",\"0\")}else if(t===P.RECURRENCE_DAILY)this._setModelProperty(\"recurrence/skipCount\",1),this._setSkipCountConstraints();else if(t===P.RECURRENCE_WEEKLY)this._setModelProperty(\"recurrence/skipCount\",1),this._setModelProperty(\"recurrence/daysOfWeek\",[]),this._validateDaysOfWeek(),this._validateMaxOccurrence(),this._setSkipCountConstraints();else if(t===P.RECURRENCE_MONTHLY||t===P.RECURRENCE_YEARLY){var r=this._getModelProperty(\"recurrence/occurrenceType\");if(r&&r===P.RECURRENCE_OCCURRENCE_TYPE[0]){var i=parseInt(this._getModelProperty(\"recurrence/dayOfMonth\")||0);i||this._setModelProperty(\"recurrence/dayOfMonth\",1)}this._setModelProperty(\"recurrence/skipCount\",1),this._setModelProperty(\"recurrence/daysOfWeek\",[]),this._validateDaysOfWeek(),this._validateOccurrence(),this._validateDayOfMonth(),this._setSkipCountConstraints()}},_bindFrequencyTypeVisible:function(e,t){if(e&&e.length>0&&t&&t.length>0)for(var s=0;s<t.length;s++)t[s].bindProperty(\"visible\",{parts:[{path:\"recurrence/type\"}],formatter:function(t){return!!(t&&e.indexOf(t)>=0)}})},_setWeekDayCBX:function(e,t){var s=this;e.attachSelect(function(e){var a=s._getModelProperty(\"recurrence/daysOfWeek\");a||(a=[]);var r=a.indexOf(t);e.getParameters().selected?-1===r&&a.push(t):-1!==r&&a.splice(r,1),s._setModelProperty(\"recurrence/daysOfWeek\",a),s._validateDaysOfWeek();var i=s._getModelProperty(\"recurrence/endType\");i&&i===P.RECURRENCE_ENDTYPE_AFTER&&s._validateMaxOccurrence(),s._onDataModified()}),e.bindProperty(\"selected\",{path:\"recurrence/daysOfWeek\",formatter:function(e){return!!(e&&e.indexOf(t)>=0)}})},_onOccurrenceTypeChange:function(e){var t=e.getSource().getSelectedKey();t===P.RECURRENCE_OCCURRENCE_TYPE[0]?(this._setModelProperty(\"recurrence/occurrence\",\"\"),this._setModelProperty(\"recurrence/dayOfMonth\",1),this._validateDayOfMonth()):t===P.RECURRENCE_OCCURRENCE_TYPE[1]?this._setModelProperty(\"recurrence/dayOfMonth\",0):t===P.RECURRENCE_OCCURRENCE_TYPE[2]&&(this._setModelProperty(\"recurrence/dayOfMonth\",0),this._validateDaysOfWeek(),this._validateOccurrence()),this._onDataModified()},_onOccurrenceChange:function(e){this._validateOccurrence(),this._onDataModified()},_onMonthOfYearChange:function(e){this._getModelProperty(\"recurrence/type\")===P.RECURRENCE_YEARLY&&this._validateDayOfMonth()},_onDatesPickerChange:function(e){this._oAddDateBtn.setEnabled(!0)},_onAddDateBtnPressed:function(e){var t=this._oDatesPicker.getValue();if(t&&t.length>0){var s=!1,a=this._getModelProperty(\"recurrence/dates\");if(a&&a.length>0?s=-1===a.indexOf(t):(a=[],s=!0),!0===s){a.push(t),this._setModelProperty(\"recurrence/dates\",a);var r=this.getModel(\"sasEvSchedule_timeEventMetaModel\"),i=r.getProperty(\"/dateList\");i.push({value:t}),r.setProperty(\"/dateList\",i);var n=i.length-1;this._oDateTable.setFirstVisibleRow(n),this._oDateTable.setSelectedIndex(n),this._oDateTable.focus(),this._validateDates()}else o.error({title:x.getAppName(),text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.dates.add.dateExist.warning.message.txt\"),buttonActions:[{text:l.Close,initialFocus:!0,defaultButton:!0}]})}else o.error({title:x.getAppName(),text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.dates.add.noDate.warning.message.txt\"),buttonActions:[{text:l.Close,initialFocus:!0,defaultButton:!0}]}),this._oAddDateBtn.setEnabled(!1);this._onDataModified()},_onRemoveDateBtnPressed:function(e){var t=this.getModel(\"sasEvSchedule_timeEventMetaModel\"),s=this._oDateTable.getSelectedIndices();if(s&&s.length>0){var a=this._getModelProperty(\"recurrence/dates\"),r=t.getProperty(\"/dateList\");this._oRemoveDateBtn.setEnabled(!1);var i=[];jQuery.each(s,function(e,t){var s=r[t];i.push(s)}),jQuery.each(i,function(e,t){var s=a.indexOf(t.value);a.splice(s,1);var i=r.indexOf(t);r.splice(i,1)}),this._setModelProperty(\"recurrence/dates\",a),t.setProperty(\"/dateList\",r),this._oDateTable.clearSelection(),this._oAddDateBtn.setEnabled(!0),this._validateDates()}else o.error({title:x.getAppName(),text:this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.dates.delete.noDate.warning.message.txt\"),buttonActions:[{text:l.Close,initialFocus:!0,defaultButton:!0}]});this._onDataModified()},_onDatesListSelectionChange:function(e){var t=this._oDateTable.getSelectedIndices();t&&t.length>0?this._oRemoveDateBtn.setEnabled(!0):this._oRemoveDateBtn.setEnabled(!1)},_onStartTimeChange:function(e){var t=e.getParameters().value,s=t.indexOf(\":\"),a=t.substring(0,s),r=t.substring(s+1,s+3);this._setModelProperty(\"hours\",a),this._setModelProperty(\"minutes\",r)},_onEndTypeChange:function(e){var t=e.getSource().getSelectedKey();if(t===P.RECURRENCE_ENDTYPE_NEVER)this._setModelProperty(\"recurrence/endDate\",\"\"),this._setModelProperty(\"maxOccurrence\",-1);else if(t===P.RECURRENCE_ENDTYPE_AFTER)this._setModelProperty(\"recurrence/endDate\",\"\"),this._setModelProperty(\"maxOccurrence\",1),this._validateMaxOccurrence();else if(t===P.RECURRENCE_ENDTYPE_DATE){var s=this._getModelProperty(\"recurrence/startDate\");s&&s.length>0&&this._setModelProperty(\"recurrence/endDate\",s),this._validateInputDate(),this._setModelProperty(\"maxOccurrence\",-1)}},_onEndTimesChange:function(e){this._validateMaxOccurrence(),this._onDataModified()},_onEndDateChange:function(e){this._validateInputDate(),this._onDataModified()},_onDataModified:function(){var e=this.getProperty(\"usageMode\");if(e===P.USAGE_MODE_NEW||e===P.USAGE_MODE_MODIFY){var t=this.getBindingContext();if(t&&t.oModel&&t.sPath&&t.sPath.indexOf(P.MODEL_PART_OBJ_INFO)>0){var s=t.sPath.replace(P.MODEL_PART_OBJ_INFO,P.PATH_PART_ISMODIFIED);t.oModel.setProperty(s,!0)}}},_validateOccurrence:function(){var e=this._getModelProperty(\"recurrence/occurrence\");return T.validateStringNotEmpty(e,this._oOccurrenceSelect)},_validateDaysOfWeek:function(){var e=this._getModelProperty(\"recurrence/type\"),t=this._getModelProperty(\"recurrence/occurrenceType\"),s=this._getModelProperty(\"recurrence/daysOfWeek\"),a=null;return e&&t&&(t!==P.RECURRENCE_OCCURRENCE_TYPE[2]||e!==P.RECURRENCE_MONTHLY&&e!==P.RECURRENCE_YEARLY||(a=this._oWeekDaySelect)),T.validateArrayNotEmpty(s,a)},_setDayOfMonthConstraints:function(){var e=this._getModelProperty(\"recurrence/type\"),t=this._getModelProperty(\"recurrence/occurrenceType\");if(e===P.RECURRENCE_MONTHLY)this._oDayNumStepper.getBinding(\"value\").getType().setConstraints({minimum:1,maximum:31});else if(e===P.RECURRENCE_YEARLY&&t===P.RECURRENCE_OCCURRENCE_TYPE[0]){var s=this._getModelProperty(\"recurrence/monthOfYear\"),a=-1;s&&(a=P.RECURRENCE_MONTH.indexOf(s)),a>=0&&(0===a||2===a||4===a||6===a||7===a||9===a||11===a?this._oDayNumStepper.getBinding(\"value\").getType().setConstraints({minimum:1,maximum:31}):3===a||5===a||8===a||10===a?this._oDayNumStepper.getBinding(\"value\").getType().setConstraints({minimum:1,maximum:30}):1===a&&this._oDayNumStepper.getBinding(\"value\").getType().setConstraints({minimum:1,maximum:29}))}},_validateDayOfMonth:function(){this._setDayOfMonthConstraints();var e=this._getModelProperty(\"recurrence/type\"),t=this._getModelProperty(\"recurrence/occurrenceType\"),s=parseInt(this._oDayNumStepper.getValue()),a=!0;if(e===P.RECURRENCE_MONTHLY)a=!isNaN(s)&&s>0&&s<33;else if(e===P.RECURRENCE_YEARLY)if(isNaN(s))a=!1;else if(t===P.RECURRENCE_OCCURRENCE_TYPE[0]){var r=this._getModelProperty(\"recurrence/monthOfYear\"),i=-1;r&&(i=P.RECURRENCE_MONTH.indexOf(r)),i<0&&(r=P.RECURRENCE_MONTH[0],this._setModelProperty(\"recurrence/monthOfYear\",r),i=0),i>=0&&((0!==i&&2!==i&&4!==i&&6!==i&&7!==i&&9!==i&&11!==i||!(s<=0||s>31))&&(3!==i&&5!==i&&8!==i&&10!==i||!(s<=0||s>30))?1===i&&(s<=0||s>29)&&(a=!1):a=!1)}return this._oDayNumStepper.getAggregation(\"_input\")&&this._oDayNumStepper.getAggregation(\"_input\").setValueState(a?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error),a},_validateMaxOccurrence:function(){var e=this._getModelProperty(\"recurrence/type\"),t=this._getModelProperty(\"maxOccurrence\")||-1,s=this._getModelProperty(\"recurrence/daysOfWeek\"),a=this._getModelProperty(\"recurrence/endType\"),r=!0;return-1!==t?e===P.RECURRENCE_WEEKLY&&s&&s.length>t&&(r=!1):a===P.RECURRENCE_ENDTYPE_AFTER&&(r=!1),this._oEndTimesNumStepper.getAggregation(\"_input\")&&this._oEndTimesNumStepper.getAggregation(\"_input\").setValueState(r?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error),r},_validateDates:function(){var e=this._getModelProperty(\"recurrence/dates\");T.validateArrayNotEmpty(e,null)},_validateInputDate:function(){var e=this._getModelProperty(\"recurrence/startDate\")||\"\",t=this._getModelProperty(\"recurrence/endDate\")||\"\",s=this._getModelProperty(\"recurrence/endType\")||P.RECURRENCE_ENDTYPE_NEVER,a=!0;return s===P.RECURRENCE_ENDTYPE_DATE&&(0===t.trim().length?(a=!1,this._oStartDatePicker.setValueState(sap.ui.core.ValueState.None),this._oStartDatePicker.setValueStateText(\"\"),this._oEndDataPicker.setValueState(sap.ui.core.ValueState.Error),this._oStartDatePicker.setValueStateText(this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.requiredDate.txt\"))):e.trim().length>0&&t.trim().length>0&&new Date(t)<new Date(e)&&(a=!1,this._oStartDatePicker.setValueState(sap.ui.core.ValueState.Error),this._oStartDatePicker.setValueStateText(this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.invalidDate.txt\")),this._oEndDataPicker.setValueState(sap.ui.core.ValueState.Error),this._oStartDatePicker.setValueStateText(this._getText(\"sas.ev.shared.schedule.flow.timeEventPropPane.end.invalidDate.txt\")))),a&&(this._oStartDatePicker.setValueState(sap.ui.core.ValueState.None),this._oStartDatePicker.setValueStateText(\"\"),this._oEndDataPicker.setValueState(sap.ui.core.ValueState.None),this._oStartDatePicker.setValueStateText(\"\")),a},exit:function(){if(this._oNameLabel&&(this._oNameLabel.destroy(),this._oNameLabel=null),this._oNameInput&&(this._oNameInput.destroy(),this._oNameInput=null),this._oFrequencyLabel&&(this._oFrequencyLabel.destroy(),this._oFrequencyLabel=null),this._oFrequencySelect&&(this._oFrequencySelect.destroy(),this._oFrequencySelect=null),this._oEveryLabel&&(this._oEveryLabel.destroy(),this._oEveryLabel=null),this._oMinutesSelect&&(this._oMinutesSelect.destroy(),this._oMinutesSelect=null),this._oMinutesLabel&&(this._oMinutesLabel.destroy(),this._oMinutesLabel=null),this._oMinutelyEveryBox&&(this._oMinutelyEveryBox.destroy(),this._oMinutelyEveryBox=null),this._oHoursSelect&&(this._oHoursSelect.destroy(),this._oHoursSelect=null),this._oHoursLabel&&(this._oHoursLabel.destroy(),this._oHoursLabel=null),this._oHourlyEveryBox&&(this._oHourlyEveryBox.destroy(),this._oHourlyEveryBox=null),this._oIntervalLabel&&(this._oIntervalLabel.destroy(),this._oIntervalLabel=null),this._oIntervalNumStepper&&(this._oIntervalNumStepper.destroy(),this._oIntervalNumStepper=null),this._oIntervalUnitLabel&&(this._oIntervalUnitLabel.destroy(),this._oIntervalUnitLabel=null),this._oIntervalBox&&(this._oIntervalBox.destroy(),this._oIntervalBox=null),this._oWeekdayCBXs){for(var e=0;e<this._oWeekdayCBXs.length;e++)this._oWeekdayCBXs[e]&&(this._oWeekdayCBXs[e].destroy(),this._oWeekdayCBXs[e]=null);this._oWeekdayCBXs=null}this._oWeekdayBox&&(this._oWeekdayBox.destroy(),this._oWeekdayBox=null),this._oOccurrenceLabel&&(this._oOccurrenceLabel.destroy(),this._oOccurrenceLabel=null),this._oOccurrenceTypeSelect&&(this._oOccurrenceTypeSelect.destroy(),this._oOccurrenceTypeSelect=null),this._oDayNumStepper&&(this._oDayNumStepper.destroy(),this._oDayNumStepper=null),this._oOccurrenceSelect&&(this._oOccurrenceSelect.destroy(),this._oOccurrenceSelect=null),this._oWeekDaySelect&&(this._oWeekDaySelect.destroy(),this._oWeekDaySelect=null),this._oOccurrenceBox&&(this._oOccurrenceBox.destroy(),this._oOccurrenceBox=null),this._oOnLabel&&(this._oOnLabel.destroy(),this._oOnLabel=null),this._oMonthOfYearSelect&&(this._oMonthOfYearSelect.destroy(),this._oMonthOfYearSelect=null),this._oDatesPicker&&(this._oDatesPicker.destroy(),this._oDatesPicker=null),this._oAddDateBtn&&(this._oAddDateBtn.destroy(),this._oAddDateBtn=null),this._oDatesBox&&(this._oDatesBox.destroy(),this._oDatesBox=null),this._oDatesLabel&&(this._oDatesLabel.destroy(),this._oDatesLabel=null),this._oRemoveDateBtn&&(this._oRemoveDateBtn.destroy(),this._oRemoveDateBtn=null),this._oDatesToolbar&&(this._oDatesToolbar.destroy(),this._oDatesToolbar=null),this._oDateTable&&(this._oDateTable.destroy(),this._oDateTable=null),this._oDurationLabel&&(this._oDurationLabel.destroy(),this._oDurationLabel=null),this._oDurationNumStepper&&(this._oDurationNumStepper.destroy(),this._oDurationNumStepper=null),this._oDurationUnitLabel&&(this._oDurationUnitLabel.destroy(),this._oDurationUnitLabel=null),this._oDurationBox&&(this._oDurationBox.destroy(),this._oDurationBox=null),this._oStartTimeLabel&&(this._oStartTimeLabel.destroy(),this._oStartTimeLabel=null),this._oMinutelyStartTimePicker&&(this._oMinutelyStartTimePicker.destroy(),this._oMinutelyStartTimePicker=null),this._oHourlyStartTimePicker&&(this._oHourlyStartTimePicker.destroy(),this._oHourlyStartTimePicker=null),this._oStartTimePicker&&(this._oStartTimePicker.destroy(),this._oStartTimePicker=null),this._oTimeZoneLabel&&(this._oTimeZoneLabel.destroy(),this._oTimeZoneLabel=null),this._oTimeZoneSelect&&(this._oTimeZoneSelect.destroy(),this._oTimeZoneSelect=null),this._oStartDateLabel&&(this._oStartDateLabel.destroy(),this._oStartDateLabel=null),this._oStartDatePicker&&(this._oStartDatePicker.destroy(),this._oStartDatePicker=null),this._oEndLabel&&(this._oEndLabel.destroy(),this._oEndLabel=null),this._oEndTypeSelect&&(this._oEndTypeSelect.destroy(),this._oEndTypeSelect=null),this._oEndTimesNumStepper&&(this._oEndTimesNumStepper.destroy(),this._oEndTimesNumStepper=null),this._oEndTimesLabel&&(this._oEndTimesLabel.destroy(),this._oEndTimesLabel=null),this._oEndTimesBox&&(this._oEndTimesBox.destroy(),this._oEndTimesBox=null),this._oEndDateLabel&&(this._oEndDateLabel.destroy(),this._oEndDateLabel=null),this._oEndDataPicker&&(this._oEndDataPicker.destroy(),this._oEndDataPicker=null),this._oEndDateBox&&(this._oEndDateBox.destroy(),this._oEndDateBox=null),this._oBox&&(this._oBox.destroy(),this._oBox=null),C.prototype.exit&&C.prototype.exit.apply(this,arguments)}})}();",
	"sas/ev/shared/schedule/controller/FlowHistoryTable.controller.js": "sap.ui.define([\"sap/ui/core/mvc/Controller\",\"sap/ui/thirdparty/jquery\",\"sas/ev/shared/schedule/utils/FlowMonitorUtils\",\"sas/hc/m/MessageToast\",\"sas/ev/shared/Utils\",\"sas/ev/commons/utils/EVUtils\",\"sas/hc/m/MessageDialog\",\"sas/ltjs/sasicu/util/SASFormatterUtil\",\"sas/ev/shared/jobMonitor/utils/JobMonitorProperties\",\"sas/hc/m/Panel\",\"sas/hc/m/ResponsivePopover\",\"sas/hc/m/Text\",\"sas/ev/shared/schedule/utils/ScheduleUtils\",\"sas/ev/shared/schedule/control/FlowDialog\",\"sas/ev/shared/schedule/utils/ScheduleProperties\",\"sas/ltjs/sasicu/util/CalendarUtil\",\"sas/hc/ui/layout/VerticalLayout\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sas/hc/m/library\",\"sap/m/library\"],function(e,t,r,o,s,n,i,a,l,u,c,d,f,h,g,m,p){\"use strict\";return e.extend(\"sas.ev.shared.schedule.controller.FlowHistoryTable\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),currentFlow:null,flowData:null,onInit:function(){this.logger=sas.log.getLogger(\"sas.ev.shared.schedule.view.FlowHistoryTable\")},runObject:function(e){var r=this;if(e&&e.jobRequest&&e.jobRequest.id){var n=\"/jobExecution/jobRequests/\".concat(e.jobRequest.id).concat(\"/jobs\"),i=\"POST\",a=e.links;void 0!==a&&a.length>0&&t.each(a,function(e,t){if(void 0!==t.rel&&\"submitJob\"===t.rel)return n=t.uri,i=t.method,!1}),sas.ajax({type:i,url:n,headers:{accept:\"application/vnd.sas.job.execution.job+json\"}}).done(function(e,t,n){void 0!==n&&(201===n.status||void 0!==t&&\"success\"===t?(o.show(r.rb.getText(\"sas.ev.shared.schedule.flowMonitor.run.success.txt\")),setTimeout(function(){sap.ui.getCore().getEventBus().publish(\"sasevschedulingJobsview\",\"EVFlowMonitorRefresh\",r)},100)):s.ajaxErrorMessageHandler({title:r.rb.getText(\"sas.ev.shared.schedule.flowMonitor.run.failed.title.txt\"),message:n,detail:n}).open())}).fail(function(e,t,o){s.ajaxErrorMessageHandler({title:r.rb.getText(\"sas.ev.shared.schedule.flowMonitor.run.failed.title.txt\"),message:e,detail:e}).open()})}else{var n=\"/jobExecution/jobs/\",i=\"POST\",a=e.links,l=e.jobRequest;l.jobDefinitionUri&&(l.jobDefinition=null),void 0!==a&&a.length>0&&t.each(a,function(e,t){if(void 0!==t.rel&&\"submitJob\"===t.rel)return n=t.uri,i=t.method,!1}),sas.ajax({type:i,url:n,data:JSON.stringify(l),headers:{accept:\"application/vnd.sas.job.execution.job+json\"}}).done(function(e,t,n){void 0!==n&&(201===n.status||void 0!==t&&\"success\"===t?(o.show(r.rb.getText(\"sas.ev.shared.schedule.flowMonitor.run.success.txt\")),setTimeout(function(){sap.ui.getCore().getEventBus().publish(\"sasevschedulingJobsview\",\"EVFlowMonitorRefresh\",r)},100)):s.ajaxErrorMessageHandler({title:r.rb.getText(\"sas.ev.shared.schedule.flowMonitor.run.failed.title.txt\"),message:n,detail:n}).open())}).fail(function(e,t,o){s.ajaxErrorMessageHandler({title:r.rb.getText(\"sas.ev.shared.schedule.flowMonitor.run.failed.title.txt\"),message:e,detail:e}).open()})}},formatDate:function(e){if(e){return a.format(e,\"DATETIME7.\")}return\"\"},onErrorLinkClick:function(e){var t=this.getModelForBindingContext(e.getSource().getParent().getBindingContext()),r=t.error?t.error.message:\"\",o=t.error?t.error.details:\"\",s=t.error?t.error.errorCode:0,n=new c({placement:sap.m.PlacementType.Auto,modal:!1,autoClose:!0,content:this.getErrorPopoverContent(r,this.getErrorDetailsString(o),s)});n.addStyleClass(\"evMPopover\"),n.openBy(e.getSource())},getErrorDetailsString:function(e){if(e&&e.length>0){for(var t=\"\",r=0;r<e.length;r++){var o=e[r];o.length>0&&(o=o.replace(/{/g,\"\"),o=o.replace(/}/g,\"\"),t+=o+\"\\n\")}return t}return this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.errorpopover.genericdetails.txt\")},getErrorPopoverContent:function(e,t,r){var o=[];return e&&e!==l.EMPTY_STRING&&o.push(new d({text:e})),t&&t!==l.EMPTY_STRING&&o.push(new d({text:t})),r&&o.push(new d({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.errorpopover.errorcode.txt\")+\" \"+r})),new u({content:new p({content:o})})},jobStatusIconFormatter:function(e){var t=sap.ui.getCore().getModel(\"sasIcons\");switch(e){case l.JOB_STATUS_PENDING:return t.getProperty(\"/HC/SCHEDULEDSTATUS\");case l.JOB_STATUS_RUNNING:return t.getProperty(\"/HC/PROGRESSSTATUS\");case l.JOB_STATUS_CANCELED:return t.getProperty(\"/HC/CANCELEDSTATUS\");case l.JOB_STATUS_COMPLETED:return t.getProperty(\"/HC/COMPLETESTATUS\");case l.JOB_STATUS_FAILED:case l.JOB_STATUS_TIMED_OUT:return t.getProperty(\"/HC/ERRORSTATUS\");default:return t.getProperty(\"/HC/NEUTRALSTATUS\")}},jobStatusTextFormatter:function(e){return r.jobStatusTextFormatter(e)},formatElapsedTime:function(e){if(e){return this.padLeft(Math.floor(e/36e5).toString(),2,\"0\")+\":\"+this.padLeft(Math.floor(e%36e5/6e4).toString(),2,\"0\")+\":\"+this.padLeft(Math.floor(e%36e5%6e4/1e3).toString(),2,\"0\")+\".\"+(e%1e3).toString()}return\"\"},padLeft:function(e,t,r){if(null===e||null===t||e.length>=t||null===r||1!==r.length)return e;var o=new Array(t+1).join(r);return o.substring(0,o.length-e.length)+e},getModelForBindingContext:function(e){if(null!==e){var t=e.getPath(),r=e.getModel();if(null!==r){var o=r.getProperty(t);if(null!==o)return o}}return null},retrieveFlowInstanceItems:function(e,t){var o=this;f.retrieveFlowInstanceItems(t.schedulerId,t.flowDefinitionId,t.instanceId,function(r){r&&r.items&&r.items.length>0?o.getView().flowHistoryTable.getModel().setProperty(e.concat(\"/0\"),r.items):i.information({title:s.getAppName(),text:o.rb.getText(\"sas.ev.shared.schedule.flowMonitor.instance.noItems.fmt.txt\",[t.itemName])})},function(e){r.showErrorMessage(e)})},openViewFlowDialog:function(e,t,o,n){var a=this;f.retrieveFlowInstanceItems(t.schedulerId,t.flowDefinitionId,t.instanceId,function(o){if(o&&o.items&&o.items.length>0){var n=[];a.getView().flowHistoryTable.getModel().setProperty(\"/items/\".concat(e).concat(\"/0\"),o.items),$.each(o.items,function(e,t){n.push({name:t.itemName,state:t.state})}),a.retrieveJobActions(a.currentFlow.jobs,function(e){if(e&&e.length>0){var o=$.extend(!0,{},a.currentFlow);if(f.validateFlowDependencies(a.flowData,o,e)){var l=new h;l.updateModelData(g.USAGE_MODE_READONLY_WITH_STATUS,a.flowData,o,e,null,n),l.open()}else r.showErrorMessage(a.rb.getText(\"sas.ev.shared.schedule.flowMonitor.instance.missDependencies.fmt\",[t.itemName]))}else i.information({title:s.getAppName(),text:a.rb.getText(\"sas.ev.shared.schedule.flowMonitor.instance.noItems.fmt.txt\",[t.itemName])})},function(e){r.showErrorMessage(e)})}else i.information({title:s.getAppName(),text:a.rb.getText(\"sas.ev.shared.schedule.flowMonitor.instance.noItems.fmt.txt\",[t.itemName])})},function(e){r.showErrorMessage(e)})},elapsedTimeFormat:function(e,t){var r=this,o=\"\";if(e&&t){o=new Date(t)-new Date(e);o=r.padLeft(Math.floor(o/36e5).toString(),2,\"0\")+\":\"+r.padLeft(Math.floor(o%36e5/6e4).toString(),2,\"0\")+\":\"+r.padLeft(Math.floor(o%36e5%6e4/1e3).toString(),2,\"0\")+\".\"+(o%1e3).toString()}return o},timeFormat:function(e){return void 0!==e?a.format(m.jsDateToSASDateTime(new Date(e)),\"DATETIME\"):\"\"},retrieveJobActions:function(e,t,r){var o=f.getJobActionsByUri(e);$.when(o).done(function(e){t&&t(e)}).fail(function(e){r&&r(e)})}})});",
	"sas/ev/shared/schedule/controller/FlowMonitor.controller.js": "sap.ui.define([\"sap/ui/core/mvc/Controller\",\"sap/ui/model/json/JSONModel\",\"sas/ev/shared/schedule/utils/FlowMonitorUtils\",\"sas/ltjs/sasicu/util/SASFormatterUtil\",\"sas/ltjs/sasicu/util/CalendarUtil\",\"sap/m/MessageToast\",\"sas/ev/shared/jobMonitor/model/FilterModel\",\"sas/hc/m/Button\",\"sas/hc/m/Dialog\",\"sas/hc/m/Label\",\"sas/hc/ui/core/util/SASCollatorUtil\",\"sas/hc/ui/layout/HorizontalLayout\",\"sas/hc/ui/layout/VerticalLayout\",\"sas/hc/ui/unified/Calendar\",\"sas/hc/ui/unified/DateRange\",\"sap/ui/model/Filter\",\"sap/ui/model/FilterOperator\",\"sap/ui/model/Sorter\",\"sas/ev/shared/schedule/utils/ScheduleUtils\",\"sap/ui/thirdparty/jquery\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(e,t,a,l,i,r,s,o,n,d,u,c,f,h,g,D,w,M,v,b){\"use strict\";b.sap.require(\"sas.ev.shared.schedule.utils.FlowMonitorProperties\");var m=sas.ev.shared.schedule.utils.FlowMonitorProperties;return e.extend(\"sas.ev.shared.schedule.controller.FlowMonitor\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),currentJobCount:Object,onInit:function(){var e=this;this.logger=sas.log.getLogger(\"sas.ev.shared.schedule.view.FlowMonitor\");var a=this.getView();this.fromDate=null,this.toDate=null,this.filterModel={name:null,start:0,limit:20,status:null,date:null,sortBy:\"creationTimeStamp:descending\",prevUri:null,nextUri:null,currentUri:null,schedulerId:null,definitionId:null},this.flowHistoryTableView=a.flowHistoryTableView,this.facetPanel=a.facetPanel,this.filterProvider=a.filterProvider,this.userListFacet=a.userListFacet,this.nameListFacet=a.nameListFacet,this.statusListFacet=a.statusListFacet,this.flowModel=new t,this.tokenizer=a.tokenizer,this.flowHistoryTable=this.flowHistoryTableView.flowHistoryTable,this.flowHistoryTable.setModel(this.flowModel),this.facetPanel.setModel(this.flowModel),this.filterProvider.setModel(this.flowModel);var l=new D({path:\"itemName\",operator:w.NE,value1:null,value2:void 0});this.flowHistoryTable.bindRows({path:\"/items\",filters:[l]}),this.flowModel.bindProperty(\"/items\").attachChange(function(t){$.each(this.flowModel.getProperty(\"/items\"),function(t,a){e.flowModel.setProperty(\"/items/\".concat(t).concat(\"/0\"),[{itemName:\"\",state:\"FetchHistoryItems\"}])})},e)},onAfterRendering:function(){this.currentFlow=this.flowHistoryTableView.getController().currentFlow,this.filterModel.schedulerId=this.currentFlow.schedulerId,this.filterModel.definitionId=this.currentFlow.definitionId,this.retrieveFlowHistorySuccessHandler(this.flowModel.getData())},onStatusFormatFunction:function(e){return a.jobStatusTextFormatter(e)},onFilterApplied:function(e){this.flowHistoryTable.collapseAll()},onFacetsChange:function(e){var t=this,a=t.statusListFacet.getQuery(),l=a&&a.values?a.values.join(\",\"):\"\";0!==t.filterModel.start&&(t.filterModel.start=0),l!==t.filterModel.status&&(t.filterModel.status=l),t.retrieveFlowHistory(this.filterModel)},onRefresh:function(e){this.filterModel.start=0,this.retrieveFlowHistory(this.filterModel)},getUserIdsErrorHandler:function(e){},retrieveFlowHistory:function(e,t){var a=this;this.getView().setBusy(!0),v.retrieveFlowHistory(e.schedulerId,e.definitionId,e,function(e){a.retrieveFlowHistorySuccessHandler(e,t)},function(e){a.getView().setBusy(!1),v.showErrorMessage(e)})},retrieveFlowHistorySuccessHandler:function(e,t){var a=this,l=a.getView();a.filterModel.nextUri=null,a.filterModel.prevUri=null,e?(e.items&&e.items.length>0?(t&&t(),a.flowModel.setData(e)):a.flowModel.setData([]),$.each(e.links,function(e,t){\"prev\"===t.rel?a.filterModel.prevUri=t.uri:\"next\"===t.rel&&(a.filterModel.nextUri=t.uri)})):a.flowModel.setData([]);var i=a.filterModel.start+a.filterModel.limit;e&&e.items.length>0&&e.items.length<a.filterModel.limit&&(i=a.filterModel.start+e.items.length),l.displayingLabel.setText(a.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.displaying.fmt.label\",[a.filterModel.start+1,i])),l.nextButton.setEnabled(!!a.filterModel.nextUri),l.preButton.setEnabled(!!a.filterModel.prevUri),a.flowHistoryTable.collapseAll(),l.setBusy(!1)},getJobRunsErrorHandler:function(e){},onSearchJobFunction:function(e){e.getSource().getValue()||this.tokenizer.setCount(this.currentJobCount)},getDateRangeSelectionDialog:function(){var e=this,t=e.getView();return t.dateRangeDialog||(e.dateRangeCalendar=new h({id:t.getId()+\"dateRangeCalendar\",select:function(){e.updateCalendarDateLabels()},cancel:function(){e.resetCalendarDateRange()},intervalSelection:!0}).addStyleClass(\"dateRangeCalendar\"),e.dateRangeCalendar.setMaxDate(new Date),t.dateRangeDialog=new n({title:e.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.customDateRange.action.label\"),content:[new f({content:[e.dateRangeCalendar,new c({content:[new d({text:e.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.calDialog.fromDate.control.label\")}).addStyleClass(\"selectedDateLabel\"),new d({id:t.getId()+\"selectedDateFrom\",text:e.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.calDialog.noDate.control.label\")})]}).addStyleClass(\"selectedDateFromLabel\"),new c({content:[new d({text:e.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.calDialog.toDate.control.label\")}).addStyleClass(\"selectedDateLabel\"),new d({id:t.getId()+\"selectedDateTo\",text:e.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.calDialog.noDate.control.label\")})]}).addStyleClass(\"selectedDateFromLabel\")]})],beginButton:new o({text:e.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.filter.OK.action.label\"),press:function(){if(e.isValidDateRange()){e.getDateRangeSelectionDialog().close(),e.saveDateRange(),e.updateMenuButtonTextWithDateRange();var t=e.createInternalDateRangeString();e.updateDateFilter(t)}else r.show(e.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.filter.dateRange.error.txt\"),{my:\"center center\",at:\"center center\"})}}),endButton:new o({text:e.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.filter.Cancel.action.label\"),press:function(){e.getDateRangeSelectionDialog().close(),e.resetCalendarDateRange()}})}).addStyleClass(\"dateRangeSelectionDialog\"),t.addDependent(t.dateRangeDialog)),t.dateRangeDialog},formatDate:function(e){return e?l.instance(\"NLDATEM200.\").format(i.jsDateToSASDate(e)):\"\"},createUIDateRangeString:function(){var e=this;return this.formatDate(e.fromDate)+\" \"+this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.filter.dateRangeDelimiter.txt\")+\" \"+this.formatDate(e.toDate)},isValidDateRange:function(){var e=this,t=e.dateRangeCalendar.getSelectedDates();return t.length===m.SELECTED_DATES_COUNT&&null!==t[0].getStartDate()&&null!==t[0].getEndDate()},updateMenuButtonTextWithDateRange:function(){var e=this,t=sap.ui.getCore().byId(e.getView().getId()+\"dateFilterButton\"),a=e.createUIDateRangeString();t.setText(a),t.data(\"key\",\"dateRange\")},createInternalDateRangeString:function(){var e=this;return e.fromDate.toISOString()+m.DATE_RANGE_SEP+e.toDate.toISOString()},updateCalendarDateLabels:function(){var e=this,t=e.dateRangeCalendar.getSelectedDates(),a=sap.ui.getCore().byId(e.getView().getId()+\"selectedDateFrom\"),l=sap.ui.getCore().byId(e.getView().getId()+\"selectedDateTo\");null!==t&&t.length>0?(this.updateDateLabelControl(t[0].getStartDate(),a),this.updateDateLabelControl(t[0].getEndDate(),l)):(this.updateDateLabelControl(null,a),this.updateDateLabelControl(null,l))},updateDateLabelControl:function(e,t){var a;a=e?this.formatDate(e):this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.calDialog.noDate.control.label\"),t.setText(a)},resetCalendarDateRange:function(){var e=this;if(e.dateRangeCalendar){if(dateRangeCalendar.getSelectedDates().length>0&&dateRangeCalendar.removeSelectedDate(0),e.fromDate&&e.toDate){var t=new g;t.setStartDate(e.fromDate),t.setEndDate(e.toDate),e.dateRangeCalendar.insertSelectedDate(t,0)}this.updateCalendarDateLabels()}},saveDateRange:function(){var e=this,t=e.dateRangeCalendar.getSelectedDates();t.length>0&&(e.fromDate=t[0].getStartDate(),e.toDate=t[0].getEndDate())},updateDateFilter:function(e){this.filterModel.date=e,this.filterModel.start=0,this.retrieveFlowHistory(this.filterModel)},displayDate:function(){b.isEmptyObject(this.fromDate)||this.dateRangeCalendar.displayDate(this.fromDate)},handleMenuItemPress:function(e){var t=this,a=e.getParameter(\"item\"),l=a.data(\"key\");if(\"dateRange\"===l)this.displayDate(),this.getDateRangeSelectionDialog().open();else{var i=sap.ui.getCore().byId(t.getView().getId()+\"dateFilterButton\");i&&(i.setText(a.getText()),i.data(\"item\",l)),this.updateDateFilter(l)}},onResultsPerPageChange:function(e){var t=this.getView();t&&t.pagingSelect&&(this.filterModel.start=0,this.filterModel.limit=parseInt(t.pagingSelect.getSelectedKey()),this.retrieveFlowHistory(this.filterModel))},onNextPage:function(e){var t=this,a=t.getView();a.preButton.setEnabled(!1),a.nextButton.setEnabled(!1),t.filterModel.currentUri=t.filterModel.nextUri,t.retrieveFlowHistory(t.filterModel,function(){t.filterModel.start+=t.filterModel.limit,t.filterModel.currentUri=null})},onPreviousPage:function(e){var t=this,a=t.getView();a.preButton.setEnabled(!1),a.nextButton.setEnabled(!1),t.filterModel.currentUri=t.filterModel.prevUri,t.retrieveFlowHistory(t.filterModel,function(){t.filterModel.start-=t.filterModel.limit,t.filterModel.start<0&&(t.filterModel.start=0),t.filterModel.currentUri=null})}})});",
	"sas/ev/shared/schedule/enums/ModeType.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\n// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\n// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.schedule.enums.ModeType\"),sas.ev.shared.schedule.enums.ModeType={ADD:\"ADD\",EDIT:\"EDIT\"},sas.ev.shared.schedule.enums.ModeType});",
	"sas/ev/shared/schedule/enums/Recurrence.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.schedule.enums.Recurrence\"),sas.ev.shared.schedule.enums.Recurrence={MINUTELY:\"minutely\",HOURLY:\"hourly\",DAILY:\"daily\",EVERYONE:\"everyone\",WEEKLY:\"weekly\",MONTHLY:\"monthly\",YEARLY:\"yearly\",DATELIST:\"datelist\",FLOW_DATELIST:\"dateList\",EVENTTRIGGER:\"eventtrigger\",OPAGUE:\"opaque\",TRIGGER:\"TRIGGER\",JOBDEPENDENCY:\"JOBDEPENDENCY\",FREQUENCY:[\"minutely\",\"hourly\",\"daily\",\"weekly\",\"monthly\",\"yearly\",\"datelist\"],FLOW_FREQUENCY:[\"minutely\",\"hourly\",\"daily\",\"weekly\",\"monthly\",\"yearly\",\"dateList\"],WEEKDAYS:[\"select\",\"sunday\",\"monday\",\"tuesday\",\"wednesday\",\"thursday\",\"friday\",\"saturday\"],OCCURRENCE:[\"select\",\"first\",\"second\",\"third\",\"fourth\",\"last\"],OCCURRENCES:[\"dayofmonth\",\"lastdayofmonth\",\"week\"],MONTHS:[\"january\",\"february\",\"march\",\"april\",\"may\",\"june\",\"july\",\"august\",\"september\",\"october\",\"november\",\"december\"],END:[\"never\",\"after\",\"date\"]},sas.ev.shared.schedule.enums.Recurrence});",
	"sas/ev/shared/schedule/enums/ScheduleObjectType.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.schedule.enums.ScheduleObjectType\"),sas.ev.shared.schedule.enums.ScheduleObjectType={JOB:\"job\",EJOB:\"ejob\",SJOB:\"sjob\",FLOW:\"flow\",SCHEDULER:\"scheduler\"},sas.ev.shared.schedule.enums.ScheduleObjectType});",
	"sas/ev/shared/schedule/enums/SchedulerType.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\n// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.schedule.enums.SchedulerType\"),sas.ev.shared.schedule.enums.SchedulerType={TRIGGER:\"TRIGGER\",JOBDEPENDENCY:\"JOBDEPENDENCY\"},sas.ev.shared.schedule.enums.SchedulerType});",
	"sas/ev/shared/schedule/enums/Variable.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\"],function(e){\"use strict\";return e.sap.declare(\"sas.ev.shared.schedule.enums.Variable\"),sas.ev.shared.schedule.enums.Variable={ENABLEDTYPE:[\"yes\",\"no\"],TRIGGERTYPE:[\"event\"],JOBTRIGGERTYPE:[\"immediate\",\"timeevent\"],TRIGGERCONDITION:[\"any\",\"all\"],HTTPMETHODS:[\"POST\",\"GET\",\"DELETE\",\"PUT\"],HOURLYNUMBERS:[\"1\",\"2\",\"4\",\"6\",\"8\",\"12\"],MINUTENUMBERS:[\"5\",\"10\",\"15\",\"20\",\"30\"]},sas.ev.shared.schedule.enums.Variable});",
	"sas/ev/shared/schedule/model/ScheduleTimeEventModel.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sap/ui/model/json/JSONModel\",\"sas/ev/shared/schedule/enums/Recurrence\",\"sas/ev/shared/schedule/enums/SchedulerType\",\"sas/ev/shared/schedule/enums/ModeType\",\"sas/ev/shared/schedule/enums/Variable\",\"sas/ev/shared/casdata/utils/CASDataUtils\",\"sap/ui/model/Context\",\"sap/m/BusyDialog\",\"sas/ltjs/commons/resources/ResourceManager\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sap/ui/core/library\"],function(e,t,r,a,n,i,o,c,s,u){\"use strict\";var d=t.extend(\"sas.ev.shared.schedule.model.ScheduleTimeEventModel\",{constructor:function(r){t.apply(this,arguments);var a,n=new Date,i=n.toISOString().substring(0,10),o=n.getHours().toString(),s=n.getMinutes().toString(),u=Intl.DateTimeFormat().resolvedOptions().timeZone,d=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.core\"),h=d.getText(\"timezone.ids.notrans\"),l=h.split(\",\");a=void 0!==u&&-1!==l.indexOf(u)?u:\"America/New_York\",r||(r={recurrence:{type:\"daily\",startDate:i,endDate:\"\",skipCount:1,day:\"\",daysOfWeek:[],occurrence:\"\",dates:[],monthOfYear:\"\",dayOfMonth:1},hours:o,minutes:s,duration:100,timezone:a,maxOccurrence:-1,hourSkipCount:\"1\",minuteSkipCount:\"5\"},this.setData(r)),this.oInitialData=e.extend(!0,{},r);var p=this.aBindings;void 0!==p&&p.length>0&&e.each(p,function(e,t){this.removeBinding(t)}),this.bindProperty(\"/recurrence/startDate\",new c(this,\"/\")).attachChange(this._startChangeHandler,this),this.bindProperty(\"/recurrence/endDate\",new c(this,\"/\")).attachChange(this._endChangeHandler,this),this.bindProperty(\"/recurrence/type\",new c(this,\"/\")).attachChange(this._frequencyTypeChangeHandler,this),this.bindProperty(\"/recurrence/dayOfMonth\",new c(this,\"/\")).attachChange(this._dayOfMonthChangeHandler,this),this.bindProperty(\"/recurrence/occurrence\",new c(this,\"/\")).attachChange(this._occurrenceChangeHandler,this),this.bindProperty(\"/recurrence/skipCount\",new c(this,\"/\")).attachChange(this._skipCountChangeHandler,this),this.bindProperty(\"/recurrence/monthOfYear\",new c(this,\"/\")).attachChange(this._monthOfYearChangeHandler,this),this.bindProperty(\"/recurrence/daysOfWeek\",new c(this,\"/\")).attachChange(this._daysOfWeekChangeHandler,this),this.bindProperty(\"/recurrence/dates\",new c(this,\"/\")).attachChange(this._datesChangeHandler,this),this.bindProperty(\"/hours\",new c(this,\"/\")).attachChange(this._hoursChangeHandler,this),this.bindProperty(\"/minutes\",new c(this,\"/\")).attachChange(this._minutesChangeHandler,this),this.bindProperty(\"/duration\",new c(this,\"/\")).attachChange(this._durationChangeHandler,this),this.bindProperty(\"/timezone\",new c(this,\"/\")).attachChange(this._timezoneChangeHandler,this),this.bindProperty(\"/maxOccurrence\",new c(this,\"/\")).attachChange(this._maxOccurrenceChangeHandler,this),this.bindProperty(\"/hourSkipCount\",new c(this,\"/\")).attachChange(this._hourSkipCountChangeHandler,this),this.bindProperty(\"/minuteSkipCount\",new c(this,\"/\")).attachChange(this._minuteSkipCountChangeHandler,this),this.bindProperty(\"/active\",new c(this,\"/\")).attachChange(this._activeChangeHandler,this),this._initMetaModel(),this._validateInputString(\"/hours\"),this._validateInputString(\"/minutes\"),this._validateInputString(\"/recurrence/occurrence\"),this._validateInputDate(!1),this._validateArrayOfString(\"/recurrence/dates\"),this._validateArrayOfString(\"/recurrence/daysOfWeek\"),this._validateDayOfMonth(\"/recurrence/dayOfMonth\"),this._validateMaxOccurrence(\"/maxOccurrence\"),this.attachRequestCompleted(this._loadDataHandler,this)},library:\"sas.ev.shared\",metadata:{publicMethods:[\"loadScheduleTimeEvent\",\"isPermissionsValid\",\"save\",\"reset\",\"setMode\",\"getMode\",\"setHaveName\",\"getHaveName\"],events:{scheduleTimeEventSaved:{}}},bundleModule:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.model.ScheduleTimeEventModel\",sas.log.Level.DEBUG),oMetaModel:null,oInitialData:null,mode:n.ADD});return d.prototype._initMetaModel=function(){var a=this,n=[],o=\"sas.ev.shared.schedule.\",c=\"frequency.\",s=\".title.txt\";e.each(r.FREQUENCY,function(e,t){var r=o.concat(c).concat(t.toLowerCase()).concat(s),i=a.bundleModule.getText(r),u={};u.key=e,u.name=t,u.text=i,n.push(u)});var d=[],c=\"enabled.\",s=\".title.txt\";e.each(i.ENABLEDTYPE,function(e,t){var r=o.concat(c).concat(t).concat(s),n=a.bundleModule.getText(r),i={};i.key=0===e,i.name=t,i.text=n,d.push(i)});var c=\"weekdays.\",h=[],l=r.WEEKDAYS.slice(1),p=u.getLocalizedString(\"SharedResources\",\"firstDayOfWeek\"),g=parseInt(p);if(g>0){for(var v=l.slice(0),y=0;y<g;y++)v.push(v.shift());l=v}var f=r.WEEKDAYS.slice(0,1).concat(l);e.each(f,function(e,t){var r=o.concat(c).concat(t.toLowerCase()).concat(s),n=a.bundleModule.getText(r),i={};i.key=e,i.name=0===e?\"\":t,i.text=n,h.push(i)});var c=\"occurrences.\",S=[];e.each(r.OCCURRENCE,function(e,t){var r=o.concat(c).concat(t.toLowerCase()).concat(s),n=a.bundleModule.getText(r),i={};i.key=e,i.name=0===e?\"\":t,i.text=n,S.push(i)});var M=[],c=\"month.\",s=\".title.txt\";e.each(r.MONTHS,function(e,t){var r=o.concat(c).concat(t).concat(s),n=a.bundleModule.getText(r),i={};i.key=e,i.name=t,i.text=n,M.push(i)});var c=\"end.\",C=[];e.each(r.END,function(e,t){var r=o.concat(c).concat(t).concat(s),n=a.bundleModule.getText(r),i={};i.key=e,i.name=t,i.text=n,C.push(i)});var m=[];e.each(i.HOURLYNUMBERS,function(e,t){var r={};r.key=e,r.name=t,r.text=t,m.push(r)});var O=[];e.each(i.MINUTENUMBERS,function(e,t){var r={};r.key=e,r.name=t,r.text=t,O.push(r)});var c=\"occurrence.\",T=[];e.each(r.OCCURRENCES,function(e,t){var r=o.concat(c).concat(t).concat(s),n=a.bundleModule.getText(r),i={};i.key=e,i.name=t,i.text=n,T.push(i)});var _=[],D=sap.ui.getCore().getLibraryResourceBundle(\"sas.hc.ui.core\"),P=D.getText(\"timezone.ids.txt\"),x=D.getText(\"timezone.ids.notrans\"),E=P.split(\",\"),N=x.split(\",\");e.each(N,function(e,t){var r={};r.key=e,r.name=t,r.text=E[e],_.push(r)});var H={frequencyTypes:n,enabledTypes:d,weekDays:h,monthTypes:M,occurrencesTypes:S,endTypes:C,occurrenceTypes:T,timezoneTypes:_,hourlyNumbers:m,minuteNumbers:O,modelChanged:0,valueState:{},valueStateText:{}};null===this.oMetaModel?(this.oMetaModel=new t,this.oMetaModel.setSizeLimit(400),this.oMetaModel.setData(H,!1)):(this.oMetaModel.setSizeLimit(400),this.oMetaModel.setData(H,!1))},d.prototype.setChanged=function(e){var t=0;e&&(t=this.getMetaModel().getProperty(\"/modelChanged\")+1),this.getMetaModel().setProperty(\"/modelChanged\",t)},d.prototype._frequencyTypeChangeHandler=function(e){var t=e.getSource().getValue();this.setProperty(\"/recurrence/type\",t),this.setChanged(!0)},d.prototype._activeChangeHandler=function(t){var r=t.getSource().getValue();void 0!==r&&(this.setProperty(\"/active\",e.parseJSON(r)),this.setChanged(!0))},d.prototype._validateInputDate=function(e){var t=this,a=this.getProperty(\"/recurrence/startDate\")||\"\",n=this.getProperty(\"/recurrence/endDate\")||\"\",i=this.getProperty(\"/recurrence/endType\")||r.END[0],o=!1;if(i===r.END[2]){if(void 0!==e&&!0===e){if(0===n.trim().length){o=!1;var c=!0===o?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Warning,s=!0===o?\"\":t.bundleModule.getText(\"sas.ev.shared.schedule.enddate.required.txt\");t.getMetaModel().setProperty(\"/valueState/endDate\",c),t.getMetaModel().setProperty(\"/valueStateText/endDate\",s)}else if(a.trim().length>0&&n.trim().length>0){o=new Date(n)>=new Date(a);var c=!0===o?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error,s=!0===o?\"\":t.bundleModule.getText(\"sas.ev.shared.schedule.enddate.invalid.txt\");t.getMetaModel().setProperty(\"/valueState/endDate\",c),t.getMetaModel().setProperty(\"/valueStateText/endDate\",s),t.getMetaModel().setProperty(\"/valueState/startDate\",c),t.getMetaModel().setProperty(\"/valueStateText/startDate\",s)}}else if(0===n.trim().length){o=!0;var c=!0===o?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error,s=!0===o?\"\":t.bundleModule.getText(\"sas.ev.shared.schedule.enddate.required.txt\");t.getMetaModel().setProperty(\"/valueState/endDate\",c),t.getMetaModel().setProperty(\"/valueStateText/endDate\",s)}else if(a.trim().length>0&&n.trim().length>0){o=new Date(n)>=new Date(a);var c=!0===o?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error,s=!0===o?\"\":t.bundleModule.getText(\"sas.ev.shared.schedule.enddate.invalid.txt\");t.getMetaModel().setProperty(\"/valueState/endDate\",c),t.getMetaModel().setProperty(\"/valueStateText/endDate\",s),t.getMetaModel().setProperty(\"/valueState/startDate\",c),t.getMetaModel().setProperty(\"/valueStateText/startDate\",s)}}else{o=!0;var c=!0===o?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error,s=!0===o?\"\":t.bundleModule.getText(\"sas.ev.shared.schedule.enddate.invalid.txt\");t.getMetaModel().setProperty(\"/valueState/endDate\",c),t.getMetaModel().setProperty(\"/valueStateText/endDate\",s),t.getMetaModel().setProperty(\"/valueState/startDate\",c),t.getMetaModel().setProperty(\"/valueStateText/startDate\",s)}},d.prototype._validateInputString=function(e,t){var r=this;void 0===t&&(t=this.getProperty(e)||\"\");var a=!0;a=t.trim().length>0;var n=e.lastIndexOf(\"/\"),i=e.substring(n+1),o=!0===a?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error;r.getMetaModel().setProperty(\"/valueState/\".concat(i),o)},d.prototype._validateArrayOfString=function(e,t){var r=this;void 0===t&&(t=this.getProperty(e)||[]);var a=!0;a=void 0!==t&&t.length>0;var n=e.lastIndexOf(\"/\"),i=e.substring(n+1),o=!0===a?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error;r.getMetaModel().setProperty(\"/valueState/\".concat(i),o),this.setChanged(!0)},d.prototype._validateDayOfMonth=function(e,t){var a=this;void 0===t&&(t=this.getProperty(e)||0),t=parseInt(t);var n=!0,i=this.getProperty(\"/recurrence/type\");if(i===r.MONTHLY)n=void 0!==t&&(t>0||t<33);else if(i===r.YEARLY){var o=this.getProperty(\"/recurrence/monthOfYear\");void 0!==o&&o.length>0&&((o===r.MONTHS[0]||o===r.MONTHS[2]||o===r.MONTHS[4]||o===r.MONTHS[6]||o===r.MONTHS[7]||o===r.MONTHS[9]||o===r.MONTHS[11])&&t>32?n=!1:o!==r.MONTHS[3]&&o!==r.MONTHS[5]&&o!==r.MONTHS[8]&&o!==r.MONTHS[10]||!(31===t||t>32)||(n=!1),o===r.MONTHS[1]&&(30===t||31===t||t>32)&&(n=!1))}var c=e.lastIndexOf(\"/\"),s=e.substring(c+1),u=!0===n?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error;a.getMetaModel().setProperty(\"/valueState/\".concat(s),u),this.setChanged(!0)},d.prototype._validateHours=function(t,r){var a=this;void 0===r&&(r=this.getProperty(t)||\"\");var n=!0,i=[r];void 0!==r&&r.trim().length>0?(-1!==r.indexOf(\",\")&&(i=r.split(\",\")),-1!==r.indexOf(\"-\")&&(i=i.split(\"-\")),void 0!==i&&i.length>0?(e.each(i,function(e,t){\"*\"===t.trim()&&(i=i.splice(e,1))}),i.length>0&&e.each(i,function(e,t){var r=parseInt(t.trim());if(\"NaN\"===r||r>23||r<0)return n=!1,!1})):n=!1,n=!0):n=!1;var o=t.lastIndexOf(\"/\"),c=t.substring(o+1),s=!0===n?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error;a.getMetaModel().setProperty(\"/valueState/\".concat(c),s)},d.prototype._validateMinutes=function(t,r){var a=this;void 0===r&&(r=this.getProperty(t)||\"\");var n=!0,i=[r];void 0!==r&&r.trim().length>0?(-1!==r.indexOf(\",\")&&(i=r.split(\",\")),-1!==r.indexOf(\"-\")&&(i=i.split(\"-\")),void 0!==i&&i.length>0?(e.each(i,function(e,t){\"*\"===t.trim()&&(i=i.splice(e,1))}),i.length>0&&e.each(i,function(e,t){var r=parseInt(t.trim());if(\"NaN\"===intHours||r>59||r<0)return n=!1,!1})):n=!1,n=!0):n=!1;var o=t.lastIndexOf(\"/\"),c=t.substring(o+1),s=!0===n?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error;a.getMetaModel().setProperty(\"/valueState/\".concat(c),s)},d.prototype._validateMaxOccurrence=function(e,t){var a=this;void 0===t&&(t=this.getProperty(e)||-1);var n=!0;if(-1!==t){if(this.getProperty(\"/recurrence/type\")===r.WEEKLY){var i=this.getProperty(\"/recurrence/daysOfWeek\");void 0!==i&&i.length>t&&(n=!1)}}else{this.getProperty(\"/recurrence/endType\")===r.END[1]&&(n=!1)}var o=e.lastIndexOf(\"/\"),c=e.substring(o+1),s=!0===n?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error;a.getMetaModel().setProperty(\"/valueState/\".concat(c),s)},d.prototype._startChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(this.setProperty(\"/recurrence/startDate\",t),this._validateInputDate(!1),this.setChanged(!0))},d.prototype._endChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(this.setProperty(\"/recurrence/endDate\",t),this._validateInputDate(!0),this.setChanged(!0))},d.prototype._dayOfMonthChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(this.setProperty(\"/recurrence/dayOfMonth\",t),this._validateDayOfMonth(\"/recurrence/dayOfMonth\",t),t>0&&this.setProperty(\"/recurrence/occurrence\",\"\"),this.setChanged(!0))},d.prototype._occurrenceChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(this.setProperty(\"/recurrence/occurrence\",t),this.setChanged(!0))},d.prototype._skipCountChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(this.setProperty(\"/recurrence/skipCount\",t),this.setChanged(!0))},d.prototype._monthOfYearChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(this.setProperty(\"/recurrence/monthOfYear\",t),this._validateDayOfMonth(\"/recurrence/dayOfMonth\"),this.setChanged(!0))},d.prototype._daysOfWeekChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(this.setProperty(\"/recurrence/daysOfWeek\",t),this.setChanged(!0))},d.prototype._datesChangeHandler=function(e){var r=e.getSource().getValue();this.setProperty(\"/recurrence/dates\",r);var a={items:[]};if(void 0!==r&&r.length>0)for(var n=0;n<r.length;n++)a.items.push({value:r[n]});var i=sap.ui.getCore().getModel(\"sasev_scheduling_dateListModel\");void 0===i?(i=new t(a),sap.ui.getCore().setModel(i,\"sasev_scheduling_dateListModel\")):i.setData(a),this.setChanged(!0)},d.prototype._hoursChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(t=t.trim(),this.setProperty(\"/hours\",t),this._validateInputString(\"/hours\",t),this.setChanged(!0))},d.prototype._timeChangeHandler=function(e){var t=e.getSource().getValue();if(void 0!==t&&t.length>0){var r=t.length;t=t.trim();var a=t.substring(0,r),n=\"AM\";r>3&&(n=t.substring(r-2,r));var i=parseInt(a);\"PM\"===n.toUpperCase()&&(i+=12);var o=t.indexOf(\":\");if(o>0){var c=t.substring(o+1,o+3);this.setProperty(\"/minutes\",c)}var s=i.toString();this.setProperty(\"/hours\",s)}this.setChanged(!0)},d.prototype._minutesChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(t=t.trim(),this.setProperty(\"/minutes\",t),this._validateInputString(\"/minutes\",t),this.setChanged(!0))},d.prototype._durationChangeHandler=function(e){var t=e.getSource().getValue();this.setProperty(\"/duration\",t),this.setChanged(!0)},d.prototype._timezoneChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(t=t.trim(),this.setProperty(\"/timezone\",t),this.setChanged(!0))},d.prototype._maxOccurrenceChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&(this.setProperty(\"/maxOccurrence\",t),this.setChanged(!0))},d.prototype._hourSkipCountChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&!1===isNaN(t)&&(this.setProperty(\"/hourSkipCount\",t),this.setChanged(!0))},d.prototype._minuteSkipCountChangeHandler=function(e){var t=e.getSource().getValue();void 0!==t&&!1===isNaN(t)&&(this.setProperty(\"/minuteSkipCount\",t),this.setChanged(!0))},d.prototype._hoursCalculator=function(e,t){var r=[];0===e&&(e=1);var a=0;void 0!==t&&(t=parseInt(t));var n=0;if(e>1)if(e>t)a=t;else if(e===t)a=0;else for(a=t;a>e;)a-=e,n++;for(a;a<24;a+=e)r.push(a);if(n>0){for(var i=r.slice(0),o=0;o<n;o++)i.push(i.shift());r=i}return r.toString()},d.prototype._minutesCalculator=function(e){for(var t=[],r=parseInt(e),a=0;a<60;a+=r)t.push(a);return t.toString()},d.prototype.reset=function(){return this.setData(e.extend(!0,{},this.oInitialData)),this._initMetaModel(),this._validateInputString(\"/hours\"),this._validateInputString(\"/minutes\"),this._validateInputString(\"/recurrence/occurrence\"),this._validateArrayOfString(\"/recurrence/dates\"),this._validateArrayOfString(\"/recurrence/daysOfWeek\"),this._validateDayOfMonth(\"/recurrence/dayOfMonth\"),this._validateMaxOccurrence(\"/maxOccurrence\"),this._validateInputDate(!1),this},d.prototype.getMetaModel=function(){return this.oMetaModel},d.prototype.loadScheduleTimeEvent=function(e){if(void 0!==e&&void 0!==e.recurrence&&(void 0!==e.recurrence.endDate&&e.recurrence.endDate.length>0?e.recurrence.endType=r.END[2]:void 0!==e.maxOccurrence&&e.maxOccurrence>0?e.recurrence.endType=r.END[1]:e.recurrence.endType=r.END[0]),void 0!==e&&void 0!==e.recurrence&&(void 0!==e.recurrence.occurrence&&e.recurrence.occurrence.length>0?e.recurrence.occurrenceType=r.OCCURRENCES[2]:void 0!==e.recurrence.dayOfMonth&&(32===e.recurrence.dayOfMonth?e.recurrence.occurrenceType=r.OCCURRENCES[1]:e.recurrence.occurrenceType=r.OCCURRENCES[0])),void 0!==e.recurrence.type)if(e.recurrence.type===r.MINUTELY){var t=e.hours,a=e.minutes;if(void 0!==t&&-1!==t.indexOf(\",\")){var n=t.split(\",\");t=n[0]}e.minuteSkipCount=e.recurrence.skipCount,e.hours=t,e.minutes=\"0\"}else if(e.recurrence.type===r.HOURLY){var t=e.hours,a=e.minutes;if(void 0!==t&&-1!==t.indexOf(\",\")){var n=t.split(\",\");t=n[0]}if(void 0!==a&&-1!==a.indexOf(\",\")){var i=a.split(\",\");a=i[0]}e.hourSkipCount=e.recurrence.skipCount,e.hours=t,e.minutes=a}return this.setData(e,!1),void 0!==e&&void 0!==e.recurrence&&(e.recurrence.type===r.DATELIST?this._validateArrayOfString(\"/recurrence/dates\"):e.recurrence.type!==r.MONTHLY&&e.recurrence.type!==r.YEARLY||e.recurrence.occurrenceType!==r.OCCURRENCES[2]?e.recurrence.type===r.WEEKLY&&(e.recurrence.endType===r.END[1]?(this._validateMaxOccurrence(\"/maxOccurrence\"),this._validateArrayOfString(\"/recurrence/daysOfWeek\")):this._validateArrayOfString(\"/recurrence/daysOfWeek\")):(this._validateInputString(\"/recurrence/occurrence\"),this._validateArrayOfString(\"/recurrence/daysOfWeek\"))),this._loadDataHandler(),this},d.prototype.cleanScheduleTimeEvent=function(e){switch(e.recurrence.type){case r.MINUTELY:case r.HOURLY:case r.DAILY:void 0!==e.recurrence.daysOfWeek&&e.recurrence.daysOfWeek.length>0&&(e.recurrence.daysOfWeek=[]),void 0!==e.recurrence.dates&&e.recurrence.dates.length>0&&(e.recurrence.dates=[]),void 0!==e.recurrence.monthOfYear&&e.recurrence.monthOfYear.length>0&&(e.recurrence.monthOfYear=\"\"),void 0!==e.recurrence.occurrence&&e.recurrence.occurrence.length>0&&(e.recurrence.occurrence=\"\");break;case r.WEEKLY:void 0!==e.recurrence.dates&&e.recurrence.dates.length>0&&(e.recurrence.dates=[]),void 0!==e.recurrence.monthOfYear&&e.recurrence.monthOfYear.length>0&&(e.recurrence.monthOfYear=\"\"),void 0!==e.recurrence.occurrence&&e.recurrence.occurrence.length>0&&(e.recurrence.occurrence=\"\");break;case r.MONTHLY:void 0!==e.recurrence.dates&&e.recurrence.dates.length>0&&(e.recurrence.dates=[]),void 0!==e.recurrence.monthOfYear&&e.recurrence.monthOfYear.length>0&&(e.recurrence.monthOfYear=\"\");break;case r.YEARLY:void 0!==e.recurrence.dates&&e.recurrence.dates.length>0&&(e.recurrence.dates=[]);break;case r.DATELIST:void 0!==e.recurrence.daysOfWeek&&e.recurrence.daysOfWeek.length>0&&(e.recurrence.daysOfWeek=[]),void 0!==e.recurrence.monthOfYear&&e.recurrence.monthOfYear.length>0&&(e.recurrence.monthOfYear=\"\"),void 0!==e.recurrence.occurrence&&e.recurrence.occurrence.length>0&&(e.recurrence.occurrence=\"\")}for(var t in e)if(\"recurrence\"===t)for(var t in e.recurrence){var a=e.recurrence[t];switch(Object.prototype.toString.call(a)){case\"[object String]\":void 0!==a&&0===a.length&&delete e.recurrence[t];case\"[object Number]\":void 0!==a&&0===a&&delete e.recurrence[t];case\"[object Array]\":void 0!==a&&0===a.length&&delete e.recurrence[t]}}return e},d.prototype.save=function(){var t=this,a=e.Deferred(),n=this.getData();if(void 0!==n.recurrence.type&&n.recurrence.type===r.HOURLY){var i=n.hourSkipCount||\"1\",o=parseInt(i);n.recurrence.skipCount=o}else if(void 0!==n.recurrence.type&&n.recurrence.type===r.MINUTELY){var c=n.minuteSkipCount||\"5\";n.recurrence.skipCount=parseInt(c),n.minutes=\"0\"}void 0===n.recurrence.type||n.recurrence.type!==r.MONTHLY&&n.recurrence.type!==r.YEARLY||n.recurrence.occurrenceType!==r.OCCURRENCES[1]||(n.recurrence.dayOfMonth=32),delete n.hourSkipCount,delete n.minuteSkipCount,delete n.recurrence.endType,delete n.recurrence.occurrenceType,n=t.cleanScheduleTimeEvent(n);var s={action:t.getMode(),result:\"success\",content:n};return a.resolve(s),a},d.prototype._updateScheduleTimeEvent=function(){var e=this.getProperty(\"/links\");if(o.isRelation(\"update\",e)){var t={data:JSON.stringify(this.getData()),headers:{accept:\"application/vnd.sas.schedule.flow+json;version=1\",\"content-type\":\"application/vnd.sas.schedule.flow+json;version=1\"}};return new s(\"updateScheduleTimeEventBusyDialog\").open(),o.ajaxLink(\"update\",e,t).always(function(){var e=sap.ui.getCore().byId(\"updateScheduleTimeEventBusyDialog\");e.close(),e.destroy()})}},d.prototype._loadDataHandler=function(){this.oInitialData=e.extend(!0,{},this.getData()),this.getMetaModel().setProperty(\"/modelChanged\",0)},d.prototype.setMode=function(e){this.mode=e.toUpperCase()},d.prototype.getMode=function(){return this.mode},d});",
	"sas/ev/shared/schedule/ScheduleTimeEventForm.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"sap/ui/thirdparty/jquery\",\"sap/ui/core/Control\",\"sas/ev/shared/schedule/model/ScheduleTimeEventModel\",\"sas/ev/shared/schedule/enums/Recurrence\",\"sas/ev/shared/schedule/enums/SchedulerType\",\"sas/ev/shared/schedule/enums/ModeType\",\"sas/ev/shared/schedule/enums/Variable\",\"sas/ev/shared/Utils\",\"sap/ui/commons/HorizontalDivider\",\"sas/hc/m/MessageDialog\",\"sas/hc/m/Text\",\"sas/hc/m/Button\",\"sas/hc/m/Label\",\"sas/hc/m/Select\",\"sas/hc/ui/core/Item\",\"sas/hc/m/NumericStepper\",\"sap/ui/model/type/Integer\",\"sas/hc/m/FlexItemData\",\"sas/hc/m/HBox\",\"sas/hc/m/CheckBox\",\"sap/ui/model/json/JSONModel\",\"sas/hc/m/DatePicker\",\"sas/hc/ui/layout/SplitterLayoutData\",\"sas/hc/m/ToolbarSpacer\",\"sas/hc/m/ResponsiveToolbar\",\"sas/hc/ui/table/Table\",\"sas/hc/ui/table/Column\",\"sas/hc/m/VBox\",\"sas/hc/m/TimePicker\",\"sas/hc/ui/table/library\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sas/hc/m/library\",\"sap/m/library\",\"sas/hc/ui/core/theme/IconInitialization\",\"sap/ui/core/library\"],function(e,t,r,a,n,s,o,i,c,d,u,l,h,p,y,g,v,m,f,b,M,x,E,w,L,Y,O,P,T,S){\"use strict\";var D=t.extend(\"sas.ev.shared.schedule.ScheduleTimeEventForm\",{metadata:{properties:{},aggregations:{_form:{type:\"sas.hc.m.VBox\",multiple:!1,visibility:\"hidden\"}},publicMethods:[\"getScheduleTimeEventsModel\",\"saveScheduleTimeEvent\",\"reset\"],events:{valueStateChanged:{}},associations:{},library:\"sas.ev.shared\"},rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.ScheduleTimeEventForm\",sas.log.Level.DEBUG),init:function(){var t=this,n=new Date,s=n.toISOString().substring(0,10),o=new r,S=o.getMetaModel(),D=new h({text:t.rb.getText(\"sas.ev.shared.schedule.frequency.label.txt\")}),A=new p({selectedKey:\"{/recurrence/type}\",items:{path:\"metaModel>/frequencyTypes\",template:new y({text:\"{metaModel>text}\",key:\"{metaModel>name}\"})},change:function(e){var t=e.getSource().getSelectedKey();this.getModel().setProperty(\"/recurrence/type\",t),t===a.DAILY?this.getModel().setProperty(\"/recurrence/skipCount\",1):t===a.WEEKLY?(this.getModel().setProperty(\"/recurrence/skipCount\",1),this.getModel().setProperty(\"/recurrence/daysOfWeek\",[]),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\"),this.getModel()._validateMaxOccurrence(\"/maxOccurrence\")):t===a.MONTHLY?(this.getModel().setProperty(\"/recurrence/skipCount\",1),this.getModel().setProperty(\"/recurrence/daysOfWeek\",[]),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\"),this.getModel()._validateInputString(\"/recurrence/occurrence\"),this.getModel()._validateDayOfMonth(\"/recurrence/dayOfMonth\")):t===a.YEARLY&&(this.getModel().setProperty(\"/recurrence/skipCount\",1),this.getModel().setProperty(\"/recurrence/daysOfWeek\",[]),this.getModel()._validateInputString(\"/recurrence/occurrence\"),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\"),this.getModel()._validateDayOfMonth(\"/recurrence/dayOfMonth\")),this.getModel().setChanged(!0)}});D.setLabelFor(A);var C=new h({text:t.rb.getText(\"sas.ev.shared.schedule.interval.label.txt\")}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}}),W=new g({stepSize:1,value:{path:\"/recurrence/skipCount\",type:new v({groupingEnabled:!0},{minimum:1,maximum:999})}}),k=new u({}).bindProperty(\"text\",{path:\"/recurrence/type\",layoutData:new m({growFactor:1}),formatter:function(e){if(void 0===e||e!==a.DAILY&&e!==a.WEEKLY&&e!==a.MONTHLY&&e!==a.YEARLY)return\"\";var r=\"sas.ev.shared.schedule.\",n=r.concat(e).concat(\".title.txt\");return t.rb.getText(n)}});C.setLabelFor(W);var N=new f({alignItems:sap.m.FlexAlignItems.Center,items:[W,k]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}}),_=new m({growFactor:1});N.setLayoutData(_);var I=new f({items:[D,A,C,N],alignItems:sap.m.FlexAlignItems.Center}),K=new m({growFactor:1});I.setLayoutData(K);var R=new g({stepSize:1,value:{path:\"/recurrence/dayOfMonth\",type:new v({groupingEnabled:!0},{minimum:1,maximum:31})},change:function(e){var t=e.getParameter(\"newValue\");this.getModel().setProperty(\"/recurrence/dayOfMonth\",t),this.getModel().setChanged(!0)}}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"},{path:\"/recurrence/occurrenceType\"}],formatter:function(e,t){return void 0!==t&&t===a.OCCURRENCES[0]&&void 0!==e&&(e===a.MONTHLY||e===a.YEARLY)}}),H=new p({selectedKey:\"{/recurrence/occurrence}\",maxWidth:\"100%\",layoutData:new m({growFactor:1}),items:{path:\"metaModel>/occurrencesTypes\",template:new y({text:\"{metaModel>text}\",key:\"{metaModel>name}\"})},change:function(e){var t=e.getSource().getSelectedKey();this.getModel().setProperty(\"/recurrence/occurrence\",t),this.getModel()._validateInputString(\"/recurrence/occurrence\",t),this.getModel().setChanged(!0)}}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"},{path:\"/recurrence/occurrenceType\"}],formatter:function(e,t){return void 0!==t&&t===a.OCCURRENCES[2]&&void 0!==e&&(e===a.MONTHLY||e===a.YEARLY)}}),F=new p({selectedKey:\"{/recurrence/daysOfWeek/0}\",maxWidth:\"100%\",layoutData:new m({growFactor:1}),items:{path:\"metaModel>/weekDays\",template:new y({text:\"{metaModel>text}\",key:\"{metaModel>name}\"})},change:function(e){var t=e.getSource().getSelectedKey(),r=\"\"===t?[]:[t];this.getModel().setProperty(\"/recurrence/daysOfWeek\",r),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\",r),this.getModel().setChanged(!0)}}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"},{path:\"/recurrence/occurrenceType\"}],formatter:function(e,t){return void 0!==t&&t===a.OCCURRENCES[2]&&void 0!==e&&(e===a.MONTHLY||e===a.YEARLY)}}),U=new h({text:t.rb.getText(\"sas.ev.shared.schedule.occurrence.label.txt\")}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.MONTHLY||e===a.YEARLY)}}),V=new p({selectedKey:\"{/recurrence/occurrenceType}\",items:{path:\"metaModel>/occurrenceTypes\",template:new y({text:\"{metaModel>text}\",key:\"{metaModel>name}\"})},change:function(e){var t=e.getSource().getSelectedKey();t===a.OCCURRENCES[0]?(this.getModel().setProperty(\"/recurrence/occurrence\",\"\"),this.getModel().setProperty(\"/recurrence/dayOfMonth\",1)):t===a.OCCURRENCES[1]?this.getModel().setProperty(\"/recurrence/dayOfMonth\",0):t===a.OCCURRENCES[2]&&(this.getModel().setProperty(\"/recurrence/dayOfMonth\",0),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\"),this.getModel()._validateInputString(\"/recurrence/occurrence\")),this.getModel().setProperty(\"/recurrence/occurrenceType\",t),this.getModel().setChanged(!0)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.MONTHLY||e===a.YEARLY)}});U.setLabelFor(V);var q=new f({items:[R,H]}),z=new m({growFactor:1});q.setLayoutData(z);var B=new f({items:[U,V,q,F]}).addStyleClass(\"sasEvOccurrencelayout\"),j=new m({growFactor:1});B.setLayoutData(j);var G=new h({text:t.rb.getText(\"sas.ev.shared.schedule.on.label.txt\")}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.WEEKLY}}),J=new b({text:t.rb.getText(\"sas.ev.shared.schedule.weekdays.monday.title.txt\"),select:function(e){var r=o.getProperty(\"/recurrence/daysOfWeek\");void 0===r&&(r=[]);var n=r.indexOf(a.WEEKDAYS[2]);!0===this.getSelected()?-1===n&&r.push(a.WEEKDAYS[2]):-1!==n&&r.splice(n,1),o.setProperty(\"/recurrence/daysOfWeek\",r),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\",r);var s=o.getProperty(\"/recurrence/endType\");void 0!==s&&s===a.END[1]&&this.getModel()._validateMaxOccurrence(\"/maxOccurrence\"),t._setModelChanged(e)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return e===a.WEEKLY}}).bindProperty(\"selected\",{path:\"/recurrence/daysOfWeek\",formatter:function(e){return void 0!==e&&-1!==e.indexOf(a.WEEKDAYS[2])}}),Q=new b({text:t.rb.getText(\"sas.ev.shared.schedule.weekdays.tuesday.title.txt\"),select:function(e){var r=o.getProperty(\"/recurrence/daysOfWeek\");void 0===r&&(r=[]);var n=r.indexOf(a.WEEKDAYS[3]);!0===this.getSelected()?-1===n&&r.push(a.WEEKDAYS[3]):-1!==n&&r.splice(n,1),o.setProperty(\"/recurrence/daysOfWeek\",r),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\",r);var s=o.getProperty(\"/recurrence/endType\");void 0!==s&&s===a.END[1]&&this.getModel()._validateMaxOccurrence(\"/maxOccurrence\"),t._setModelChanged(e)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.WEEKLY}}).bindProperty(\"selected\",{path:\"/recurrence/daysOfWeek\",formatter:function(e){return void 0!==e&&-1!==e.indexOf(a.WEEKDAYS[3])}}),X=new b({text:t.rb.getText(\"sas.ev.shared.schedule.weekdays.wednesday.title.txt\"),select:function(e){var r=o.getProperty(\"/recurrence/daysOfWeek\");void 0===r&&(r=[]);var n=r.indexOf(a.WEEKDAYS[4]);!0===this.getSelected()?-1===n&&r.push(a.WEEKDAYS[4]):-1!==n&&r.splice(n,1),o.setProperty(\"/recurrence/daysOfWeek\",r),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\",r);var s=o.getProperty(\"/recurrence/endType\");void 0!==s&&s===a.END[1]&&this.getModel()._validateMaxOccurrence(\"/maxOccurrence\"),t._setModelChanged(e)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.WEEKLY}}).bindProperty(\"selected\",{path:\"/recurrence/daysOfWeek\",formatter:function(e){return void 0!==e&&-1!==e.indexOf(a.WEEKDAYS[4])}}),Z=new b({text:t.rb.getText(\"sas.ev.shared.schedule.weekdays.thursday.title.txt\"),select:function(e){var r=o.getProperty(\"/recurrence/daysOfWeek\");void 0===r&&(r=[]);var n=r.indexOf(a.WEEKDAYS[5]);!0===this.getSelected()?-1===n&&r.push(a.WEEKDAYS[5]):-1!==n&&r.splice(n,1),o.setProperty(\"/recurrence/daysOfWeek\",r),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\",r);var s=o.getProperty(\"/recurrence/endType\");void 0!==s&&s===a.END[1]&&this.getModel()._validateMaxOccurrence(\"/maxOccurrence\"),t._setModelChanged(e)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.WEEKLY}}).bindProperty(\"selected\",{path:\"/recurrence/daysOfWeek\",formatter:function(e){return void 0!==e&&-1!==e.indexOf(a.WEEKDAYS[5])}}),$=new b({text:t.rb.getText(\"sas.ev.shared.schedule.weekdays.friday.title.txt\"),select:function(e){var r=o.getProperty(\"/recurrence/daysOfWeek\");void 0===r&&(r=[]);var n=r.indexOf(a.WEEKDAYS[6]);!0===this.getSelected()?-1===n&&r.push(a.WEEKDAYS[6]):-1!==n&&r.splice(n,1),o.setProperty(\"/recurrence/daysOfWeek\",r),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\",r);var s=o.getProperty(\"/recurrence/endType\");void 0!==s&&s===a.END[1]&&this.getModel()._validateMaxOccurrence(\"/maxOccurrence\"),t._setModelChanged(e)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.WEEKLY}}).bindProperty(\"selected\",{path:\"/recurrence/daysOfWeek\",formatter:function(e){return void 0!==e&&-1!==e.indexOf(a.WEEKDAYS[6])}}),ee=new b({text:t.rb.getText(\"sas.ev.shared.schedule.weekdays.saturday.title.txt\"),select:function(e){var r=o.getProperty(\"/recurrence/daysOfWeek\");void 0===r&&(r=[]);var n=r.indexOf(a.WEEKDAYS[7]);!0===this.getSelected()?-1===n&&r.push(a.WEEKDAYS[7]):-1!==n&&r.splice(n,1),o.setProperty(\"/recurrence/daysOfWeek\",r),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\",r);var s=o.getProperty(\"/recurrence/endType\");void 0!==s&&s===a.END[1]&&this.getModel()._validateMaxOccurrence(\"/maxOccurrence\"),t._setModelChanged(e)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.WEEKLY}}).bindProperty(\"selected\",{path:\"/recurrence/daysOfWeek\",formatter:function(e){return void 0!==e&&-1!==e.indexOf(a.WEEKDAYS[7])}}),te=new b({text:t.rb.getText(\"sas.ev.shared.schedule.weekdays.sunday.title.txt\"),select:function(e){var r=o.getProperty(\"/recurrence/daysOfWeek\");void 0===r&&(r=[]);var n=r.indexOf(a.WEEKDAYS[1]);!0===this.getSelected()?-1===n&&r.push(a.WEEKDAYS[1]):-1!==n&&r.splice(n,1),o.setProperty(\"/recurrence/daysOfWeek\",r),this.getModel()._validateArrayOfString(\"/recurrence/daysOfWeek\",r);var s=o.getProperty(\"/recurrence/endType\");void 0!==s&&s===a.END[1]&&this.getModel()._validateMaxOccurrence(\"/maxOccurrence\"),t._setModelChanged(e)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.WEEKLY}}).bindProperty(\"selected\",{path:\"/recurrence/daysOfWeek\",formatter:function(e){return void 0!==e&&-1!==e.indexOf(a.WEEKDAYS[1])}}),re=new f({items:[J,Q,X,Z,$,ee,te]}).addStyleClass(\"evWeekCheckBox\"),ae=new m({growFactor:1});re.setLayoutData(ae);var ne=new f({items:[G,re]}).addStyleClass(\"evWeeklyLayout\"),se=new m({growFactor:1});ne.setLayoutData(se);var oe=new p({selectedKey:\"{/recurrence/monthOfYear}\",items:{path:\"metaModel>/monthTypes\",template:new y({text:\"{metaModel>text}\",key:\"{metaModel>name}\"})}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.YEARLY}}),ie=new h({text:t.rb.getText(\"sas.ev.shared.schedule.on.label.txt\")}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.YEARLY}});ie.setLabelFor(oe);var ce=new f({items:[ie,oe]}),de=new m({growFactor:1});ce.setLayoutData(de);var ue=o.getProperty(\"/recurrence/dates\"),le={items:[]};if(void 0!==ue&&ue.length>0)for(var he=0;he<ue.length;he++)le.items.push({value:ue[he]});var pe=sap.ui.getCore().getModel(\"sasev_scheduling_dateListModel\");void 0===pe?(pe=new M(le),sap.ui.getCore().setModel(pe,\"sasev_scheduling_dateListModel\")):pe.setData(le);var ye=new x({valueFormat:\"yyyy-MM-dd\",value:s,width:\"auto\",disablePastDates:!0,tooltip:t.rb.getText(\"sas.ev.shared.schedule.add.date.select.title.txt\"),change:function(e){ge.setEnabled(!0)}}),ge=new l({icon:sas.icons.HC.ADD,enabled:!0,layoutData:new m({alignSelf:\"Center\"}),tooltip:t.rb.getText(\"sas.ev.shared.schedule.add.date.title.txt\"),press:function(){var r=ye.getValue();if(void 0!==r&&r.length>0){var a=!1,n=o.getProperty(\"/recurrence/dates\");if(void 0!==n&&n.length>0?a=-1===n.indexOf(r):(n=[],a=!0),!0===a){n.push(r),o.setProperty(\"/recurrence/dates\",n);var s={value:r},c=sap.ui.getCore().getModel(\"sasev_scheduling_dateListModel\"),u=c.getData(),l=u.items,h=!1;void 0!==l&&l.length>0&&e.each(l,function(e,t){if(t.value===r)return h=!0,!1}),!1===h&&(l.push(s),u.items=l,c.setData(u));var p=c.getData().items.length-1,y=sap.ui.getCore().byId(t.getId()+\"sasev_scheduling_dateList\");y.setFirstVisibleRow(p),y.setSelectedIndex(p),y.focus(),o._validateArrayOfString(\"/recurrence/dates\",n)}else d.error({text:t.rb.getText(\"sas.ev.shared.schedule.date.exist.warning.message.txt\"),title:i.getAppName(),buttonActions:[{text:sas.hc.m.MessageDialogAction.Close,initialFocus:!0,defaultButton:!0}]})}else d.error({text:t.rb.getText(\"sas.ev.shared.schedule.select.date.warning.message.txt\"),title:i.getAppName(),buttonActions:[{text:sas.hc.m.MessageDialogAction.Close,initialFocus:!0,defaultButton:!0}]}),ge.setEnabled(!1);this.getModel().setChanged(!0)}}),ve=new l({enabled:!1,icon:sas.icons.HC.DELETE,tooltip:t.rb.getText(\"sas.ev.shared.schedule.remove.date.title.txt\"),press:function(){var r=sap.ui.getCore().byId(t.getId()+\"sasev_scheduling_dateList\"),a=r.getModel(\"sasev_scheduling_dateListModel\"),n=r.getSelectedIndices();if(void 0!==n&&n.length>0){var s=o.getProperty(\"/recurrence/dates\"),c=a.getData(),u=c.items;ve.setEnabled(!1);var l=[];e.each(n,function(e,t){var r=u[t];l.push(r)}),e.each(l,function(e,t){var r=s.indexOf(t.value);s.splice(r,1);var a=u.indexOf(t);u.splice(a,1)}),o.setProperty(\"/recurrence/dates\",s),c.items=u,a.setData(c),r.clearSelection(),ge.setEnabled(!0),o._validateArrayOfString(\"/recurrence/dates\",s)}else d.error({text:t.rb.getText(\"sas.ev.shared.schedule.select.item.delete.txt\"),title:i.getAppName(),buttonActions:[{text:sas.hc.m.MessageDialogAction.Close,initialFocus:!0,defaultButton:!0}]});this.getModel().setChanged(!0)}}),me=new h({text:t.rb.getText(\"sas.ev.shared.schedule.date.label.txt\")}),fe=new f({items:[ye,ge]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return e===a.DATELIST}}).addStyleClass(\"evScheduleDatePickerLayout\"),be=new m({growFactor:1});fe.setLayoutData(be);var Me=new f({items:[me,fe]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return e===a.DATELIST}}).addStyleClass(\"evScheduleDateLayout\"),be=new m({growFactor:1});Me.setLayoutData(be);var xe=new h({text:t.rb.getText(\"sas.ev.shared.schedule.dates.label.txt\"),required:!0}),Ee=new E({size:\"auto\"}),we=new w,Le=new L({layoutData:Ee,content:[xe,we,ve]}),Ye=new Y({id:t.getId()+\"sasev_scheduling_dateList\",width:\"auto\",columnHeaderVisible:!0,enableColumnFreeze:!1,editable:!0,showTableOptions:!1,layoutData:new m({growFactor:1}),visibleRowCount:4,noData:t.rb.getText(\"sas.ev.shared.schedule.dates.zeroStateBox.txt\"),selectionMode:sas.hc.ui.table.SelectionMode.MultiToggle});Ye.attachRowSelectionChange(function(e){var t=Ye.getSelectedIndices();void 0!==t&&t.length>0?ve.setEnabled(!0):ve.setEnabled(!1)});var Oe=new u({wrapping:!1,width:\"100%\",text:{path:\"value\",formatter:function(e){return e?ye&&ye._parseValue&&ye._formatValue?ye._formatValue(ye._parseValue(e)):e:\"\"}},tooltip:{path:\"value\",formatter:function(e){return e?ye&&ye._parseValue&&ye._formatValue?ye._formatValue(ye._parseValue(e)):e:\"\"}},textAlign:\"Left\"});Ye.addColumn(new O({label:t.rb.getText(\"sas.ev.shared.schedule.date.title.txt\"),template:Oe,sortProperty:\"value\"})),Ye.setModel(pe),Ye.bindRows(\"/items\");var Pe=new P({width:\"100%\",items:[Le,Ye]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return e===a.DATELIST}}),Te=new f({items:[Pe]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return e===a.DATELIST}}).addStyleClass(\"evDatelistLayout\"),Se=new m({growFactor:1});Te.setLayoutData(Se);var De=new h({text:t.rb.getText(\"sas.ev.shared.schedule.every.label.txt\"),required:!1}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.HOURLY}}),Ae=new h({text:t.rb.getText(\"sas.ev.shared.schedule.hours.title.txt\"),required:!1}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.HOURLY}}),Ce=new h({text:t.rb.getText(\"sas.ev.shared.schedule.every.label.txt\"),required:!1}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.MINUTELY}}),We=new h({text:t.rb.getText(\"sas.ev.shared.schedule.minutes.title.txt\"),required:!1}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.MINUTELY}}),ke=new h({text:t.rb.getText(\"sas.ev.shared.schedule.starttime.label.txt\"),required:!1}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"}],formatter:function(e){return void 0!==e&&e===a.HOURLY}}),Ne=new h({text:t.rb.getText(\"sas.ev.shared.schedule.starttime.label.txt\"),required:!1}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"}],formatter:function(e){return void 0!==e&&e===a.MINUTELY}}),_e=new p({selectedKey:\"{/hourSkipCount}\",width:\"72px\",items:{path:\"metaModel>/hourlyNumbers\",template:new y({text:\"{metaModel>text}\",key:\"{metaModel>name}\"})},change:function(e){var t=e.getSource().getSelectedKey();this.getModel().setProperty(\"/hourSkipCount\",t),this.getModel().setChanged(!0)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.HOURLY}}),Ie=new f({items:[_e,Ae]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.HOURLY}}),Ke=new m({growFactor:1});Ie.setLayoutData(Ke);var Re=new p({selectedKey:\"{/minuteSkipCount}\",width:\"72px\",items:{path:\"metaModel>/minuteNumbers\",template:new y({text:\"{metaModel>text}\",key:\"{metaModel>name}\"})},change:function(e){var t=e.getSource().getSelectedKey();this.getModel().setProperty(\"/minuteSkipCount\",t),this.getModel().setChanged(!0)}}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"}],formatter:function(e){return void 0!==e&&e===a.MINUTELY}}),He=new f({items:[Re,We]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.MINUTELY}}),Fe=new m({growFactor:1});He.setLayoutData(Fe);var Ue=new f({items:[De,Ie]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.HOURLY}}).addStyleClass(\"evHourlyLayout\"),Ve=new m({growFactor:1});Ue.setLayoutData(Ve);var qe=new f({items:[Ce,He]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.MINUTELY}}).addStyleClass(\"evHourlyLayout\"),ze=new m({growFactor:1});qe.setLayoutData(ze);var Be=new T({valueFormat:\"HH:mm\",displayFormat:\"HH:mm\",tooltip:t.rb.getText(\"sas.ev.shared.schedule.hours.info.txt\"),change:function(e){var t=e.getParameters().value,r=this.getModel().getProperty(\"/recurrence/type\");if(void 0!==r&&r===a.HOURLY){var n=t.indexOf(\":\"),s=t.substring(0,n),o=t.substring(n+1,n+3);this.getModel().setProperty(\"/hours\",s),this.getModel().setProperty(\"/minutes\",o)}this.getModel().setChanged(!0)}}).bindProperty(\"value\",{parts:[{path:\"/hours\"},{path:\"/minutes\"},{path:\"/recurrence/type\"}],formatter:function(e,t,r){if(r===a.HOURLY){if(void 0!==e&&e.length>0){var n=e.split(\",\");if(n.length>1&&(e=\"*\"!==n[0]?n[0]:n[1],this.getModel().setProperty(\"/hours\",e)),void 0!==t&&t.length>0){var s=t.split(\",\");return s.length>1&&(t=\"*\"!==s[0]?n[0]:n[1],this.getModel().setProperty(\"/minutes\",t)),e.concat(\":\").concat(t)}return e}return\"\"}}}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"}],formatter:function(e){return void 0!==e&&e===a.HOURLY}}),je=new T({valueFormat:\"HH\",displayFormat:\"HH\",tooltip:t.rb.getText(\"sas.ev.shared.schedule.hours.info.txt\"),change:function(e){var t=e.getParameters().value,r=this.getModel().getProperty(\"/recurrence/type\");void 0!==r&&r===a.MINUTELY&&(this.getModel().setProperty(\"/hours\",t),this.getModel().setProperty(\"/minutes\",\"0\")),this.getModel().setChanged(!0)}}).bindProperty(\"value\",{parts:[{path:\"/hours\"},{path:\"/minutes\"},{path:\"/recurrence/type\"}],formatter:function(e,t,r){if(r===a.MINUTELY){if(void 0!==e&&e.length>0){var n=e.split(\",\");return n.length>1&&(e=\"*\"!==n[0]?n[0]:n[1]),this.getModel().setProperty(\"/hours\",e),e}return\"\"}}}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"}],formatter:function(e){return void 0!==e&&e===a.MINUTELY}}),Ge=new f({items:[ke,Be]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.HOURLY}}),Je=new m({growFactor:1});Ge.setLayoutData(Je);var Qe=new f({items:[Ne,je]}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&e===a.MINUTELY}}),Xe=new m({growFactor:1});Qe.setLayoutData(Xe);var Ze=new h({text:t.rb.getText(\"sas.ev.shared.schedule.time.label.txt\"),required:!0}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY||e===a.DATELIST)}}),$e=new T({valueFormat:\"HH:mm\",displayFormat:\"HH:mm\",tooltip:t.rb.getText(\"sas.ev.shared.schedule.hours.info.txt\"),change:function(e){var t=e.getParameters().value,r=t.indexOf(\":\"),a=t.substring(0,r),n=t.substring(r+1,r+3);this.getModel().setProperty(\"/hours\",a),this.getModel().setProperty(\"/minutes\",n),this.getModel().setChanged(!0)}}).bindProperty(\"value\",{parts:[{path:\"/hours\"},{path:\"/minutes\"},{path:\"/recurrence/type\"}],formatter:function(e,t,r){if(r!==a.HOURLY){if(!(void 0!==e&&e.length>0))return\"\";var n=e.split(\",\");if(n.length>1&&(e=\"*\"!==n[0]?n[0]:n[1],this.getModel().setProperty(\"/hours\",e)),\"*\"!==e){var s=parseInt(e);if(void 0!==t&&t.length>0){var o=t.split(\",\");return o.length>1&&(t=\"*\"!==o[0]?n[0]:n[1],this.getModel().setProperty(\"/minutes\",t)),s.toString().concat(\":\").concat(t)}return s.toString()}}}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY||e===a.DATELIST)}});Ze.setLabelFor($e);var et=new f({items:[Ze,$e]}),tt=new m({growFactor:1});et.setLayoutData(tt);var rt=new h({text:t.rb.getText(\"sas.ev.shared.schedule.timezone.label.txt\"),helpLibrary:\"sas.ev.shared\",helpKey:\"sasevtimezone\",helpVisible:!0}),at=new p({selectedKey:\"{/timezone}\",tooltip:t.rb.getText(\"sas.ev.shared.schedule.timezone.info.txt\"),items:{path:\"metaModel>/timezoneTypes\",template:new y({text:\"{metaModel>text}\",key:\"{metaModel>name}\"})},change:function(e){var t=e.getSource().getSelectedKey();this.getModel().setProperty(\"/timezone\",t),this.getModel().setChanged(!0)}});rt.setLabelFor(at);var nt=new f({items:[rt,at]}),st=new m({growFactor:1});nt.setLayoutData(st);var ot=new h({text:t.rb.getText(\"sas.ev.shared.schedule.starts.date.label.txt\"),required:!1}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.MINUTELY||e===a.HOURLY||e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}}),it=new x({value:{path:\"/recurrence/startDate\"},tooltip:t.rb.getText(\"sas.ev.shared.schedule.startdate.info.txt\"),disablePastDates:!0,valueFormat:\"yyyy-MM-dd\",width:\"auto\"}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.HOURLY||e===a.MINUTELY||e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}}),ct=new f({items:[ot,it]}),dt=new m({growFactor:1});ct.setLayoutData(dt);var ut=new h({text:t.rb.getText(\"sas.ev.shared.schedule.end.label.txt\"),required:!1}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.HOURLY||e===a.MINUTELY||e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}}),lt=new p({selectedKey:\"{/recurrence/endType}\",tooltip:t.rb.getText(\"sas.ev.shared.schedule.end.info.txt\"),items:{path:\"metaModel>/endTypes\",template:new y({text:\"{metaModel>text}\",key:\"{metaModel>name}\"})},change:function(e){var t=e.getSource().getSelectedKey();if(t===a.END[0])this.getModel().setProperty(\"/recurrence/endDate\",\"\"),this.getModel().setProperty(\"/maxOccurrence\",-1);else if(t===a.END[1])this.getModel().setProperty(\"/recurrence/endDate\",\"\"),this.getModel().setProperty(\"/maxOccurrence\",1),this.getModel()._validateMaxOccurrence(\"/maxOccurrence\"),this.getModel().setChanged(!0);else if(t===a.END[2]){var r=this.getModel().getProperty(\"/recurrence/startDate\");void 0!==r&&null!==r&&r.length>0&&this.getModel().setProperty(\"/recurrence/endDate\",r),this.getModel()._validateInputDate(!0),this.getModel().setProperty(\"/maxOccurrence\",-1)}this.getModel().setProperty(\"/recurrence/endType\",t),this.getModel().setChanged(!0)}}).bindProperty(\"visible\",{path:\"/recurrence/type\",formatter:function(e){return void 0!==e&&(e===a.HOURLY||e===a.MINUTELY||e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}});ut.setLabelFor(lt);var ht=new g({stepSize:1,value:{path:\"/maxOccurrence\",type:new v({groupingEnabled:!0},{minimum:1})},change:function(e){var t=e.getParameters().newValue;this.getModel().setProperty(\"/maxOccurrence\",t),this.getModel()._validateMaxOccurrence(\"/maxOccurrence\",t),this.getModel().setChanged(!0)}}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"},{path:\"/recurrence/endType\"}],formatter:function(e,t){return void 0!==t&&t===a.END[1]&&void 0!==e&&(e===a.HOURLY||e===a.MINUTELY||e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}}),pt=new u({text:t.rb.getText(\"sas.ev.shared.schedule.occurrences.title.txt\")}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"},{path:\"/recurrence/endType\"}],formatter:function(e,t){return void 0!==t&&t===a.END[1]&&void 0!==e&&(e===a.HOURLY||e===a.MINUTELY||e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}}),yt=new f({items:[ht,pt]}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"},{path:\"/recurrence/endType\"}],formatter:function(e,t){return void 0!==t&&t===a.END[1]&&void 0!==e&&(e===a.HOURLY||e===a.MINUTELY||e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}}),gt=new m({growFactor:1});yt.setLayoutData(gt);var vt=new x({value:{path:\"/recurrence/endDate\"},tooltip:t.rb.getText(\"sas.ev.shared.schedule.enddate.info.txt\"),valueFormat:\"yyyy-MM-dd\",disablePastDates:!0,width:\"auto\",change:function(e){var t=e.getParameters().value;this.getModel().setProperty(\"/recurrence/endDate\",t),this.getModel()._validateInputDate(!0),this.getModel().setChanged(!0)}}).bindProperty(\"valueState\",{path:\"metaModel>/valueState/endDate\",model:S}).bindProperty(\"valueStateText\",{parts:[{path:\"metaModel>/valueState/endDate\",model:S},{path:\"/recurrence/endDate\"}],formatter:function(e,r){t.rb.getText(\"sas.ev.shared.schedule.enddate.invalid.txt\");return e===sap.ui.core.ValueState.Error||e===sap.ui.core.ValueState.Warning?void 0!==r&&r.trim().length>0?t.rb.getText(\"sas.ev.shared.schedule.enddate.invalid.txt\"):t.rb.getText(\"sas.ev.shared.schedule.enddate.required.txt\"):\"\"}}).bindProperty(\"visible\",{parts:[{path:\"/recurrence/type\"},{path:\"/recurrence/endType\"}],formatter:function(e,t){return void 0!==t&&t===a.END[2]&&void 0!==e&&(e===a.HOURLY||e===a.MINUTELY||e===a.DAILY||e===a.WEEKLY||e===a.MONTHLY||e===a.YEARLY)}}),mt=new f({items:[yt,vt]}),ft=new m({growFactor:1});mt.setLayoutData(ft);var bt=new f({items:[ut,lt,mt]}),Mt=new m({growFactor:1});bt.setLayoutData(Mt);var xt=new c({}),Et=new P({width:\"100%\",height:\"100%\",items:[I,B,ne,ce,Me,Te,Ue,qe,xt,Qe,Ge,et,nt,ct,bt]}).addStyleClass(\"sasTriggerConfigFormLayout\");this.setAggregation(\"_form\",Et),Et.setModel(o),Et.setModel(S,\"metaModel\")},renderer:{render:function(e,t){e.write(\"<div\"),e.writeControlData(t),e.write(\">\"),e.write(\"<div>\"),e.renderControl(t.getAggregation(\"_form\")),e.write(\"</div>\"),e.write(\"</div>\")}}});return D.prototype._setModelChanged=function(e){var t=e.getSource();\"sas.hc.m.CompositeInput\"===t.getMetadata().getName()?t.getAggregation(\"input\").setValueState(sap.ui.core.ValueState.None):\"sas.hc.m.Input\"===t.getMetadata().getName()&&t.setValueState(sap.ui.core.ValueState.None),this.getScheduleTimeEventsModel().setChanged(!0)},D.prototype.getScheduleTimeEventsModel=function(){return this.getAggregation(\"_form\").getModel()},D.prototype.saveScheduleTimeEvent=function(){return this.getAggregation(\"_form\").getModel().save()},D.prototype.loadScheduleTimeEvent=function(e){return this.getScheduleTimeEventsModel().loadScheduleTimeEvent(e),this},D.prototype.reset=function(){return this.getScheduleTimeEventsModel().reset(),this},D});",
	"sas/ev/shared/schedule/ScheduleTimeEventTrigger.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\",\"sas/ev/shared/schedule/enums/ModeType\",\"sas/ev/shared/schedule/ScheduleTimeEventTriggerDialog\",\"sap/ui/model/json/JSONModel\",\"sap/ui/core/Core\"],function(e,s,t,d){\"use strict\";return e.sap.declare(\"sas.ev.shared.schedule.ScheduleTimeEventTrigger\"),sas.ev.shared.schedule.ScheduleTimeEventTrigger={openScheduleDialog:function(){var r,i=arguments[0],a=arguments[1],l=e.extend(!0,{},arguments[2]),n=arguments[3],u=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\");r=a===s.EDIT?u.getText(\"sas.ev.shared.schedule.edit.trigger.dialog.window.title.txt\"):u.getText(\"sas.ev.shared.schedule.new.trigger.dialog.window.title.txt\"),void 0!==n&&null!==n&&\"string\"==typeof n&&n.length>0&&(r=n);var g=new t({contentWidth:\"45rem\",contentHeight:\"40rem\",mode:a,title:r}),o=new d;a===s.EDIT&&void 0!==l&&(o.setData(l),g.loadScheduleTrigger(l)),g.processingRequest(i,o)}},sas.ev.shared.schedule.ScheduleTimeEventTrigger});",
	"sas/ev/shared/schedule/ScheduleTimeEventTriggerDialog.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"sas/hc/m/Dialog\",\"sas/ev/shared/schedule/model/ScheduleTimeEventModel\",\"sas/ev/shared/schedule/enums/ModeType\",\"sas/ev/shared/schedule/enums/Recurrence\",\"sas/ev/shared/schedule/ScheduleTimeEventForm\",\"sas/hc/m/Button\",\"sap/ui/core/Core\",\"sap/ui/core/library\"],function(e,t,o,r,a,s){\"use strict\";var i=e.extend(\"sas.ev.shared.schedule.ScheduleTimeEventTriggerDialog\",{metadata:{properties:{mode:{type:\"string\",defaultValue:o.ADD},showReset:{type:\"boolean\",default:!0},resizable:{type:\"boolean\",group:\"Behavior\",defaultValue:!1}},aggregations:{},publicMethods:[\"setScheduleTrigger\"],events:{},library:\"sas.ev.shared\"},oScheduleTimeEventForm:null,oScheduleTimeEventModel:null,rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),renderer:\"sas.hc.m.DialogRenderer\",constructor:function(){e.apply(this,arguments)}});return i.prototype.init=function(){var t=this;e.prototype.init&&e.prototype.init.apply(this,arguments),this.addStyleClass(\"sasEVEditRuleProperties\"),this.oScheduleTimeEventForm=new a({}),this.oScheduleTimeEventModel=this.oScheduleTimeEventForm.getScheduleTimeEventsModel();var o=new s({text:this.rb.getText(\"sas.ev.shared.schedule.button.label.Save.txt\"),enabled:!0,press:function(){t.oScheduleTimeEventForm.saveScheduleTimeEvent().done(function(e){if(\"nochanges\"!==e.result){var o=e.content;o.type=\"timeevent\",t.callBack.call(this,o),t.close(),t.destroy()}})}});o.setModel(this.oScheduleTimeEventModel),o.setModel(this.oScheduleTimeEventModel.getMetaModel(),\"metaModel\"),o.bindProperty(\"enabled\",{parts:[{path:\"/recurrence/type\"},{path:\"/recurrence/occurrenceType\"},{path:\"metaModel>/valueState/endDate\"},{path:\"metaModel>/valueState/daysOfWeek\"},{path:\"metaModel>/valueState/hours\"},{path:\"metaModel>/valueState/minutes\"},{path:\"metaModel>/valueState/dates\"},{path:\"metaModel>/valueState/dayOfMonth\"},{path:\"metaModel>/valueState/occurrence\"},{path:\"metaModel>/valueState/maxOccurrence\"},{path:\"metaModel>/modelChanged\"}],formatter:function(e,t,o,a,s,i,u,l,d,n,h){return e===r.DATELIST?h>0&&void 0!==u&&u!==sap.ui.core.ValueState.Error&&void 0!==s&&s!==sap.ui.core.ValueState.Error&&void 0!==i&&i!==sap.ui.core.ValueState.Error:e===r.WEEKLY?h>0&&void 0!==a&&a!==sap.ui.core.ValueState.Error&&void 0!==s&&s!==sap.ui.core.ValueState.Error&&void 0!==i&&i!==sap.ui.core.ValueState.Error&&void 0!==o&&o===sap.ui.core.ValueState.None&&void 0!==n&&n!==sap.ui.core.ValueState.Error:e===r.MONTHLY||e===r.YEARLY?t===r.OCCURRENCES[2]?h>0&&void 0!==d&&d!==sap.ui.core.ValueState.Error&&void 0!==a&&a!==sap.ui.core.ValueState.Error&&void 0!==s&&s!==sap.ui.core.ValueState.Error&&void 0!==o&&o===sap.ui.core.ValueState.None&&void 0!==i&&i!==sap.ui.core.ValueState.Error:t===r.OCCURRENCES[0]?h>0&&void 0!==l&&l!==sap.ui.core.ValueState.Error&&void 0!==s&&s!==sap.ui.core.ValueState.Error&&void 0!==o&&o===sap.ui.core.ValueState.None&&void 0!==i&&i!==sap.ui.core.ValueState.Error:h>0&&void 0!==s&&s!==sap.ui.core.ValueState.Error&&void 0!==o&&o===sap.ui.core.ValueState.None&&void 0!==i&&i!==sap.ui.core.ValueState.Error:h>0&&void 0!==o&&o===sap.ui.core.ValueState.None&&void 0!==s&&s!==sap.ui.core.ValueState.Error&&void 0!==i&&i!==sap.ui.core.ValueState.Error}}),this.resetButton=new s({text:this.rb.getText(\"sas.ev.shared.schedule.button.label.Reset.txt\"),press:function(){t.oScheduleTimeEventForm.reset()}}),this.resetButton.setModel(this.oScheduleTimeEventModel),this.resetButton.setModel(this.oScheduleTimeEventModel.getMetaModel(),\"metaModel\"),this.resetButton.bindProperty(\"enabled\",{path:\"metaModel>/modelChanged\",formatter:function(e){return e>0}});var i=new s({text:this.rb.getText(\"sas.ev.shared.schedule.button.label.Cancel.txt\"),press:[function(){this.close(),this.destroy()},this]});this.addContent(this.oScheduleTimeEventForm),this.setBeginButton(o),this.setMiddleButton(this.resetButton),this.setEndButton(i)},i.prototype.setShowReset=function(e){this.setProperty(\"showReset\",e),this.resetButton.setVisible(e)},i.prototype.setMode=function(e){var e=e.toUpperCase();return this.setProperty(\"mode\",e,!0),this.oScheduleTimeEventModel.setMode(e),this},i.prototype.loadScheduleTrigger=function(e){return void 0!==e&&this.oScheduleTimeEventForm.loadScheduleTimeEvent(e),this},i.prototype.processingRequest=function(e,t){this.callBack=e,this.triggerModel=t,this.open()},i});",
	"sas/ev/shared/schedule/utils/DirectedGraph.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: DiGraph.</p>\n * <p>Description: Directed graph API algorithm implementation.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/base/util/ObjectPath\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(e,t){\"use strict\";return t.create(\"sas.ev.shared.schedule.utils.DirectedGraph\"),sas.ev.shared.schedule.utils.DirectedGraph=function(){function e(e){this._V=e,this._E=0,this._adj=[],this._reverseAdj=[];for(var t=0;t<e;t++)this._adj.push([]),this._reverseAdj.push([])}return Object.defineProperty(e.prototype,\"V\",{get:function(){return this._V},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"E\",{get:function(){return this._E},enumerable:!0,configurable:!0}),e.prototype.addEdge=function(e,t){this._adj[e].push(t),this._reverseAdj[t].push(e),this._E++},e.prototype.adj=function(e){return this._adj[e]},e.prototype.reverseAdj=function(e){return this._reverseAdj[e]},e.prototype.reverse=function(){for(var t=new e(this._V),r=0;r<this._V;r++)for(var s=this.adj(r),i=0;i<s.length;i++){var n=s[i];t.addEdge(n,r)}return t},e.prototype.endVertices=function(){for(var e=[],t=0;t<this._V;t++){0===this.adj(t).length&&e.push(t)}return e},e}()});",
	"sas/ev/shared/schedule/utils/FlowLinkUtils.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: FlowLinkUtils.</p>\n * <p>Description: utilities for link validation.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/base/util/ObjectPath\",\"./ScheduleProperties\",\"./ScheduleUtils\",\"./DirectedGraph\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(t,e,l,u,s){\"use strict\";return e.create(\"sas.ev.shared.schedule.utils.FlowLinkUtils\"),sas.ev.shared.schedule.utils.FlowLinkUtils=function(){function t(t,e){this.rb=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),this.logger=sas.log.getLogger(\"sas.ev.shared.schedule.utils.FlowLinkUtils\"),this.nodes=[],this.nodeMap={},this.linkMap={};for(var i=t.getColumnIndexByName(l.PFD_FIELD_ID),a=t.getColumnIndexByName(l.PFD_FIELD_TYPE),_=t.getColumnIndexByName(l.PFD_FIELD_FROMNODE),r=t.getColumnIndexByName(l.PFD_FIELD_TONODE),n=t.getColumnDataValues(i),o=t.getColumnDataValues(a),p=t.getColumnDataValues(_),E=t.getColumnDataValues(r),P=0;P<n.length;P++){var T=n[P].getStringValue(),D=u.getPfdItemInfo(T,e).data,h=o[P].getStringValue();if(D){if(h===l.PFD_TYPE_NODE)this.nodes.push(D),this.nodeMap[T]=this.nodes.length-1;else if(h===l.PFD_TYPE_LINK){var O=p[P].getStringValue(),F=E[P].getStringValue();this.linkMap[O]||(this.linkMap[O]={}),this.linkMap[O][F]=D}}else this.logger.error(\"no data for PFD item \"+T)}this.digraph=new s(this.nodes.length);for(var P=0;P<n.length;P++){var h=o[P].getStringValue();if(h===l.PFD_TYPE_LINK){var O=p[P].getStringValue(),F=E[P].getStringValue();this.digraph.addEdge(this.nodeMap[O],this.nodeMap[F])}}}return t.prototype._getText=function(t,e,l,u){return this.rb.getText(t,e,l,u)},t.prototype.isBacklink=function(t,e){if(this.digraph.adj(e).indexOf(t)>=0)return!0;for(var l=[],u=0;u<this.digraph.V;u++)l.push(!1);l[t]=!0;for(var s=this.digraph.reverseAdj(t),i=0;i<s.length;i++){if(s[i]===e)return!0;if(!l[s[i]]&&this.isAncestorBacklink(e,s[i],l))return!0}return!1},t.prototype.isAncestorBacklink=function(t,e,l){l[e]=!0;for(var u=this.digraph.reverseAdj(e),s=0;s<u.length;s++){if(u[s]===t)return!0;if(!l[u[s]]&&this.isAncestorBacklink(t,u[s],l))return!0}return!1},t.prototype.getRule=function(e){if(e)switch(e){case l.PFD_SUBTYPE_JOB:return t.JOB_RULE;case l.PFD_SUBTYPE_CMD_ACTION:return t.CMD_ACTION_RULE;case l.PFD_SUBTYPE_FLOW:return t.FLOW_RULE;case l.PFD_SUBTYPE_AND_GATE:return t.AND_GATE_RULE;case l.PFD_SUBTYPE_OR_GATE:return t.OR_GATE_RULE;case l.PFD_SUBTYPE_TIME_EVENT:return t.TIME_EVENT_RULE}return null},t.prototype.validateLink=function(t,e){var l=this.nodeMap[t],u=this.nodeMap[e];if(this.digraph.adj(l).indexOf(u)>=0)return!1;if(this.isBacklink(l,u))return!1;var s=this.nodes[l],i=this.nodes[u],a=null,_=null;if(s&&s.type&&(a=this.getRule(s.type)),i&&i.type&&(_=this.getRule(i.type)),a){if(!a.allowOutputs)return!1;if(!a.allowMultipleOutputs&&this.digraph.adj(l).length>0)return!1}if(_){if(!_.allowInputs)return!1;if(!_.allowMultipleInputs&&this.digraph.reverseAdj(u).length>0)return!1}return!0},t.JOB_RULE={allowInputs:!0,allowMultipleInputs:!1,allowOutputs:!0,allowMultipleOutputs:!0,allowedOutputTypes:[l.PFD_SUBTYPE_JOB,l.PFD_SUBTYPE_CMD_ACTION,l.PFD_SUBTYPE_FLOW,l.PFD_SUBTYPE_AND_GATE,l.PFD_SUBTYPE_OR_GATE]},t.CMD_ACTION_RULE={allowInputs:!0,allowMultipleInputs:!1,allowOutputs:!0,allowMultipleOutputs:!0,allowedOutputTypes:[l.PFD_SUBTYPE_JOB,l.PFD_SUBTYPE_CMD_ACTION,l.PFD_SUBTYPE_FLOW,l.PFD_SUBTYPE_AND_GATE,l.PFD_SUBTYPE_OR_GATE]},t.FLOW_RULE={allowInputs:!0,allowMultipleInputs:!1,allowOutputs:!0,allowMultipleOutputs:!0,allowedOutputTypes:[l.PFD_SUBTYPE_JOB,l.PFD_SUBTYPE_CMD_ACTION,l.PFD_SUBTYPE_FLOW,l.PFD_SUBTYPE_AND_GATE,l.PFD_SUBTYPE_OR_GATE]},t.AND_GATE_RULE={allowInputs:!0,allowMultipleInputs:!0,allowOutputs:!0,allowMultipleOutputs:!1,allowedOutputTypes:[l.PFD_SUBTYPE_JOB,l.PFD_SUBTYPE_CMD_ACTION,l.PFD_SUBTYPE_FLOW,l.PFD_SUBTYPE_AND_GATE,l.PFD_SUBTYPE_OR_GATE]},t.OR_GATE_RULE={allowInputs:!0,allowMultipleInputs:!0,allowOutputs:!0,allowMultipleOutputs:!1,allowedOutputTypes:[l.PFD_SUBTYPE_JOB,l.PFD_SUBTYPE_CMD_ACTION,l.PFD_SUBTYPE_FLOW,l.PFD_SUBTYPE_AND_GATE,l.PFD_SUBTYPE_OR_GATE]},t.TIME_EVENT_RULE={allowInputs:!1,allowMultipleInputs:!1,allowOutputs:!0,allowMultipleOutputs:!1,allowedOutputTypes:[l.PFD_SUBTYPE_JOB,l.PFD_SUBTYPE_CMD_ACTION,l.PFD_SUBTYPE_FLOW,l.PFD_SUBTYPE_AND_GATE,l.PFD_SUBTYPE_OR_GATE]},t}()});",
	"sas/ev/shared/schedule/utils/FlowMonitorProperties.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"sap/ui/thirdparty/jquery\"],function(_){\"use strict\";return _.sap.declare(\"sas.ev.shared.schedule.utils.FlowMonitorProperties\"),sas.ev.shared.schedule.utils.FlowMonitorProperties=function(){function _(){}return _.JOB_STATUS_PENDING=\"pending\",_.JOB_STATUS_RUNNING=\"running\",_.JOB_STATUS_COMPLETED=\"completed\",_.JOB_STATUS_CANCELED=\"canceled\",_.JOB_STATUS_FAILED=\"failed\",_.JOB_STATUS_TIMED_OUT=\"timedOut\",_.JOB_STATUS_UNKNOWN=\"unknown\",_.JOB_STATUS_ICON_PENDING=\"\",_.JOB_STATUS_ICON_RUNNING=\"\",_.JOB_STATUS_ICON_COMPLETED=\"\",_.JOB_STATUS_ICON_CANCELED=\"\",_.JOB_STATUS_ICON_FAILED=\"\",_.JOB_STATUS_ICON_TIMED_OUT=\"\",_.JOB_STATUS_ICON_UNKNOWN=\"\",_.JOB_STATUS_COLOR_PENDING=14804465,_.JOB_STATUS_COLOR_RUNNING=2006697,_.JOB_STATUS_COLOR_COMPLETED=10140223,_.JOB_STATUS_COLOR_CANCELED=16030014,_.JOB_STATUS_COLOR_FAILED=10895914,_.JOB_STATUS_COLOR_TIMED_OUT=10895914,_.SELECTED_DATES_COUNT=1,_.DATE_RANGE_SEP=\"<>\",_.NEXT=\"next\",_.USERS_START_VALUE=0,_.USERS_LIMIT_VALUE=100,_.EMPTY_STRING=\"\",_.DEFAULT_START=0,_.DEFAULT_LIMIT=20,_.DEFAULT_DATE_FILTER=\"1d\",_}()});",
	"sas/ev/shared/schedule/utils/FlowMonitorUtils.js": "// Copyright (c) 2018, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\",\"sas/ev/shared/schedule/utils/FlowMonitorProperties\",\"sas/ev/shared/Utils\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(e,t,s){\"use strict\";return e.sap.declare(\"sas.ev.shared.schedule.utils.FlowMonitorUtils\"),sas.ev.shared.schedule.utils.FlowMonitorUtils={defaultTimeout:3e4,rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.utils.FlowMonitorUtils\"),retrieveUserIds:function(e,t,s,r,n,i,a){var o=this,l=\"/identities/users\";l+=\"?&start=\"+(e||0),l+=\"&limit=\"+(t||100),l+=\"&sortBy=\"+(r||\"id:ascending\"),s&&(l+=\"&filter=startsWith($primary,id,'\"+s+\"')\"),sas.ajax({url:l,type:\"GET\",headers:{accept:\"application/vnd.sas.collection+json\"}}).done(function(e,t,s){if(s&&o.isSuccessNoContentResponseCode(s.status))return void(n?n(null):o.logger.debug(\"success to run retrieveUserIds\"));n?n(e):o.logger.debug(\"success to run retrieveUserIds: \"+e)}).fail(function(e,t,s){var r=s;e&&(e.responseJSON?r=e.responseJSON:e.responseText&&(r=e.responseText)),i?i(r):o.logger.warning(\"failed to run retrieveUserIds: \"+r)}).always(function(){a&&a()})},isSuccessNoContentResponseCode:function(e){switch(e){case 202:case 204:case 205:return!0}return!1},getFilteredJobRuns:function(s,r,n,i,a){var o=this,l=null,u=null;if(s)l=s;else if(l=\"/jobExecution/jobs?start=\"+t.DEFAULT_START,u=r?e.extend({},r.currentFilters.getData()):null,l=u&&u.limit?l+\"&limit=\"+u.limit:l+\"&limit=\"+t.DEFAULT_LIMIT,u){u.sortBy&&(l=l+\"&sortBy=\"+u.sortBy);var g=[];if(u.nameFilter){var c=u.nameFilter.split(\" \"),d=\"contains($primary,name,'\"+c.join(\"',contains($primary,name,'\")+\"'\";c.length>1&&(d=\"and(\"+d+\")\"),g.push(d)}if(u.dateFilter)if(u.dateFilter.indexOf(\"<>\")>=0){var T=u.dateFilter.split(\"<>\");if(2===T.length){var S=new Date(T[0]);S.setHours(0),S.setMinutes(0),S.setSeconds(0),S.setMilliseconds(0);var U=new Date(T[1]);U.setHours(24),U.setMinutes(0),U.setSeconds(0),U.setMilliseconds(0);var f=new Date(Date.UTC(S.getUTCFullYear(),S.getUTCMonth(),S.getUTCDate(),S.getUTCHours(),S.getUTCMinutes(),S.getUTCSeconds(),S.getMilliseconds())),h=new Date(Date.UTC(U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate(),U.getUTCHours(),U.getUTCMinutes(),U.getUTCSeconds(),U.getMilliseconds()));g.push(\"and(ge(creationTimeStamp,'\"+f.toISOString()+\"'),lt(creationTimeStamp,'\"+h.toISOString()+\"'))\")}}else{var p=new Date,C=null;if(\"1h\"===u.dateFilter?C=new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours()-1,p.getMinutes(),p.getSeconds(),p.getMilliseconds()):\"6h\"===u.dateFilter?C=new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours()-6,p.getMinutes(),p.getSeconds(),p.getMilliseconds()):\"12h\"===u.dateFilter?C=new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours()-12,p.getMinutes(),p.getSeconds(),p.getMilliseconds()):\"1d\"===u.dateFilter?C=new Date(p.getFullYear(),p.getMonth(),p.getDate()-1,p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds()):\"2d\"===u.dateFilter&&(C=new Date(p.getFullYear(),p.getMonth(),p.getDate()-2,p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())),C){var M=new Date(Date.UTC(C.getUTCFullYear(),C.getUTCMonth(),C.getUTCDate(),C.getUTCHours(),C.getUTCMinutes(),C.getUTCSeconds(),C.getMilliseconds()));g.push(\"gt(creationTimeStamp,'\"+M.toISOString()+\"')\")}}if(u.statusFilters){var O=\"\";if(u.statusFilters.indexOf(t.JOB_STATUS_UNKNOWN)>=0){var D=[t.JOB_STATUS_UNKNOWN,t.JOB_STATUS_CANCELED,t.JOB_STATUS_COMPLETED,t.JOB_STATUS_FAILED,t.JOB_STATUS_PENDING,t.JOB_STATUS_RUNNING,t.JOB_STATUS_TIMED_OUT],_=u.statusFilters.split(\",\");e.each(_,function(e,t){D.splice(D?Array.prototype.indexOf.call(D,t):-1,1)}),e.each(D,function(e,t){O+=\"ne($primary,state,'\"+t+\"'),\"}),O=\"and(\"+O.substr(0,O.length-1)+\")\"}else O=\"in($primary,state,\"+u.statusFilters+\")\";g.push(O)}if(u.requestFilters){var F=\"in(jobRequest.id,\"+u.requestFilters+\")\";g.push(F)}if(u.userFilters){var v=\"\";e.each(u.userFilters.split(\",\"),function(e,t){v+=\"'\"+t+\"',\"}),v=\"in(createdBy,\"+v.substr(0,v.length-1)+\")\",g.push(v)}g.length>0&&(1===g.length?l+=\"&filter=\"+g[0]:l+=\"&filter=and(\"+g.join(\",\")+\")\")}sas.ajax({url:l,type:\"GET\",headers:{accept:\"application/vnd.sas.collection+json\"}}).done(function(t,s,i){if(u){var a=r?e.extend({},r.currentFilters.getData()):null;if(JSON.stringify(a)!==JSON.stringify(u))return}if(i&&o.isSuccessNoContentResponseCode(i.status))return void(n?n(null):o.logger.debug(\"success to run getFilteredJobRuns\"));n?n(t):o.logger.debug(\"success to run getFilteredJobRuns: \"+t)}).fail(function(t,s,n){var a=r?e.extend({},r.currentFilters.getData()):null;if(JSON.stringify(a)===JSON.stringify(u)){var l=n;t&&(t.responseJSON?l=t.responseJSON:t.responseText&&(l=t.responseText)),i?i(l):o.logger.warning(\"failed to run getFilteredJobRuns: \"+l)}}).always(function(){a&&a()})},jobStatusTextFormatter:function(e){var s=this;switch(e){case t.JOB_STATUS_PENDING:return s.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.status.pending.txt\");case t.JOB_STATUS_RUNNING:return s.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.status.running.txt\");case t.JOB_STATUS_CANCELED:return s.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.status.canceled.txt\");case t.JOB_STATUS_COMPLETED:return s.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.status.completed.txt\");case t.JOB_STATUS_FAILED:return s.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.status.failed.txt\");case t.JOB_STATUS_TIMED_OUT:return s.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.status.timedOut.txt\");default:return s.rb.getText(\"sas.ev.shared.schedule.flowMonitor.flowList.status.unknown.txt\")}},showErrorMessage:function(e){var t,r;\"string\"!=typeof e?(t=e.message,r=e.details?e.details.toString():\"\"):(t=e,r=e),s.ajaxErrorMessageHandler({title:s.getAppName(),message:t,detail:r}).open()},jobStatusIconFormatter:function(e){var s=sap.ui.getCore().getModel(\"sasIcons\");switch(e){case t.JOB_STATUS_PENDING:return s.getProperty(\"/HC/SCHEDULEDSTATUS\");case t.JOB_STATUS_RUNNING:return s.getProperty(\"/HC/PROGRESSSTATUS\");case t.JOB_STATUS_CANCELED:return s.getProperty(\"/HC/CANCELEDSTATUS\");case t.JOB_STATUS_COMPLETED:return s.getProperty(\"/HC/COMPLETESTATUS\");case t.JOB_STATUS_FAILED:case t.JOB_STATUS_TIMED_OUT:return s.getProperty(\"/HC/ERRORSTATUS\");default:return s.getProperty(\"/HC/NEUTRALSTATUS\")}}}});",
	"sas/ev/shared/schedule/utils/FlowSaveUtils.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: FlowSaveUtils.</p>\n * <p>Description: utilities for job flow save.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/base/util/ObjectPath\",\"./ScheduleProperties\",\"./ScheduleUtils\",\"./DirectedGraph\",\"sas/ev/shared/Utils\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(e,t,r,n,s,o){\"use strict\";return t.create(\"sas.ev.shared.schedule.utils.FlowSaveUtils\"),sas.ev.shared.schedule.utils.FlowSaveUtils=function(){function e(e,t){this.rb=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),this.logger=sas.log.getLogger(\"sas.ev.shared.schedule.utils.FlowSaveUtils\"),this.nodes=[],this.nodeMap={},this.linkMap={},this.jobActionCreated=!1,this.jobActionUpdated=!1,this.naPfdItems=[],this.newActionDataArray=[],this.uaPfdItems=[],this.updateActionDataArray=[],this.endNodes=[],this.handledEndNodes=[];for(var o=e.getColumnIndexByName(r.PFD_FIELD_ID),i=e.getColumnIndexByName(r.PFD_FIELD_TYPE),a=e.getColumnIndexByName(r.PFD_FIELD_FROMNODE),c=e.getColumnIndexByName(r.PFD_FIELD_TONODE),d=e.getColumnDataValues(o),h=e.getColumnDataValues(i),l=e.getColumnDataValues(a),u=e.getColumnDataValues(c),_=0;_<d.length;_++){var E=d[_].getStringValue(),f=n.getPfdItemInfo(E,t).data,p=h[_].getStringValue();if(f){if(p===r.PFD_TYPE_NODE)this.nodes.push(f),this.nodeMap[E]=this.nodes.length-1;else if(p===r.PFD_TYPE_LINK){var g=l[_].getStringValue(),D=u[_].getStringValue();this.linkMap[g]||(this.linkMap[g]={}),this.linkMap[g][D]=f}}else this.logger.error(\"no data for PFD item \"+E)}this.digraph=new s(this.nodes.length);for(var _=0;_<d.length;_++){var p=h[_].getStringValue();if(p===r.PFD_TYPE_LINK){var g=l[_].getStringValue(),D=u[_].getStringValue();this.digraph.addEdge(this.nodeMap[g],this.nodeMap[D])}}}return e.prototype._getText=function(e,t,r,n){return this.rb.getText(e,t,r,n)},e.prototype.checkUnsavedJobActions=function(){this.jobActionCreated=!1,this.jobActionUpdated=!1,this.naPfdItems=[],this.newActionDataArray=[],this.uaPfdItems=[],this.updateActionDataArray=[];for(var e=0;e<this.nodes.length;e++)if(this.nodes[e].type===r.PFD_SUBTYPE_JOB||this.nodes[e].type===r.PFD_SUBTYPE_CMD_ACTION){if(!this.nodes[e].objInfo)return this.logger.error(\"no action data for PFD item \"+this.nodes[e].id),!1;this.nodes[e].objInfo.id?this.nodes[e].isModified&&(this.updateActionDataArray.push(this.nodes[e].objInfo),this.uaPfdItems.push(this.nodes[e])):(this.newActionDataArray.push(this.nodes[e].objInfo),this.naPfdItems.push(this.nodes[e]))}return!0},e.prototype.deleteRemovedActions=function(e,t,r,s){if(e&&e.length>0){for(var i=[],a=0;a<e.length;a++)i.push(e[a].objInfo.links[0].href);n.deleteJobActions(i).done(function(e){var n={items:[],error:[]};if(e){for(var s=0;s<e.length;s++)e[s].isSuccess?n.items.push(e[s].data):n.error.push(e[s].errorData);n.error.length>0?(o.ajaxErrorMessageHandler({title:that._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.failed.title.txt\"),message:n.error[0],detail:n.error[0]}).open(),r&&r()):t&&t()}else o.ajaxErrorMessageHandler({title:that._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.failed.title.txt\")}).open(),r&&r()})}else t&&t()},e.prototype.createJobActions=function(e,t,r){var s=this;if(s.newActionDataArray.length>0){var i={items:[],error:[]};n.createJobActions(s.newActionDataArray).done(function(r){if(r){for(var a=0;a<r.length;a++)r[a].isSuccess?i.items.push(r[a].data):i.error.push(r[a].errorData);if(i.error.length>0){if(i.items.length>0){for(var c=[],a=0;a<i.items.length;a++)c.push(i.items[a].links[0].href);n.deleteJobActions(c).done(function(e){})}o.ajaxErrorMessageHandler({title:s._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.failed.title.txt\"),message:i.error[0],detail:i.error[0]}).open(),t&&t()}else{for(var a=0;a<i.items.length;a++)s.naPfdItems[a].objInfo=i.items[a],s.naPfdItems[a].isModified=!1;s.jobActionCreated=!0,e&&e()}}else o.ajaxErrorMessageHandler({title:s._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.failed.title.txt\")}).open(),t&&t()})}else e&&e()},e.prototype.updateJobActions=function(e,t,r){var s=this;if(s.updateActionDataArray.length>0){var i={items:[],error:[]};n.updateJobActions(s.updateActionDataArray).done(function(r){if(r){for(var n=0;n<r.length;n++)r[n].isSuccess?i.items.push(r[n].data):i.error.push(r[n].errorData);if(i.error.length>0)o.ajaxErrorMessageHandler({title:s._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.failed.title.txt\"),message:i.error[0],detail:i.error[0]}).open(),t&&t();else{for(var n=0;n<i.items.length;n++)s.uaPfdItems[n].objInfo=i.items[n],s.uaPfdItems[n].isModified=!1;s.jobActionUpdated=!0,e&&e()}}else o.ajaxErrorMessageHandler({title:s._getText(\"sas.ev.shared.schedule.flow.flowDialog.saveFlow.failed.title.txt\")}).open(),t&&t()})}else e&&e()},e.prototype.buildFlowJobs=function(){for(var e=[],t=0;t<this.nodes.length;t++)this.nodes[t].type!==r.PFD_SUBTYPE_JOB&&this.nodes[t].type!==r.PFD_SUBTYPE_CMD_ACTION&&this.nodes[t].type!==r.PFD_SUBTYPE_FLOW||e.push(this.nodes[t].objInfo.links[0].href);return e},e.prototype.buildLinkExpression=function(e,t){var n=null;switch(e.eventType){case r.JOB_COMPLETE_SUCCESSFULLY:case r.JOB_END_WITH_ANY_CODE:case r.JOB_MISS_SCHEDULE_TIME:case r.JOB_STARTS:case r.JOB_CAN_NOT_RUN:case r.JOB_FAIL_TO_START:n=e.eventType+\"('\"+t.objInfo.name+\"')\";break;case r.JOB_MAX_RUN_TIME:n=\"lt(\"+r.JOB_DURATION+\"('\"+t.objInfo.name+\"'), \"+e.maxRunTime+\")\";break;case r.JOB_MIN_RUN_TIME:n=\"gt(\"+r.JOB_DURATION+\"('\"+t.objInfo.name+\"'), \"+e.minRunTime+\")\";break;case r.JOB_END_WITH_CODE:switch(e.endCodeCondition){case r.JOB_ENDCODE_EQUAL_TO:case r.JOB_ENDCODE_NOT_EQUAL_TO:case r.JOB_ENDCODE_GREATER_THAN:case r.JOB_ENDCODE_GREATER_OR_EQUAL:case r.JOB_ENDCODE_LESS_THAN:case r.JOB_ENDCODE_LESS_OR_EQUAL:n=e.endCodeCondition+\"(\"+r.JOB_END_WITH_CODE+\"('\"+t.objInfo.name+\"'), \"+e.endCodeConditionValue+\")\"}}return n},e.prototype.cleanTimeEvent=function(e){if(e.recurrence.type&&e.recurrence.type===r.RECURRENCE_HOURLY){var t=e.hourSkipCount||\"1\",n=parseInt(t);e.recurrence.skipCount=n}else if(e.recurrence.type&&e.recurrence.type===r.RECURRENCE_MINUTELY){var s=e.minuteSkipCount||\"5\";e.recurrence.skipCount=parseInt(s)}switch(!e.recurrence.type||e.recurrence.type!==r.RECURRENCE_MONTHLY&&e.recurrence.type!==r.RECURRENCE_YEARLY||e.recurrence.occurrenceType!==r.RECURRENCE_OCCURRENCE_TYPE[1]||(e.recurrence.dayOfMonth=32),delete e.hourSkipCount,delete e.minuteSkipCount,delete e.recurrence.endType,delete e.recurrence.occurrenceType,e.recurrence.type){case r.RECURRENCE_MINUTELY:case r.RECURRENCE_HOURLY:case r.RECURRENCE_DAILY:e.recurrence.daysOfWeek&&e.recurrence.daysOfWeek.length>0&&(e.recurrence.daysOfWeek=[]),e.recurrence.dates&&e.recurrence.dates.length>0&&(e.recurrence.dates=[]),e.recurrence.monthOfYear&&e.recurrence.monthOfYear.length>0&&(e.recurrence.monthOfYear=\"\"),e.recurrence.occurrence&&e.recurrence.occurrence.length>0&&(e.recurrence.occurrence=\"\");break;case r.RECURRENCE_WEEKLY:e.recurrence.dates&&e.recurrence.dates.length>0&&(e.recurrence.dates=[]),e.recurrence.monthOfYear&&e.recurrence.monthOfYear.length>0&&(e.recurrence.monthOfYear=\"\"),e.recurrence.occurrence&&e.recurrence.occurrence.length>0&&(e.recurrence.occurrence=\"\");break;case r.RECURRENCE_MONTHLY:e.recurrence.dates&&e.recurrence.dates.length>0&&(e.recurrence.dates=[]),e.recurrence.monthOfYear&&e.recurrence.monthOfYear.length>0&&(e.recurrence.monthOfYear=\"\");break;case r.RECURRENCE_YEARLY:e.recurrence.dates&&e.recurrence.dates.length>0&&(e.recurrence.dates=[]);break;case r.RECURRENCE_DATELIST:e.recurrence.daysOfWeek&&e.recurrence.daysOfWeek.length>0&&(e.recurrence.daysOfWeek=[]),e.recurrence.monthOfYear&&e.recurrence.monthOfYear.length>0&&(e.recurrence.monthOfYear=\"\"),e.recurrence.occurrence&&e.recurrence.occurrence.length>0&&(e.recurrence.occurrence=\"\")}},e.prototype.buildNodeDependencies=function(e){var t=this.nodes[e],n=this.digraph.reverseAdj(e),s=null;if(t.type===r.PFD_SUBTYPE_JOB||t.type===r.PFD_SUBTYPE_CMD_ACTION||t.type===r.PFD_SUBTYPE_FLOW)if(s={},1===n.length){var o=n[0],i=this.nodes[o];if(i.type===r.PFD_SUBTYPE_JOB||i.type===r.PFD_SUBTYPE_CMD_ACTION||i.type===r.PFD_SUBTYPE_FLOW){var a=this.nodes[o].id,c=this.nodes[e].id,d=this.linkMap[a][c];if(d){var h=this.buildLinkExpression(d,i);s.event={type:\"jobevent\",expression:h};var l=this.digraph.reverseAdj(o);l.length>0&&this.handledEndNodes.indexOf(o)<0&&this.endNodes.unshift(o)}else this.logger.error(\"No link found from PFD item \"+a+\" to item \"+c)}else i.type!==r.PFD_SUBTYPE_AND_GATE&&i.type!==r.PFD_SUBTYPE_OR_GATE&&i.type!==r.PFD_SUBTYPE_TIME_EVENT||(s.event=this.buildNodeDependencies(o))}else this.logger.error(\"Not 1 previous vertices found for PFD item \"+t.id);else if(t.type===r.PFD_SUBTYPE_AND_GATE||t.type===r.PFD_SUBTYPE_OR_GATE)if(s={type:\"gate\",condition:\"all\",events:[]},t.type===r.PFD_SUBTYPE_OR_GATE&&(s.condition=\"any\"),n.length>0)for(var u=0;u<n.length;u++){var o=n[u],i=this.nodes[o];if(i.type===r.PFD_SUBTYPE_JOB||i.type===r.PFD_SUBTYPE_CMD_ACTION||i.type===r.PFD_SUBTYPE_FLOW){var a=this.nodes[o].id,c=this.nodes[e].id,d=this.linkMap[a][c];if(d){var h=this.buildLinkExpression(d,i);s.events.push({type:\"jobevent\",expression:h});var l=this.digraph.reverseAdj(o);l.length>0&&this.handledEndNodes.indexOf(o)<0&&this.endNodes.unshift(o)}else this.logger.error(\"No link found from PFD item \"+a+\" to item \"+c)}else i.type!==r.PFD_SUBTYPE_AND_GATE&&i.type!==r.PFD_SUBTYPE_OR_GATE&&i.type!==r.PFD_SUBTYPE_TIME_EVENT||s.events.push(this.buildNodeDependencies(o))}else this.logger.error(\"No previous vertices found for gate PFD item \"+t.id);else if(t.type===r.PFD_SUBTYPE_TIME_EVENT){var _=$.extend(!0,{},t.objInfo);this.cleanTimeEvent(_),s=_,s.type=\"timeevent\"}return s},e.prototype.buildFlowDependencies=function(){this.endNodes=this.digraph.endVertices(),this.handledEndNodes=[];for(var e=[];this.endNodes.length>0;){var t=this.endNodes.shift(),n=this.nodes[t];if(this.handledEndNodes.indexOf(t)<0){if(n.type===r.PFD_SUBTYPE_JOB||n.type===r.PFD_SUBTYPE_CMD_ACTION||n.type===r.PFD_SUBTYPE_FLOW){var s=this.digraph.reverseAdj(t);if(1===s.length){var o=this.buildNodeDependencies(t);o.target=n.objInfo.name,e.push(o)}else s.length>1&&this.logger.error(\"1 above previous vertices found for PFD item \"+n.id+\" instead of gate usage\")}this.handledEndNodes.push(t)}}return e},e}()});",
	"sas/ev/shared/schedule/utils/FlowValidateUtils.js": "/**\n * Copyright (C) 2019 SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n *\n * <p>Title: FlowValidateUtils.</p>\n * <p>Description: utilities for flow validation.</p>\n *\n * @author <a href=\"mailto:yandong.qu@sas.com\">Yandong Qu</a>\n */\nsap.ui.define([\"jquery.sap.global\",\"sap/base/util/ObjectPath\",\"./ScheduleProperties\",\"./ScheduleUtils\",\"./DirectedGraph\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sap/ui/core/library\"],function(e,a,t,l,r){\"use strict\";return a.create(\"sas.ev.shared.schedule.utils.FlowValidateUtils\"),sas.ev.shared.schedule.utils.FlowValidateUtils=function(){function e(){}return e.rb=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),e.logger=sas.log.getLogger(\"sas.ev.shared.schedule.utils.FlowValidateUtils\"),e.INVALID_NAME_CHARACTERS=\"!\\\"$%&'()*+,/:;<=>?@[\\\\]^`|~.\",e.INVALID_NAME_MATCH_REGEX=/^.*?(?=[!\\\"$%&'()\\*+,\\/:;<=>\\?@\\[\\\\\\]\\^`\\|~\\.]).*$/,e.INVALID_NAME_REPLACE_REGEX=/[!\\\"$%&'()\\*+,\\/:;<=>\\?@\\[\\\\\\]\\^`\\|~\\.]/g,e.SUBCHAR=\"_\",e.LINE_BREAK=\"\\n\",e.NAME_BYTE_LIMIT=100,e.DESC_BYTE_LIMIT=500,e.validateName=function(a,t){var l=!0;return void 0!==a&&null!==a&&(l=!e.INVALID_NAME_MATCH_REGEX.test(a),t&&t.setValueState(l?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error)),l},e._utf8StringByteCount=function(e){var a=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(a?a.length:0)},e.validateStringByteLength=function(a,t,l){var r=!0;if(void 0!==a&&null!==a){e._utf8StringByteCount(a)>t&&(r=!1),l&&l.setValueState(r?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error)}return r},e.replaceInvalidCharactersInName=function(a){return a.replace(e.INVALID_NAME_REPLACE_REGEX,e.SUBCHAR)},e.validateStringNotEmpty=function(e,a){var t=!0;return e=e||\"\",e.trim()||(t=!1),a&&a.setValueState(t?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error),t},e.validateArrayNotEmpty=function(e,a){var t=!0;return e=e||[],0===e.length&&(t=!1),a&&a.setValueState(t?sap.ui.core.ValueState.None:sap.ui.core.ValueState.Error),t},e.buildTimeEventAuxiliary=function(e){var a=!1;if(e.recurrence&&(e.recurrence.endType||(e.recurrence.endDate&&e.recurrence.endDate.length>0?e.recurrence.endType=t.RECURRENCE_ENDTYPE_DATE:e.maxOccurrence&&e.maxOccurrence>0?e.recurrence.endType=t.RECURRENCE_ENDTYPE_AFTER:e.recurrence.endType=t.RECURRENCE_ENDTYPE_NEVER,a=!0),e.recurrence.occurrenceType||(e.recurrence.occurrence&&e.recurrence.occurrence.length>0?(e.recurrence.occurrenceType=t.RECURRENCE_OCCURRENCE_TYPE[2],a=!0):(e.recurrence.dayOfMonth||0===e.recurrence.dayOfMonth)&&(32===e.recurrence.dayOfMonth?e.recurrence.occurrenceType=t.RECURRENCE_OCCURRENCE_TYPE[1]:e.recurrence.occurrenceType=t.RECURRENCE_OCCURRENCE_TYPE[0],a=!0)),e.recurrence.type)){if(e.recurrence.type===t.RECURRENCE_MINUTELY&&!e.minuteSkipCount){var l=e.hours,r=e.minutes;if(r&&-1!==r.indexOf(\",\")){var o=l.split(\",\");r=o[0],parseInt(r)>e.recurrence.skipCount&&(r=\"0\")}e.minuteSkipCount=e.recurrence.skipCount.toString(),e.hours=\"0\",e.minutes=r,a=!0}if(e.recurrence.type===t.RECURRENCE_HOURLY&&!e.hourSkipCount){var l=e.hours,r=e.minutes;if(l&&-1!==l.indexOf(\",\")){l=l.split(\",\")[0]}if(r&&-1!==r.indexOf(\",\")){var o=r.split(\",\");r=o[0]}e.hourSkipCount=e.recurrence.skipCount.toString(),e.hours=l,e.minutes=r,a=!0}}return a},e.checkEmptyNames=function(a,l){var r=\"\",o={found:!1,jobAction:!1,cmdAction:!1,flow:!1};if(l&&l.length>0)for(var E=0;E<l.length;E++){var i=l[E];i.type===t.PFD_SUBTYPE_JOB&&\"\"===i.objInfo.name?(o.found=!0,o.jobAction=!0):i.type===t.PFD_SUBTYPE_CMD_ACTION&&\"\"===i.objInfo.name&&(o.found=!0,o.cmdAction=!0)}return a&&\"\"===a.name&&(o.found=!0,o.flow=!0),o.found&&(o.flow&&(r.length>0&&(r+=e.LINE_BREAK),r+=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.flow.validate.emptyName.txt\")),o.jobAction&&(r.length>0&&(r+=e.LINE_BREAK),r+=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.jobAct.validate.emptyName.txt\")),o.cmdAction&&(r.length>0&&(r+=e.LINE_BREAK),r+=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.cmdAct.validate.emptyName.txt\"))),r},e.checkDuplicateNames=function(a){var l=\"\",r={found:!1,map:{},names:[]};if(a&&a.length>0)for(var o=0;o<a.length;o++){var E=a[o];E.type!==t.PFD_SUBTYPE_JOB&&E.type!==t.PFD_SUBTYPE_FLOW&&E.type!==t.PFD_SUBTYPE_CMD_ACTION||(r.map[E.objInfo.name]?(r.found=!0,1===r.map[E.objInfo.name]&&r.names.push(E.objInfo.name),r.map[E.objInfo.name]++):r.map[E.objInfo.name]=1)}if(r.found){l+=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.duplicatedName.detailed.txt\");for(var o=0;o<r.names.length;o++)l+=e.LINE_BREAK+r.map[r.names[o]]+\" \"+r.names[o]}return l},e._validateFlow=function(a){var l=\"\",r=e.validateName(a.name),o=e.validateStringByteLength(a.name,e.NAME_BYTE_LIMIT),E=e.validateStringByteLength(a.description,e.DESC_BYTE_LIMIT),i=!0,n=!0,s=a.flowProperties.completionLevel,d=a.flowProperties.completionSelectedJobs;s!==t.FLOW_COMPLETIONLEVEL_ALLSELECTED&&s!==t.FLOW_COMPLETIONLEVEL_ANYSELECTED||d&&0!==d.length||(i=!1);var c=a.flowProperties.emailNotification,f=a.flowProperties.emailAddress;if(c&&c.length>0&&(!f||0===f.trim().length)&&(n=!1),!(r&&o&&E&&i&&n)){var u=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.curFlow.fmt\",[a.name]);r||(u+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidName.fmt\",[e.INVALID_NAME_CHARACTERS])),o||(u+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedNameLength.fmt\",[e.NAME_BYTE_LIMIT])),E||(u+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedDescLength.fmt\",[a.description,e.DESC_BYTE_LIMIT])),i||(u+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.emptyCompletionJobs.txt\")),n||(u+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.emptyEmailAddress.txt\")),l=u}return l},e._validateJobAction=function(a){var t=\"\",l=e.validateName(a.objInfo.name),r=e.validateStringByteLength(a.objInfo.name,e.NAME_BYTE_LIMIT),o=e.validateStringByteLength(a.objInfo.description,e.DESC_BYTE_LIMIT);if(!l||!r||!o){var E=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.jobAct.fmt\",[a.objInfo.name]);l||(E+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidName.fmt\",[e.INVALID_NAME_CHARACTERS])),r||(E+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedNameLength.fmt\",[e.NAME_BYTE_LIMIT])),o||(E+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedDescLength.fmt\",[a.objInfo.description,e.DESC_BYTE_LIMIT])),t=E}return t},e._validateCmdAction=function(a){var t=\"\",l=e.validateName(a.objInfo.name),r=e.validateStringByteLength(a.objInfo.name,e.NAME_BYTE_LIMIT),o=e.validateStringByteLength(a.objInfo.description,e.DESC_BYTE_LIMIT);if(!l||!r||!o){var E=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.cmdAct.fmt\",[a.objInfo.name]);l||(E+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidName.fmt\",[e.INVALID_NAME_CHARACTERS])),r||(E+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedNameLength.fmt\",[e.NAME_BYTE_LIMIT])),o||(E+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedDescLength.fmt\",[a.objInfo.description,e.DESC_BYTE_LIMIT])),t=E}return t},e._validateTimeEvent=function(a){var l=\"\",r=a.objInfo,o=e.validateStringByteLength(r.name,e.NAME_BYTE_LIMIT);if(r.recurrence&&r.recurrence.type){e.buildTimeEventAuxiliary(r);var E=r.recurrence.type;if(E===t.RECURRENCE_DATELIST){var i=!0;if(r.recurrence.dates&&0!==r.recurrence.dates.length||(i=!1),!o||!i){var n=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.timeEvent.fmt\",[a.objInfo.name]);o||(n+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedNameLength.fmt\",[e.NAME_BYTE_LIMIT])),i||(n+=e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDates.txt\")),l=n}}else if(E){var s=!0,d=!0,c=!0,f=r.recurrence.skipCount;E===t.RECURRENCE_DAILY?(!f||f<1||f>99)&&(s=!1):E!==t.RECURRENCE_WEEKLY&&E!==t.RECURRENCE_MONTHLY&&E!==t.RECURRENCE_YEARLY||(!f||f<1||f>999)&&(s=!1);var u=r.recurrence.endType;if(u===t.RECURRENCE_ENDTYPE_AFTER){var v=r.maxOccurrence;v<1&&(d=!1)}if(u===t.RECURRENCE_ENDTYPE_DATE){var _=r.recurrence.startDate||\"\",g=r.recurrence.endDate||\"\";0===g.trim().length?c=!1:_.trim().length>0&&g.trim().length>0&&new Date(g)<new Date(_)&&(c=!1)}if(E===t.RECURRENCE_WEEKLY){var h=!0,N=!0,I=r.recurrence.daysOfWeek;if(I&&0!==I.length||(h=!1),u===t.RECURRENCE_ENDTYPE_AFTER){var v=r.maxOccurrence;-1!==v&&I&&I.length>v&&(N=!1)}if(!(o&&d&&c&&s&&h&&N)){var n=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.timeEvent.fmt\",[a.objInfo.name]);o||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedNameLength.fmt\",[e.NAME_BYTE_LIMIT])),d||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidMaxOccur.txt\")),c||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidEndDate.txt\")),h||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidWeekDay.txt\")),s||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidSkipCount.weekly.txt\")),N||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidWeekDayNum.txt\")),l=n}}else if(E===t.RECURRENCE_MONTHLY){var R=!0,h=!0,L=!0;if(r.recurrence.occurrenceType===t.RECURRENCE_OCCURRENCE_TYPE[2]){var A=r.recurrence.occurrence;A&&0!==A.trim().length||(R=!1);var I=r.recurrence.daysOfWeek;I&&0!==I.length||(h=!1)}var T=r.recurrence.dayOfMonth;if((void 0===T||null===T||T<0||T>32)&&(L=!1),!(o&&d&&c&&s&&R&&h&&L)){var n=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.timeEvent.fmt\",[a.objInfo.name]);o||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedNameLength.fmt\",[e.NAME_BYTE_LIMIT])),d||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidMaxOccur.txt\")),c||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidEndDate.txt\")),s||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidSkipCount.monthly.txt\")),R||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidOccurrence.txt\")),h||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidOccurrenceWeekDay.txt\")),L||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.txt\")),l=n}}else if(E===t.RECURRENCE_YEARLY){var R=!0,h=!0,L=!0,D=!0;if(r.recurrence.occurrenceType===t.RECURRENCE_OCCURRENCE_TYPE[2]){var A=r.recurrence.occurrence;A&&0!==A.trim().length||(R=!1);var I=r.recurrence.daysOfWeek;I&&0!==I.length||(h=!1)}var T=r.recurrence.dayOfMonth,B=r.recurrence.monthOfYear,m=-1;if(B&&(m=t.RECURRENCE_MONTH.indexOf(B)),m>=0?((0===m||2===m||4===m||6===m||7===m||9===m||11===m)&&T>32?L=!1:3!==m&&5!==m&&8!==m&&10!==m||!(31===T||T>32)||(L=!1),1===m&&(30===T||31===T||T>32)&&(L=!1)):D=!1,!(o&&d&&c&&s&&R&&h&&L&&D)){var n=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.timeEvent.fmt\",[a.objInfo.name]);o||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedNameLength.fmt\",[e.NAME_BYTE_LIMIT])),d||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidMaxOccur.txt\")),c||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidEndDate.txt\")),s||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidSkipCount.yearly.txt\")),R||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidOccurrence.txt\")),h||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidOccurrenceWeekDay.txt\")),L||(n+=0===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.jan.txt\"):1===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.feb.txt\"):2===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.mar.txt\"):3===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.apr.txt\"):4===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.may.txt\"):5===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.jun.txt\"):6===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.jul.txt\"):7===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.aug.txt\"):8===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.sep.txt\"):9===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.oct.txt\"):10===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.nov.txt\"):11===m?e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.dec.txt\"):e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidDayOfMonth.txt\")),D||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidMonthOfYear.txt\")),l=n}}else if(!(o&&d&&c&&s)){var n=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.timeEvent.fmt\",[a.objInfo.name]);o||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedNameLength.fmt\",[e.NAME_BYTE_LIMIT])),d||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidMaxOccur.txt\")),c||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidEndDate.txt\")),s||E!==t.RECURRENCE_DAILY||(n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.invalidSkipCount.daily.txt\")),l=n}}}else if(!o){var n=e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.timeEvent.fmt\",[a.objInfo.name]);n+=e.LINE_BREAK+e.LINE_BREAK+e.rb.getText(\"sas.ev.shared.schedule.flow.flowDialog.validate.exceedNameLength.fmt\",[e.NAME_BYTE_LIMIT]),l=n}return l},e.validate=function(a,l){var r=e._validateFlow(a);if(l&&l.length>0)for(var o=0;o<l.length;o++){var E=l[o],i=\"\";E.type===t.PFD_SUBTYPE_JOB?i=e._validateJobAction(E):E.type===t.PFD_SUBTYPE_CMD_ACTION?i=e._validateCmdAction(E):E.type===t.PFD_SUBTYPE_TIME_EVENT&&(i=e._validateTimeEvent(E)),i.length>0&&(r.length>0&&(r+=e.LINE_BREAK+e.LINE_BREAK),r+=i)}return r},e.getActionNumber=function(e){var a=0;if(e&&e.length>0)for(var l=0;l<e.length;l++){var r=e[l];r.type!==t.PFD_SUBTYPE_JOB&&r.type!==t.PFD_SUBTYPE_CMD_ACTION&&r.type!==t.PFD_SUBTYPE_FLOW||a++}return a},e.checkOrphans=function(a,o){for(var E=[],i=[],n={},s={},d=a.getColumnIndexByName(t.PFD_FIELD_ID),c=a.getColumnIndexByName(t.PFD_FIELD_TYPE),f=a.getColumnIndexByName(t.PFD_FIELD_FROMNODE),u=a.getColumnIndexByName(t.PFD_FIELD_TONODE),v=a.getColumnDataValues(d),_=a.getColumnDataValues(c),g=a.getColumnDataValues(f),h=a.getColumnDataValues(u),N=0;N<v.length;N++){var I=v[N].getStringValue(),R=l.getPfdItemInfo(I,o).data,L=_[N].getStringValue();if(R){if(L===t.PFD_TYPE_NODE)i.push(R),n[I]=i.length-1;else if(L===t.PFD_TYPE_LINK){var A=g[N].getStringValue(),T=h[N].getStringValue();s[A]||(s[A]={}),s[A][T]=R}}else e.logger.error(\"no data for PFD item \"+I)}for(var D=new r(i.length),N=0;N<v.length;N++){var L=_[N].getStringValue();if(L===t.PFD_TYPE_LINK){var A=g[N].getStringValue(),T=h[N].getStringValue();D.addEdge(n[A],n[T])}}for(var B=D.endVertices(),m=[];B.length>0;){var w=B.shift(),R=i[w];if(m.indexOf(w)<0){if(R.type!==t.PFD_SUBTYPE_JOB&&R.type!==t.PFD_SUBTYPE_CMD_ACTION&&R.type!==t.PFD_SUBTYPE_FLOW){E.push(R.id);var x=D.reverseAdj(w);x.length>0&&(B=B.concat(x))}m.push(w)}}return E},e}()});",
	"sas/ev/shared/schedule/utils/ScheduleProperties.js": "// Copyright (c) 2019, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\",\"sap/base/util/ObjectPath\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\",\"sas/hc/ui/core/theme/IconInitialization\"],function(E,_){\"use strict\";return _.create(\"sas.ev.shared.schedule.utils.ScheduleProperties\"),sas.ev.shared.schedule.utils.ScheduleProperties=function(){function E(){}return E.NODE_ACTION_ADD=1,E.NODE_ACTION_DELETE=2,E.NODE_ACTION_RENAME=3,E.USAGE_MODE_NEW=1,E.USAGE_MODE_MODIFY=2,E.USAGE_MODE_READONLY=3,E.USAGE_MODE_READONLY_WITH_STATUS=4,E.MODEL_PART_CURRENT_FLOW=\"/currentFlow\",E.MODEL_PART_JOB_REQUEST=\"/jobReq\",E.MODEL_PART_OBJ_INFO=\"/objInfo\",E.PATH_PART_ISMODIFIED=\"/isModified\",E.PFD_FIELD_ID=\"id\",E.PFD_FIELD_TYPE=\"type\",E.PFD_FIELD_SUBTYPE=\"subType\",E.PFD_FIELD_TITLE=\"title\",E.PFD_FIELD_FROMNODE=\"fromNode\",E.PFD_FIELD_TONODE=\"toNode\",E.PFD_FIELD_ICON=\"icon\",E.PFD_FIELD_COLOR=\"color\",E.PFD_FIELD_STATUS=\"status\",E.PFD_TYPE_NODE=\"NODE\",E.PFD_TYPE_LINK=\"LINK\",E.PFD_SUBTYPE_LINK=0,E.PFD_SUBTYPE_JOB=1,E.PFD_SUBTYPE_FLOW=2,E.PFD_SUBTYPE_AND_GATE=3,E.PFD_SUBTYPE_OR_GATE=4,E.PFD_SUBTYPE_CMD_ACTION=5,E.PFD_SUBTYPE_TIME_EVENT=6,E.NODE_ICON_JOB=sas.icons.HC.DEPLOYEDJOB,E.NODE_ICON_FLOW=sas.icons.HC.DEPLOYEDJOBFLOW,E.NODE_ICON_AND_GATE=sas.icons.HC.BPMNINCLUSIVEGATEWAY,E.NODE_ICON_OR_GATE=sas.icons.HC.BPMNEXCLUSIVEGATEWAY,E.NODE_ICON_TIME_EVENT=sas.icons.HC.TIME,E.NODE_ICON_CMD_ACTION=sas.icons.HC.FILE,E.PFD_ICON_JOB=\"\",E.PFD_ICON_FLOW=\"\",E.PFD_ICON_AND_GATE=\"\",E.PFD_ICON_OR_GATE=\"\",E.PFD_ICON_TIME_EVENT=\"\",E.PFD_ICON_CMD_ACTION=\"\",E.PFD_COLORGROUP_JOB=\"DataColorJob\",E.PFD_COLORGROUP_FLOW=\"DataColorFlow\",E.PFD_COLORGROUP_GATE=\"DataColorGate\",E.PFD_COLORGROUP_TIME_EVENT=\"DataColorTimeEvent\",E.PFD_COLORGROUP_CMD_ACTION=\"DataColorCmd\",E.PFD_COLOR_JOB=49151,E.PFD_COLOR_FLOW=15657130,E.PFD_COLOR_AND_GATE=13882323,E.PFD_COLOR_OR_GATE=13882323,E.PFD_COLOR_TIME_EVENT=10444703,E.PFD_COLOR_CMD_ACTION=16767673,E.FLOW_COMPLETIONLEVEL_DEFAULT=\"default\",E.FLOW_COMPLETIONLEVEL_ALLSELECTED=\"allSelected\",E.FLOW_COMPLETIONLEVEL_ANYSELECTED=\"anySelected\",E.FLOW_COMPLETIONLEVEL_NONE=\"none\",E.FLOW_ENDBEHAVIOR_STOP=\"stop\",E.FLOW_ENDBEHAVIOR_CONTINUE=\"continue\",E.FLOW_ENDBEHAVIOR_CONTINUE_DELAY=\"continueDelay\",E.FLOW_EXITCODESTRATEGY_LAST=\"last\",E.FLOW_EXITCODSTRATEGY_SUM=\"sum\",E.RECURRENCE_MINUTELY=\"minutely\",E.RECURRENCE_HOURLY=\"hourly\",E.RECURRENCE_DAILY=\"daily\",E.RECURRENCE_WEEKLY=\"weekly\",E.RECURRENCE_MONTHLY=\"monthly\",E.RECURRENCE_YEARLY=\"yearly\",E.RECURRENCE_DATELIST=\"dateList\",E.RECURRENCE_OPAQUE=\"opaque\",E.RECURRENCE_ENDTYPE_NEVER=\"never\",E.RECURRENCE_ENDTYPE_AFTER=\"after\",E.RECURRENCE_ENDTYPE_DATE=\"date\",E.RECURRENCE_DAYSOFWEEK=[\"monday\",\"tuesday\",\"wednesday\",\"thursday\",\"friday\",\"saturday\",\"sunday\"],E.RECURRENCE_OCCURRENCE=[\"first\",\"second\",\"third\",\"fourth\",\"last\"],E.RECURRENCE_MONTH=[\"january\",\"february\",\"march\",\"april\",\"may\",\"june\",\"july\",\"august\",\"september\",\"october\",\"november\",\"december\"],E.RECURRENCE_OCCURRENCE_TYPE=[\"dayofmonth\",\"lastdayofmonth\",\"week\"],E.JOB_PRIORITY_NONE=\"none\",E.JOB_PRIORITY_TOP=\"top\",E.JOB_PRIORITY_HIGH=\"high\",E.JOB_PRIORITY_NORMAL=\"normal\",E.JOB_PRIORITY_MEDIUM=\"medium\",E.JOB_PRIORITY_LOW=\"low\",E.JOB_COMPLETE_SUCCESSFULLY=\"success\",E.JOB_END_WITH_ANY_CODE=\"completed\",E.JOB_STARTS=\"started\",E.JOB_MISS_SCHEDULE_TIME=\"missed\",E.JOB_FAIL_TO_START=\"failsToStart\",E.JOB_CAN_NOT_RUN=\"cannotRun\",E.JOB_END_WITH_CODE=\"exited\",E.JOB_MAX_RUN_TIME=\"ltDuration\",E.JOB_MIN_RUN_TIME=\"gtDuration\",E.JOB_DURATION=\"duration\",E.JOB_ENDCODE_EQUAL_TO=\"eq\",E.JOB_ENDCODE_NOT_EQUAL_TO=\"ne\",E.JOB_ENDCODE_GREATER_THAN=\"gt\",E.JOB_ENDCODE_GREATER_OR_EQUAL=\"ge\",E.JOB_ENDCODE_LESS_THAN=\"lt\",E.JOB_ENDCODE_LESS_OR_EQUAL=\"le\",E.COMMONLINE_PREFERENCES_ID=\"SASEnvironmentManager.scheduling.commonLine\",E}()});",
	"sas/ev/shared/schedule/utils/ScheduleUtils.js": "// Copyright (c) 2014, SAS Institute Inc., Cary, NC, USA, All Rights Reserved.\nsap.ui.define([\"jquery.sap.global\",\"sap/base/util/ObjectPath\",\"sap/ui/model/json/JSONModel\",\"sas/ev/shared/schedule/utils/ScheduleProperties\",\"sas/ev/shared/schedule/utils/FlowMonitorProperties\",\"sas/ev/shared/Utils\",\"sas/custom/casdata/utils/EVCASDataUtils\",\"sap/ui/core/Core\",\"sas/hc/ui/core/Core\"],function(e,s,o,t,n,a,r){\"use strict\";return s.create(\"sas.ev.shared.schedule.utils.ScheduleUtils\"),sas.ev.shared.schedule.utils.ScheduleUtils={defaultTimeout:3e4,resources:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),logger:sas.log.getLogger(\"sas.ev.shared.schedule.utils.ScheduleUtils\"),getCurrentUser:function(e){var s=this;this.identityRoot=\"/identities/\";var t=s.identityRoot.concat(\"users/@currentUser\");return sas.ajax({url:t,type:\"GET\",headers:{\"Content-Type\":\"application/json\"},timeout:s.defaultTimeout}).done(function(s){if(void 0!==s){var t=sap.ui.getCore().getModel(\"sasev_currentUserModel\");void 0===t?(t=new o(s),sap.ui.getCore().setModel(t,\"sasev_currentUserModel\")):t.setData(s),e.userData=s,e.resolve(s)}}).fail(function(s){r.logger.warning(s.statusText),void 0!==s.responseText&&r.logger.warning(s.responseText),e.error=s,e.resolve(s)}),e},getSchedudingServers:function(e,s,o){var t=this;sas.ajax({url:\"/jobFlowScheduling/schedulers\",type:\"GET\",headers:{accept:\"application/vnd.sas.collection+json\"}}).done(function(s,o,n){if(n&&t.isSuccessNoContentResponseCode(n.status))return void(e?e(null):t.logger.debug(\"success to get schedulers\"));e?e(s):t.logger.debug(\"success to get schedulers: \"+s)}).fail(function(e,o,n){var a=n;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),s?s(a):t.logger.warning(\"failed to get schedulers: \"+a)}).always(function(){o&&o()})},getJobRequest:function(e,s,o){var t=this;sas.ajax({url:\"/jobExecution/jobRequests\",type:\"GET\",headers:{accept:\"application/vnd.sas.collection+json\"}}).done(function(s,o,n){if(n&&t.isSuccessNoContentResponseCode(n.status))return void(e?e(null):t.logger.debug(\"success to get job requests\"));e?e(s):t.logger.debug(\"success to get job requests: \"+s)}).fail(function(e,o,n){var a=n;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),s?s(a):t.logger.warning(\"failed to get job requests: \"+a)}).always(function(){o&&o()})},getJobActions:function(e,s,o){var t=this;sas.ajax({url:\"/jobFlowScheduling/jobs\",type:\"GET\",headers:{accept:\"application/vnd.sas.collection+json\",\"Accept-Item\":\"application/vnd.sas.schedule.job+json\"}}).done(function(s,o,n){if(n&&t.isSuccessNoContentResponseCode(n.status))return void(e?e(null):t.logger.debug(\"success to get job actions\"));e?e(s):t.logger.debug(\"success to get job actions: \"+s)}).fail(function(e,o,n){var a=n;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),s?s(a):t.logger.warning(\"failed to get job actions: \"+a)}).always(function(){o&&o()})},getJobAction:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/jobs/\"+e;sas.ajax({url:a,type:\"GET\",headers:{accept:\"application/vnd.sas.schedule.job+json\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to get job action\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to get job action: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to get job action: \"+a)}).always(function(){t&&t()})},getObjByUri:function(e,s,o,t){var n=this,a=\"application/json\";-1!==e.indexOf(\"/jobFlowScheduling/flows/\")?a=\"application/vnd.sas.schedule.flow+json\":-1!==e.indexOf(\"/jobFlowScheduling/jobs/\")&&(a=\"application/vnd.sas.schedule.job+json\");var r=$.Deferred();return sas.ajax({url:e,type:\"GET\",headers:{accept:a}}).done(function(e,o,t){if(r.isSuccess=!0,r.data=e,r.resolve(r.data),t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to get object\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to get object: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),r.isSuccess=!1,r.errorData=a,r.reject(r.errorData),o?o(a):n.logger.warning(\"failed to get object: \"+a)}).always(function(){t&&t()}),r},getObjectsByUri:function(e,s,o,t){for(var n=$.Deferred(),a=[],r=0;r<e.length;r++){var i=this.getObjByUri(e[r]);a.push(i)}return $.when.apply(null,a).always(function(e){n.actionsData=a,n.resolve(n.actionsData)}),n},getJobActionsByUri:function(e,s,o,t){for(var n=$.Deferred(),a=[],r=0;r<e.length;r++){var i=this.getObjByUri(e[r]);a.push(i)}return $.when.apply(null,a).done(function(e){var s=[];$.each(a,function(e,o){o&&o.data&&s.push(o.data)}),n.jobActions=s,n.resolve(s)}).fail(function(e){n.error=e,n.reject(e)}),n},createJobActionWithJobRequest:function(e,s,o,t,n,a,r){var i={name:e,jobRequestUri:s};o&&o.length>0&&(i.description=o),t&&t.length>0&&(i.priority=t),this.createJobAction(i,n,a,r)},createJobAction:function(e,s,o,t){var n=this,a=$.Deferred();return sas.ajax({url:\"/jobFlowScheduling/jobs\",type:\"POST\",data:e,headers:{accept:\"application/vnd.sas.schedule.job+json\",\"Content-Type\":\"application/vnd.sas.schedule.job+json;charset=UTF-8\"}}).done(function(e,o,t){if(a.isSuccess=!0,a.data=e,a.resolve(a.data),t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to create job\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to create job: \"+e)}).fail(function(e,s,t){var r=t;e&&(e.responseJSON?r=e.responseJSON:e.responseText&&(r=e.responseText)),a.isSuccess=!1,a.errorData=r,a.resolve(a.errorData),o?o(r):n.logger.warning(\"failed to create job: \"+r)}).always(function(){t&&t()}),a},createJobActions:function(e){for(var s=$.Deferred(),o=[],t=0;t<e.length;t++){var n=this.createJobAction(e[t]);o.push(n)}return $.when.apply(null,o).always(function(e){s.actionsData=o,s.resolve(s.actionsData)}),s},updateJobAction:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/jobs/\"+e.id,r=$.Deferred();return sas.ajax({url:a,type:\"PUT\",data:e,headers:{accept:\"application/vnd.sas.schedule.job+json\",\"Content-Type\":\"application/vnd.sas.schedule.job+json;charset=UTF-8\",\"If-Match\":e.ETag}}).done(function(e,o,t){if(r.isSuccess=!0,r.data=e,r.resolve(r.data),t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to update job\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to update job: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),r.isSuccess=!1,r.errorData=a,r.resolve(r.errorData),o?o(a):n.logger.warning(\"failed to update job: \"+a)}).always(function(){t&&t()}),r},updateJobActions:function(e){for(var s=$.Deferred(),o=[],t=0;t<e.length;t++){var n=this.updateJobAction(e[t]);o.push(n)}return $.when.apply(null,o).always(function(e){s.actionsData=o,s.resolve(s.actionsData)}),s},deleteJobAction:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/jobs/\"+e;sas.ajax({url:a,type:\"DELETE\",headers:{}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to delete job action\"));s?s(e):n.logger.debug(\"success to get delete action: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to delete job action: \"+a)}).always(function(){t&&t()})},deleteJobActionByUri:function(e,s,o,t){var n=this,a=$.Deferred();return sas.ajax({url:e,type:\"DELETE\",headers:{}}).done(function(e,o,t){if(a.isSuccess=!0,a.data=e,a.resolve(a.data),t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to delete job action\"));s?s(e):n.logger.debug(\"success to get delete action: \"+e)}).fail(function(e,s,t){var r=t;e&&(e.responseJSON?r=e.responseJSON:e.responseText&&(r=e.responseText)),a.isSuccess=!1,a.errorData=r,a.resolve(a.errorData),o?o(r):n.logger.warning(\"failed to delete job action: \"+r)}).always(function(){t&&t()}),a},deleteJobActions:function(e){for(var s=$.Deferred(),o=[],t=0;t<e.length;t++){var n=this.deleteJobActionByUri(e[t]);o.push(n)}return $.when.apply(null,o).always(function(e){s.actionsData=o,s.resolve(s.actionsData)}),s},getJobFlows:function(e,s,o){var t=this;sas.ajax({url:\"/jobFlowScheduling/flows\",type:\"GET\",headers:{accept:\"application/vnd.sas.collection+json\",\"Accept-Item\":\"application/vnd.sas.schedule.flow+json\"}}).done(function(s,o,n){if(n&&t.isSuccessNoContentResponseCode(n.status))return void(e?e(null):t.logger.debug(\"success to get job flows\"));e?e(s):t.logger.debug(\"success to get job flows: \"+s)}).fail(function(e,o,n){var a=n;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),s?s(a):t.logger.warning(\"failed to get job flows: \"+a)}).always(function(){o&&o()})},getJobFlow:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/flows/\"+e;sas.ajax({url:a,type:\"GET\",headers:{accept:\"application/vnd.sas.schedule.flow+json\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to get job flow\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to get job flow: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to get job flow: \"+a)}).always(function(){t&&t()})},updateJobFlow:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/flows/\"+e.id;sas.ajax({url:a,type:\"PUT\",data:e,headers:{accept:\"application/vnd.sas.schedule.flow+json\",\"Content-Type\":\"application/vnd.sas.schedule.flow+json;charset=UTF-8\",\"If-Match\":e.ETag}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to update job flow\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to update job flow: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to update job flow: \"+a)}).always(function(){t&&t()})},createJobFlow:function(e,s,o,t){var n=this;sas.ajax({url:\"/jobFlowScheduling/flows\",type:\"POST\",data:e,headers:{accept:\"application/vnd.sas.schedule.flow+json\",\"Content-Type\":\"application/vnd.sas.schedule.flow+json;charset=UTF-8\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to delete job\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to delete job: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to delete job: \"+a)}).always(function(){t&&t()})},deleteJobFlow:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/flows/\"+e;sas.ajax({url:a,type:\"DELETE\",headers:{}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to delete job flow\"));s?s(e):n.logger.debug(\"success to delete job flow: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to delete job flow: \"+a)}).always(function(e,s,o){t&&t(e,s,o)})},deleteJobFlowWithJobs:function(e,s,o,t){var n,a=this;a.deleteJobFlow(e.id,function(o){var t,r=$.Deferred(),i=[];if(e.jobs&&e.jobs.length>0)for(var c=0;c<e.jobs.length;c++)n=e.jobs[c],-1!==n.indexOf(\"/jobFlowScheduling/jobs/\")&&(t=a.deleteJobActionByUri(n,function(e){},function(e){},null),i.push(t));return $.when.apply(null,i).always(function(e){r.actionsData=i,r.resolve(r.actionsData)}),s&&s(o),r},o,t)},excuteJobFlow:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/flows/\"+e.id+\"/scheduled\";sas.ajax({url:a,type:\"PATCH\",headers:{accept:\"application/vnd.sas.schedule.flow+json\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to submit a job flow execution request\"));s?s(e):n.logger.debug(\"success to submit a job flow execution request: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to submit a job flow execution request: \"+a)}).always(function(){t&&t()})},scheduleJobFlow:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/flows/\"+e.id+\"/scheduled\";sas.ajax({url:a,type:\"POST\",headers:{accept:\"application/vnd.sas.schedule.flow+json\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to submit a job flow scheduling request\"));s?s(e):n.logger.debug(\"success to submit a job flow scheduling request: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to submit a job flow scheduling request: \"+a)}).always(function(){t&&t()})},unscheduleJobFlow:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/flows/\"+e.id+\"/scheduled\";sas.ajax({url:a,type:\"DELETE\",headers:{}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to submit a job flow unscheduling request\"));s?s(e):n.logger.debug(\"success to submit a job flow unscheduling request: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to submit a job flow unscheduling request: \"+a)}).always(function(){t&&t()})},rescheduleJobFlow:function(e,s,o,t){var n=this,a=\"/jobFlowScheduling/flows/\"+e.id+\"/scheduled\";sas.ajax({url:a,type:\"PUT\",headers:{accept:\"application/vnd.sas.schedule.flow+json\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to submit a job flow rescheduling request\"));s?s(e):n.logger.debug(\"success to submit a job flow rescheduling request: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to submit a job flow rescheduling request: \"+a)}).always(function(){t&&t()})},createJobDefinition:function(e,s,o,t){var n=this;sas.ajax({url:\"/jobDefinitions/definitions\",type:\"POST\",data:e,headers:{accept:\"application/vnd.sas.job.definition+json\",\"Content-Type\":\"application/vnd.sas.job.definition+json\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to create job definition\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to create job definition: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to create job definition: \"+a)}).always(function(){t&&t()})},getJobDefinition:function(e,s,o,t){var n=this,a=e;sas.ajax({url:a,type:\"GET\",headers:{accept:\"application/vnd.sas.job.definition+json\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to get job definition\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(a,e):n.logger.debug(\"success to get job definition: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to get job definition: \"+a)}).always(function(){t&&t()})},createJobRequest:function(e,s,o,t){var n=this;sas.ajax({url:\"/jobExecution/jobRequests\",type:\"POST\",data:e,headers:{accept:\"application/vnd.sas.job.execution.job.request+json\",\"Content-Type\":\"application/vnd.sas.job.execution.job.request+json\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to create job request\"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to create job request: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to create job request: \"+a)}).always(function(){t&&t()})},getFileByUri:function(e,s,o,t){var n=this;sas.ajax({url:e,type:\"GET\",headers:{accept:\"application/json\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to get \"));t&&(e.ETag=t.getResponseHeader(\"ETag\")),s?s(e):n.logger.debug(\"success to get object: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to get object: \"+a)}).always(function(){t&&t()})},getFileContentByUri:function(e,s,o,t){var n=this;sas.ajax({url:e,type:\"GET\",dataType:\"text\",headers:{accept:\"application/octet-stream\"}}).done(function(e,o,t){if(t&&n.isSuccessNoContentResponseCode(t.status))return void(s?s(null):n.logger.debug(\"success to get \"));s?s(e):n.logger.debug(\"success to get object: \"+e)}).fail(function(e,s,t){var a=t;e&&(e.responseJSON?a=e.responseJSON:e.responseText&&(a=e.responseText)),o?o(a):n.logger.warning(\"failed to get object: \"+a)}).always(function(){t&&t()})},isSuccessNoContentResponseCode:function(e){switch(e){case 202:case 204:case 205:return!0}return!1},ev_dateSortAscending:function(e,s){return e.dateValue===s.dateValue?0:e.dateValue>s.dateValue?1:-1},addAndBindPropertyPane:function(e,s,o,t){e.addPropertyPane(s),s.setPfdItemId(o),s.bindElement(t)},isPropertyPaneIncluded:function(e,s,o){if(e&&s){var t=e.getPropertyPanes();if(t&&t.length>0&&t.indexOf(s)>=0&&(!o||s.getProperty(\"pfdItemId\")===o))return!0}return!1},getPfdItemInfo:function(e,s){var o={sPath:\"/\",data:null};if(e)for(var t=0;t<s.length;t++)if(s[t]&&s[t].id===e){o.sPath=\"/pfdItems/\"+t,o.data=s[t];break}return o},validateFlowDependencies:function(e,s,o){if(!s||!e)return!1;if(s.jobs&&s.jobs.length>0){var t=e.jobRequests?e.jobRequests:[],n=e.jobFlows?e.jobFlows:[];if(!(o&&o.length>0))return!1;for(var a=0;a<s.jobs.length;a++){var r=s.jobs[a];if(r.indexOf(\"/jobFlowScheduling/flows/\")>=0){for(var i=r.indexOf(\"/jobFlowScheduling/flows/\")+\"/jobFlowScheduling/flows/\".length,c=r.substring(i),l=null,u=0;u<n.length;u++)if(n[u]&&n[u].id===c){l=n[u];break}if(!l)return!1}else if(r.indexOf(\"/jobFlowScheduling/jobs/\")>=0){for(var i=r.indexOf(\"/jobFlowScheduling/jobs/\")+\"/jobFlowScheduling/jobs/\".length,d=r.substring(i),g=null,u=0;u<o.length;u++)if(o[u]&&o[u].id===d){g=o[u];break}if(!g)return!1;if(g.jobRequestUri){if((i=g.jobRequestUri.indexOf(\"/jobExecution/jobRequests/\"))<0)return!1;i+=\"/jobExecution/jobRequests/\".length;for(var f=g.jobRequestUri.substring(i),p=null,u=0;u<t.length;u++)if(t[u]&&t[u].id===f){p=t[u];break}if(!p)return!1}}}}return!0},getCommonLines:function(e,s,o){sas.ajax({type:\"GET\",url:\"/preferences/preferences/@currentUser/\"+e,data:{limit:1e4}}).done(function(e){s&&s(e)}).fail(function(e,s,t){var n=t;e&&(e.responseJSON?n=e.responseJSON:e.responseText&&(n=e.responseText)),o?o(n):self.logger.warning(\"failed to get job flows: \"+n)})},saveCommonLines:function(e,s,o,n){var a=e;\"string\"!=typeof a&&(a=JSON.stringify(a));sas.ajax({type:\"PUT\",url:\"/preferences/preferences/@currentUser/\"+t.COMMONLINE_PREFERENCES_ID,data:{id:t.COMMONLINE_PREFERENCES_ID,description:\"Common action lines\",application:\"SASEnvironmentManager\",value:a},headers:{\"Content-Type\":\"application/vnd.sas.preference+json\",Accept:\"application/vnd.sas.preference+json\"}}).done(function(e){o&&o(e,s)}).fail(function(e,s,o){var t=o;e&&(e.responseJSON?t=e.responseJSON:e.responseText&&(t=e.responseText)),n?n(t):self.logger.warning(\"failed to save common lines: \"+t)})},deleteCommonLine:function(e,s,o,n){var a=e;\"string\"!=typeof a&&(a=JSON.stringify(a));sas.ajax({type:\"PUT\",url:\"/preferences/preferences/@currentUser/\"+t.COMMONLINE_PREFERENCES_ID,data:{id:t.COMMONLINE_PREFERENCES_ID,description:\"Common action lines\",application:\"SASEnvironmentManager\",value:a},headers:{\"Content-Type\":\"application/vnd.sas.preference+json\",Accept:\"application/vnd.sas.preference+json\"}}).done(function(e){o&&o(e,s)}).fail(function(e,s,o){var t=o;e&&(e.responseJSON?t=e.responseJSON:e.responseText&&(t=e.responseText)),n?n(t):self.logger.warning(\"failed to delete common lines: \"+t)})},generateUUID:function(){var e=(new Date).getTime();return window.performance&&\"function\"==typeof window.performance.now&&(e+=performance.now()),\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(s){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(\"x\"===s?o:3&o|8).toString(16)})},retrieveFlowInstanceItems:function(e,s,o,t,n){var a=\"/jobFlowScheduling/schedulers/\".concat(e).concat(\"/flows/\").concat(s).concat(\"/instances/\").concat(o).concat(\"/items\");sas.ajax({type:\"GET\",url:a,header:{Accept:\"application/vnd.sas.collection+json\"}}).done(function(e){t&&t(e)}).fail(function(e,s,o){var t=o;e&&(e.responseJSON?t=e.responseJSON:e.responseText&&(t=e.responseText)),n?n(t):self.logger.warning(\"failed to get job flows: \"+t)})},retrieveFlowHistory:function(s,o,t,a,r){var i=\"/jobFlowScheduling/schedulers/\".concat(s).concat(\"/flows/\").concat(o).concat(\"/instances\"),c=t?$.extend(!0,{},t):null;if(c&&c.currentUri)i=i.concat(c.currentUri);else{var l=c&&c.start?c.start:0,u=c&&c.limit?c.limit:20,d=c&&c.sortBy?c.sortBy:\"creationTimeStamp:descending\";if(i=i.concat(\"?start=\").concat(l).concat(\"&limit=\").concat(u).concat(\"&sortBy=\").concat(d),c){var g=[];if(c.date)if(c.date.indexOf(\"<>\")>=0){var f=c.date.split(\"<>\");if(2===f.length){var p=new Date(f[0]);p.setHours(0),p.setMinutes(0),p.setSeconds(0),p.setMilliseconds(0);var b=new Date(f[1]);b.setHours(24),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);var j=new Date(Date.UTC(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate(),p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getMilliseconds())),h=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getMilliseconds()));g.push(\"and(ge(creationTimeStamp,'\"+j.toISOString()+\"'),lt(creationTimeStamp,'\"+h.toISOString()+\"'))\")}}else{var v=new Date,w=null;if(\"1h\"===c.date?w=new Date(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours()-1,v.getMinutes(),v.getSeconds(),v.getMilliseconds()):\"6h\"===c.date?w=new Date(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours()-6,v.getMinutes(),v.getSeconds(),v.getMilliseconds()):\"12h\"===c.date?w=new Date(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours()-12,v.getMinutes(),v.getSeconds(),v.getMilliseconds()):\"1d\"===c.date?w=new Date(v.getFullYear(),v.getMonth(),v.getDate()-1,v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds()):\"2d\"===c.date&&(w=new Date(v.getFullYear(),v.getMonth(),v.getDate()-2,v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds())),w){var S=new Date(Date.UTC(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate(),w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getMilliseconds()));g.push(\"gt(creationTimeStamp,'\"+S.toISOString()+\"')\")}}if(c.status){var T=\"\";if(c.status.indexOf(n.JOB_STATUS_UNKNOWN)>=0){var x=[n.JOB_STATUS_UNKNOWN,n.JOB_STATUS_CANCELED,n.JOB_STATUS_COMPLETED,n.JOB_STATUS_FAILED,n.JOB_STATUS_PENDING,n.JOB_STATUS_RUNNING,n.JOB_STATUS_TIMED_OUT],y=c.status.split(\",\");e.each(y,function(e,s){x.splice(x?Array.prototype.indexOf.call(x,s):-1,1)}),e.each(x,function(e,s){T+=\"ne($primary,state,'\"+s+\"'),\"}),T=\"and(\"+T.substr(0,T.length-1)+\")\"}else T=\"in($primary,state,\"+c.status+\")\";g.push(T)}g.length>0&&(i=1===g.length?i.concat(\"&filter=\").concat(g[0]):i.concat(\"&filter=and(\").concat(g.join(\",\")).concat(\")\"))}}sas.ajax({type:\"GET\",url:i,headers:{Accept:\"application/vnd.sas.collection+json\"}}).done(function(e){a&&a(e)}).fail(function(e,s,o){var t=o;e&&(e.responseJSON?t=e.responseJSON:e.responseText&&(t=e.responseText)),r?r(t):self.logger.warning(\"failed to get job flows: \"+t)})},showErrorMessage:function(e){var s,o;\"string\"!=typeof e?(s=e.message,o=e.details?e.details.toString():\"\"):(s=e,o=e),a.ajaxErrorMessageHandler({title:a.getAppName(),message:s,detail:o}).open()}}});",
	"sas/ev/shared/schedule/view/FlowHistoryTable.view.js": "!function(){\"use strict\";jQuery.sap.require(\"sas.hc.ui.table.TreeTable\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.ui.table.Column\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.Text\"),jQuery.sap.require(\"sas.hc.m.Link\"),jQuery.sap.require(\"sas.hc.ui.unified.Menu\"),jQuery.sap.require(\"sas.hc.ui.unified.MenuItem\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowMonitorUtils\"),jQuery.sap.require(\"sap.ui.core.mvc.JSView\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.table.library\");var e=sas.hc.ui.table.TreeTable,t=sas.hc.m.FlexItemData,a=sas.hc.ui.table.Column,o=sas.hc.m.Label,r=sas.hc.m.Link,i=sas.ev.shared.schedule.utils.FlowMonitorUtils;sap.ui.jsview(\"sas.ev.shared.schedule.view.FlowHistoryTable\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),getControllerName:function(){return sas.log.info(\"sas.ev.shared.schedule.controller.FlowHistoryTable called.\"),\"sas.ev.shared.schedule.controller.FlowHistoryTable\"},createContent:function(s){var n=this,l=n.getId(),u=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{itemName}\",tooltip:\"{itemName}\",textAlign:\"Left\"}),d=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:{path:\"startedTimeStamp\",formatter:$.proxy(s.timeFormat,s)},tooltip:{path:\"startedTimeStamp\",formatter:$.proxy(s.timeFormat,s)},textAlign:\"Left\"}),m=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:{path:\"completedTimeStamp\",formatter:$.proxy(s.timeFormat,s)},tooltip:{path:\"completedTimeStamp\",formatter:$.proxy(s.timeFormat,s)},textAlign:\"Left\"}),c=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:{parts:[{path:\"startedTimeStamp\"},{path:\"completedTimeStamp\"}],formatter:$.proxy(s.elapsedTimeFormat,s)},tooltip:{parts:[{path:\"startedTimeStamp\"},{path:\"completedTimeStamp\"}],formatter:$.proxy(s.elapsedTimeFormat,s)},textAlign:\"Left\"}),h=new o({wrapping:!1,width:\"100%\",text:{path:\"state\",formatter:function(e){return i.jobStatusTextFormatter(e)}},tooltip:{path:\"state\",formatter:function(e){return i.jobStatusTextFormatter(e)}},textAlign:\"Left\",icon:{path:\"state\",formatter:function(e){return i.jobStatusIconFormatter(e)}},visible:{path:\"state\",formatter:function(e){if(\"FetchHistoryItems\"===e)return!1}}}),p=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{createdBy}\",tooltip:\"{createdBy}\",textAlign:\"Left\"}),w=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{jobRequest/jobDefinition/type}\",tooltip:\"{jobRequest/jobDefinition/type}\",textAlign:\"Left\"}),x=new sas.hc.m.Text({wrapping:!1,width:\"100%\",text:\"{exitCode}\",tooltip:{path:\"exitCode\",formatter:function(e){return\"\"+e}},textAlign:\"Left\"}),b=new r({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.log.action.label\"),visible:{path:\"logLocation\",formatter:function(e){return!(!e||\"\"===e)}},press:function(e){var t=e.getSource(),a=t.getParent(),o=s.getModelForBindingContext(a.getBindingContext());if(null!==o&&null!==o.logLocation&&\"\"!==o.logLocation){var r=o.logLocation,i=o.jobRequest.name+\"_\"+o.createdBy+\"_\"+o.creationTimeStamp+\".log\",n=$(\"<a>\").attr(\"href\",r+\"/content\").attr(\"download\",i);$(\"body\").append(n),n.get(0).click(),n.remove()}}});this.flowHistoryTable=new e({id:l+\"flowListTable\",editable:!1,columnHeaderVisible:!0,selectionBehavior:sas.hc.ui.table.SelectionBehavior.Row,visibleRowCountMode:sas.hc.ui.table.VisibleRowCountMode.Auto,enableColumnReordering:!0,showTableOptions:!0,enableColumnFreeze:!0,selectionMode:sas.hc.ui.table.SelectionMode.Single,enableBusyIndicator:!0,busyIndicatorDelay:0,layoutData:new t({growFactor:1}),columns:[new a({id:l+\"itemName\",showSortMenuEntry:!1,required:!0,sortProperty:\"itemName\",label:new o({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.name.txt\")}),template:u}),new a({id:l+\"startedTimeStamp\",showSortMenuEntry:!1,required:!0,sortProperty:\"startedTimeStamp\",label:new o({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.startDate.txt\")}),template:d}),new a({id:l+\"completedTimeStamp\",showSortMenuEntry:!1,visible:!1,sortProperty:\"completedTimeStamp\",label:new o({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.endDate.txt\")}),template:m}),new a({id:l+\"runTime\",showSortMenuEntry:!1,visible:!1,label:new o({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.runtime.txt\")}),template:c}),new a({id:l+\"status\",width:\"150px\",showSortMenuEntry:!1,required:!0,label:new o({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.status.txt\")}),template:h}),new a({id:l+\"createdBy\",showSortMenuEntry:!1,visible:!1,label:new o({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.createdBy.txt\")}),template:p}),new a({id:l+\"exitCode\",width:\"150px\",showSortMenuEntry:!1,required:!0,label:new o({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.exitCode.txt\")}),template:x}),new a({id:l+\"logLocation\",width:\"150px\",showSortMenuEntry:!1,visible:!1,label:new o({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.log.txt\")}),template:b}),new a({id:l+\"environment\",showSortMenuEntry:!1,visible:!1,label:new o({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.table.column.environment.txt\")}),template:w})]}).addStyleClass(\"jobListTable\"),this.flowHistoryTable.attachToggleOpenState(function(e){if(e&&e.getParameter(\"expanded\")&&e.getParameter(\"rowContext\")){var t=e.getParameter(\"rowContext\").getPath();s.retrieveFlowInstanceItems(t,this.flowHistoryTable.getModel().getProperty(t))}},this);var g=new sas.hc.ui.unified.Menu(l+\"sasev_flowHistorTable_ContextMenu\",{}),y=new sas.hc.ui.unified.MenuItem({id:l+\"sasev_flowHistory_viewItem\",text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.menuItem.viewFlow.txt\"),select:function(e){var t=n.flowHistoryTable.getSelectedIndex(),a={};void 0!==n.flowHistoryTable.getContextByIndex(t)&&null!==n.flowHistoryTable.getContextByIndex(t)&&(jQuery.extend(a,n.flowHistoryTable.getContextByIndex(t).getProperty()),s.openViewFlowDialog(t,a))}});return g.addItem(y),n.flowHistoryTable.setAggregation(\"contextMenu\",g),n.flowHistoryTable.attachCellContextmenu($.proxy(function(e){var t=this,a=e.getParameter(\"rowIndex\"),o=t.getContextByIndex(a);if(!o||o.getProperty(\"parentInstanceId\"))return t.getAggregation(\"contextMenu\").setVisible(!1),void e.preventDefault();t.getAggregation(\"contextMenu\").setVisible(!0),!t.isIndexSelected(a)&&t.getContextByIndex(a)&&t.setSelectedIndex(a)},n.flowHistoryTable)),n.flowHistoryTable}})}();",
	"sas/ev/shared/schedule/view/FlowMonitor.view.js": "!function(){\"use strict\";jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.Label\"),jQuery.sap.require(\"sas.hc.m.SearchField\"),jQuery.sap.require(\"sas.hc.m.ToolbarSpacer\"),jQuery.sap.require(\"sas.hc.m.Select\"),jQuery.sap.require(\"sas.hc.ui.core.Item\"),jQuery.sap.require(\"sas.hc.m.MenuButton\"),jQuery.sap.require(\"sas.hc.m.Menu\"),jQuery.sap.require(\"sas.hc.m.MenuItem\"),jQuery.sap.require(\"sas.dm.commons.components.ActionButton\"),jQuery.sap.require(\"sas.hc.ui.layout.Splitter\"),jQuery.sap.require(\"sas.hc.ui.commons.facetFilter.FacetPanel\"),jQuery.sap.require(\"sas.hc.ui.commons.facetFilter.ListFacet\"),jQuery.sap.require(\"sas.hc.ui.layout.SplitterLayoutData\"),jQuery.sap.require(\"sas.hc.ui.commons.facetFilter.FacetTokenizer\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.ui.commons.facetFilter.ModelFilterProvider\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\"),jQuery.sap.require(\"sas.ev.shared.schedule.utils.FlowMonitorProperties\"),jQuery.sap.require(\"sap.ui.core.CustomData\"),jQuery.sap.require(\"sap.ui.core.mvc.JSView\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sap.ui.core.mvc.View\"),jQuery.sap.require(\"sap.ui.core.library\"),jQuery.sap.require(\"sap.m.library\");var e=sas.hc.m.FlexBox,t=sas.hc.m.Label,s=sas.hc.m.SearchField,a=sas.hc.m.ToolbarSpacer,r=sas.hc.m.ResponsiveToolbar,i=sas.hc.m.Select,o=sas.hc.ui.core.Item,l=sas.hc.m.MenuButton,n=sas.hc.m.Menu,u=sas.hc.m.MenuItem,c=sas.dm.commons.components.ActionButton,h=sas.hc.ui.layout.Splitter,d=sas.hc.ui.commons.facetFilter.FacetPanel,m=sas.hc.ui.commons.facetFilter.ListFacet,w=sas.hc.ui.layout.SplitterLayoutData,p=sas.hc.ui.commons.facetFilter.FacetTokenizer,y=sas.hc.m.FlexItemData,g=sas.hc.m.Button,f=sas.hc.ui.commons.facetFilter.ModelFilterProvider,v=sap.ui.core.CustomData,T=sas.ev.shared.schedule.utils.FlowMonitorProperties;sap.ui.jsview(\"sas.ev.shared.schedule.view.FlowMonitor\",{rb:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared.schedule\"),getControllerName:function(){return sas.log.info(\"sas.ev.shared.schedule.controller.FlowMonitor called.\"),\"sas.ev.shared.schedule.controller.FlowMonitor\"},createContent:function(F){var b=this,x=b.getId();this.tokenizer=new p({id:x+\"facetTokenizer\",countUnits:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.tokenizer.title.txt\")}).addStyleClass(\"sasDark\"),this.statusListFacet=new m({id:x+\"listFacetStatus\",fieldName:\"state\",showSelectAll:!1,showZeroCounts:!1,text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filters.jobStatus.control.label\"),usesFacetItems:!1,maxHeight:\"15rem\",formatFunction:$.proxy(F.onStatusFormatFunction,F),facetItems:[{value:T.JOB_STATUS_CANCELED,count:0,selected:!1},{value:T.JOB_STATUS_RUNNING,count:0,selected:!1},{value:T.JOB_STATUS_COMPLETED,count:0,selected:!1},{value:T.JOB_STATUS_TIMED_OUT,count:0,selected:!1},{value:T.JOB_STATUS_PENDING,count:0,selected:!1},{value:T.JOB_STATUS_FAILED,count:0,selected:!1},{value:T.JOB_STATUS_UNKNOWN,count:0,selected:!1}]}).addStyleClass(\"listFacetPanel\"),this.facetPanel=new d({id:x+\"filtersFacetPanel\",title:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.title.txt\"),height:\"100%\",tokenizer:this.tokenizer,autoUpdate:!1,facetsChange:[F.onFacetsChange,F],facets:[this.statusListFacet],layoutData:new w({size:\"20%\",collapsible:!0})}).addStyleClass(\"evViewFacet\");var S=new s({id:x+\"nameFilterField\",placeholder:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.nameFilter.placeholder.txt\"),searchButtonToolTip:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.nameFilter.searchButton.tip\"),searchClearToolTip:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.nameFilter.clearButton.tip\"),search:[F.onSearchJobFunction,F],filterMode:!0}).addStyleClass(\"nameFilterSearchField\");this.filterProvider=new f({dataPath:\"/items\",facetPanel:this.facetPanel,searchField:S,searchFieldPaths:[\"itemName\"],filterApplied:[F.onFilterApplied,F]});var M=new r({content:[S,new a,new t({id:x+\"dateFilterLabel\",text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.control.label\")}).addStyleClass(\"dateFilterLabel\"),new l({id:x+\"dateFilterButton\",text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.selectDateRange.action.label\"),tooltip:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.dateFilter.tip\"),menu:[new n({itemSelected:[F.handleMenuItemPress,F],items:[new u({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.oneHour.action.label\")}).addCustomData(new v({key:\"key\",value:\"1h\"})),new u({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.sixHours.action.label\")}).addCustomData(new v({key:\"key\",value:\"6h\"})),new u({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.twelveHours.action.label\")}).addCustomData(new v({key:\"key\",value:\"12h\"})),new u({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.twentyFourHours.action.label\")}).addCustomData(new v({key:\"key\",value:\"1d\"})),new u({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.fortyEightHours.action.label\")}).addCustomData(new v({key:\"key\",value:\"2d\"})),new u({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.customDateRange.action.label\")}).addCustomData(new v({key:\"key\",value:\"dateRange\"}))]})]}).addCustomData(new v({key:\"key\",value:T.DEFAULT_DATE_FILTER})).addStyleClass(\"dateFilterMenuButton\"),new c({id:x+\"refreshButton\",tooltip:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.filter.refreshFilters.tip\"),icon:sas.icons.HC.REFRESH,press:[F.onRefresh,F]})]}).addStyleClass(\"sasDark evTableToolbar\");this.flowHistoryTableView=sap.ui.view({id:x+\"flowTableListView\",viewName:\"sas.ev.shared.schedule.view.FlowHistoryTable\",type:sap.ui.core.mvc.ViewType.JS,layoutData:new y({growFactor:1}),height:\"100%\"}).addStyleClass(\"sasFillSpace\"),this.pagingSelect=new i({selectedKey:T.DEFAULT_LIMIT,change:[F.onResultsPerPageChange,F],items:[new o({key:\"10\",text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.tenPerPage.action.label\")}),new o({key:\"20\",text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.twentyPerPage.action.label\")}),new o({key:\"30\",text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.thirtyPerPage.action.label\")}),new o({key:\"40\",text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.fourtyPerPage.action.label\")}),new o({key:\"50\",text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.fiftyPerPage.action.label\")})]}).addStyleClass(\"resultPerPageListRightMargin\"),this.preButton=new g({icon:sas.icons.HC.PAGECONTROLLEFTARROW,enabled:!1,press:[F.onPreviousPage,F],tooltip:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.previousPage.tooltip.txt\"),design:sas.hc.m.Button.Design.SmallNeutral}),this.displayingLabel=new t({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.displaying.fmt.label\",[1,T.DEFAULT_LIMIT])}),this.nextButton=new g({icon:sas.icons.HC.PAGECONTROLRIGHTARROW,enabled:!1,press:[F.onNextPage,F],tooltip:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.nextPage.tooltip.txt\"),layoutData:new y({growFactor:1}),design:sas.hc.m.Button.Design.SmallNeutral});var C=new e({direction:\"Column\",items:[this.tokenizer,M,this.flowHistoryTableView,new e({direction:\"Row\",alignItems:sap.m.FlexAlignItems.Center,items:[new t({text:this.rb.getText(\"sas.ev.shared.schedule.flowMonitor.results.view.label\")}).addStyleClass(\"sapUiTinyMarginEnd\"),this.pagingSelect,this.preButton,this.displayingLabel,this.nextButton]}).addStyleClass(\"sasDark sapUiTinyMarginTop\")],height:\"100%\"}).addStyleClass(\"evSchedulingFlowHistoryRightPanel\"),P=new h({id:x+\"filtersSplitter\",layoutData:new y({growFactor:1}),enableDarkTheme:\"first\",height:\"100%\",contentAreas:[this.facetPanel,C]}).addStyleClass(\"evViewSplitter sasDarkBackgroundLight\"),D=new e({direction:\"Column\",items:[P],height:\"100%\"});return sap.ui.getCore().getEventBus().subscribe(\"sasevschedulingJobsview\",\"EVFlowMonitorRefresh\",function(e){F.onRefresh(!1)}),D}})}();",
	"sas/ev/shared/SuperuserUtils.js": "// Copyright (c) 2016, SAS Institute Inc., Cary, NC, USA, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.SuperuserUtils\"),jQuery.sap.require(\"sas.hc.m.ResponsiveToolbar\");var e=sas.hc.m.ResponsiveToolbar;jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sap.ui.model.json.JSONModel\"),jQuery.sap.require(\"sas.hc.m.FlexItemData\"),jQuery.sap.require(\"sas.hc.m.Button\"),jQuery.sap.require(\"sas.hc.m.ResponsivePopover\"),jQuery.sap.require(\"sap.m.library\"),jQuery.sap.require(\"sas.hc.m.List\"),jQuery.sap.require(\"sas.hc.m.StandardListItem\"),jQuery.sap.require(\"sas.hc.ui.core.theme.IconInitialization\"),jQuery.sap.require(\"sas.hc.m.FlexBox\"),jQuery.sap.require(\"sas.hc.m.Label\");var s=sas.hc.m.Label;sas.ev.shared.SuperuserUtils={logger:sas.log.getLogger(\"sas.ev.shared.SuperuserUtils\"),defaultTimeout:3e4,getSuperuserSession:function(e,s,r){this.getSession(e,s,r)},getSession:function(e,s,r){var t=this,n=t.isSuperuserAssumed(e),i=encodeURIComponent(e),o=sap.ui.getCore().getModel(\"session-\"+e);if(void 0!==o){var a=o.getProperty(\"/sessionId\"),u=o.getProperty(\"/time\"),d=Date.now();d-u>6e5?sas.ajax({type:\"GET\",url:\"/casManagement/servers/\"+i+\"/sessions/\"+encodeURIComponent(a)+\"/state\",headers:{Accept:\"text/plain;charset=UTF-8\"},dataType:\"text\",timeout:t.defaultTimeout}).done(function(i){void 0!==i&&\"running\"===i?(o.setProperty(\"/time\",d),sap.ui.getCore().setModel(o,\"session-\"+e),s(a)):t.createSession(e,n,s,r)}).fail(function(i){t.createSession(e,n,s,r)}):s(a)}else t.createSession(e,n,s,r)},createSession:function(e,s,r,t){var n=this,i=encodeURIComponent(e);sas.ajax({type:\"POST\",url:\"/casManagement/servers/\"+i+\"/sessions\",async:!1,headers:{\"Content-Type\":\"application/vnd.sas.cas.session+json\"},data:{name:\"SAS Environment Manager\",timeOut:900},timeout:n.defaultTimeout}).done(function(o){var a=o.id;if(Boolean(s))sas.ajax({type:\"PUT\",url:\"/casAccessManagement/servers/\"+i+\"/admUser/assumeRole/superUser?sessionId=\"+encodeURIComponent(a),dataType:\"text\",async:!1,timeout:n.defaultTimeout}).done(function(s){var t=new sap.ui.model.json.JSONModel({sessionId:a,time:Date.now()});sap.ui.getCore().setModel(t,\"session-\"+e),r(a)}).fail(function(e){t(e)});else{var u=new sap.ui.model.json.JSONModel({sessionId:a,time:Date.now()});sap.ui.getCore().setModel(u,\"session-\"+e),r(a)}}).fail(function(e){t(e)})},deleteServerSession:function(e,s){var r=this;sap.ui.getCore().setModel(void 0,\"session-\"+s),sas.ajax({type:\"DELETE\",url:\"/casManagement/servers/\"+encodeURIComponent(s)+\"/sessions/\"+encodeURIComponent(e),dataType:\"text\",timeout:r.defaultTimeout}).done(function(e){}).fail(function(e){sas.ev.shared.SuperuserUtils.logger.error(JSON.stringify(e,null,1))})},deleteCurrentSession:function(e){var s=this,r=sap.ui.getCore().getModel(\"session-\"+e);if(void 0!==r){var t=r.getProperty(\"/sessionId\");s.deleteServerSession(t,e)}},deleteAllSessions:function(){var e=this,s=sap.ui.getCore().getModel(\"superuserModel\");if(void 0!==s)for(var r,t=s.getProperty(\"/serversAssumed\"),n=0;n<t.length;n++)r=t[n],e.deleteCurrentSession(r)},isInSuperuserList:function(e,s,r){var t=this,n=function(e,s){var r=!1;return sas.ajax({type:\"GET\",url:\"/identities/groups/\"+encodeURIComponent(s)+\"/members\",async:!1,data:{limit:1e6},dataType:\"json\"}).done(function(s){for(var t=0;t<s.items.length&&!Boolean(r);t++)r=\"user\"===s.items[t].type?s.items[t].id===e:n(e,s.items[t].id)}).fail(function(e){sas.ev.shared.SuperuserUtils.logger.error(JSON.stringify(e,null,1))}),r};t.isSuperuserAssumed(e)?s(!0):t.isServerRunning(e)?sas.ajax({type:\"GET\",url:\"/identities/users/@currentUser\"}).done(function(i){var o=i.id,a=function(t){sas.ajax({type:\"GET\",url:\"/casAccessManagement/servers/\"+encodeURIComponent(e)+\"/admUser/adminIdentities?sessionId=\"+encodeURIComponent(t),headers:{\"Content-Type\":\"application/vnd.sas.cas.admin.identities+json\"},dataType:\"json\"}).done(function(e){var r=!1;if(void 0!==e&&void 0!==e.items)for(var t=0;t<e.items.length&&!Boolean(r);t++)\"superUser\"===e.items[t].type&&(\"group\"===e.items[t].identityType?r=n(o,e.items[t].identity):e.items[t].identity===o&&(r=!0));s(r)}).fail(function(e){r(e)})};t.getSession(e,a,r)}).fail(function(e){r(e)}):s(!1)},assumeSuperuser:function(e){var s=0,r=sap.ui.getCore().getModel(\"superuserModel\");if(void 0!==r){var t=r.getProperty(\"/serversAssumed\");-1===t.indexOf(e)&&(t.push(e),r.setProperty(\"/serversAssumed\",t)),s=t.length}else r=new sap.ui.model.json.JSONModel({serversAssumed:[e]}),s=1;sap.ui.getCore().setModel(r,\"superuserModel\");var n=sap.ui.getCore().getEventBus();n.publish(\"sasSuperuser\",\"assumeSuperuser\",{serverName:e}),n.publish(\"sasSuperuser\",\"superuserChange\",{serverCount:s})},relinquishSuperuser:function(e){var s=this,r=0,t=sap.ui.getCore().getModel(\"superuserModel\");if(void 0!==t){var n=t.getProperty(\"/serversAssumed\"),i=n.indexOf(e);if(i>-1){n.splice(i,1),t.setProperty(\"/serversAssumed\",n),sap.ui.getCore().setModel(t,\"superuserModel\"),s.deleteCurrentSession(e);var o=function(s){var r=sap.ui.getCore().getEventBus();r.publish(\"sasSuperuser\",\"relinquishSuperuser\",{serverName:e}),r.publish(\"sasSuperuser\",\"superuserChange\",{serverCount:n.length})},a=function(e){sas.ev.shared.SuperuserUtils.logger.error(JSON.stringify(e,null,1))};s.getSession(e,o,a)}r=n.length}return r},relinquishAllSuperusers:function(){var e=this,s=sap.ui.getCore().getModel(\"superuserModel\");if(void 0!==s){var r=s.getProperty(\"/serversAssumed\");s=new sap.ui.model.json.JSONModel({serversAssumed:[]}),sap.ui.getCore().setModel(s,\"superuserModel\");for(var t=sap.ui.getCore().getEventBus(),n=0;n<r.length;n++){var i=r[n];e.deleteCurrentSession(i);var o=function(e){t.publish(\"sasSuperuser\",\"relinquishSuperuser\",{serverName:i})},a=function(e){sas.ev.shared.SuperuserUtils.logger.error(JSON.stringify(e,null,1))};e.getSession(r[n],o,a)}t.publish(\"sasSuperuser\",\"superuserChange\",{serverCount:0})}},isSuperuserAssumed:function(e){var s=!1,r=sap.ui.getCore().getModel(\"superuserModel\");if(void 0!==r){var t=r.getProperty(\"/serversAssumed\");void 0!==t&&t.indexOf(e)>-1&&(s=!0)}return s},addRunningServer:function(e){var s=sap.ui.getCore().getModel(\"serverRunningModel\");if(void 0!==s){var r=s.getProperty(\"/serversRunning\");-1===r.indexOf(e)&&(r.push(e),s.setProperty(\"/serversRunning\",r))}else s=new sap.ui.model.json.JSONModel({serversRunning:[e]});sap.ui.getCore().setModel(s,\"serverRunningModel\")},removeRunningServer:function(e){var s=sap.ui.getCore().getModel(\"serverRunningModel\");if(void 0!==s){var r=s.getProperty(\"/serversRunning\"),t=r.indexOf(e);t>-1&&(r.splice(t,1),s.setProperty(\"/serversRunning\",r),sap.ui.getCore().setModel(s,\"serverRunningModel\"))}},isServerRunning:function(e){var s=!1,r=sap.ui.getCore().getModel(\"serverRunningModel\");if(void 0!==r){r.getProperty(\"/serversRunning\").indexOf(e)>-1&&(s=!0)}return s},getSuperuserFooter:function(r,t){var n=this,i=sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),o=new e({layoutData:new sas.hc.m.FlexItemData({growFactor:1})});o.addContent(new s({text:i.getText(\"sas.ev.shared.superuser.info.txt\")}));var a=new sas.hc.m.Button({text:i.getText(\"sas.ev.shared.superuser.relinquish.txt\"),press:function(){var e=sap.ui.getCore().byId(r),s=new sas.hc.m.ResponsivePopover({showHeader:!1,modal:!1,placement:sap.m.PlacementType.Top}),o=new sas.hc.m.List({mode:sap.m.ListMode.None}),a=sap.ui.getCore().getModel(\"superuserModel\");if(void 0!==a){var u=a.getProperty(\"/serversAssumed\");void 0!==u&&u.length>1&&o.addItem(new sas.hc.m.StandardListItem({icon:sas.icons.HC.SERVERS,title:i.getText(\"sas.ev.shared.superuser.all.txt\"),type:sap.m.ListType.Active,press:function(){s.close(),n.relinquishAllSuperusers(),e.setVisible(!1),t()}}));for(var d=0;d<u.length;d++){var p=u[d];o.addItem(new sas.hc.m.StandardListItem({icon:sas.icons.HC.SERVER,title:p,type:sap.m.ListType.Active,customData:[{Type:\"sap.ui.core.CustomData\",key:\"id\",value:p}],press:function(){s.close();for(var r=\"\",i=this.getCustomData(),o=0;o<i.length;o++)\"id\"===i[o].getKey()&&(r=i[o].getValue());n.relinquishSuperuser(r),0===u.length&&(e.setVisible(!1),t())}}))}}s.addContent(o),s.openBy(this)}});a.addStyleClass(\"sasRelinquishButton\"),o.addContent(a);var u=sas.icons.pool.createControlByURI({src:sas.icons.HC.WARNINGSTATUS,layoutData:new sas.hc.m.FlexItemData({shrinkFactor:0})});return new sas.hc.m.FlexBox(r,{items:[u,o],visible:!1,alignItems:sap.m.FlexAlignItems.Center}).addStyleClass(\"sasDark sasSuperuserFooter\")}}}();",
	"sas/ev/shared/ui/HelpLabel.js": "// (c) 2016, SAS Institute Inc.\nsap.ui.define([\"sas/hc/m/Label\",\"sas/hc/m/HelpPopup\"],function(e,t){\"use strict\";var r=e.extend(\"sas.ev.shared.ui.HelpLabel\",{metadata:{library:\"sas.ev.shared\",properties:{library:{type:\"string\",group:\"Misc\",defaultValue:null},key:{type:\"string\",group:\"Misc\",defaultValue:null}},aggregations:{_helpPopup:{type:\"sas.hc.m.HelpPopup\",multiple:!1}}},init:function(){e.prototype.init&&e.prototype.init.apply(this,arguments);var r=new t;this.setAggregation(\"_helpPopup\",r)},renderer:\"sas.ev.shared.ui.HelpLabelRenderer\"});return r.prototype.setKey=function(e){var t=this.getKey();return null!==e&&void 0!==e||(e=\"\"),t!==e&&(this.setProperty(\"key\",e),this.getAggregation(\"_helpPopup\").setKey(e)),this},r.prototype.setLibrary=function(e){var t=this.getLibrary();return null!==e&&void 0!==e||(e=\"\"),t!==e&&(this.setProperty(\"library\",e),this.getAggregation(\"_helpPopup\").setLibrary(e)),this},r});",
	"sas/ev/shared/ui/HelpLabelRenderer.js": "// (c) 2016, SAS Institute Inc.\nsap.ui.define([\"sap/ui/core/Renderer\",\"sas/hc/m/LabelRenderer\",\"sas/hc/m/HelpPopupRenderer\"],function(e,r,n){\"use strict\";var a={};return a.render=function(e,a){r.render(e,a);var p=a.getAggregation(\"_helpPopup\");n.render(e,p)},a},!0);",
	"sas/ev/shared/Utils.js": "// Copyright (c) 2016, SAS Institute Inc., Cary, NC, USA, All Rights Reserved\njQuery.sap.require(\"sas.hc.m.Text\"),jQuery.sap.require(\"sas.hc.m.HBox\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.CalendarUtil\"),jQuery.sap.require(\"sas.ltjs.sasicu.util.SASFormatterUtil\"),jQuery.sap.require(\"sap.ui.core.Core\"),jQuery.sap.require(\"sas.hc.ui.core.Core\"),jQuery.sap.require(\"sas.hc.m.library\"),jQuery.sap.require(\"sap.ui.base.BindingParser\"),function(){\"use strict\";jQuery.sap.declare(\"sas.ev.shared.Utils\"),jQuery.sap.require(\"sas.hc.m.MessageDialog\");var e=sas.hc.m.MessageDialog;sas.ev.shared.Utils={resources:sap.ui.getCore().getLibraryResourceBundle(\"sas.ev.shared\"),logger:sas.log.getLogger(\"sas.ev.shared.Utils\",sas.log.Level.ERROR),completeDeferredArray:function(e,r){var s=this;jQuery.when.apply(jQuery,e).always(function(){for(var t=[],a=0;a<e.length;a++)\"pending\"===e[a].state()&&t.push(e[a]);t.length>0?s.completeDeferredArray(t,r):r()})},getTopCustomGroups:function(e,r,s){sas.ajax({type:\"GET\",url:\"/identities/groups\",data:{filter:\"eq(providerId,'local')\"},dataType:\"json\"}).done(function(t){var a=[];if(void 0!==t.items)for(var n=0;n<t.items.length;n++){for(var o,i=0;i<t.items[n].links.length;i++)\"self\"===t.items[n].links[i].rel&&(o=t.items[n].links[i].uri+\"/members\");sas.ajax({async:!1,type:\"GET\",url:o,data:{limit:2147483640}}).done(function(e){var r=sas.ltjs.sasicu.util.SASFormatterUtil.format(sas.ltjs.sasicu.util.CalendarUtil.jsDateToSASDateTime(new Date(t.items[n].modifiedTimeStamp)),\"DATETIME\");a.push({id:t.items[n].id,name:t.items[n].name,modifiedTimeStamp:r,membersCount:e.count})}).fail(function(e){s(e)})}var l=function(e,r){return r.membersCount-e.membersCount};a.sort(l),a.length>e&&a.splice(e,a.length-e),r(a)}).fail(function(e){s(e)})},getTableCount:function(e){var r=new sas.hc.m.Text({text:this.resources.getText(\"sas.ev.shared.data.count.label.txt\")}).addStyleClass(\"sasRightJustifyLabel\"),s=new sas.hc.m.Text;if(\"object\"==typeof e&&\"function\"==typeof e.bindRows){var t=e.getBinding(\"rows\");s.setText(t.getLength()),t.attachChange(function(e){this.setText(e.getSource().getLength())},s)}else s.setText(\".\");return new sas.hc.m.HBox({items:[r,s]})},ajaxErrorMessageHandler:function(r){var s=this,t=this.resources.getText(\"sas.ev.shared.error.txt\"),a=this.resources.getText(\"sas.ev.shared.generic.error.msg.txt\"),n=void 0===r?{}:r,o=n.title||t,i=n.message||a,l=n.detail||null,u={type:sas.hc.m.MessageDialogType.Error,buttonActions:[{text:sas.hc.m.MessageDialogAction.Close,initialFocus:!0,defaultButton:!0}]},c=[{name:\"title\",value:o,toName:\"title\"},{name:\"message\",value:i,toName:\"text\"},{name:\"detail\",value:l,toName:\"detailText\"}];return jQuery.each(c,function(e,r){if(r.value instanceof Object&&\"string\"!=typeof r.value){var t=s.jqXHRParser(r.value);u[r.toName]=t[r.name]}else null!==r.value&&(u[r.toName]=r.value)}),new e.error(u)},jqXHRParser:function(e){var r=this.resources.getText(\"sas.ev.shared.error.txt\"),s=this.resources.getText(\"sas.ev.shared.generic.error.msg.txt\"),t=this.resources.getText(\"sas.ev.shared.404.error.title.txt\"),a=null,n=null,o=null;if(null!==e&&void 0!==e){this.logger.debug(JSON.stringify(e));var i=e.status||null,l=e.statusText||null,u=e.responseText||null;if(e.responseJSON){var c=e.responseJSON;if(c.httpStatusCode?a=c.httpStatusCode:null!==i&&(a=i),null!==l&&(a=a+\" \"+l),c.message&&(n=c.message,c.remediation)){var p=c.remediation;p.length>0&&(n=n+\"\\n\"+p)}if(c.details){var g=c.details;g instanceof Array&&(o=\"\",$.each(g,function(e,r){o=0===e?r:o+\"\\n\"+r}))}}else if(e.responseText){var f=new RegExp(\".*<p>(.*)</p>.*\");if(404===i&&f.exec(u)){a=t;var d=\"\",v=\"\",m=f.exec(u);null!==m&&m.length>0&&(d=m[1]);var y=new RegExp(\".*<address>(.*)</address>.*\"),h=y.exec(u);null!==h&&h.length>0&&(v=h[1]),n=d,v.length>0&&(n=n+\"\\n\\n\"+v)}if(null===a&&(null!==i&&(a=i),null!==l&&(a=a+\" \"+l)),u)if(\"<!DOCTYPE HTML\"===u.slice(0,14).toUpperCase()){o=$(u).text();var x=new RegExp(\"^(?:\\n)*((.|\\n|\\r)*[.])(?:\\n)*$\"),j=x.exec(o);null!==j&&j.length>0&&(o=j[1])}else o=u}null===a&&(i&&(a=i),a=e.statusText?a+\" \"+e.statusText:r),null===n&&(n=e.statusText?e.statusText:s)}else a=r,n=s;var T={};return T.title=a,T.message=sap.ui.base.BindingParser.complexParser.escape(n),null!==o&&(T.detail=sap.ui.base.BindingParser.complexParser.escape(o)),T},encodeIdentityID:function(e){var r;return void 0!==e&&(r=e.replace(/~/g,\"~~\").replace(/\\//g,\"~fs~\").replace(/\\\\/g,\"~rs~\").replace(/;/g,\"~sc~\")),r},getPreference:function(e,r){var s=\"boolean\"!=typeof r||r,t=\"\";s&&(\"function\"==typeof sas.config.getAppId&&(t=sas.config.getAppId()),\"envmgrapp\"===t&&(t=\"SASEnvironmentManager\"),t+=\".\");var a=this,n=\"/preferences/preferences/@currentUser/\"+t+e;return sas.ajax({type:\"GET\",url:n,headers:{\"Content-Type\":\"application/vnd.sas.preference+json\"}}).done(function(e,r,s){\"object\"==typeof e&&\"string\"==typeof e.id&&\"string\"==typeof e.value&&a.logger.debug(\" Retrieved preference for : \"+e.id+\" with a value of :\"+e.value)}).fail(function(e,r,s){try{var t=a.jqXHRParser(e);a.logger.error(t.title+\": \"+t.message)}catch(e){a.logger.error(r+\" : \"+s)}})},setPreference:function(e,r,s,t,a,n,o){var i=this,l={},u={prefix:!0,id:\"\",value:\"\",description:\"\",application:\"\",version:\"1\",displayErrorDialog:!1};\"function\"==typeof sas.config.getAppId&&(u.application=sas.config.getAppId()),\"envmgrapp\"===u.application&&(u.application=\"SASEnvironmentManager\"),\"string\"==typeof e?(l.prefix=\"boolean\"!=typeof s||s,l.id=e,l.value=\"string\"==typeof r?r:JSON.stringify(r),l.description=\"string\"==typeof a?a:\"\",l.application=\"string\"==typeof t?t:u.application,l.version=\"string\"==typeof n?n:u.version,l.displayErrorDialog=\"boolean\"==typeof o?o:u.displayErrorDialog):\"object\"==typeof e&&(jQuery.extend(l,u,e),l.value=\"string\"==typeof l.value?l.value:JSON.stringify(l.value));var c=\"\";l.prefix&&(c=u.application+\".\"),l.id=c+l.id,\"\"===c&&l.prefix&&i.logger.warn(\"No prefix was determined for this preference. Id will be set to : \"+l.id);var p=\"/preferences/preferences/@currentUser/\"+l.id;return i.bShowErrorDialog=l.displayErrorDialog,delete l.prefix,delete l.displayErrorDialog,i.logger.debug(\"GET for : \"+p),i.logger.debug(\"Data for GET request : \"+JSON.stringify(l)),sas.ajax({type:\"PUT\",url:p,data:l,headers:{\"Content-Type\":\"application/vnd.sas.preference+json\",Accept:\"application/vnd.sas.preference+json\"}}).done(function(e,r,s){\"object\"==typeof e&&\"string\"==typeof e.id&&\"string\"==typeof e.value&&i.logger.debug(\" Retrieved preference for : \"+e.id+\" with a value of :\"+e.value)}).fail(function(e,r,s){try{var t=i.jqXHRParser(e);i.logger.error(t.title+\": \"+t.message)}catch(e){i.logger.error(r+\" : \"+s)}if(i.bShowErrorDialog){var a={};a.title=i.resources.getText(\"sas.ev.shared.utils.savePref.error.title.txt\"),a.message=i.resources.getText(\"sas.ev.shared.utils.savePref.error.msg.txt\"),a.detail=e,sas.ev.shared.Utils.ajaxErrorMessageHandler(a).open()}})},getCasSettings:function(e){var r=this,s={},t={displayErrorDialog:!1};return s.displayErrorDialog=\"boolean\"==typeof e?e:t.displayErrorDialog,r.bShowErrorDialog=s.displayErrorDialog,sas.ajax({type:\"GET\",url:\"/casManagement/commons/settings\",accept:\"application/json\"}).fail(function(e,s,t){try{var a=r.jqXHRParser(e);r.logger.error(a.title+\": \"+a.message)}catch(e){r.logger.error(s+\" : \"+t)}if(self.bShowErrorDialog){var n={};n.title=self.resources.getText(\"sas.ev.shared.utils.savePref.error.title.txt\"),n.message=self.resources.getText(\"sas.ev.shared.utils.savePref.error.msg.txt\"),n.detail=e,sas.ev.shared.Utils.ajaxErrorMessageHandler(n).open()}})},createCasSession:function(e,r,s,t){var a=this;if(void 0!==e){var n={displayErrorDialog:!1},o={};o.displayErrorDialog=\"boolean\"==typeof t?t:n.displayErrorDialog,a.bShowErrorDialog=o.displayErrorDialog;var i={};return void 0!==r&&(i.name=r),void 0!==s&&(i.timeOut=s),sas.ajax({type:\"POST\",url:\"/casManagement/servers/\"+encodeURIComponent(e)+\"/sessions\",headers:{\"Content-Type\":\"application/vnd.sas.cas.session+json\"},data:i,settings:o}).fail(function(e,r,s){try{var t=a.jqXHRParser(e);a.logger.error(t.title+\": \"+t.message)}catch(e){a.logger.error(r+\" : \"+s)}if(self.bShowErrorDialog){var n={};n.title=self.resources.getText(\"sas.ev.shared.utils.savePref.error.title.txt\"),n.message=self.resources.getText(\"sas.ev.shared.utils.savePref.error.msg.txt\"),n.detail=e,sas.ev.shared.Utils.ajaxErrorMessageHandler(n).open()}})}return this.logger.error(\"Call to createCasSession requires a server parameter\"),(new jQuery.Deferred).reject()},deleteCasSession:function(e,r){var s=this;return sas.ajax({type:\"DELETE\",url:\"/casManagement/servers/\"+encodeURIComponent(e)+\"/sessions/\"+encodeURIComponent(r)}).done(function(e){s.logger.debug(\"Session deleted : \"+r)}).fail(function(e){s.logger.error(e.statusText),void 0!==e.responseText&&s.logger.error(e.responseText)})},runCasAction:function(e,r,s,t){var a=this;return sas.ajax({type:\"POST\",headers:{\"Content-Type\":\"application/json\"},url:\"/casProxy/servers/\"+encodeURIComponent(e)+\"/cas/sessions/\"+encodeURIComponent(r)+\"/actions/\"+s,data:t}).done(function(e){a.logger.debug(\"Session deleted : \"+r)}).fail(function(e){a.logger.error(e.statusText),void 0!==e.responseText&&a.logger.error(e.responseText)})},_runAjax:function(e,r,s,t,a,n,o,i,l){var u=this,c=\"?format=false&limit=\"+i+\"&start=\"+o+\"&sessionId=\"+l,p=\"/casRowSets/servers/\"+s+\"/caslibs/\"+t+\"/tables/\"+a+\"/rows/\"+c;sas.ajax({type:\"POST\",url:p,headers:{\"content-type\":\"text/plain\"},accept:\"application/vnd.sas.collection+json\",data:n}).done(function(o,i,c){var p=r.items.concat(o.items),g=!1;if(o.start+o.limit<o.count&&(g=!0),g){var f=o.start+o.limit;r.items=p,u._runAjax(e,r,s,t,a,n,f,o.limit,l)}else e.resolve(p)}).fail(function(o){if(/^application\\/vnd.sas.error\\+json/.test(o.getResponseHeader(\"content-type\")))if(18816===o.responseJSON.errorCode){var i=new RegExp(\"^MLC:\\\\s(\\\\d*)$\",\"g\"),c=null,p=null;$.each(o.responseJSON.details,function(e,r){(c=i.exec(r))instanceof Array&&(p=c[1])}),u._runAjax(e,r,s,t,a,n,0,p,l)}else e.reject(o);else e.reject(o)})},getCasRowSets:function(e,r,s,t,a){var n=new $.Deferred,o={items:[]};return this._runAjax(n,o,e,r,s,t,0,2426,a),n.done(function(e){n.resolve(e)}).fail(function(e){n.reject(e)}),n},getRelation:function(e,r){var s={};return void 0!==e&&null!==e&&void 0!==r&&(e instanceof Array?(s={},jQuery.each(e,function(e,t){s[t]={},jQuery.each(r,function(e,r){if(t.toUpperCase()===r.rel.toUpperCase())return s[t]=r,!1})})):jQuery.each(r,function(r,t){if(e.toUpperCase()===t.rel.toUpperCase())return s[e]=t,!1})),s},isGuestModeEnabled:function(){var e=this,r=new $.Deferred;return sas.ajax({type:\"GET\",url:\"/SASLogon/info\",headers:{accept:\"application/json\"}}).always(function(s){var t=!1;if(s.hasOwnProperty(\"links\")){var a=e.getRelation(\"token\",s.links);if(a.hasOwnProperty(\"token\")){var n=a.token.grantTypes;n&&n.indexOf(\"guest\")>-1&&(t=!0)}}sas.config.get(sas.config.appId)?sas.config.get(sas.config.appId).isGuest=t:sas.config[sas.config.appId]={isGuest:t},r.resolve(t)}),r.promise()},getAppName:function(){return sas.config.getAppName().replace(\"\",\"\")}}}();",
	"sas/ev/shared/manifest.json": "{\"_version\":\"1.9.0\",\"sap.app\":{\"_version\":\"1.2.0\",\"id\":\"sas.ev.shared\",\"type\":\"library\",\"applicationVersion\":{\"version\":\"4.0.0-0\"},\"title\":\"The OpenUI5-based library, sas.ev.shared.\"},\"sap.ui5\":{\"_version\":\"1.1.0\",\"dependencies\":{\"libs\":{\"sap.ui.core\":{},\"sap.ui.layout\":{},\"sap.ui.commons\":{},\"sas.hc.m\":{},\"sas.hc.ui.commons\":{}}},\"library\":{\"i18n\":\"messagebundle.properties\"}}}"
}, "sas/ev/shared/library-preload");